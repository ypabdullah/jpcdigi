var cq=Object.defineProperty;var vT=t=>{throw TypeError(t)};var uq=(t,e,r)=>e in t?cq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var $h=(t,e,r)=>uq(t,typeof e!="symbol"?e+"":e,r),Xw=(t,e,r)=>e.has(t)||vT("Cannot "+r);var te=(t,e,r)=>(Xw(t,e,"read from private field"),r?r.call(t):e.get(t)),ft=(t,e,r)=>e.has(t)?vT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ze=(t,e,r,n)=>(Xw(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Mt=(t,e,r)=>(Xw(t,e,"access private method"),r);var Ig=(t,e,r,n)=>({set _(a){Ze(t,e,a,r)},get _(){return te(t,e,n)}});import{r as x,a as Zd,R as V,b as iM,c as lS,g as oM,d as st,e as or}from"./react-D3b2S1Xo.js";import{a as Xo}from"./vendor-xsH4HHeE.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var lM={exports:{}},wy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aq=x,dq=Symbol.for("react.element"),hq=Symbol.for("react.fragment"),fq=Object.prototype.hasOwnProperty,mq=Aq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pq={key:!0,ref:!0,__self:!0,__source:!0};function cM(t,e,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)fq.call(e,n)&&!pq.hasOwnProperty(n)&&(a[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)a[n]===void 0&&(a[n]=e[n]);return{$$typeof:dq,type:t,key:i,ref:o,props:a,_owner:mq.current}}wy.Fragment=hq;wy.jsx=cM;wy.jsxs=cM;lM.exports=wy;var s=lM.exports,uM,yT=Zd;uM=yT.createRoot,yT.hydrateRoot;const gq=1,xq=1e6;let Yw=0;function vq(){return Yw=(Yw+1)%Number.MAX_SAFE_INTEGER,Yw.toString()}const Jw=new Map,bT=t=>{if(Jw.has(t))return;const e=setTimeout(()=>{Jw.delete(t),Rf({type:"REMOVE_TOAST",toastId:t})},xq);Jw.set(t,e)},yq=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gq)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?bT(r):t.toasts.forEach(n=>{bT(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},$0=[];let H0={toasts:[]};function Rf(t){H0=yq(H0,t),$0.forEach(e=>{e(H0)})}function me({...t}){const e=vq(),r=a=>Rf({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>Rf({type:"DISMISS_TOAST",toastId:e});return Rf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function ni(){const[t,e]=x.useState(H0);return x.useEffect(()=>($0.push(e),()=>{const r=$0.indexOf(e);r>-1&&$0.splice(r,1)}),[t]),{...t,toast:me,dismiss:r=>Rf({type:"DISMISS_TOAST",toastId:r})}}function Re(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function wT(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function AM(...t){return e=>{let r=!1;const n=t.map(a=>{const i=wT(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():wT(t[a],null)}}}}function dt(...t){return x.useCallback(AM(...t),t)}function bq(t,e){const r=x.createContext(e),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function Hn(t,e=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=d=>{var y;const{scope:h,children:f,...g}=d,p=((y=h==null?void 0:h[t])==null?void 0:y[c])||l,m=x.useMemo(()=>g,Object.values(g));return s.jsx(p.Provider,{value:m,children:f})};u.displayName=i+"Provider";function A(d,h){var p;const f=((p=h==null?void 0:h[t])==null?void 0:p[c])||l,g=x.useContext(f);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${i}\``)}return[u,A]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[n,wq(a,...e)]}function wq(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const d=c(i)[`__scope${u}`];return{...l,...d}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function cu(t){const e=Bq(t),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Cq);if(c){const u=c.props.children,A=l.map(d=>d===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:d);return s.jsx(e,{...o,ref:a,children:x.isValidElement(u)?x.cloneElement(u,void 0,A):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var dM=cu("Slot");function Bq(t){const e=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=jq(a),l=_q(i,a.props);return a.type!==x.Fragment&&(l.ref=n?AM(n,o):o),x.cloneElement(a,l)}return x.Children.count(a)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var hM=Symbol("radix.slottable");function fM(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=hM,e}function Cq(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===hM}function _q(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{const c=i(...l);return a(...l),c}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function jq(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function By(t){const e=t+"CollectionProvider",[r,n]=Hn(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:m,children:y}=p,b=V.useRef(null),v=V.useRef(new Map).current;return s.jsx(a,{scope:m,itemMap:v,collectionRef:b,children:y})};o.displayName=e;const l=t+"CollectionSlot",c=cu(l),u=V.forwardRef((p,m)=>{const{scope:y,children:b}=p,v=i(l,y),B=dt(m,v.collectionRef);return s.jsx(c,{ref:B,children:b})});u.displayName=l;const A=t+"CollectionItemSlot",d="data-radix-collection-item",h=cu(A),f=V.forwardRef((p,m)=>{const{scope:y,children:b,...v}=p,B=V.useRef(null),_=dt(m,B),j=i(A,y);return V.useEffect(()=>(j.itemMap.set(B,{ref:B,...v}),()=>void j.itemMap.delete(B))),s.jsx(h,{[d]:"",ref:_,children:b})});f.displayName=A;function g(p){const m=i(t+"CollectionConsumer",p);return V.useCallback(()=>{const b=m.collectionRef.current;if(!b)return[];const v=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((j,C)=>v.indexOf(j.ref.current)-v.indexOf(C.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},g,n]}var Eq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=Eq.reduce((t,e)=>{const r=cu(`Primitive.${e}`),n=x.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function mM(t,e){t&&Zd.flushSync(()=>t.dispatchEvent(e))}function nn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Sq(t,e=globalThis==null?void 0:globalThis.document){const r=nn(t);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Nq="DismissableLayer",CC="dismissableLayer.update",kq="dismissableLayer.pointerDownOutside",Tq="dismissableLayer.focusOutside",BT,pM=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),eh=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(pM),[A,d]=x.useState(null),h=(A==null?void 0:A.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=x.useState({}),g=dt(e,C=>d(C)),p=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(m),b=A?p.indexOf(A):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,B=b>=y,_=Pq(C=>{const E=C.target,N=[...u.branches].some(S=>S.contains(E));!B||N||(a==null||a(C),o==null||o(C),C.defaultPrevented||l==null||l())},h),j=Fq(C=>{const E=C.target;[...u.branches].some(S=>S.contains(E))||(i==null||i(C),o==null||o(C),C.defaultPrevented||l==null||l())},h);return Sq(C=>{b===u.layers.size-1&&(n==null||n(C),!C.defaultPrevented&&l&&(C.preventDefault(),l()))},h),x.useEffect(()=>{if(A)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(BT=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(A)),u.layers.add(A),CT(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=BT)}},[A,h,r,u]),x.useEffect(()=>()=>{A&&(u.layers.delete(A),u.layersWithOutsidePointerEventsDisabled.delete(A),CT())},[A,u]),x.useEffect(()=>{const C=()=>f({});return document.addEventListener(CC,C),()=>document.removeEventListener(CC,C)},[]),s.jsx(Ye.div,{...c,ref:g,style:{pointerEvents:v?B?"auto":"none":void 0,...t.style},onFocusCapture:Re(t.onFocusCapture,j.onFocusCapture),onBlurCapture:Re(t.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Re(t.onPointerDownCapture,_.onPointerDownCapture)})});eh.displayName=Nq;var Iq="DismissableLayerBranch",gM=x.forwardRef((t,e)=>{const r=x.useContext(pM),n=x.useRef(null),a=dt(e,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ye.div,{...t,ref:a})});gM.displayName=Iq;function Pq(t,e=globalThis==null?void 0:globalThis.document){const r=nn(t),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){xM(kq,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=c,e.addEventListener("click",a.current,{once:!0})):c()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Fq(t,e=globalThis==null?void 0:globalThis.document){const r=nn(t),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&xM(Tq,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CT(){const t=new CustomEvent(CC);document.dispatchEvent(t)}function xM(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?mM(a,i):a.dispatchEvent(i)}var Dq=eh,Oq=gM,Yr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Rq="Portal",Np=x.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[a,i]=x.useState(!1);Yr(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?iM.createPortal(s.jsx(Ye.div,{...n,ref:e}),o):null});Np.displayName=Rq;function Uq(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var xa=t=>{const{present:e,children:r}=t,n=Mq(e),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=dt(n.ref,Qq(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};xa.displayName="Presence";function Mq(t){const[e,r]=x.useState(),n=x.useRef(null),a=x.useRef(t),i=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Uq(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Pg(n.current);i.current=l==="mounted"?u:"none"},[l]),Yr(()=>{const u=n.current,A=a.current;if(A!==t){const h=i.current,f=Pg(u);t?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(A&&h!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),Yr(()=>{if(e){let u;const A=e.ownerDocument.defaultView??window,d=f=>{const p=Pg(n.current).includes(f.animationName);if(f.target===e&&p&&(c("ANIMATION_END"),!a.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",u=A.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},h=f=>{f.target===e&&(i.current=Pg(n.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{A.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Pg(t){return(t==null?void 0:t.animationName)||"none"}function Qq(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Lq=lS[" useInsertionEffect ".trim().toString()]||Yr;function ys({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=$q({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:a;{const A=x.useRef(t!==void 0);x.useEffect(()=>{const d=A.current;d!==l&&console.warn(`${n} is changing from ${d?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),A.current=l},[l,n])}const u=x.useCallback(A=>{var d;if(l){const h=Hq(A)?A(t):A;h!==t&&((d=o.current)==null||d.call(o,h))}else i(A)},[l,t,i,o]);return[c,u]}function $q({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),a=x.useRef(r),i=x.useRef(e);return Lq(()=>{i.current=e},[e]),x.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function Hq(t){return typeof t=="function"}var vM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vq="VisuallyHidden",Cy=x.forwardRef((t,e)=>s.jsx(Ye.span,{...t,ref:e,style:{...vM,...t.style}}));Cy.displayName=Vq;var Kq=Cy,cS="ToastProvider",[uS,zq,Gq]=By("Toast"),[yM,AKe]=Hn("Toast",[Gq]),[Wq,_y]=yM(cS),bM=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=t,[l,c]=x.useState(null),[u,A]=x.useState(0),d=x.useRef(!1),h=x.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${cS}\`. Expected non-empty \`string\`.`),s.jsx(uS.Provider,{scope:e,children:s.jsx(Wq,{scope:e,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:x.useCallback(()=>A(f=>f+1),[]),onToastRemove:x.useCallback(()=>A(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};bM.displayName=cS;var wM="ToastViewport",qq=["F8"],_C="toast.viewportPause",jC="toast.viewportResume",BM=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=qq,label:a="Notifications ({hotkey})",...i}=t,o=_y(wM,r),l=zq(r),c=x.useRef(null),u=x.useRef(null),A=x.useRef(null),d=x.useRef(null),h=dt(e,d,o.onViewportChange),f=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;x.useEffect(()=>{const m=y=>{var v;n.length!==0&&n.every(B=>y[B]||y.code===B)&&((v=d.current)==null||v.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]),x.useEffect(()=>{const m=c.current,y=d.current;if(g&&m&&y){const b=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(_C);y.dispatchEvent(j),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(jC);y.dispatchEvent(j),o.isClosePausedRef.current=!1}},B=j=>{!m.contains(j.relatedTarget)&&v()},_=()=>{m.contains(document.activeElement)||v()};return m.addEventListener("focusin",b),m.addEventListener("focusout",B),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",_),window.addEventListener("blur",b),window.addEventListener("focus",v),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",B),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",_),window.removeEventListener("blur",b),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const p=x.useCallback(({tabbingDirection:m})=>{const b=l().map(v=>{const B=v.ref.current,_=[B,...lX(B)];return m==="forwards"?_:_.reverse()});return(m==="forwards"?b.reverse():b).flat()},[l]);return x.useEffect(()=>{const m=d.current;if(m){const y=b=>{var _,j,C;const v=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!v){const E=document.activeElement,N=b.shiftKey;if(b.target===m&&N){(_=u.current)==null||_.focus();return}const I=p({tabbingDirection:N?"backwards":"forwards"}),T=I.findIndex(U=>U===E);Zw(I.slice(T+1))?b.preventDefault():N?(j=u.current)==null||j.focus():(C=A.current)==null||C.focus()}};return m.addEventListener("keydown",y),()=>m.removeEventListener("keydown",y)}},[l,p]),s.jsxs(Oq,{ref:c,role:"region","aria-label":a.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(EC,{ref:u,onFocusFromOutsideViewport:()=>{const m=p({tabbingDirection:"forwards"});Zw(m)}}),s.jsx(uS.Slot,{scope:r,children:s.jsx(Ye.ol,{tabIndex:-1,...i,ref:h})}),g&&s.jsx(EC,{ref:A,onFocusFromOutsideViewport:()=>{const m=p({tabbingDirection:"backwards"});Zw(m)}})]})});BM.displayName=wM;var CM="ToastFocusProxy",EC=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=t,i=_y(CM,r);return s.jsx(Cy,{"aria-hidden":!0,tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});EC.displayName=CM;var kp="Toast",Xq="toast.swipeStart",Yq="toast.swipeMove",Jq="toast.swipeCancel",Zq="toast.swipeEnd",_M=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=t,[l,c]=ys({prop:n,defaultProp:a??!0,onChange:i,caller:kp});return s.jsx(xa,{present:r||l,children:s.jsx(rX,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:nn(t.onPause),onResume:nn(t.onResume),onSwipeStart:Re(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Re(t.onSwipeMove,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Re(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Re(t.onSwipeEnd,u=>{const{x:A,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${A}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),c(!1)})})})});_M.displayName=kp;var[eX,tX]=yM(kp,{onClose(){}}),rX=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:A,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...g}=t,p=_y(kp,r),[m,y]=x.useState(null),b=dt(e,U=>y(U)),v=x.useRef(null),B=x.useRef(null),_=a||p.duration,j=x.useRef(0),C=x.useRef(_),E=x.useRef(0),{onToastAdd:N,onToastRemove:S}=p,k=nn(()=>{var M;(m==null?void 0:m.contains(document.activeElement))&&((M=p.viewport)==null||M.focus()),o()}),I=x.useCallback(U=>{!U||U===1/0||(window.clearTimeout(E.current),j.current=new Date().getTime(),E.current=window.setTimeout(k,U))},[k]);x.useEffect(()=>{const U=p.viewport;if(U){const M=()=>{I(C.current),u==null||u()},L=()=>{const O=new Date().getTime()-j.current;C.current=C.current-O,window.clearTimeout(E.current),c==null||c()};return U.addEventListener(_C,L),U.addEventListener(jC,M),()=>{U.removeEventListener(_C,L),U.removeEventListener(jC,M)}}},[p.viewport,_,c,u,I]),x.useEffect(()=>{i&&!p.isClosePausedRef.current&&I(_)},[i,_,p.isClosePausedRef,I]),x.useEffect(()=>(N(),()=>S()),[N,S]);const T=x.useMemo(()=>m?IM(m):null,[m]);return p.viewport?s.jsxs(s.Fragment,{children:[T&&s.jsx(nX,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:T}),s.jsx(eX,{scope:r,onClose:k,children:Zd.createPortal(s.jsx(uS.ItemSlot,{scope:r,children:s.jsx(Dq,{asChild:!0,onEscapeKeyDown:Re(l,()=>{p.isFocusedToastEscapeKeyDownRef.current||k(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Re(t.onKeyDown,U=>{U.key==="Escape"&&(l==null||l(U.nativeEvent),U.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Re(t.onPointerDown,U=>{U.button===0&&(v.current={x:U.clientX,y:U.clientY})}),onPointerMove:Re(t.onPointerMove,U=>{if(!v.current)return;const M=U.clientX-v.current.x,L=U.clientY-v.current.y,O=!!B.current,D=["left","right"].includes(p.swipeDirection),R=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Q=D?R(0,M):0,K=D?0:R(0,L),$=U.pointerType==="touch"?10:2,q={x:Q,y:K},z={originalEvent:U,delta:q};O?(B.current=q,Fg(Yq,d,z,{discrete:!1})):_T(q,p.swipeDirection,$)?(B.current=q,Fg(Xq,A,z,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(M)>$||Math.abs(L)>$)&&(v.current=null)}),onPointerUp:Re(t.onPointerUp,U=>{const M=B.current,L=U.target;if(L.hasPointerCapture(U.pointerId)&&L.releasePointerCapture(U.pointerId),B.current=null,v.current=null,M){const O=U.currentTarget,D={originalEvent:U,delta:M};_T(M,p.swipeDirection,p.swipeThreshold)?Fg(Zq,f,D,{discrete:!0}):Fg(Jq,h,D,{discrete:!0}),O.addEventListener("click",R=>R.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),nX=t=>{const{__scopeToast:e,children:r,...n}=t,a=_y(kp,e),[i,o]=x.useState(!1),[l,c]=x.useState(!1);return iX(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(Np,{asChild:!0,children:s.jsx(Cy,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},aX="ToastTitle",jM=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Ye.div,{...n,ref:e})});jM.displayName=aX;var sX="ToastDescription",EM=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(Ye.div,{...n,ref:e})});EM.displayName=sX;var SM="ToastAction",NM=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(TM,{altText:r,asChild:!0,children:s.jsx(AS,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SM}\`. Expected non-empty \`string\`.`),null)});NM.displayName=SM;var kM="ToastClose",AS=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,a=tX(kM,r);return s.jsx(TM,{asChild:!0,children:s.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Re(t.onClick,a.onClose)})})});AS.displayName=kM;var TM=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...a}=t;return s.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:e})});function IM(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),oX(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...IM(n))}}),e}function Fg(t,e,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?mM(a,i):a.dispatchEvent(i)}var _T=(t,e,r=0)=>{const n=Math.abs(t.x),a=Math.abs(t.y),i=n>a;return e==="left"||e==="right"?i&&n>r:!i&&a>r};function iX(t=()=>{}){const e=nn(t);Yr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function oX(t){return t.nodeType===t.ELEMENT_NODE}function lX(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Zw(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var cX=bM,PM=BM,FM=_M,DM=jM,OM=EM,RM=NM,UM=AS;function MM(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=MM(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=MM(t))&&(n&&(n+=" "),n+=e);return n}const jT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,ET=Gt,th=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return ET(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(u=>{const A=r==null?void 0:r[u],d=i==null?void 0:i[u];if(A===null)return null;const h=jT(A)||jT(d);return a[u][h]}),l=r&&Object.entries(r).reduce((u,A)=>{let[d,h]=A;return h===void 0||(u[d]=h),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,A)=>{let{class:d,className:h,...f}=A;return Object.entries(f).every(g=>{let[p,m]=g;return Array.isArray(m)?m.includes({...i,...l}[p]):{...i,...l}[p]===m})?[...u,d,h]:u},[]);return ET(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QM=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dX=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...AX,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:QM("lucide",a),...l},[...o.map(([u,A])=>x.createElement(u,A)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(t,e)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(dX,{ref:i,iconNode:e,className:QM(`lucide-${uX(t)}`,n),...a}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hX=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pX=Ee("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=Ee("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Ee("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Ee("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=Ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=Ee("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=Ee("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=Ee("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=Ee("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yX=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bX=Ee("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=Ee("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BX=Ee("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CX=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _X=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jX=Ee("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=Ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=Ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kX=Ee("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TX=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=Ee("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PX=Ee("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FX=Ee("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DX=Ee("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=Ee("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=Ee("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=Ee("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MX=Ee("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=Ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=Ee("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=Ee("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=Ee("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $X=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=Ee("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=Ee("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=Ee("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=Ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=Ee("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VX=Ee("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=Ee("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=Ee("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=Ee("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GX=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=Ee("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=Ee("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Ee("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=Ee("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XX=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=Ee("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YX=Ee("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=Ee("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZX=Ee("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=Ee("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=Ee("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bS="-",rY=t=>{const e=aY(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(bS);return l[0]===""&&l.length!==1&&l.shift(),eQ(l,e)||nY(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},eQ=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),a=n?eQ(t.slice(1),n):void 0;if(a)return a;if(e.validators.length===0)return;const i=t.join(bS);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},OT=/^\[(.+)\]$/,nY=t=>{if(OT.test(t)){const e=OT.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},aY=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return iY(Object.entries(t.classGroups),r).forEach(([i,o])=>{DC(o,n,i,e)}),n},DC=(t,e,r,n)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?e:RT(e,a);i.classGroupId=r;return}if(typeof a=="function"){if(sY(a)){DC(a(n),e,r,n);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{DC(o,RT(e,i),r,n)})})},RT=(t,e)=>{let r=t;return e.split(bS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},sY=t=>t.isThemeGetter,iY=(t,e)=>e?t.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[r,a]}):t,oY=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},tQ="!",lY=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,a=e[0],i=e.length,o=l=>{const c=[];let u=0,A=0,d;for(let m=0;m<l.length;m++){let y=l[m];if(u===0){if(y===a&&(n||l.slice(m,m+i)===e)){c.push(l.slice(A,m)),A=m+i;continue}if(y==="/"){d=m;continue}}y==="["?u++:y==="]"&&u--}const h=c.length===0?l:l.substring(A),f=h.startsWith(tQ),g=f?h.substring(1):h,p=d&&d>A?d-A:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},cY=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},uY=t=>({cache:oY(t.cacheSize),parseClassName:lY(t),...rY(t)}),AY=/\s+/,dY=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=e,i=[],o=t.trim().split(AY);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:A,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=r(u);let g=!!f,p=n(g?h.substring(0,f):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const m=cY(A).join(":"),y=d?m+tQ:m,b=y+p;if(i.includes(b))continue;i.push(b);const v=a(p,g);for(let B=0;B<v.length;++B){const _=v[B];i.push(y+_)}l=u+(l.length>0?" "+l:l)}return l};function hY(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=rQ(e))&&(n&&(n+=" "),n+=r);return n}const rQ=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=rQ(t[n]))&&(r&&(r+=" "),r+=e);return r};function fY(t,...e){let r,n,a,i=o;function o(c){const u=e.reduce((A,d)=>d(A),t());return r=uY(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const A=dY(c,r);return a(c,A),A}return function(){return i(hY.apply(null,arguments))}}const Tr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},nQ=/^\[(?:([a-z-]+):)?(.+)\]$/i,mY=/^\d+\/\d+$/,pY=new Set(["px","full","screen"]),gY=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xY=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vY=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yY=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bY=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hi=t=>IA(t)||pY.has(t)||mY.test(t),Ro=t=>nh(t,"length",NY),IA=t=>!!t&&!Number.isNaN(Number(t)),e1=t=>nh(t,"number",IA),Hh=t=>!!t&&Number.isInteger(Number(t)),wY=t=>t.endsWith("%")&&IA(t.slice(0,-1)),jt=t=>nQ.test(t),Uo=t=>gY.test(t),BY=new Set(["length","size","percentage"]),CY=t=>nh(t,BY,aQ),_Y=t=>nh(t,"position",aQ),jY=new Set(["image","url"]),EY=t=>nh(t,jY,TY),SY=t=>nh(t,"",kY),Vh=()=>!0,nh=(t,e,r)=>{const n=nQ.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},NY=t=>xY.test(t)&&!vY.test(t),aQ=()=>!1,kY=t=>yY.test(t),TY=t=>bY.test(t),IY=()=>{const t=Tr("colors"),e=Tr("spacing"),r=Tr("blur"),n=Tr("brightness"),a=Tr("borderColor"),i=Tr("borderRadius"),o=Tr("borderSpacing"),l=Tr("borderWidth"),c=Tr("contrast"),u=Tr("grayscale"),A=Tr("hueRotate"),d=Tr("invert"),h=Tr("gap"),f=Tr("gradientColorStops"),g=Tr("gradientColorStopPositions"),p=Tr("inset"),m=Tr("margin"),y=Tr("opacity"),b=Tr("padding"),v=Tr("saturate"),B=Tr("scale"),_=Tr("sepia"),j=Tr("skew"),C=Tr("space"),E=Tr("translate"),N=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",jt,e],I=()=>[jt,e],T=()=>["",Hi,Ro],U=()=>["auto",IA,jt],M=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",jt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[IA,jt];return{cacheSize:500,separator:":",theme:{colors:[Vh],spacing:[Hi,Ro],blur:["none","",Uo,jt],brightness:K(),borderColor:[t],borderRadius:["none","","full",Uo,jt],borderSpacing:I(),borderWidth:T(),contrast:K(),grayscale:R(),hueRotate:K(),invert:R(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[wY,Ro],inset:k(),margin:k(),opacity:K(),padding:I(),saturate:K(),scale:K(),sepia:R(),skew:K(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",jt]}],container:["container"],columns:[{columns:[Uo]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...M(),jt]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Hh,jt]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",jt]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",Hh,jt]}],"grid-cols":[{"grid-cols":[Vh]}],"col-start-end":[{col:["auto",{span:["full",Hh,jt]},jt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Vh]}],"row-start-end":[{row:["auto",{span:[Hh,jt]},jt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",jt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",jt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",jt,e]}],"min-w":[{"min-w":[jt,e,"min","max","fit"]}],"max-w":[{"max-w":[jt,e,"none","full","min","max","fit","prose",{screen:[Uo]},Uo]}],h:[{h:[jt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[jt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[jt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[jt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uo,Ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",e1]}],"font-family":[{font:[Vh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",jt]}],"line-clamp":[{"line-clamp":["none",IA,e1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hi,jt]}],"list-image":[{"list-image":["none",jt]}],"list-style-type":[{list:["none","disc","decimal",jt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hi,Ro]}],"underline-offset":[{"underline-offset":["auto",Hi,jt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",jt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",jt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...M(),_Y]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CY]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EY]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[Hi,jt]}],"outline-w":[{outline:[Hi,Ro]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Hi,Ro]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Uo,SY]}],"shadow-color":[{shadow:[Vh]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Uo,jt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[A]}],invert:[{invert:[d]}],saturate:[{saturate:[v]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[A]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",jt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",jt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",jt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[B]}],"scale-x":[{"scale-x":[B]}],"scale-y":[{"scale-y":[B]}],rotate:[{rotate:[Hh,jt]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",jt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",jt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",jt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Hi,Ro,e1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},PY=fY(IY);function fe(...t){return PY(Gt(t))}function xe(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const FY=cX,sQ=x.forwardRef(({className:t,...e},r)=>s.jsx(PM,{ref:r,className:fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));sQ.displayName=PM.displayName;const DY=th("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),iQ=x.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(FM,{ref:n,className:fe(DY({variant:e}),t),...r}));iQ.displayName=FM.displayName;const OY=x.forwardRef(({className:t,...e},r)=>s.jsx(RM,{ref:r,className:fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));OY.displayName=RM.displayName;const oQ=x.forwardRef(({className:t,...e},r)=>s.jsx(UM,{ref:r,className:fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Ny,{className:"h-4 w-4"})}));oQ.displayName=UM.displayName;const lQ=x.forwardRef(({className:t,...e},r)=>s.jsx(DM,{ref:r,className:fe("text-sm font-semibold",t),...e}));lQ.displayName=DM.displayName;const cQ=x.forwardRef(({className:t,...e},r)=>s.jsx(OM,{ref:r,className:fe("text-sm opacity-90",t),...e}));cQ.displayName=OM.displayName;function RY(){const{toasts:t}=ni();return s.jsxs(FY,{children:[t.map(function({id:e,title:r,description:n,action:a,...i}){return s.jsxs(iQ,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(lQ,{children:r}),n&&s.jsx(cQ,{children:n})]}),a,s.jsx(oQ,{})]},e)}),s.jsx(sQ,{})]})}var UT=["light","dark"],UY="(prefers-color-scheme: dark)",MY=x.createContext(void 0),QY={setTheme:t=>{},themes:[]},LY=()=>{var t;return(t=x.useContext(MY))!=null?t:QY};x.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let u=i==="system",A=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,d=a?UT.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(g,p=!1,m=!0)=>{let y=o?o[g]:g,b=p?g+"|| ''":`'${y}'`,v="";return a&&m&&!p&&UT.includes(g)&&(v+=`d.style.colorScheme = '${g}';`),r==="class"?p||y?v+=`c.add(${b})`:v+="null":y&&(v+=`d[s](n,${b})`),v},f=t?`!function(){${A}${h(t)}}()`:n?`!function(){try{${A}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${UY}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${u?"":"else{"+h(i,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${A}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${d}}catch(t){}}();`;return x.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:f}})});var $Y=t=>{switch(t){case"success":return KY;case"info":return GY;case"warning":return zY;case"error":return WY;default:return null}},HY=Array(12).fill(0),VY=({visible:t,className:e})=>V.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},V.createElement("div",{className:"sonner-spinner"},HY.map((r,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),KY=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),zY=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GY=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WY=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qY=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XY=()=>{let[t,e]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},OC=1,YY=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:OC++,i=this.toasts.find(l=>l.id===a),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...t,id:a,title:r}),{...l,...t,id:a,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:a}),a},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),a=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],V.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(ZY(c)&&!c.ok){a=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,A=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:A})}else if(e.success!==void 0){a=!1;let u=typeof e.success=="function"?await e.success(c):e.success,A=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:A})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){a=!1;let u=typeof e.error=="function"?await e.error(c):e.error,A=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:A})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||OC++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ea=new YY,JY=(t,e)=>{let r=(e==null?void 0:e.id)||OC++;return Ea.addToast({title:t,...e,id:r}),r},ZY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",eJ=JY,tJ=()=>Ea.toasts,rJ=()=>Ea.getActiveToasts();Object.assign(eJ,{success:Ea.success,info:Ea.info,warning:Ea.warning,error:Ea.error,custom:Ea.custom,message:Ea.message,promise:Ea.promise,dismiss:Ea.dismiss,loading:Ea.loading},{getHistory:tJ,getToasts:rJ});function nJ(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}nJ(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dg(t){return t.label!==void 0}var aJ=3,sJ="32px",iJ="16px",MT=4e3,oJ=356,lJ=14,cJ=20,uJ=200;function ks(...t){return t.filter(Boolean).join(" ")}function AJ(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var dJ=t=>{var e,r,n,a,i,o,l,c,u,A,d;let{invert:h,toast:f,unstyled:g,interacting:p,setHeights:m,visibleToasts:y,heights:b,index:v,toasts:B,expanded:_,removeToast:j,defaultRichColors:C,closeButton:E,style:N,cancelButtonStyle:S,actionButtonStyle:k,className:I="",descriptionClassName:T="",duration:U,position:M,gap:L,loadingIcon:O,expandByDefault:D,classNames:R,icons:Q,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:$}=t,[q,z]=V.useState(null),[W,ne]=V.useState(null),[oe,re]=V.useState(!1),[ce,Ae]=V.useState(!1),[ge,Y]=V.useState(!1),[pe,Se]=V.useState(!1),[Ue,We]=V.useState(!1),[gt,Rt]=V.useState(0),[Ut,X]=V.useState(0),ee=V.useRef(f.duration||U||MT),le=V.useRef(null),Ce=V.useRef(null),Ne=v===0,Be=v+1<=y,ve=f.type,qe=f.dismissible!==!1,ie=f.className||"",we=f.descriptionClassName||"",Je=V.useMemo(()=>b.findIndex(ht=>ht.toastId===f.id)||0,[b,f.id]),Ke=V.useMemo(()=>{var ht;return(ht=f.closeButton)!=null?ht:E},[f.closeButton,E]),pt=V.useMemo(()=>f.duration||U||MT,[f.duration,U]),er=V.useRef(0),Vr=V.useRef(0),Nr=V.useRef(0),pr=V.useRef(null),[Qi,Da]=M.split("-"),js=V.useMemo(()=>b.reduce((ht,Pt,lr)=>lr>=Je?ht:ht+Pt.height,0),[b,Je]),rs=XY(),ba=f.invert||h,Es=ve==="loading";Vr.current=V.useMemo(()=>Je*L+js,[Je,js]),V.useEffect(()=>{ee.current=pt},[pt]),V.useEffect(()=>{re(!0)},[]),V.useEffect(()=>{let ht=Ce.current;if(ht){let Pt=ht.getBoundingClientRect().height;return X(Pt),m(lr=>[{toastId:f.id,height:Pt,position:f.position},...lr]),()=>m(lr=>lr.filter(sn=>sn.toastId!==f.id))}},[m,f.id]),V.useLayoutEffect(()=>{if(!oe)return;let ht=Ce.current,Pt=ht.style.height;ht.style.height="auto";let lr=ht.getBoundingClientRect().height;ht.style.height=Pt,X(lr),m(sn=>sn.find(_n=>_n.toastId===f.id)?sn.map(_n=>_n.toastId===f.id?{..._n,height:lr}:_n):[{toastId:f.id,height:lr,position:f.position},...sn])},[oe,f.title,f.description,m,f.id]);let wa=V.useCallback(()=>{Ae(!0),Rt(Vr.current),m(ht=>ht.filter(Pt=>Pt.toastId!==f.id)),setTimeout(()=>{j(f)},uJ)},[f,j,m,Vr]);V.useEffect(()=>{if(f.promise&&ve==="loading"||f.duration===1/0||f.type==="loading")return;let ht;return _||p||$&&rs?(()=>{if(Nr.current<er.current){let Pt=new Date().getTime()-er.current;ee.current=ee.current-Pt}Nr.current=new Date().getTime()})():ee.current!==1/0&&(er.current=new Date().getTime(),ht=setTimeout(()=>{var Pt;(Pt=f.onAutoClose)==null||Pt.call(f,f),wa()},ee.current)),()=>clearTimeout(ht)},[_,p,f,ve,$,rs,wa]),V.useEffect(()=>{f.delete&&wa()},[wa,f.delete]);function Ss(){var ht,Pt,lr;return Q!=null&&Q.loading?V.createElement("div",{className:ks(R==null?void 0:R.loader,(ht=f==null?void 0:f.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":ve==="loading"},Q.loading):O?V.createElement("div",{className:ks(R==null?void 0:R.loader,(Pt=f==null?void 0:f.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":ve==="loading"},O):V.createElement(VY,{className:ks(R==null?void 0:R.loader,(lr=f==null?void 0:f.classNames)==null?void 0:lr.loader),visible:ve==="loading"})}return V.createElement("li",{tabIndex:0,ref:Ce,className:ks(I,ie,R==null?void 0:R.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,R==null?void 0:R.default,R==null?void 0:R[ve],(r=f==null?void 0:f.classNames)==null?void 0:r[ve]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":oe,"data-promise":!!f.promise,"data-swiped":Ue,"data-removed":ce,"data-visible":Be,"data-y-position":Qi,"data-x-position":Da,"data-index":v,"data-front":Ne,"data-swiping":ge,"data-dismissible":qe,"data-type":ve,"data-invert":ba,"data-swipe-out":pe,"data-swipe-direction":W,"data-expanded":!!(_||D&&oe),style:{"--index":v,"--toasts-before":v,"--z-index":B.length-v,"--offset":`${ce?gt:Vr.current}px`,"--initial-height":D?"auto":`${Ut}px`,...N,...f.style},onDragEnd:()=>{Y(!1),z(null),pr.current=null},onPointerDown:ht=>{Es||!qe||(le.current=new Date,Rt(Vr.current),ht.target.setPointerCapture(ht.pointerId),ht.target.tagName!=="BUTTON"&&(Y(!0),pr.current={x:ht.clientX,y:ht.clientY}))},onPointerUp:()=>{var ht,Pt,lr,sn;if(pe||!qe)return;pr.current=null;let _n=Number(((ht=Ce.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Br=Number(((Pt=Ce.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Oa=new Date().getTime()-((lr=le.current)==null?void 0:lr.getTime()),tr=q==="x"?_n:Br,Rr=Math.abs(tr)/Oa;if(Math.abs(tr)>=cJ||Rr>.11){Rt(Vr.current),(sn=f.onDismiss)==null||sn.call(f,f),ne(q==="x"?_n>0?"right":"left":Br>0?"down":"up"),wa(),Se(!0),We(!1);return}Y(!1),z(null)},onPointerMove:ht=>{var Pt,lr,sn,_n;if(!pr.current||!qe||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let Br=ht.clientY-pr.current.y,Oa=ht.clientX-pr.current.x,tr=(lr=t.swipeDirections)!=null?lr:AJ(M);!q&&(Math.abs(Oa)>1||Math.abs(Br)>1)&&z(Math.abs(Oa)>Math.abs(Br)?"x":"y");let Rr={x:0,y:0};q==="y"?(tr.includes("top")||tr.includes("bottom"))&&(tr.includes("top")&&Br<0||tr.includes("bottom")&&Br>0)&&(Rr.y=Br):q==="x"&&(tr.includes("left")||tr.includes("right"))&&(tr.includes("left")&&Oa<0||tr.includes("right")&&Oa>0)&&(Rr.x=Oa),(Math.abs(Rr.x)>0||Math.abs(Rr.y)>0)&&We(!0),(sn=Ce.current)==null||sn.style.setProperty("--swipe-amount-x",`${Rr.x}px`),(_n=Ce.current)==null||_n.style.setProperty("--swipe-amount-y",`${Rr.y}px`)}},Ke&&!f.jsx?V.createElement("button",{"aria-label":K,"data-disabled":Es,"data-close-button":!0,onClick:Es||!qe?()=>{}:()=>{var ht;wa(),(ht=f.onDismiss)==null||ht.call(f,f)},className:ks(R==null?void 0:R.closeButton,(a=f==null?void 0:f.classNames)==null?void 0:a.closeButton)},(i=Q==null?void 0:Q.close)!=null?i:qY):null,f.jsx||x.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:V.createElement(V.Fragment,null,ve||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:ks(R==null?void 0:R.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ss():null,f.type!=="loading"?f.icon||(Q==null?void 0:Q[ve])||$Y(ve):null):null,V.createElement("div",{"data-content":"",className:ks(R==null?void 0:R.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},V.createElement("div",{"data-title":"",className:ks(R==null?void 0:R.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?V.createElement("div",{"data-description":"",className:ks(T,we,R==null?void 0:R.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),x.isValidElement(f.cancel)?f.cancel:f.cancel&&Dg(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||S,onClick:ht=>{var Pt,lr;Dg(f.cancel)&&qe&&((lr=(Pt=f.cancel).onClick)==null||lr.call(Pt,ht),wa())},className:ks(R==null?void 0:R.cancelButton,(A=f==null?void 0:f.classNames)==null?void 0:A.cancelButton)},f.cancel.label):null,x.isValidElement(f.action)?f.action:f.action&&Dg(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||k,onClick:ht=>{var Pt,lr;Dg(f.action)&&((lr=(Pt=f.action).onClick)==null||lr.call(Pt,ht),!ht.defaultPrevented&&wa())},className:ks(R==null?void 0:R.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function QT(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hJ(t,e){let r={};return[t,e].forEach((n,a)=>{let i=a===1,o=i?"--mobile-offset":"--offset",l=i?iJ:sJ;function c(u){["top","right","bottom","left"].forEach(A=>{r[`${o}-${A}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var fJ=x.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:A="light",richColors:d,duration:h,style:f,visibleToasts:g=aJ,toastOptions:p,dir:m=QT(),gap:y=lJ,loadingIcon:b,icons:v,containerAriaLabel:B="Notifications",pauseWhenPageIsHidden:_}=t,[j,C]=V.useState([]),E=V.useMemo(()=>Array.from(new Set([n].concat(j.filter($=>$.position).map($=>$.position)))),[j,n]),[N,S]=V.useState([]),[k,I]=V.useState(!1),[T,U]=V.useState(!1),[M,L]=V.useState(A!=="system"?A:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=V.useRef(null),D=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=V.useRef(null),Q=V.useRef(!1),K=V.useCallback($=>{C(q=>{var z;return(z=q.find(W=>W.id===$.id))!=null&&z.delete||Ea.dismiss($.id),q.filter(({id:W})=>W!==$.id)})},[]);return V.useEffect(()=>Ea.subscribe($=>{if($.dismiss){C(q=>q.map(z=>z.id===$.id?{...z,delete:!0}:z));return}setTimeout(()=>{iM.flushSync(()=>{C(q=>{let z=q.findIndex(W=>W.id===$.id);return z!==-1?[...q.slice(0,z),{...q[z],...$},...q.slice(z+1)]:[$,...q]})})})}),[]),V.useEffect(()=>{if(A!=="system"){L(A);return}if(A==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:q})=>{L(q?"dark":"light")})}catch{$.addListener(({matches:z})=>{try{L(z?"dark":"light")}catch(W){console.error(W)}})}},[A]),V.useEffect(()=>{j.length<=1&&I(!1)},[j]),V.useEffect(()=>{let $=q=>{var z,W;a.every(ne=>q[ne]||q.code===ne)&&(I(!0),(z=O.current)==null||z.focus()),q.code==="Escape"&&(document.activeElement===O.current||(W=O.current)!=null&&W.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[a]),V.useEffect(()=>{if(O.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,Q.current=!1)}},[O.current]),V.createElement("section",{ref:e,"aria-label":`${B} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map(($,q)=>{var z;let[W,ne]=$.split("-");return j.length?V.createElement("ol",{key:$,dir:m==="auto"?QT():m,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":W,"data-lifted":k&&j.length>1&&!i,"data-x-position":ne,style:{"--front-toast-height":`${((z=N[0])==null?void 0:z.height)||0}px`,"--width":`${oJ}px`,"--gap":`${y}px`,...f,...hJ(c,u)},onBlur:oe=>{Q.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(Q.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Q.current||(Q.current=!0,R.current=oe.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{T||I(!1)},onDragEnd:()=>I(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},j.filter(oe=>!oe.position&&q===0||oe.position===$).map((oe,re)=>{var ce,Ae;return V.createElement(dJ,{key:oe.id,icons:v,index:re,toast:oe,defaultRichColors:d,duration:(ce=p==null?void 0:p.duration)!=null?ce:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(Ae=p==null?void 0:p.closeButton)!=null?Ae:o,interacting:T,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:K,toasts:j.filter(ge=>ge.position==oe.position),heights:N.filter(ge=>ge.position==oe.position),setHeights:S,expandByDefault:i,gap:y,loadingIcon:b,expanded:k,pauseWhenPageIsHidden:_,swipeDirections:t.swipeDirections})})):null}))});const mJ=({...t})=>{const{theme:e="system"}=LY();return s.jsx(fJ,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var pJ=lS[" useId ".trim().toString()]||(()=>{}),gJ=0;function Bi(t){const[e,r]=x.useState(pJ());return Yr(()=>{r(n=>n??String(gJ++))},[t]),e?`radix-${e}`:""}const xJ=["top","right","bottom","left"],Rl=Math.min,Ka=Math.max,xx=Math.round,Og=Math.floor,Ci=t=>({x:t,y:t}),vJ={left:"right",right:"left",bottom:"top",top:"bottom"},yJ={start:"end",end:"start"};function RC(t,e,r){return Ka(t,Rl(e,r))}function mo(t,e){return typeof t=="function"?t(e):t}function po(t){return t.split("-")[0]}function ah(t){return t.split("-")[1]}function wS(t){return t==="x"?"y":"x"}function BS(t){return t==="y"?"height":"width"}function gi(t){return["top","bottom"].includes(po(t))?"y":"x"}function CS(t){return wS(gi(t))}function bJ(t,e,r){r===void 0&&(r=!1);const n=ah(t),a=CS(t),i=BS(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=vx(o)),[o,vx(o)]}function wJ(t){const e=vx(t);return[UC(t),e,UC(e)]}function UC(t){return t.replace(/start|end/g,e=>yJ[e])}function BJ(t,e,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?a:n:e?n:a;case"left":case"right":return e?i:o;default:return[]}}function CJ(t,e,r,n){const a=ah(t);let i=BJ(po(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(UC)))),i}function vx(t){return t.replace(/left|right|bottom|top/g,e=>vJ[e])}function _J(t){return{top:0,right:0,bottom:0,left:0,...t}}function uQ(t){return typeof t!="number"?_J(t):{top:t,right:t,bottom:t,left:t}}function yx(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function LT(t,e,r){let{reference:n,floating:a}=t;const i=gi(e),o=CS(e),l=BS(o),c=po(e),u=i==="y",A=n.x+n.width/2-a.width/2,d=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let f;switch(c){case"top":f={x:A,y:n.y-a.height};break;case"bottom":f={x:A,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:d};break;case"left":f={x:n.x-a.width,y:d};break;default:f={x:n.x,y:n.y}}switch(ah(e)){case"start":f[o]-=h*(r&&u?-1:1);break;case"end":f[o]+=h*(r&&u?-1:1);break}return f}const jJ=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:A,y:d}=LT(u,n,c),h=n,f={},g=0;for(let p=0;p<l.length;p++){const{name:m,fn:y}=l[p],{x:b,y:v,data:B,reset:_}=await y({x:A,y:d,initialPlacement:n,placement:h,strategy:a,middlewareData:f,rects:u,platform:o,elements:{reference:t,floating:e}});A=b??A,d=v??d,f={...f,[m]:{...f[m],...B}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):_.rects),{x:A,y:d}=LT(u,h,c)),p=-1)}return{x:A,y:d,placement:h,strategy:a,middlewareData:f}};async function Am(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:A="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=mo(e,t),g=uQ(f),m=l[h?d==="floating"?"reference":"floating":d],y=yx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(m)))==null||r?m:m.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:A,strategy:c})),b=d==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,v=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),B=await(i.isElement==null?void 0:i.isElement(v))?await(i.getScale==null?void 0:i.getScale(v))||{x:1,y:1}:{x:1,y:1},_=yx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:v,strategy:c}):b);return{top:(y.top-_.top+g.top)/B.y,bottom:(_.bottom-y.bottom+g.bottom)/B.y,left:(y.left-_.left+g.left)/B.x,right:(_.right-y.right+g.right)/B.x}}const EJ=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:A=0}=mo(t,e)||{};if(u==null)return{};const d=uQ(A),h={x:r,y:n},f=CS(a),g=BS(f),p=await o.getDimensions(u),m=f==="y",y=m?"top":"left",b=m?"bottom":"right",v=m?"clientHeight":"clientWidth",B=i.reference[g]+i.reference[f]-h[f]-i.floating[g],_=h[f]-i.reference[f],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let C=j?j[v]:0;(!C||!await(o.isElement==null?void 0:o.isElement(j)))&&(C=l.floating[v]||i.floating[g]);const E=B/2-_/2,N=C/2-p[g]/2-1,S=Rl(d[y],N),k=Rl(d[b],N),I=S,T=C-p[g]-k,U=C/2-p[g]/2+E,M=RC(I,U,T),L=!c.arrow&&ah(a)!=null&&U!==M&&i.reference[g]/2-(U<I?S:k)-p[g]/2<0,O=L?U<I?U-I:U-T:0;return{[f]:h[f]+O,data:{[f]:M,centerOffset:U-M-O,...L&&{alignmentOffset:O}},reset:L}}}),SJ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:A=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...m}=mo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=po(a),b=gi(l),v=po(l)===l,B=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(v||!p?[vx(l)]:wJ(l)),j=g!=="none";!h&&j&&_.push(...CJ(l,p,g,B));const C=[l,..._],E=await Am(e,m),N=[];let S=((n=i.flip)==null?void 0:n.overflows)||[];if(A&&N.push(E[y]),d){const U=bJ(a,o,B);N.push(E[U[0]],E[U[1]])}if(S=[...S,{placement:a,overflows:N}],!N.every(U=>U<=0)){var k,I;const U=(((k=i.flip)==null?void 0:k.index)||0)+1,M=C[U];if(M&&(!(d==="alignment"?b!==gi(M):!1)||S.every(D=>D.overflows[0]>0&&gi(D.placement)===b)))return{data:{index:U,overflows:S},reset:{placement:M}};let L=(I=S.filter(O=>O.overflows[0]<=0).sort((O,D)=>O.overflows[1]-D.overflows[1])[0])==null?void 0:I.placement;if(!L)switch(f){case"bestFit":{var T;const O=(T=S.filter(D=>{if(j){const R=gi(D.placement);return R===b||R==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(R=>R>0).reduce((R,Q)=>R+Q,0)]).sort((D,R)=>D[1]-R[1])[0])==null?void 0:T[0];O&&(L=O);break}case"initialPlacement":L=l;break}if(a!==L)return{reset:{placement:L}}}return{}}}};function $T(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HT(t){return xJ.some(e=>t[e]>=0)}const NJ=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=mo(t,e);switch(n){case"referenceHidden":{const i=await Am(e,{...a,elementContext:"reference"}),o=$T(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HT(o)}}}case"escaped":{const i=await Am(e,{...a,altBoundary:!0}),o=$T(i,r.floating);return{data:{escapedOffsets:o,escaped:HT(o)}}}default:return{}}}}};async function kJ(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=po(r),l=ah(r),c=gi(r)==="y",u=["left","top"].includes(o)?-1:1,A=i&&c?-1:1,d=mo(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:g}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof g=="number"&&(f=l==="end"?g*-1:g),c?{x:f*A,y:h*u}:{x:h*u,y:f*A}}const TJ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=e,c=await kJ(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},IJ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:m=>{let{x:y,y:b}=m;return{x:y,y:b}}},...c}=mo(t,e),u={x:r,y:n},A=await Am(e,c),d=gi(po(a)),h=wS(d);let f=u[h],g=u[d];if(i){const m=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=f+A[m],v=f-A[y];f=RC(b,f,v)}if(o){const m=d==="y"?"top":"left",y=d==="y"?"bottom":"right",b=g+A[m],v=g-A[y];g=RC(b,g,v)}const p=l.fn({...e,[h]:f,[d]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:i,[d]:o}}}}}},PJ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=mo(t,e),A={x:r,y:n},d=gi(a),h=wS(d);let f=A[h],g=A[d];const p=mo(l,e),m=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const v=h==="y"?"height":"width",B=i.reference[h]-i.floating[v]+m.mainAxis,_=i.reference[h]+i.reference[v]-m.mainAxis;f<B?f=B:f>_&&(f=_)}if(u){var y,b;const v=h==="y"?"width":"height",B=["top","left"].includes(po(a)),_=i.reference[d]-i.floating[v]+(B&&((y=o.offset)==null?void 0:y[d])||0)+(B?0:m.crossAxis),j=i.reference[d]+i.reference[v]+(B?0:((b=o.offset)==null?void 0:b[d])||0)-(B?m.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[h]:f,[d]:g}}}},FJ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...u}=mo(t,e),A=await Am(e,u),d=po(a),h=ah(a),f=gi(a)==="y",{width:g,height:p}=i.floating;let m,y;d==="top"||d==="bottom"?(m=d,y=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=d,m=h==="end"?"top":"bottom");const b=p-A.top-A.bottom,v=g-A.left-A.right,B=Rl(p-A[m],b),_=Rl(g-A[y],v),j=!e.middlewareData.shift;let C=B,E=_;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=v),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(C=b),j&&!h){const S=Ka(A.left,0),k=Ka(A.right,0),I=Ka(A.top,0),T=Ka(A.bottom,0);f?E=g-2*(S!==0||k!==0?S+k:Ka(A.left,A.right)):C=p-2*(I!==0||T!==0?I+T:Ka(A.top,A.bottom))}await c({...e,availableWidth:E,availableHeight:C});const N=await o.getDimensions(l.floating);return g!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function ky(){return typeof window<"u"}function sh(t){return AQ(t)?(t.nodeName||"").toLowerCase():"#document"}function Ya(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Di(t){var e;return(e=(AQ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AQ(t){return ky()?t instanceof Node||t instanceof Ya(t).Node:!1}function ei(t){return ky()?t instanceof Element||t instanceof Ya(t).Element:!1}function Ni(t){return ky()?t instanceof HTMLElement||t instanceof Ya(t).HTMLElement:!1}function VT(t){return!ky()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ya(t).ShadowRoot}function Ip(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=ti(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(a)}function DJ(t){return["table","td","th"].includes(sh(t))}function Ty(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function _S(t){const e=jS(),r=ei(t)?ti(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function OJ(t){let e=Ul(t);for(;Ni(e)&&!id(e);){if(_S(e))return e;if(Ty(e))return null;e=Ul(e)}return null}function jS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function id(t){return["html","body","#document"].includes(sh(t))}function ti(t){return Ya(t).getComputedStyle(t)}function Iy(t){return ei(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ul(t){if(sh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VT(t)&&t.host||Di(t);return VT(e)?e.host:e}function dQ(t){const e=Ul(t);return id(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ni(e)&&Ip(e)?e:dQ(e)}function dm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=dQ(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=Ya(a);if(i){const l=MC(o);return e.concat(o,o.visualViewport||[],Ip(a)?a:[],l&&r?dm(l):[])}return e.concat(a,dm(a,[],r))}function MC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hQ(t){const e=ti(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Ni(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=xx(r)!==i||xx(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function ES(t){return ei(t)?t:t.contextElement}function PA(t){const e=ES(t);if(!Ni(e))return Ci(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=hQ(e);let o=(i?xx(r.width):r.width)/n,l=(i?xx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const RJ=Ci(0);function fQ(t){const e=Ya(t);return!jS()||!e.visualViewport?RJ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function UJ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ya(t)?!1:e}function uu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=ES(t);let o=Ci(1);e&&(n?ei(n)&&(o=PA(n)):o=PA(t));const l=UJ(i,r,n)?fQ(i):Ci(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,A=a.width/o.x,d=a.height/o.y;if(i){const h=Ya(i),f=n&&ei(n)?Ya(n):n;let g=h,p=MC(g);for(;p&&n&&f!==g;){const m=PA(p),y=p.getBoundingClientRect(),b=ti(p),v=y.left+(p.clientLeft+parseFloat(b.paddingLeft))*m.x,B=y.top+(p.clientTop+parseFloat(b.paddingTop))*m.y;c*=m.x,u*=m.y,A*=m.x,d*=m.y,c+=v,u+=B,g=Ya(p),p=MC(g)}}return yx({width:A,height:d,x:c,y:u})}function SS(t,e){const r=Iy(t).scrollLeft;return e?e.left+r:uu(Di(t)).left+r}function mQ(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),a=n.left+e.scrollLeft-(r?0:SS(t,n)),i=n.top+e.scrollTop;return{x:a,y:i}}function MJ(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Di(n),l=e?Ty(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ci(1);const A=Ci(0),d=Ni(n);if((d||!d&&!i)&&((sh(n)!=="body"||Ip(o))&&(c=Iy(n)),Ni(n))){const f=uu(n);u=PA(n),A.x=f.x+n.clientLeft,A.y=f.y+n.clientTop}const h=o&&!d&&!i?mQ(o,c,!0):Ci(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+A.x+h.x,y:r.y*u.y-c.scrollTop*u.y+A.y+h.y}}function QJ(t){return Array.from(t.getClientRects())}function LJ(t){const e=Di(t),r=Iy(t),n=t.ownerDocument.body,a=Ka(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Ka(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+SS(t);const l=-r.scrollTop;return ti(n).direction==="rtl"&&(o+=Ka(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function $J(t,e){const r=Ya(t),n=Di(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=jS();(!u||u&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function HJ(t,e){const r=uu(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Ni(t)?PA(t):Ci(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function KT(t,e,r){let n;if(e==="viewport")n=$J(t,r);else if(e==="document")n=LJ(Di(t));else if(ei(e))n=HJ(e,r);else{const a=fQ(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return yx(n)}function pQ(t,e){const r=Ul(t);return r===e||!ei(r)||id(r)?!1:ti(r).position==="fixed"||pQ(r,e)}function VJ(t,e){const r=e.get(t);if(r)return r;let n=dm(t,[],!1).filter(l=>ei(l)&&sh(l)!=="body"),a=null;const i=ti(t).position==="fixed";let o=i?Ul(t):t;for(;ei(o)&&!id(o);){const l=ti(o),c=_S(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ip(o)&&!c&&pQ(t,o))?n=n.filter(A=>A!==o):a=l,o=Ul(o)}return e.set(t,n),n}function KJ(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?Ty(e)?[]:VJ(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,A)=>{const d=KT(e,A,a);return u.top=Ka(d.top,u.top),u.right=Rl(d.right,u.right),u.bottom=Rl(d.bottom,u.bottom),u.left=Ka(d.left,u.left),u},KT(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zJ(t){const{width:e,height:r}=hQ(t);return{width:e,height:r}}function GJ(t,e,r){const n=Ni(e),a=Di(e),i=r==="fixed",o=uu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Ci(0);function u(){c.x=SS(a)}if(n||!n&&!i)if((sh(e)!=="body"||Ip(a))&&(l=Iy(e)),n){const f=uu(e,!0,i,e);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else a&&u();i&&!n&&a&&u();const A=a&&!n&&!i?mQ(a,l):Ci(0),d=o.left+l.scrollLeft-c.x-A.x,h=o.top+l.scrollTop-c.y-A.y;return{x:d,y:h,width:o.width,height:o.height}}function t1(t){return ti(t).position==="static"}function zT(t,e){if(!Ni(t)||ti(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Di(t)===r&&(r=r.ownerDocument.body),r}function gQ(t,e){const r=Ya(t);if(Ty(t))return r;if(!Ni(t)){let a=Ul(t);for(;a&&!id(a);){if(ei(a)&&!t1(a))return a;a=Ul(a)}return r}let n=zT(t,e);for(;n&&DJ(n)&&t1(n);)n=zT(n,e);return n&&id(n)&&t1(n)&&!_S(n)?r:n||OJ(t)||r}const WJ=async function(t){const e=this.getOffsetParent||gQ,r=this.getDimensions,n=await r(t.floating);return{reference:GJ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function qJ(t){return ti(t).direction==="rtl"}const XJ={convertOffsetParentRelativeRectToViewportRelativeRect:MJ,getDocumentElement:Di,getClippingRect:KJ,getOffsetParent:gQ,getElementRects:WJ,getClientRects:QJ,getDimensions:zJ,getScale:PA,isElement:ei,isRTL:qJ};function xQ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YJ(t,e){let r=null,n;const a=Di(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:A,top:d,width:h,height:f}=u;if(l||e(),!h||!f)return;const g=Og(d),p=Og(a.clientWidth-(A+h)),m=Og(a.clientHeight-(d+f)),y=Og(A),v={rootMargin:-g+"px "+-p+"px "+-m+"px "+-y+"px",threshold:Ka(0,Rl(1,c))||1};let B=!0;function _(j){const C=j[0].intersectionRatio;if(C!==c){if(!B)return o();C?o(!1,C):n=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!xQ(u,t.getBoundingClientRect())&&o(),B=!1}try{r=new IntersectionObserver(_,{...v,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,v)}r.observe(t)}return o(!0),i}function JJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=ES(t),A=a||i?[...u?dm(u):[],...dm(e)]:[];A.forEach(y=>{a&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const d=u&&l?YJ(u,r):null;let h=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=f)==null||v.observe(e)})),r()}),u&&!c&&f.observe(u),f.observe(e));let g,p=c?uu(t):null;c&&m();function m(){const y=uu(t);p&&!xQ(p,y)&&r(),p=y,g=requestAnimationFrame(m)}return r(),()=>{var y;A.forEach(b=>{a&&b.removeEventListener("scroll",r),i&&b.removeEventListener("resize",r)}),d==null||d(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(g)}}const ZJ=TJ,eZ=IJ,tZ=SJ,rZ=FJ,nZ=NJ,GT=EJ,aZ=PJ,sZ=(t,e,r)=>{const n=new Map,a={platform:XJ,...r},i={...a.platform,_c:n};return jJ(t,e,{...a,platform:i})};var iZ=typeof document<"u",oZ=function(){},K0=iZ?x.useLayoutEffect:oZ;function bx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!bx(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!bx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function vQ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function WT(t,e){const r=vQ(t);return Math.round(e*r)/r}function r1(t){const e=x.useRef(t);return K0(()=>{e.current=t}),e}function lZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[A,d]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=x.useState(n);bx(h,n)||f(n);const[g,p]=x.useState(null),[m,y]=x.useState(null),b=x.useCallback(D=>{D!==j.current&&(j.current=D,p(D))},[]),v=x.useCallback(D=>{D!==C.current&&(C.current=D,y(D))},[]),B=i||g,_=o||m,j=x.useRef(null),C=x.useRef(null),E=x.useRef(A),N=c!=null,S=r1(c),k=r1(a),I=r1(u),T=x.useCallback(()=>{if(!j.current||!C.current)return;const D={placement:e,strategy:r,middleware:h};k.current&&(D.platform=k.current),sZ(j.current,C.current,D).then(R=>{const Q={...R,isPositioned:I.current!==!1};U.current&&!bx(E.current,Q)&&(E.current=Q,Zd.flushSync(()=>{d(Q)}))})},[h,e,r,k,I]);K0(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[u]);const U=x.useRef(!1);K0(()=>(U.current=!0,()=>{U.current=!1}),[]),K0(()=>{if(B&&(j.current=B),_&&(C.current=_),B&&_){if(S.current)return S.current(B,_,T);T()}},[B,_,T,S,N]);const M=x.useMemo(()=>({reference:j,floating:C,setReference:b,setFloating:v}),[b,v]),L=x.useMemo(()=>({reference:B,floating:_}),[B,_]),O=x.useMemo(()=>{const D={position:r,left:0,top:0};if(!L.floating)return D;const R=WT(L.floating,A.x),Q=WT(L.floating,A.y);return l?{...D,transform:"translate("+R+"px, "+Q+"px)",...vQ(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:Q}},[r,l,L.floating,A.x,A.y]);return x.useMemo(()=>({...A,update:T,refs:M,elements:L,floatingStyles:O}),[A,T,M,L,O])}const cZ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?GT({element:n.current,padding:a}).fn(r):{}:n?GT({element:n,padding:a}).fn(r):{}}}},uZ=(t,e)=>({...ZJ(t),options:[t,e]}),AZ=(t,e)=>({...eZ(t),options:[t,e]}),dZ=(t,e)=>({...aZ(t),options:[t,e]}),hZ=(t,e)=>({...tZ(t),options:[t,e]}),fZ=(t,e)=>({...rZ(t),options:[t,e]}),mZ=(t,e)=>({...nZ(t),options:[t,e]}),pZ=(t,e)=>({...cZ(t),options:[t,e]});var gZ="Arrow",yQ=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(Ye.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});yQ.displayName=gZ;var xZ=yQ;function Pp(t){const[e,r]=x.useState(void 0);return Yr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var NS="Popper",[bQ,ih]=Hn(NS),[vZ,wQ]=bQ(NS),BQ=t=>{const{__scopePopper:e,children:r}=t,[n,a]=x.useState(null);return s.jsx(vZ,{scope:e,anchor:n,onAnchorChange:a,children:r})};BQ.displayName=NS;var CQ="PopperAnchor",_Q=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=wQ(CQ,r),o=x.useRef(null),l=dt(e,o);return x.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ye.div,{...a,ref:l})});_Q.displayName=CQ;var kS="PopperContent",[yZ,bZ]=bQ(kS),jQ=x.forwardRef((t,e)=>{var oe,re,ce,Ae,ge,Y;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:A=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:g,...p}=t,m=wQ(kS,r),[y,b]=x.useState(null),v=dt(e,pe=>b(pe)),[B,_]=x.useState(null),j=Pp(B),C=(j==null?void 0:j.width)??0,E=(j==null?void 0:j.height)??0,N=n+(i!=="center"?"-"+i:""),S=typeof A=="number"?A:{top:0,right:0,bottom:0,left:0,...A},k=Array.isArray(u)?u:[u],I=k.length>0,T={padding:S,boundary:k.filter(BZ),altBoundary:I},{refs:U,floatingStyles:M,placement:L,isPositioned:O,middlewareData:D}=lZ({strategy:"fixed",placement:N,whileElementsMounted:(...pe)=>JJ(...pe,{animationFrame:f==="always"}),elements:{reference:m.anchor},middleware:[uZ({mainAxis:a+E,alignmentAxis:o}),c&&AZ({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?dZ():void 0,...T}),c&&hZ({...T}),fZ({...T,apply:({elements:pe,rects:Se,availableWidth:Ue,availableHeight:We})=>{const{width:gt,height:Rt}=Se.reference,Ut=pe.floating.style;Ut.setProperty("--radix-popper-available-width",`${Ue}px`),Ut.setProperty("--radix-popper-available-height",`${We}px`),Ut.setProperty("--radix-popper-anchor-width",`${gt}px`),Ut.setProperty("--radix-popper-anchor-height",`${Rt}px`)}}),B&&pZ({element:B,padding:l}),CZ({arrowWidth:C,arrowHeight:E}),h&&mZ({strategy:"referenceHidden",...T})]}),[R,Q]=NQ(L),K=nn(g);Yr(()=>{O&&(K==null||K())},[O,K]);const $=(oe=D.arrow)==null?void 0:oe.x,q=(re=D.arrow)==null?void 0:re.y,z=((ce=D.arrow)==null?void 0:ce.centerOffset)!==0,[W,ne]=x.useState();return Yr(()=>{y&&ne(window.getComputedStyle(y).zIndex)},[y]),s.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...M,transform:O?M.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(Ae=D.transformOrigin)==null?void 0:Ae.x,(ge=D.transformOrigin)==null?void 0:ge.y].join(" "),...((Y=D.hide)==null?void 0:Y.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(yZ,{scope:r,placedSide:R,onArrowChange:_,arrowX:$,arrowY:q,shouldHideArrow:z,children:s.jsx(Ye.div,{"data-side":R,"data-align":Q,...p,ref:v,style:{...p.style,animation:O?void 0:"none"}})})})});jQ.displayName=kS;var EQ="PopperArrow",wZ={top:"bottom",right:"left",bottom:"top",left:"right"},SQ=x.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=bZ(EQ,n),o=wZ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(xZ,{...a,ref:r,style:{...a.style,display:"block"}})})});SQ.displayName=EQ;function BZ(t){return t!==null}var CZ=t=>({name:"transformOrigin",options:t,fn(e){var m,y,b;const{placement:r,rects:n,middlewareData:a}=e,o=((m=a.arrow)==null?void 0:m.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,A]=NQ(r),d={start:"0%",center:"50%",end:"100%"}[A],h=(((y=a.arrow)==null?void 0:y.x)??0)+l/2,f=(((b=a.arrow)==null?void 0:b.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?d:`${h}px`,p=`${-c}px`):u==="top"?(g=o?d:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?d:`${f}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?d:`${f}px`),{data:{x:g,y:p}}}});function NQ(t){const[e,r="center"]=t.split("-");return[e,r]}var TS=BQ,Py=_Q,IS=jQ,PS=SQ,[Fy,dKe]=Hn("Tooltip",[ih]),Dy=ih(),kQ="TooltipProvider",_Z=700,QC="tooltip.open",[jZ,FS]=Fy(kQ),TQ=t=>{const{__scopeTooltip:e,delayDuration:r=_Z,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(jZ,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};TQ.displayName=kQ;var hm="Tooltip",[EZ,Oy]=Fy(hm),IQ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:a,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=FS(hm,t.__scopeTooltip),u=Dy(e),[A,d]=x.useState(null),h=Bi(),f=x.useRef(0),g=o??c.disableHoverableContent,p=l??c.delayDuration,m=x.useRef(!1),[y,b]=ys({prop:n,defaultProp:a??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(QC))):c.onClose(),i==null||i(C)},caller:hm}),v=x.useMemo(()=>y?m.current?"delayed-open":"instant-open":"closed",[y]),B=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,m.current=!1,b(!0)},[b]),_=x.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),j=x.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{m.current=!0,b(!0),f.current=0},p)},[p,b]);return x.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),s.jsx(TS,{...u,children:s.jsx(EZ,{scope:e,contentId:h,open:y,stateAttribute:v,trigger:A,onTriggerChange:d,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?j():B()},[c.isOpenDelayedRef,j,B]),onTriggerLeave:x.useCallback(()=>{g?_():(window.clearTimeout(f.current),f.current=0)},[_,g]),onOpen:B,onClose:_,disableHoverableContent:g,children:r})})};IQ.displayName=hm;var LC="TooltipTrigger",PQ=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Oy(LC,r),i=FS(LC,r),o=Dy(r),l=x.useRef(null),c=dt(e,l,a.onTriggerChange),u=x.useRef(!1),A=x.useRef(!1),d=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),s.jsx(Py,{asChild:!0,...o,children:s.jsx(Ye.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:Re(t.onPointerMove,h=>{h.pointerType!=="touch"&&!A.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),A.current=!0)}),onPointerLeave:Re(t.onPointerLeave,()=>{a.onTriggerLeave(),A.current=!1}),onPointerDown:Re(t.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Re(t.onFocus,()=>{u.current||a.onOpen()}),onBlur:Re(t.onBlur,a.onClose),onClick:Re(t.onClick,a.onClose)})})});PQ.displayName=LC;var SZ="TooltipPortal",[hKe,NZ]=Fy(SZ,{forceMount:void 0}),od="TooltipContent",FQ=x.forwardRef((t,e)=>{const r=NZ(od,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=Oy(od,t.__scopeTooltip);return s.jsx(xa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(DQ,{side:a,...i,ref:e}):s.jsx(kZ,{side:a,...i,ref:e})})}),kZ=x.forwardRef((t,e)=>{const r=Oy(od,t.__scopeTooltip),n=FS(od,t.__scopeTooltip),a=x.useRef(null),i=dt(e,a),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,A=a.current,{onPointerInTransitChange:d}=n,h=x.useCallback(()=>{l(null),d(!1)},[d]),f=x.useCallback((g,p)=>{const m=g.currentTarget,y={x:g.clientX,y:g.clientY},b=DZ(y,m.getBoundingClientRect()),v=OZ(y,b),B=RZ(p.getBoundingClientRect()),_=MZ([...v,...B]);l(_),d(!0)},[d]);return x.useEffect(()=>()=>h(),[h]),x.useEffect(()=>{if(c&&A){const g=m=>f(m,A),p=m=>f(m,c);return c.addEventListener("pointerleave",g),A.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),A.removeEventListener("pointerleave",p)}}},[c,A,f,h]),x.useEffect(()=>{if(o){const g=p=>{const m=p.target,y={x:p.clientX,y:p.clientY},b=(c==null?void 0:c.contains(m))||(A==null?void 0:A.contains(m)),v=!UZ(y,o);b?h():v&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,A,o,u,h]),s.jsx(DQ,{...t,ref:i})}),[TZ,IZ]=Fy(hm,{isInside:!1}),PZ=fM("TooltipContent"),DQ=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Oy(od,r),u=Dy(r),{onClose:A}=c;return x.useEffect(()=>(document.addEventListener(QC,A),()=>document.removeEventListener(QC,A)),[A]),x.useEffect(()=>{if(c.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(c.trigger)&&A()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,A]),s.jsx(eh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:A,children:s.jsxs(IS,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(PZ,{children:n}),s.jsx(TZ,{scope:r,isInside:!0,children:s.jsx(Kq,{id:c.contentId,role:"tooltip",children:a||n})})]})})});FQ.displayName=od;var OQ="TooltipArrow",FZ=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=Dy(r);return IZ(OQ,r).isInside?null:s.jsx(PS,{...a,...n,ref:e})});FZ.displayName=OQ;function DZ(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function OZ(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function RZ(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function UZ(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i],c=e[o],u=l.x,A=l.y,d=c.x,h=c.y;A>n!=h>n&&r<(d-u)*(n-A)/(h-A)+u&&(a=!a)}return a}function MZ(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),QZ(e)}function QZ(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var LZ=TQ,$Z=IQ,HZ=PQ,RQ=FQ;const UQ=LZ,VZ=$Z,KZ=HZ,MQ=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(RQ,{ref:n,sideOffset:e,className:fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));MQ.displayName=RQ.displayName;var Fp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Au=typeof window>"u"||"Deno"in globalThis;function Sa(){}function zZ(t,e){return typeof t=="function"?t(e):t}function $C(t){return typeof t=="number"&&t>=0&&t!==1/0}function QQ(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Cl(t,e){return typeof t=="function"?t(e):t}function $s(t,e){return typeof t=="function"?t(e):t}function qT(t,e){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==DS(o,e.options))return!1}else if(!mm(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||a&&a!==e.state.fetchStatus||i&&!i(e))}function XT(t,e){const{exact:r,status:n,predicate:a,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(fm(e.options.mutationKey)!==fm(i))return!1}else if(!mm(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||a&&!a(e))}function DS(t,e){return((e==null?void 0:e.queryKeyHashFn)||fm)(t)}function fm(t){return JSON.stringify(t,(e,r)=>VC(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function mm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>mm(t[r],e[r])):!1}function LQ(t,e){if(t===e)return t;const r=YT(t)&&YT(e);if(r||VC(t)&&VC(e)){const n=r?t:Object.keys(t),a=n.length,i=r?e:Object.keys(e),o=i.length,l=r?[]:{},c=new Set(n);let u=0;for(let A=0;A<o;A++){const d=r?A:i[A];(!r&&c.has(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,u++):(l[d]=LQ(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&u++)}return a===o&&u===a?t:l}return e}function HC(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function YT(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VC(t){if(!JT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!JT(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JT(t){return Object.prototype.toString.call(t)==="[object Object]"}function GZ(t){return new Promise(e=>{setTimeout(e,t)})}function KC(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?LQ(t,e):e}function WZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function qZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var OS=Symbol();function $Q(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===OS?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function XZ(t,e){return typeof t=="function"?t(...e):!!t}var Wc,ol,KA,Y5,YZ=(Y5=class extends Fp{constructor(){super();ft(this,Wc);ft(this,ol);ft(this,KA);Ze(this,KA,e=>{if(!Au&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){te(this,ol)||this.setEventListener(te(this,KA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,ol))==null||e.call(this),Ze(this,ol,void 0))}setEventListener(e){var r;Ze(this,KA,e),(r=te(this,ol))==null||r.call(this),Ze(this,ol,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){te(this,Wc)!==e&&(Ze(this,Wc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof te(this,Wc)=="boolean"?te(this,Wc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Wc=new WeakMap,ol=new WeakMap,KA=new WeakMap,Y5),RS=new YZ,zA,ll,GA,J5,JZ=(J5=class extends Fp{constructor(){super();ft(this,zA,!0);ft(this,ll);ft(this,GA);Ze(this,GA,e=>{if(!Au&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){te(this,ll)||this.setEventListener(te(this,GA))}onUnsubscribe(){var e;this.hasListeners()||((e=te(this,ll))==null||e.call(this),Ze(this,ll,void 0))}setEventListener(e){var r;Ze(this,GA,e),(r=te(this,ll))==null||r.call(this),Ze(this,ll,e(this.setOnline.bind(this)))}setOnline(e){te(this,zA)!==e&&(Ze(this,zA,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return te(this,zA)}},zA=new WeakMap,ll=new WeakMap,GA=new WeakMap,J5),wx=new JZ;function zC(){let t,e;const r=new Promise((a,i)=>{t=a,e=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),t(a)},r.reject=a=>{n({status:"rejected",reason:a}),e(a)},r}function ZZ(t){return Math.min(1e3*2**t,3e4)}function HQ(t){return(t??"online")==="online"?wx.isOnline():!0}var VQ=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function n1(t){return t instanceof VQ}function KQ(t){let e=!1,r=0,n=!1,a;const i=zC(),o=p=>{var m;n||(h(new VQ(p)),(m=t.abort)==null||m.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>RS.isFocused()&&(t.networkMode==="always"||wx.isOnline())&&t.canRun(),A=()=>HQ(t.networkMode)&&t.canRun(),d=p=>{var m;n||(n=!0,(m=t.onSuccess)==null||m.call(t,p),a==null||a(),i.resolve(p))},h=p=>{var m;n||(n=!0,(m=t.onError)==null||m.call(t,p),a==null||a(),i.reject(p))},f=()=>new Promise(p=>{var m;a=y=>{(n||u())&&p(y)},(m=t.onPause)==null||m.call(t)}).then(()=>{var p;a=void 0,n||(p=t.onContinue)==null||p.call(t)}),g=()=>{if(n)return;let p;const m=r===0?t.initialPromise:void 0;try{p=m??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var j;if(n)return;const b=t.retry??(Au?0:3),v=t.retryDelay??ZZ,B=typeof v=="function"?v(r,y):v,_=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,y);if(e||!_){h(y);return}r++,(j=t.onFail)==null||j.call(t,r,y),GZ(B).then(()=>u()?void 0:f()).then(()=>{e?h(y):g()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:A,start:()=>(A()?g():f().then(g),i)}}var eee=t=>setTimeout(t,0);function tee(){let t=[],e=0,r=l=>{l()},n=l=>{l()},a=eee;const i=l=>{e?t.push(l):a(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Dn=tee(),qc,Z5,zQ=(Z5=class{constructor(){ft(this,qc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$C(this.gcTime)&&Ze(this,qc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Au?1/0:5*60*1e3))}clearGcTimeout(){te(this,qc)&&(clearTimeout(te(this,qc)),Ze(this,qc,void 0))}},qc=new WeakMap,Z5),WA,qA,cs,Xc,Gn,_p,Yc,Ds,Yi,eM,ree=(eM=class extends zQ{constructor(r){super();ft(this,Ds);ft(this,WA);ft(this,qA);ft(this,cs);ft(this,Xc);ft(this,Gn);ft(this,_p);ft(this,Yc);Ze(this,Yc,!1),Ze(this,_p,r.defaultOptions),this.setOptions(r.options),this.observers=[],Ze(this,Xc,r.client),Ze(this,cs,te(this,Xc).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,Ze(this,WA,nee(this.options)),this.state=r.state??te(this,WA),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=te(this,Gn))==null?void 0:r.promise}setOptions(r){this.options={...te(this,_p),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&te(this,cs).remove(this)}setData(r,n){const a=KC(this.state.data,r,this.options);return Mt(this,Ds,Yi).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){Mt(this,Ds,Yi).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,i;const n=(a=te(this,Gn))==null?void 0:a.promise;return(i=te(this,Gn))==null||i.cancel(r),n?n.then(Sa).catch(Sa):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(te(this,WA))}isActive(){return this.observers.some(r=>$s(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Cl(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!QQ(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Gn))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=te(this,Gn))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),te(this,cs).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(te(this,Gn)&&(te(this,Yc)?te(this,Gn).cancel({revert:!0}):te(this,Gn).cancelRetry()),this.scheduleGc()),te(this,cs).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Mt(this,Ds,Yi).call(this,{type:"invalidate"})}fetch(r,n){var A,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(te(this,Gn))return te(this,Gn).continueRetry(),te(this,Gn).promise}if(r&&this.setOptions(r),!this.options.queryFn){const f=this.observers.find(g=>g.options.queryFn);f&&this.setOptions(f.options)}const a=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ze(this,Yc,!0),a.signal)})},o=()=>{const f=$Q(this.options,n),p=(()=>{const m={client:te(this,Xc),queryKey:this.queryKey,meta:this.meta};return i(m),m})();return Ze(this,Yc,!1),this.options.persister?this.options.persister(f,p,this):f(p)},c=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:te(this,Xc),state:this.state,fetchFn:o};return i(f),f})();(A=this.options.behavior)==null||A.onFetch(c,this),Ze(this,qA,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&Mt(this,Ds,Yi).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta});const u=f=>{var g,p,m,y;n1(f)&&f.silent||Mt(this,Ds,Yi).call(this,{type:"error",error:f}),n1(f)||((p=(g=te(this,cs).config).onError)==null||p.call(g,f,this),(y=(m=te(this,cs).config).onSettled)==null||y.call(m,this.state.data,f,this)),this.scheduleGc()};return Ze(this,Gn,KQ({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:a.abort.bind(a),onSuccess:f=>{var g,p,m,y;if(f===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(b){u(b);return}(p=(g=te(this,cs).config).onSuccess)==null||p.call(g,f,this),(y=(m=te(this,cs).config).onSettled)==null||y.call(m,f,this.state.error,this),this.scheduleGc()},onError:u,onFail:(f,g)=>{Mt(this,Ds,Yi).call(this,{type:"failed",failureCount:f,error:g})},onPause:()=>{Mt(this,Ds,Yi).call(this,{type:"pause"})},onContinue:()=>{Mt(this,Ds,Yi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),te(this,Gn).start()}},WA=new WeakMap,qA=new WeakMap,cs=new WeakMap,Xc=new WeakMap,Gn=new WeakMap,_p=new WeakMap,Yc=new WeakMap,Ds=new WeakSet,Yi=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...GQ(a.data,this.options),fetchMeta:r.meta??null};case"success":return{...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=r.error;return n1(i)&&i.revert&&te(this,qA)?{...te(this,qA),fetchStatus:"idle"}:{...a,error:i,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),Dn.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),te(this,cs).notify({query:this,type:"updated",action:r})})},eM);function GQ(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:HQ(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nee(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ui,tM,aee=(tM=class extends Fp{constructor(e={}){super();ft(this,ui);this.config=e,Ze(this,ui,new Map)}build(e,r,n){const a=r.queryKey,i=r.queryHash??DS(a,r);let o=this.get(i);return o||(o=new ree({client:e,queryKey:a,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(a)}),this.add(o)),o}add(e){te(this,ui).has(e.queryHash)||(te(this,ui).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=te(this,ui).get(e.queryHash);r&&(e.destroy(),r===e&&te(this,ui).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return te(this,ui).get(e)}getAll(){return[...te(this,ui).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>qT(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>qT(e,n)):r}notify(e){Dn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ui=new WeakMap,tM),Ai,ca,Jc,di,Ko,rM,see=(rM=class extends zQ{constructor(r){super();ft(this,di);ft(this,Ai);ft(this,ca);ft(this,Jc);this.mutationId=r.mutationId,Ze(this,ca,r.mutationCache),Ze(this,Ai,[]),this.state=r.state||iee(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){te(this,Ai).includes(r)||(te(this,Ai).push(r),this.clearGcTimeout(),te(this,ca).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){Ze(this,Ai,te(this,Ai).filter(n=>n!==r)),this.scheduleGc(),te(this,ca).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){te(this,Ai).length||(this.state.status==="pending"?this.scheduleGc():te(this,ca).remove(this))}continue(){var r;return((r=te(this,Jc))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var o,l,c,u,A,d,h,f,g,p,m,y,b,v,B,_,j,C,E,N;const n=()=>{Mt(this,di,Ko).call(this,{type:"continue"})};Ze(this,Jc,KQ({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(S,k)=>{Mt(this,di,Ko).call(this,{type:"failed",failureCount:S,error:k})},onPause:()=>{Mt(this,di,Ko).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>te(this,ca).canRun(this)}));const a=this.state.status==="pending",i=!te(this,Jc).canStart();try{if(a)n();else{Mt(this,di,Ko).call(this,{type:"pending",variables:r,isPaused:i}),await((l=(o=te(this,ca).config).onMutate)==null?void 0:l.call(o,r,this));const k=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,r));k!==this.state.context&&Mt(this,di,Ko).call(this,{type:"pending",context:k,variables:r,isPaused:i})}const S=await te(this,Jc).start();return await((d=(A=te(this,ca).config).onSuccess)==null?void 0:d.call(A,S,r,this.state.context,this)),await((f=(h=this.options).onSuccess)==null?void 0:f.call(h,S,r,this.state.context)),await((p=(g=te(this,ca).config).onSettled)==null?void 0:p.call(g,S,null,this.state.variables,this.state.context,this)),await((y=(m=this.options).onSettled)==null?void 0:y.call(m,S,null,r,this.state.context)),Mt(this,di,Ko).call(this,{type:"success",data:S}),S}catch(S){try{throw await((v=(b=te(this,ca).config).onError)==null?void 0:v.call(b,S,r,this.state.context,this)),await((_=(B=this.options).onError)==null?void 0:_.call(B,S,r,this.state.context)),await((C=(j=te(this,ca).config).onSettled)==null?void 0:C.call(j,void 0,S,this.state.variables,this.state.context,this)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,void 0,S,r,this.state.context)),S}finally{Mt(this,di,Ko).call(this,{type:"error",error:S})}}finally{te(this,ca).runNext(this)}}},Ai=new WeakMap,ca=new WeakMap,Jc=new WeakMap,di=new WeakSet,Ko=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dn.batch(()=>{te(this,Ai).forEach(a=>{a.onMutationUpdate(r)}),te(this,ca).notify({mutation:this,type:"updated",action:r})})},rM);function iee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var to,Os,jp,nM,oee=(nM=class extends Fp{constructor(e={}){super();ft(this,to);ft(this,Os);ft(this,jp);this.config=e,Ze(this,to,new Set),Ze(this,Os,new Map),Ze(this,jp,0)}build(e,r,n){const a=new see({mutationCache:this,mutationId:++Ig(this,jp)._,options:e.defaultMutationOptions(r),state:n});return this.add(a),a}add(e){te(this,to).add(e);const r=Rg(e);if(typeof r=="string"){const n=te(this,Os).get(r);n?n.push(e):te(this,Os).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(te(this,to).delete(e)){const r=Rg(e);if(typeof r=="string"){const n=te(this,Os).get(r);if(n)if(n.length>1){const a=n.indexOf(e);a!==-1&&n.splice(a,1)}else n[0]===e&&te(this,Os).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Rg(e);if(typeof r=="string"){const n=te(this,Os).get(r),a=n==null?void 0:n.find(i=>i.state.status==="pending");return!a||a===e}else return!0}runNext(e){var n;const r=Rg(e);if(typeof r=="string"){const a=(n=te(this,Os).get(r))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dn.batch(()=>{te(this,to).forEach(e=>{this.notify({type:"removed",mutation:e})}),te(this,to).clear(),te(this,Os).clear()})}getAll(){return Array.from(te(this,to))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>XT(r,n))}findAll(e={}){return this.getAll().filter(r=>XT(e,r))}notify(e){Dn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Dn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Sa))))}},to=new WeakMap,Os=new WeakMap,jp=new WeakMap,nM);function Rg(t){var e;return(e=t.options.scope)==null?void 0:e.id}function ZT(t){return{onFetch:(e,r)=>{var A,d,h,f,g;const n=e.options,a=(h=(d=(A=e.fetchOptions)==null?void 0:A.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,i=((f=e.state.data)==null?void 0:f.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const m=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=$Q(e.options,e.fetchOptions),b=async(v,B,_)=>{if(p)return Promise.reject();if(B==null&&v.pages.length)return Promise.resolve(v);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:B,direction:_?"backward":"forward",meta:e.options.meta};return m(k),k})(),E=await y(C),{maxPages:N}=e.options,S=_?qZ:WZ;return{pages:S(v.pages,E,N),pageParams:S(v.pageParams,B,N)}};if(a&&i.length){const v=a==="backward",B=v?lee:eI,_={pages:i,pageParams:o},j=B(n,_);l=await b(_,j,v)}else{const v=t??i.length;do{const B=c===0?o[0]??n.initialPageParam:eI(n,l);if(c>0&&B==null)break;l=await b(l,B),c++}while(c<v)}return l};e.options.persister?e.fetchFn=()=>{var p,m;return(m=(p=e.options).persister)==null?void 0:m.call(p,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function eI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function lee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Qr,cl,ul,XA,YA,Al,JA,ZA,aM,cee=(aM=class{constructor(t={}){ft(this,Qr);ft(this,cl);ft(this,ul);ft(this,XA);ft(this,YA);ft(this,Al);ft(this,JA);ft(this,ZA);Ze(this,Qr,t.queryCache||new aee),Ze(this,cl,t.mutationCache||new oee),Ze(this,ul,t.defaultOptions||{}),Ze(this,XA,new Map),Ze(this,YA,new Map),Ze(this,Al,0)}mount(){Ig(this,Al)._++,te(this,Al)===1&&(Ze(this,JA,RS.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Qr).onFocus())})),Ze(this,ZA,wx.subscribe(async t=>{t&&(await this.resumePausedMutations(),te(this,Qr).onOnline())})))}unmount(){var t,e;Ig(this,Al)._--,te(this,Al)===0&&((t=te(this,JA))==null||t.call(this),Ze(this,JA,void 0),(e=te(this,ZA))==null||e.call(this),Ze(this,ZA,void 0))}isFetching(t){return te(this,Qr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return te(this,cl).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Qr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=te(this,Qr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Cl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return te(this,Qr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=te(this,Qr).get(n.queryHash),i=a==null?void 0:a.state.data,o=zZ(e,i);if(o!==void 0)return te(this,Qr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Dn.batch(()=>te(this,Qr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=te(this,Qr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=te(this,Qr);Dn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=te(this,Qr);return Dn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Dn.batch(()=>te(this,Qr).findAll(t).map(a=>a.cancel(r)));return Promise.all(n).then(Sa).catch(Sa)}invalidateQueries(t,e={}){return Dn.batch(()=>(te(this,Qr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Dn.batch(()=>te(this,Qr).findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Sa)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Sa)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=te(this,Qr).build(this,e);return r.isStaleByTime(Cl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Sa).catch(Sa)}fetchInfiniteQuery(t){return t.behavior=ZT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Sa).catch(Sa)}ensureInfiniteQueryData(t){return t.behavior=ZT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return wx.isOnline()?te(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return te(this,Qr)}getMutationCache(){return te(this,cl)}getDefaultOptions(){return te(this,ul)}setDefaultOptions(t){Ze(this,ul,t)}setQueryDefaults(t,e){te(this,XA).set(fm(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...te(this,XA).values()],r={};return e.forEach(n=>{mm(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){te(this,YA).set(fm(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...te(this,YA).values()],r={};return e.forEach(n=>{mm(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...te(this,ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=DS(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===OS&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...te(this,ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){te(this,Qr).clear(),te(this,cl).clear()}},Qr=new WeakMap,cl=new WeakMap,ul=new WeakMap,XA=new WeakMap,YA=new WeakMap,Al=new WeakMap,JA=new WeakMap,ZA=new WeakMap,aM),_a,Qt,Ep,ua,Zc,ed,dl,hl,Sp,td,rd,eu,tu,fl,nd,ir,wf,GC,WC,qC,XC,YC,JC,ZC,WQ,sM,uee=(sM=class extends Fp{constructor(e,r){super();ft(this,ir);ft(this,_a);ft(this,Qt);ft(this,Ep);ft(this,ua);ft(this,Zc);ft(this,ed);ft(this,dl);ft(this,hl);ft(this,Sp);ft(this,td);ft(this,rd);ft(this,eu);ft(this,tu);ft(this,fl);ft(this,nd,new Set);this.options=r,Ze(this,_a,e),Ze(this,hl,null),Ze(this,dl,zC()),this.options.experimental_prefetchInRender||te(this,dl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(te(this,Qt).addObserver(this),tI(te(this,Qt),this.options)?Mt(this,ir,wf).call(this):this.updateResult(),Mt(this,ir,XC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return e_(te(this,Qt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return e_(te(this,Qt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Mt(this,ir,YC).call(this),Mt(this,ir,JC).call(this),te(this,Qt).removeObserver(this)}setOptions(e){const r=this.options,n=te(this,Qt);if(this.options=te(this,_a).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $s(this.options.enabled,te(this,Qt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Mt(this,ir,ZC).call(this),te(this,Qt).setOptions(this.options),r._defaulted&&!HC(this.options,r)&&te(this,_a).getQueryCache().notify({type:"observerOptionsUpdated",query:te(this,Qt),observer:this});const a=this.hasListeners();a&&rI(te(this,Qt),n,this.options,r)&&Mt(this,ir,wf).call(this),this.updateResult(),a&&(te(this,Qt)!==n||$s(this.options.enabled,te(this,Qt))!==$s(r.enabled,te(this,Qt))||Cl(this.options.staleTime,te(this,Qt))!==Cl(r.staleTime,te(this,Qt)))&&Mt(this,ir,GC).call(this);const i=Mt(this,ir,WC).call(this);a&&(te(this,Qt)!==n||$s(this.options.enabled,te(this,Qt))!==$s(r.enabled,te(this,Qt))||i!==te(this,fl))&&Mt(this,ir,qC).call(this,i)}getOptimisticResult(e){const r=te(this,_a).getQueryCache().build(te(this,_a),e),n=this.createResult(r,e);return dee(this,n)&&(Ze(this,ua,n),Ze(this,ed,this.options),Ze(this,Zc,te(this,Qt).state)),n}getCurrentResult(){return te(this,ua)}trackResult(e,r){return new Proxy(e,{get:(n,a)=>(this.trackProp(a),r==null||r(a),Reflect.get(n,a))})}trackProp(e){te(this,nd).add(e)}getCurrentQuery(){return te(this,Qt)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=te(this,_a).defaultQueryOptions(e),n=te(this,_a).getQueryCache().build(te(this,_a),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Mt(this,ir,wf).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),te(this,ua)))}createResult(e,r){var N;const n=te(this,Qt),a=this.options,i=te(this,ua),o=te(this,Zc),l=te(this,ed),u=e!==n?e.state:te(this,Ep),{state:A}=e;let d={...A},h=!1,f;if(r._optimisticResults){const S=this.hasListeners(),k=!S&&tI(e,r),I=S&&rI(e,n,r,a);(k||I)&&(d={...d,...GQ(A.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:m}=d;f=d.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&m==="pending"){let S;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(S=i.data,y=!0):S=typeof r.placeholderData=="function"?r.placeholderData((N=te(this,rd))==null?void 0:N.state.data,te(this,rd)):r.placeholderData,S!==void 0&&(m="success",f=KC(i==null?void 0:i.data,S,r),h=!0)}if(r.select&&f!==void 0&&!y)if(i&&f===(o==null?void 0:o.data)&&r.select===te(this,Sp))f=te(this,td);else try{Ze(this,Sp,r.select),f=r.select(f),f=KC(i==null?void 0:i.data,f,r),Ze(this,td,f),Ze(this,hl,null)}catch(S){Ze(this,hl,S)}te(this,hl)&&(g=te(this,hl),f=te(this,td),p=Date.now(),m="error");const b=d.fetchStatus==="fetching",v=m==="pending",B=m==="error",_=v&&b,j=f!==void 0,E={status:m,fetchStatus:d.fetchStatus,isPending:v,isSuccess:m==="success",isError:B,isInitialLoading:_,isLoading:_,data:f,dataUpdatedAt:d.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:B&&!j,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:B&&j,isStale:US(e,r),refetch:this.refetch,promise:te(this,dl)};if(this.options.experimental_prefetchInRender){const S=T=>{E.status==="error"?T.reject(E.error):E.data!==void 0&&T.resolve(E.data)},k=()=>{const T=Ze(this,dl,E.promise=zC());S(T)},I=te(this,dl);switch(I.status){case"pending":e.queryHash===n.queryHash&&S(I);break;case"fulfilled":(E.status==="error"||E.data!==I.value)&&k();break;case"rejected":(E.status!=="error"||E.error!==I.reason)&&k();break}}return E}updateResult(){const e=te(this,ua),r=this.createResult(te(this,Qt),this.options);if(Ze(this,Zc,te(this,Qt).state),Ze(this,ed,this.options),te(this,Zc).data!==void 0&&Ze(this,rd,te(this,Qt)),HC(r,e))return;Ze(this,ua,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,i=typeof a=="function"?a():a;if(i==="all"||!i&&!te(this,nd).size)return!0;const o=new Set(i??te(this,nd));return this.options.throwOnError&&o.add("error"),Object.keys(te(this,ua)).some(l=>{const c=l;return te(this,ua)[c]!==e[c]&&o.has(c)})};Mt(this,ir,WQ).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Mt(this,ir,XC).call(this)}},_a=new WeakMap,Qt=new WeakMap,Ep=new WeakMap,ua=new WeakMap,Zc=new WeakMap,ed=new WeakMap,dl=new WeakMap,hl=new WeakMap,Sp=new WeakMap,td=new WeakMap,rd=new WeakMap,eu=new WeakMap,tu=new WeakMap,fl=new WeakMap,nd=new WeakMap,ir=new WeakSet,wf=function(e){Mt(this,ir,ZC).call(this);let r=te(this,Qt).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Sa)),r},GC=function(){Mt(this,ir,YC).call(this);const e=Cl(this.options.staleTime,te(this,Qt));if(Au||te(this,ua).isStale||!$C(e))return;const n=QQ(te(this,ua).dataUpdatedAt,e)+1;Ze(this,eu,setTimeout(()=>{te(this,ua).isStale||this.updateResult()},n))},WC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(te(this,Qt)):this.options.refetchInterval)??!1},qC=function(e){Mt(this,ir,JC).call(this),Ze(this,fl,e),!(Au||$s(this.options.enabled,te(this,Qt))===!1||!$C(te(this,fl))||te(this,fl)===0)&&Ze(this,tu,setInterval(()=>{(this.options.refetchIntervalInBackground||RS.isFocused())&&Mt(this,ir,wf).call(this)},te(this,fl)))},XC=function(){Mt(this,ir,GC).call(this),Mt(this,ir,qC).call(this,Mt(this,ir,WC).call(this))},YC=function(){te(this,eu)&&(clearTimeout(te(this,eu)),Ze(this,eu,void 0))},JC=function(){te(this,tu)&&(clearInterval(te(this,tu)),Ze(this,tu,void 0))},ZC=function(){const e=te(this,_a).getQueryCache().build(te(this,_a),this.options);if(e===te(this,Qt))return;const r=te(this,Qt);Ze(this,Qt,e),Ze(this,Ep,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},WQ=function(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(te(this,ua))}),te(this,_a).getQueryCache().notify({query:te(this,Qt),type:"observerResultsUpdated"})})},sM);function Aee(t,e){return $s(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tI(t,e){return Aee(t,e)||t.state.data!==void 0&&e_(t,e,e.refetchOnMount)}function e_(t,e,r){if($s(e.enabled,t)!==!1&&Cl(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&US(t,e)}return!1}function rI(t,e,r,n){return(t!==e||$s(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&US(t,r)}function US(t,e){return $s(e.enabled,t)!==!1&&t.isStaleByTime(Cl(e.staleTime,t))}function dee(t,e){return!HC(t.getCurrentResult(),e)}var qQ=x.createContext(void 0),XQ=t=>{const e=x.useContext(qQ);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},hee=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(qQ.Provider,{value:t,children:e})),YQ=x.createContext(!1),fee=()=>x.useContext(YQ);YQ.Provider;function mee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var pee=x.createContext(mee()),gee=()=>x.useContext(pee),xee=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vee=t=>{x.useEffect(()=>{t.clearReset()},[t])},yee=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:a})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(a&&t.data===void 0||XZ(r,[t.error,n])),bee=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},wee=(t,e)=>t.isLoading&&t.isFetching&&!e,Bee=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,nI=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Cee(t,e,r){var d,h,f,g,p;const n=fee(),a=gee(),i=XQ(),o=i.defaultQueryOptions(t);(h=(d=i.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=n?"isRestoring":"optimistic",bee(o),xee(o,a),vee(a);const l=!i.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(i,o)),u=c.getOptimisticResult(o),A=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(m=>{const y=A?c.subscribe(Dn.batchCalls(m)):Sa;return c.updateResult(),y},[c,A]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),Bee(o,u))throw nI(o,c,a);if(yee({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;if((g=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,u),o.experimental_prefetchInRender&&!Au&&wee(u,n)){const m=l?nI(o,c,a):(p=i.getQueryCache().get(o.queryHash))==null?void 0:p.promise;m==null||m.catch(Sa).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function _ee(t,e){return Cee(t,uee)}const jee="modulepreload",Eee=function(t){return"/"+t},aI={},Dp=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Eee(c),c in aI)return;aI[c]=!0;const u=c.endsWith(".css"),A=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${A}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":jee,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},See=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dp(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class MS extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Nee extends MS{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kee extends MS{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Tee extends MS{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var t_;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(t_||(t_={}));var Iee=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Pee{constructor(e,{headers:r={},customFetch:n,region:a=t_.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=See(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Iee(this,void 0,void 0,function*(){try{const{headers:a,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const A=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:u}).catch(g=>{throw new Nee(g)}),d=A.headers.get("x-relay-error");if(d&&d==="true")throw new kee(A);if(!A.ok)throw new Tee(A);let h=((n=A.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return h==="application/json"?f=yield A.json():h==="application/octet-stream"?f=yield A.blob():h==="text/event-stream"?f=A:h==="multipart/form-data"?f=yield A.formData():f=yield A.text(),{data:f,error:null}}catch(a){return{data:null,error:a}}})}}var ka={},QS={},Ry={},Op={},Uy={},My={},Fee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ld=Fee();const Dee=ld.fetch,JQ=ld.fetch.bind(ld),ZQ=ld.Headers,Oee=ld.Request,Ree=ld.Response,oh=Object.freeze(Object.defineProperty({__proto__:null,Headers:ZQ,Request:Oee,Response:Ree,default:JQ,fetch:Dee},Symbol.toStringTag,{value:"Module"})),Uee=oM(oh);var Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});let Mee=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Qy.default=Mee;var e3=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(My,"__esModule",{value:!0});const Qee=e3(Uee),Lee=e3(Qy);let $ee=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Qee.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,A=null,d=null,h=i.status,f=i.statusText;if(i.ok){if(this.method!=="HEAD"){const y=await i.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?A=y:A=JSON.parse(y))}const p=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),m=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");p&&m&&m.length>1&&(d=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(u={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,d=null,h=406,f="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const p=await i.text();try{u=JSON.parse(p),Array.isArray(u)&&i.status===404&&(A=[],u=null,h=200,f="OK")}catch{i.status===404&&p===""?(h=204,f="No Content"):u={message:p}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,f="OK"),u&&this.shouldThrowOnError)throw new Lee.default(u)}return{error:u,data:A,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(a=a.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(e,r)}returns(){return this}overrideTypes(){return this}};My.default=$ee;var Hee=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uy,"__esModule",{value:!0});const Vee=Hee(My);let Kee=class extends Vee.default{select(e){let r=!1;const n=(e??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:a,referencedTable:i=a}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:a=n}={}){const i=typeof a>"u"?"offset":`${a}.offset`,o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:a=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,a?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Uy.default=Kee;var zee=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Op,"__esModule",{value:!0});const Gee=zee(Uy);let Wee=class extends Gee.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:a}={}){let i="";a==="plain"?i="pl":a==="phrase"?i="ph":a==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const a=n?`${n}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Op.default=Wee;var qee=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ry,"__esModule",{value:!0});const Kh=qee(Op);let Xee=class{constructor(e,{headers:r={},schema:n,fetch:a}){this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e,{head:r=!1,count:n}={}){const a=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Kh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const a="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Kh.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:a,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const c=e.reduce((u,A)=>u.concat(Object.keys(A)),[]);if(c.length>0){const u=[...new Set(c)].map(A=>`"${A}"`);this.url.searchParams.set("columns",u.join(","))}}return new Kh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),this.headers.Prefer=a.join(","),new Kh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Kh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ry.default=Xee;var Ly={},$y={};Object.defineProperty($y,"__esModule",{value:!0});$y.version=void 0;$y.version="0.0.0-automated";Object.defineProperty(Ly,"__esModule",{value:!0});Ly.DEFAULT_HEADERS=void 0;const Yee=$y;Ly.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yee.version}`};var t3=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(QS,"__esModule",{value:!0});const Jee=t3(Ry),Zee=t3(Op),ete=Ly;let tte=class r3{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=Object.assign(Object.assign({},ete.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=a}from(e){const r=new URL(`${this.url}/${e}`);return new Jee.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new r3(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let c;n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([A,d])=>d!==void 0).map(([A,d])=>[A,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([A,d])=>{l.searchParams.append(A,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Zee.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};QS.default=tte;var lh=st&&st.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ka,"__esModule",{value:!0});ka.PostgrestError=ka.PostgrestBuilder=ka.PostgrestTransformBuilder=ka.PostgrestFilterBuilder=ka.PostgrestQueryBuilder=ka.PostgrestClient=void 0;const n3=lh(QS);ka.PostgrestClient=n3.default;const a3=lh(Ry);ka.PostgrestQueryBuilder=a3.default;const s3=lh(Op);ka.PostgrestFilterBuilder=s3.default;const i3=lh(Uy);ka.PostgrestTransformBuilder=i3.default;const o3=lh(My);ka.PostgrestBuilder=o3.default;const l3=lh(Qy);ka.PostgrestError=l3.default;var rte=ka.default={PostgrestClient:n3.default,PostgrestQueryBuilder:a3.default,PostgrestFilterBuilder:s3.default,PostgrestTransformBuilder:i3.default,PostgrestBuilder:o3.default,PostgrestError:l3.default};const{PostgrestClient:nte,PostgrestQueryBuilder:bKe,PostgrestFilterBuilder:wKe,PostgrestTransformBuilder:BKe,PostgrestBuilder:CKe,PostgrestError:_Ke}=rte;let r_;typeof window>"u"?r_=require("ws"):r_=window.WebSocket;const ate="2.11.10",ste={"X-Client-Info":`realtime-js/${ate}`},ite="1.0.0",c3=1e4,ote=1e3;var FA;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(FA||(FA={}));var la;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(la||(la={}));var Rs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rs||(Rs={}));var n_;(function(t){t.websocket="websocket"})(n_||(n_={}));var Pc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pc||(Pc={}));class lte{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+a));o=o+a;const c=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class u3{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Cr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Cr||(Cr={}));const sI=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=cte(o,t,e,a),i),{})},cte=(t,e,r,n)=>{const a=e.find(l=>l.name===t),i=a==null?void 0:a.type,o=r[t];return i&&!n.includes(i)?A3(i,o):a_(o)},A3=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return hte(e,r)}switch(t){case Cr.bool:return ute(e);case Cr.float4:case Cr.float8:case Cr.int2:case Cr.int4:case Cr.int8:case Cr.numeric:case Cr.oid:return Ate(e);case Cr.json:case Cr.jsonb:return dte(e);case Cr.timestamp:return fte(e);case Cr.abstime:case Cr.date:case Cr.daterange:case Cr.int4range:case Cr.int8range:case Cr.money:case Cr.reltime:case Cr.text:case Cr.time:case Cr.timestamptz:case Cr.timetz:case Cr.tsrange:case Cr.tstzrange:return a_(e);default:return a_(e)}},a_=t=>t,ute=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ate=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},dte=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},hte=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>A3(e,l))}return t},fte=t=>typeof t=="string"?t.replace(" ","T"):t,d3=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class a1{constructor(e,r,n={},a=c3){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var iI;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(iI||(iI={}));class Uf{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Uf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Uf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Uf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,A)=>{o[u]||(c[u]=A)}),this.map(o,(u,A)=>{const d=i[u];if(d){const h=A.map(m=>m.presence_ref),f=d.map(m=>m.presence_ref),g=A.filter(m=>f.indexOf(m.presence_ref)<0),p=d.filter(m=>h.indexOf(m.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=A}),this.syncDiff(i,{joins:l,leaves:c},n,a)}static syncDiff(e,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const A=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),A.length>0){const d=e[l].map(f=>f.presence_ref),h=A.filter(f=>d.indexOf(f.presence_ref)<0);e[l].unshift(...h)}n(l,A,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const A=c.map(d=>d.presence_ref);u=u.filter(d=>A.indexOf(d.presence_ref)<0),e[l]=u,a(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var oI;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(oI||(oI={}));var lI;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(lI||(lI={}));var Zi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zi||(Zi={}));class LS{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=la.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new a1(this,Rs.join,this.params,this.timeout),this.rejoinTimer=new u3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=la.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=la.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=la.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=la.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rs.reply,{},(a,i)=>{this._trigger(this._replyEventName(i),a)}),this.presence=new Uf(this),this.broadcastEndpointURL=d3(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(A=>e==null?void 0:e(Zi.CHANNEL_ERROR,A)),this._onClose(()=>e==null?void 0:e(Zi.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(A=>A.filter))!==null&&a!==void 0?a:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:A})=>{var d;if(this.socket.setAuth(),A===void 0){e==null||e(Zi.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,f=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,g=[];for(let p=0;p<f;p++){const m=h[p],{filter:{event:y,schema:b,table:v,filter:B}}=m,_=A&&A[p];if(_&&_.event===y&&_.schema===b&&_.table===v&&_.filter===B)g.push(Object.assign(Object.assign({},m),{id:_.id}));else{this.unsubscribe(),this.state=la.errored,e==null||e(Zi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Zi.SUBSCRIBED);return}}).receive("error",A=>{this.state=la.errored,e==null||e(Zi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=la.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rs.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const a=new a1(this,Rs.leave,{},e);a.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new a1(this,e,r,n);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:A}=Rs;if(n&&[l,c,u,A].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(f=>{var g,p,m;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((m=(p=f.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===o}).map(f=>f.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var g,p,m,y,b,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const B=f.id,_=(g=f.filter)===null||g===void 0?void 0:g.event;return B&&((p=r.ids)===null||p===void 0?void 0:p.includes(B))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((m=r.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const B=(b=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return B==="*"||B===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:m,commit_timestamp:y,type:b,errors:v}=g;h=Object.assign(Object.assign({},{schema:p,table:m,commit_timestamp:y,eventType:b,new:{},old:{},errors:v}),this._getPayloadRecords(g))}f.callback(h,n)})}_isClosed(){return this.state===la.closed}_isJoined(){return this.state===la.joined}_isJoining(){return this.state===la.joining}_isLeaving(){return this.state===la.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&LS.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rs.close,{},e)}_onError(e){this._on(Rs.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=la.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=sI(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=sI(e.columns,e.old_record)),r}}const cI=()=>{},mte=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pte{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ste,this.params={},this.timeout=c3,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cI,this.ref=0,this.logger=cI,this.conn=null,this.sendBuffer=[],this.serializer=new lte,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Dp(async()=>{const{default:c}=await Promise.resolve().then(()=>oh);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${n_.websocket}`,this.httpEndpoint=d3(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new u3(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=r_),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new gte(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ite}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case FA.connecting:return Pc.Connecting;case FA.open:return Pc.Open;case FA.closing:return Pc.Closing;default:return Pc.Closed}}isConnected(){return this.connectionState()===Pc.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new LS(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:a,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{r&&n.updateJoinPayload({access_token:r,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(Rs.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(ote,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:a,payload:i,ref:o}=r;n==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${a} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(a,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rs.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([mte],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class gte{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=FA.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class $S extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function mn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class xte extends $S{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class s_ extends $S{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var vte=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const h3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dp(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},yte=()=>vte(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dp(()=>Promise.resolve().then(()=>oh),void 0)).Response:Response}),i_=t=>{if(Array.isArray(t))return t.map(r=>i_(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[a]=i_(n)}),e};var Iu=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const s1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),bte=(t,e,r)=>Iu(void 0,void 0,void 0,function*(){const n=yield yte();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(a=>{e(new xte(s1(a),t.status||500))}).catch(a=>{e(new s_(s1(a),a))}):e(new s_(s1(t),t))}),wte=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))};function Rp(t,e,r,n,a,i){return Iu(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,wte(e,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>bte(c,l,n))})})}function Bx(t,e,r,n){return Iu(this,void 0,void 0,function*(){return Rp(t,"GET",e,r,n)})}function Yo(t,e,r,n,a){return Iu(this,void 0,void 0,function*(){return Rp(t,"POST",e,n,a,r)})}function Bte(t,e,r,n,a){return Iu(this,void 0,void 0,function*(){return Rp(t,"PUT",e,n,a,r)})}function Cte(t,e,r,n){return Iu(this,void 0,void 0,function*(){return Rp(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function f3(t,e,r,n,a){return Iu(this,void 0,void 0,function*(){return Rp(t,"DELETE",e,n,a,r)})}var Ba=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const _te={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jte{constructor(e,r={},n,a){this.url=e,this.headers=r,this.bucketId=n,this.fetch=h3(a)}uploadOrUpdate(e,r,n,a){return Ba(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},uI),a);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),A=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${A}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(mn(i))return{data:null,error:i};throw i}})}upload(e,r,n){return Ba(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,a){return Ba(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:uI.upsert},a),A=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,A["cache-control"]=`max-age=${u.cacheControl}`,A["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:A}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(mn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ba(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Yo(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new $S("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ba(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ba(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}copy(e,r,n){return Ba(this,void 0,void 0,function*(){try{return{data:{path:(yield Yo(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,n){return Ba(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),i=yield Yo(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,n){return Ba(this,void 0,void 0,function*(){try{const a=yield Yo(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}download(e,r){return Ba(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Bx(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(mn(l))return{data:null,error:l};throw l}})}info(e){return Ba(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Bx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:i_(n),error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}})}exists(e){return Ba(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Cte(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(mn(n)&&n instanceof s_){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Ba(this,void 0,void 0,function*(){try{return{data:yield f3(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ba(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},_te),r),{prefix:e||""});return{data:yield Yo(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(mn(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Ete="2.7.1",Ste={"X-Client-Info":`storage-js/${Ete}`};var zu=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Nte{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ste),r),this.fetch=h3(n)}listBuckets(){return zu(this,void 0,void 0,function*(){try{return{data:yield Bx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(mn(e))return{data:null,error:e};throw e}})}getBucket(e){return zu(this,void 0,void 0,function*(){try{return{data:yield Bx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return zu(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return zu(this,void 0,void 0,function*(){try{return{data:yield Bte(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(mn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return zu(this,void 0,void 0,function*(){try{return{data:yield Yo(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return zu(this,void 0,void 0,function*(){try{return{data:yield f3(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(mn(r))return{data:null,error:r};throw r}})}}class kte extends Nte{constructor(e,r={},n){super(e,r,n)}from(e){return new jte(this.url,this.headers,e,this.fetch)}}const Tte="2.50.0";let Bf="";typeof Deno<"u"?Bf="deno":typeof document<"u"?Bf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bf="react-native":Bf="node";const Ite={"X-Client-Info":`supabase-js-${Bf}/${Tte}`},Pte={headers:Ite},Fte={schema:"public"},Dte={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ote={};var Rte=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Ute=t=>{let e;return t?e=t:typeof fetch>"u"?e=JQ:e=fetch,(...r)=>e(...r)},Mte=()=>typeof Headers>"u"?ZQ:Headers,Qte=(t,e,r)=>{const n=Ute(r),a=Mte();return(i,o)=>Rte(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Lte=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function $te(t){return t.endsWith("/")?t:t+"/"}function Hte(t,e){var r,n;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:A,global:d}=e,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},A),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Lte(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const m3="2.70.0",vA=30*1e3,o_=3,i1=o_*vA,Vte="http://localhost:9999",Kte="supabase.auth.token",zte={"X-Client-Info":`gotrue-js/${m3}`},l_="X-Supabase-Api-Version",p3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gte=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wte=6e5;class HS extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Bt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class qte extends HS{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Xte(t){return Bt(t)&&t.name==="AuthApiError"}class g3 extends HS{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jl extends HS{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class zo extends Jl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yte(t){return Bt(t)&&t.name==="AuthSessionMissingError"}class Ug extends Jl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mg extends Jl{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Qg extends Jl{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jte(t){return Bt(t)&&t.name==="AuthImplicitGrantRedirectError"}class AI extends Jl{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class c_ extends Jl{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function o1(t){return Bt(t)&&t.name==="AuthRetryableFetchError"}class dI extends Jl{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Mf extends Jl{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hI=` 	
\r=`.split(""),Zte=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<hI.length;e+=1)t[hI[e].charCodeAt(0)]=-2;for(let e=0;e<Cx.length;e+=1)t[Cx[e].charCodeAt(0)]=e;return t})();function fI(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cx[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cx[n]),e.queuedBits-=6}}function x3(t,e,r){const n=Zte[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function mI(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{rre(o,n,r)};for(let o=0;o<t.length;o+=1)x3(t.charCodeAt(o),a,i);return e.join("")}function ere(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tre(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ere(n,e)}}function rre(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nre(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)x3(t.charCodeAt(a),r,n);return new Uint8Array(e)}function are(t){const e=[];return tre(t,r=>e.push(r)),new Uint8Array(e)}function sre(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>fI(a,r,n)),fI(null,r,n),e.join("")}function ire(t){return Math.round(Date.now()/1e3)+t}function ore(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Is=()=>typeof window<"u"&&typeof document<"u",mc={tested:!1,writable:!1},Qf=()=>{if(!Is())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mc.tested)return mc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),mc.tested=!0,mc.writable=!0}catch{mc.tested=!0,mc.writable=!1}return mc.writable};function lre(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{e[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const v3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Dp(async()=>{const{default:n}=await Promise.resolve().then(()=>oh);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},cre=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",y3=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Lg=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},$g=async(t,e)=>{await t.removeItem(e)};let b3=class w3{constructor(){this.promise=new w3.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};b3.promiseConstructor=Promise;function l1(t){const e=t.split(".");if(e.length!==3)throw new Mf("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Gte.test(e[n]))throw new Mf("JWT not in base64url format");return{header:JSON.parse(mI(e[0])),payload:JSON.parse(mI(e[1])),signature:nre(e[2]),raw:{header:e[0],payload:e[1]}}}async function ure(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Are(t,e){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){a(o);return}}})()})}function dre(t){return("0"+t.toString(16)).substr(-2)}function hre(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,dre).join("")}async function fre(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function mre(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await fre(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gu(t,e,r=!1){const n=hre();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await y3(t,`${e}-code-verifier`,a);const i=await mre(n);return[i,n===i?"plain":"s256"]}const pre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gre(t){const e=t.headers.get(l_);if(!e||!e.match(pre))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function xre(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function vre(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yre=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wu(t){if(!yre.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var bre=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};const Bc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),wre=[502,503,504];async function pI(t){var e;if(!cre(t))throw new c_(Bc(t),0);if(wre.includes(t.status))throw new c_(Bc(t),t.status);let r;try{r=await t.json()}catch(i){throw new g3(Bc(i),i)}let n;const a=gre(t);if(a&&a.getTime()>=p3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new dI(Bc(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new zo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new dI(Bc(r),t.status,r.weak_password.reasons);throw new qte(Bc(r),t.status||500,n)}const Bre=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function It(t,e,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[l_]||(i[l_]=p3["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Cre(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Cre(t,e,r,n,a,i){const o=Bre(e,n,a,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new c_(Bc(c),0)}if(l.ok||await pI(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await pI(c)}}function Ji(t){var e;let r=null;Sre(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ire(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function gI(t){const e=Ji(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function tl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _re(t){return{data:t,error:null}}function jre(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=t,o=bre(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ere(t){return t}function Sre(t){return t.access_token&&t.refresh_token&&t.expires_in}const c1=["global","local","others"];var Nre=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r};class kre{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=v3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=c1[0]){if(c1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${c1.join(", ")}`);try{return await It(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await It(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:tl})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Nre(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await It(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:jre,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Bt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await It(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},A=await It(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:Ere});if(A.error)throw A.error;const d=await A.json(),h=(o=A.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=A.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(g.split(";")[1].split("=")[1]);u[`${m}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(Bt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Wu(e);try{return await It(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tl})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Wu(e);try{return await It(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:tl})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Wu(e);try{return await It(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:tl})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wu(e.userId);try{const{data:r,error:n}=await It(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Wu(e.userId),Wu(e.id);try{return{data:await It(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}const Tre={getItem:t=>Qf()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Qf()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Qf()&&globalThis.localStorage.removeItem(t)}};function xI(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ire(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const qu={debug:!!(globalThis&&Qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pre extends B3{}async function Fre(t,e,r){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),qu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw qu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pre(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ire();const Dre={url:Vte,storageKey:Kte,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vI(t,e,r){return await r()}class pm{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=pm.nextInstanceID,pm.nextInstanceID+=1,this.instanceID>0&&Is()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Dre),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new kre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=v3(a.fetch),this.lock=a.lock||vI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Is()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Fre:this.lock=vI,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Qf()?this.storage=Tre:(this.memoryStorage={},this.storage=xI(this.memoryStorage)):(this.memoryStorage={},this.storage=xI(this.memoryStorage)),Is()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m3}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=lre(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Is()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Jte(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Bt(r)?{error:r}:{error:new g3("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ji}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,a;try{let i;if("email"in e){const{email:A,password:d,options:h}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Gu(this.storage,this.storageKey)),i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:A,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:g},xform:Ji})}else if("phone"in e){const{phone:A,password:d,options:h}=e;i=await It(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:A,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ji})}else throw new Mg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gI})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await It(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:gI})}else throw new Mg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ug}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,a,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,a,i,o,l,c,u,A,d,h,f;let g,p;if("message"in e)g=e.message,p=e.signature;else{const{chain:m,wallet:y,statement:b,options:v}=e;let B;if(Is())if(typeof y=="object")B=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))B=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");B=y}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in B&&B.signIn){const j=await B.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),b?{statement:b}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)g=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),p=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in B)||typeof B.signMessage!="function"||!("publicKey"in B)||typeof B!="object"||!B.publicKey||!("toBase58"in B.publicKey)||typeof B.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,B.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((d=(A=v==null?void 0:v.signInWithSolana)===null||A===void 0?void 0:A.resources)===null||d===void 0)&&d.length?["Resources",...v.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await B.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:m,error:y}=await It(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:sre(p)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ji});if(y)throw y;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ug}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:y})}catch(m){if(Bt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(e){const r=await Lg(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await It(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ji});if(await $g(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ug}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(Bt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=e,l=await It(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ji}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ug}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,a,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,A=null;this.flowType==="pkce"&&([u,A]=await Gu(this.storage,this.storageKey));const{error:d}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:A},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:A}=await It(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:A}}throw new Mg("You must provide either an email or phone number.")}catch(l){if(Bt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let a,i;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Ji});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Bt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gu(this.storage,this.storageKey)),await It(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:_re})}catch(i){if(Bt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new zo;const{error:a}=await It(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(Bt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:i}=e,{error:o}=await It(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:a,options:i}=e,{data:o,error:l}=await It(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Mg("You must provide either an email or phone number and a type")}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Lg(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<i1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,A)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,A))})}return{data:{session:e},error:null}}const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zo}:await It(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:tl})})}catch(r){if(Bt(r))return Yte(r)&&(await this._removeSession(),await $g(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new zo;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Gu(this.storage,this.storageKey));const{data:u,error:A}=await It(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:tl});if(A)throw A;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=l1(e.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(Bt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new zo;const{session:a,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Bt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Is())throw new Qg("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Qg(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new AI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new AI("No code detected.");const{data:b,error:v}=await this._exchangeCodeForSession(e.code);if(v)throw v;const B=new URL(window.location.href);return B.searchParams.delete("code"),window.history.replaceState(window.history.state,"",B.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Qg("No session defined in URL");const A=Math.round(Date.now()/1e3),d=parseInt(l);let h=A+d;c&&(h=parseInt(c));const f=h-A;f*1e3<=vA&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const g=h-d;A-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,A):A-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,A);const{data:p,error:m}=await this._getUser(i);if(m)throw m;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(n){if(Bt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Lg(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Xte(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await $g(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ore(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gu(this.storage,this.storageKey,!0));try{return await It(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(Bt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,c,u,A;const{data:d,error:h}=i;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await It(this.fetch,"GET",f,{headers:this.headers,jwt:(A=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&A!==void 0?A:void 0})});if(a)throw a;return Is()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Bt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await It(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Are(async a=>(a>0&&await ure(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await It(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ji})),(a,i)=>{const o=200*Math.pow(2,a);return i&&o1(i)&&Date.now()+o-n<vA})}catch(n){if(this._debug(r,"error",n),Bt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Is()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Lg(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const a=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<i1;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${i1}s`),a){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),o1(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new b3;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new zo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),Bt(i)){const o={session:null,error:i};return o1(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await y3(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await $g(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Is()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),vA);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/vA);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${vA}ms, refresh threshold is ${o_} ticks`),a<=o_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof B3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Is()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gu(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await It(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await It(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await It(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Bt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],a=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:a,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:a},error:i}=e;if(i)return{data:null,error:i};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=l1(a.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=a.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const A=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:A},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+Wte>Date.now()))return n;const{data:a,error:i}=await It(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!a.keys||a.keys.length===0)throw new Mf("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),n=a.keys.find(o=>o.kid===e),!n)throw new Mf("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:f,error:g}=await this.getSession();if(g||!f.session)return{data:null,error:g};n=f.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=l1(n);if(xre(i.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:a,signature:o},error:null}}const u=vre(a.alg),A=await this.fetchJwk(a.kid,r),d=await crypto.subtle.importKey("jwk",A,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,are(`${l}.${c}`)))throw new Mf("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}}pm.nextInstanceID=0;const Ore=pm;class Rre extends Ore{constructor(e){super(e)}}var Ure=function(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Mre{constructor(e,r,n){var a,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=$te(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,A={db:Fte,realtime:Ote,auth:Object.assign(Object.assign({},Dte),{storageKey:u}),global:Pte},d=Hte(n??{},A);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Qte(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new nte(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Pee(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kte(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ure(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,storageKey:i,flowType:o,lock:l,debug:c},u,A){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rre({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:a,flowType:o,lock:l,debug:c,fetch:A,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new pte(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qre=(t,e,r)=>new Mre(t,e,r),Lre="https://vpztrjwitxvldrdhndlr.supabase.co",$re="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",Z=Qre(Lre,$re,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});Z.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),Z.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const pc={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class Hre{constructor(){$h(this,"settings",null);$h(this,"lastFetchTime",0);$h(this,"CACHE_DURATION_MS",5*60*1e3);$h(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await Z.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const a=this.getFromLocalStorage();return a?(this.settings=a,this.lastFetchTime=e,a):(this.settings=pc,this.lastFetchTime=e,pc)}if(r&&r.value){const a=r.value;return this.settings=a,this.lastFetchTime=e,this.saveToLocalStorage(a),a}return this.settings=pc,this.lastFetchTime=e,pc}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=pc,this.lastFetchTime=e,pc}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await Z.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],a=e||new Date,i=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(a);console.debug(`Waktu Jakarta (WIB): ${i}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=i.split(",")[0],c=o[l]||n[a.getDay()],u=i.match(/(\d{1,2})\.(\d{2})/);let A=a.getHours(),d=a.getMinutes();u&&u.length>=3&&(A=parseInt(u[1],10),d=parseInt(u[2],10)),(isNaN(A)||isNaN(d))&&(A=(a.getUTCHours()+7)%24,d=a.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${A}:${d.toString().padStart(2,"0")}`);const h=r.workingDays.find(_=>_.day===c);if(!h||!h.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[f,g]=h.openTime.split(":").map(Number),[p,m]=h.closeTime.split(":").map(Number),y=A*60+d,b=f*60+g,v=p*60+m;console.debug(`Jam buka: ${f}:${g.toString().padStart(2,"0")} (${b} menit)`),console.debug(`Jam tutup: ${p}:${m.toString().padStart(2,"0")} (${v} menit)`),console.debug(`Waktu saat ini: ${A}:${d.toString().padStart(2,"0")} (${y} menit)`);let B=!1;return v<b?(B=y>=b||y<=v,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${B?"BUKA":"TUTUP"}`)):(B=y>=b&&y<=v,console.debug(`Mode operasi: NORMAL, status: ${B?"BUKA":"TUTUP"}`)),B}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const a=new Date,i=new Date(a);i.setDate(i.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[a.getDay()],u=o[i.getDay()],A=r.workingDays.find(f=>f.day===c),d=r.workingDays.find(f=>f.day===u);let h=r.offWorkMessage;if(A&&A.isActive){const[f,g]=A.openTime.split(":").map(Number),p=a.getHours(),m=a.getMinutes(),y=p*60+m,b=f*60+g;y<b&&(h+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(A.openTime)}.`)}else if(d&&d.isActive)h+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(d.openTime)}.`;else{let f=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(f){const g=this.getIndonesianDayName(f.day),p=this.formatTimeIndonesia(f.openTime);h+=` Kami akan buka kembali pada hari ${g} pukul ${p} WIB.`}}return{isOpen:!1,message:h}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const a=n%e.length;if(e[a].isActive)return e[a]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(pc)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const Cc=new Hre,Hy=th("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=x.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...a},i)=>{const o=n?dM:"button";return s.jsx(o,{className:fe(Hy({variant:e,size:r,className:t})),ref:i,...a})});G.displayName="Button";function Vre(){const[t,e]=x.useState(!1),[r,n]=x.useState(""),[a,i]=x.useState(!0),[o,l]=x.useState(""),[c,u]=x.useState(0),[A,d]=x.useState(""),h=x.useCallback(async()=>{i(!0),d("");try{const f=new Date,g=`${f.getHours()}:${f.getMinutes().toString().padStart(2,"0")}`;l(g),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${g}`);const p=await Cc.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${p.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${p.message}`),e(!p.isOpen),n(p.message),u(m=>m+1)}catch(f){console.error("[BusinessHoursOverlay] Error checking business hours:",f),d("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{i(!1)}},[]);return x.useEffect(()=>{h();const f=setInterval(h,6e4);return()=>clearInterval(f)},[h]),a||!t?null:s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[s.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:s.jsx(ad,{className:"h-10 w-10 text-amber-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),s.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(lm,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),s.jsx("p",{className:"text-gray-700",children:r})]})}),A&&s.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:s.jsx("p",{className:"text-red-600 text-sm",children:A})}),s.jsxs("div",{className:"flex flex-col space-y-4",children:[s.jsxs(G,{variant:"outline",onClick:h,className:"w-full flex items-center justify-center",disabled:a,children:[s.jsx(cm,{className:"h-4 w-4 mr-2"}),a?"Memuat...":"Periksa Kembali"]}),s.jsx(G,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}var ml;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ml||(ml={}));const yI="popstate";function Kre(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:o,hash:l}=n.location;return u_("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:_x(a)}return Gre(e,r,null,t)}function qr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zre(){return Math.random().toString(36).substr(2,8)}function bI(t,e){return{usr:t.state,key:t.key,idx:e}}function u_(t,e,r,n){return r===void 0&&(r=null),gm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ch(e):e,{state:r,key:e&&e.key||n||zre()})}function _x(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ch(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Gre(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=ml.Pop,c=null,u=A();u==null&&(u=0,o.replaceState(gm({},o.state,{idx:u}),""));function A(){return(o.state||{idx:null}).idx}function d(){l=ml.Pop;let m=A(),y=m==null?null:m-u;u=m,c&&c({action:l,location:p.location,delta:y})}function h(m,y){l=ml.Push;let b=u_(p.location,m,y);u=A()+1;let v=bI(b,u),B=p.createHref(b);try{o.pushState(v,"",B)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(B)}i&&c&&c({action:l,location:p.location,delta:1})}function f(m,y){l=ml.Replace;let b=u_(p.location,m,y);u=A();let v=bI(b,u),B=p.createHref(b);o.replaceState(v,"",B),i&&c&&c({action:l,location:p.location,delta:0})}function g(m){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof m=="string"?m:_x(m);return b=b.replace(/ $/,"%20"),qr(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return l},get location(){return t(a,o)},listen(m){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(yI,d),c=m,()=>{a.removeEventListener(yI,d),c=null}},createHref(m){return e(a,m)},createURL:g,encodeLocation(m){let y=g(m);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(m){return o.go(m)}};return p}var wI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wI||(wI={}));function Wre(t,e,r){return r===void 0&&(r="/"),qre(t,e,r)}function qre(t,e,r,n){let a=typeof e=="string"?ch(e):e,i=VS(a.pathname||"/",r);if(i==null)return null;let o=_3(t);Xre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=lne(i);l=sne(o[c],u)}return l}function _3(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(qr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=_l([n,c.relativePath]),A=r.concat(c);i.children&&i.children.length>0&&(qr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_3(i.children,e,A,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:nne(u,i.index),routesMeta:A})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let c of j3(i.path))a(i,o,c)}),e}function j3(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=j3(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Xre(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:ane(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Yre=/^:[\w-]+$/,Jre=3,Zre=2,ene=1,tne=10,rne=-2,BI=t=>t==="*";function nne(t,e){let r=t.split("/"),n=r.length;return r.some(BI)&&(n+=rne),e&&(n+=Zre),r.filter(a=>!BI(a)).reduce((a,i)=>a+(Yre.test(i)?Jre:i===""?ene:tne),n)}function ane(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function sne(t,e,r){let{routesMeta:n}=t,a={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,A=i==="/"?e:e.slice(i.length)||"/",d=ine({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},A),h=c.route;if(!d)return null;Object.assign(a,d.params),o.push({params:a,pathname:_l([i,d.pathname]),pathnameBase:dne(_l([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=_l([i,d.pathnameBase]))}return o}function ine(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=one(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,A,d)=>{let{paramName:h,isOptional:f}=A;if(h==="*"){let p=l[d]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[d];return f&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function one(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),C3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function lne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VS(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function cne(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?ch(t):t;return{pathname:r?r.startsWith("/")?r:une(r,e):e,search:hne(n),hash:fne(a)}}function une(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function u1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ane(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KS(t,e){let r=Ane(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zS(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=ch(t):(a=gm({},t),qr(!a.pathname||!a.pathname.includes("?"),u1("?","pathname","search",a)),qr(!a.pathname||!a.pathname.includes("#"),u1("#","pathname","hash",a)),qr(!a.search||!a.search.includes("#"),u1("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;a.pathname=h.join("/")}l=d>=0?e[d]:"/"}let c=cne(a,l),u=o&&o!=="/"&&o.endsWith("/"),A=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||A)&&(c.pathname+="/"),c}const _l=t=>t.join("/").replace(/\/\/+/g,"/"),dne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fne=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mne(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const E3=["post","put","patch","delete"];new Set(E3);const pne=["get",...E3];new Set(pne);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xm.apply(this,arguments)}const GS=x.createContext(null),gne=x.createContext(null),Zl=x.createContext(null),Vy=x.createContext(null),So=x.createContext({outlet:null,matches:[],isDataRoute:!1}),S3=x.createContext(null);function xne(t,e){let{relative:r}=e===void 0?{}:e;uh()||qr(!1);let{basename:n,navigator:a}=x.useContext(Zl),{hash:i,pathname:o,search:l}=k3(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:_l([n,o])),a.createHref({pathname:c,search:l,hash:i})}function uh(){return x.useContext(Vy)!=null}function va(){return uh()||qr(!1),x.useContext(Vy).location}function N3(t){x.useContext(Zl).static||x.useLayoutEffect(t)}function Ot(){let{isDataRoute:t}=x.useContext(So);return t?Tne():vne()}function vne(){uh()||qr(!1);let t=x.useContext(GS),{basename:e,future:r,navigator:n}=x.useContext(Zl),{matches:a}=x.useContext(So),{pathname:i}=va(),o=JSON.stringify(KS(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return N3(()=>{l.current=!0}),x.useCallback(function(u,A){if(A===void 0&&(A={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=zS(u,JSON.parse(o),i,A.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:_l([e,d.pathname])),(A.replace?n.replace:n.push)(d,A.state,A)},[e,n,o,i,t])}function Up(){let{matches:t}=x.useContext(So),e=t[t.length-1];return e?e.params:{}}function k3(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(Zl),{matches:a}=x.useContext(So),{pathname:i}=va(),o=JSON.stringify(KS(a,n.v7_relativeSplatPath));return x.useMemo(()=>zS(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function yne(t,e){return bne(t,e)}function bne(t,e,r,n){uh()||qr(!1);let{navigator:a}=x.useContext(Zl),{matches:i}=x.useContext(So),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=va(),A;if(e){var d;let m=typeof e=="string"?ch(e):e;c==="/"||(d=m.pathname)!=null&&d.startsWith(c)||qr(!1),A=m}else A=u;let h=A.pathname||"/",f=h;if(c!=="/"){let m=c.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=Wre(t,{pathname:f}),p=jne(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},l,m.params),pathname:_l([c,a.encodeLocation?a.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?c:_l([c,a.encodeLocation?a.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,r,n);return e&&p?x.createElement(Vy.Provider,{value:{location:xm({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:ml.Pop}},p):p}function wne(){let t=kne(),e=mne(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:a},r):null,null)}const Bne=x.createElement(wne,null);class Cne extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(So.Provider,{value:this.props.routeContext},x.createElement(S3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _ne(t){let{routeContext:e,match:r,children:n}=t,a=x.useContext(GS);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(So.Provider,{value:e},n)}function jne(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let A=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);A>=0||qr(!1),o=o.slice(0,Math.min(o.length,A+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let A=0;A<o.length;A++){let d=o[A];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=A),d.route.id){let{loaderData:h,errors:f}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((A,d,h)=>{let f,g=!1,p=null,m=null;r&&(f=l&&d.route.id?l[d.route.id]:void 0,p=d.route.errorElement||Bne,c&&(u<0&&h===0?(Ine("route-fallback"),g=!0,m=null):u===h&&(g=!0,m=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let v;return f?v=p:g?v=m:d.route.Component?v=x.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=A,x.createElement(_ne,{match:d,routeContext:{outlet:A,matches:y,isDataRoute:r!=null},children:v})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?x.createElement(Cne,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var T3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T3||{}),I3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(I3||{});function Ene(t){let e=x.useContext(GS);return e||qr(!1),e}function Sne(t){let e=x.useContext(gne);return e||qr(!1),e}function Nne(t){let e=x.useContext(So);return e||qr(!1),e}function P3(t){let e=Nne(),r=e.matches[e.matches.length-1];return r.route.id||qr(!1),r.route.id}function kne(){var t;let e=x.useContext(S3),r=Sne(),n=P3();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Tne(){let{router:t}=Ene(T3.UseNavigateStable),e=P3(I3.UseNavigateStable),r=x.useRef(!1);return N3(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,xm({fromRouteId:e},i)))},[t,e])}const CI={};function Ine(t,e,r){CI[t]||(CI[t]=!0)}function Pne(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function jx(t){let{to:e,replace:r,state:n,relative:a}=t;uh()||qr(!1);let{future:i,static:o}=x.useContext(Zl),{matches:l}=x.useContext(So),{pathname:c}=va(),u=Ot(),A=zS(e,KS(l,i.v7_relativeSplatPath),c,a==="path"),d=JSON.stringify(A);return x.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:a}),[u,d,a,r,n]),null}function at(t){qr(!1)}function Fne(t){let{basename:e="/",children:r=null,location:n,navigationType:a=ml.Pop,navigator:i,static:o=!1,future:l}=t;uh()&&qr(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:xm({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ch(n));let{pathname:A="/",search:d="",hash:h="",state:f=null,key:g="default"}=n,p=x.useMemo(()=>{let m=VS(A,c);return m==null?null:{location:{pathname:m,search:d,hash:h,state:f,key:g},navigationType:a}},[c,A,d,h,f,g,a]);return p==null?null:x.createElement(Zl.Provider,{value:u},x.createElement(Vy.Provider,{children:r,value:p}))}function Dne(t){let{children:e,location:r}=t;return yne(A_(e),r)}new Promise(()=>{});function A_(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,a)=>{if(!x.isValidElement(n))return;let i=[...e,a];if(n.type===x.Fragment){r.push.apply(r,A_(n.props.children,i));return}n.type!==at&&qr(!1),!n.props.index||!n.props.children||qr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=A_(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d_(){return d_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d_.apply(this,arguments)}function One(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Rne(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Une(t,e){return t.button===0&&(!e||e==="_self")&&!Rne(t)}function h_(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Mne(t,e){let r=h_(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Qne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lne="6";try{window.__reactRouterVersion=Lne}catch{}const $ne="startTransition",_I=lS[$ne];function Hne(t){let{basename:e,children:r,future:n,window:a}=t,i=x.useRef();i.current==null&&(i.current=Kre({window:a,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},A=x.useCallback(d=>{u&&_I?_I(()=>c(d)):c(d)},[c,u]);return x.useLayoutEffect(()=>o.listen(A),[o,A]),x.useEffect(()=>Pne(n),[n]),x.createElement(Fne,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Vne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Kne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mt=x.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:A,viewTransition:d}=e,h=One(e,Qne),{basename:f}=x.useContext(Zl),g,p=!1;if(typeof u=="string"&&Kne.test(u)&&(g=u,Vne))try{let v=new URL(window.location.href),B=u.startsWith("//")?new URL(v.protocol+u):new URL(u),_=VS(B.pathname,f);B.origin===v.origin&&_!=null?u=_+B.search+B.hash:p=!0}catch{}let m=xne(u,{relative:a}),y=zne(u,{replace:o,state:l,target:c,preventScrollReset:A,relative:a,viewTransition:d});function b(v){n&&n(v),v.defaultPrevented||y(v)}return x.createElement("a",d_({},h,{href:g||m,onClick:p||i?n:b,ref:r,target:c}))});var jI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jI||(jI={}));var EI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(EI||(EI={}));function zne(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ot(),u=va(),A=k3(t,{relative:o});return x.useCallback(d=>{if(Une(d,r)){d.preventDefault();let h=n!==void 0?n:_x(u)===_x(A);c(t,{replace:h,state:a,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,A,n,a,r,t,i,o,l])}function Gne(t){let e=x.useRef(h_(t)),r=x.useRef(!1),n=va(),a=x.useMemo(()=>Mne(n.search,r.current?null:e.current),[n.search]),i=Ot(),o=x.useCallback((l,c)=>{const u=h_(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}const Wne=()=>{};var SI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);a<128?e[r++]=a:a<2048?(e[r++]=a>>6|192,e[r++]=a&63|128):(a&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=a>>18|240,e[r++]=a>>12&63|128,e[r++]=a>>6&63|128,e[r++]=a&63|128):(e[r++]=a>>12|224,e[r++]=a>>6&63|128,e[r++]=a&63|128)}return e},qne=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const a=t[r++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[r++];e[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[r++],o=t[r++],l=t[r++],c=((a&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|o&63)}}return e.join("")},D3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<t.length;a+=3){const i=t[a],o=a+1<t.length,l=o?t[a+1]:0,c=a+2<t.length,u=c?t[a+2]:0,A=i>>2,d=(i&3)<<4|l>>4;let h=(l&15)<<2|u>>6,f=u&63;c||(f=64,o||(h=64)),n.push(r[A],r[d],r[h],r[f])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<t.length;){const i=r[t.charAt(a++)],l=a<t.length?r[t.charAt(a)]:0;++a;const u=a<t.length?r[t.charAt(a)]:64;++a;const d=a<t.length?r[t.charAt(a)]:64;if(++a,i==null||l==null||u==null||d==null)throw new Xne;const h=i<<2|l>>4;if(n.push(h),u!==64){const f=l<<4&240|u>>2;if(n.push(f),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Xne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yne=function(t){const e=F3(t);return D3.encodeByteArray(e,!0)},Ex=function(t){return Yne(t).replace(/\./g,"")},Jne=function(t){try{return D3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne=()=>O3().__FIREBASE_DEFAULTS__,eae=()=>{if(typeof process>"u"||typeof SI>"u")return;const t=SI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tae=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jne(t[1]);return e&&JSON.parse(e)},WS=()=>{try{return Wne()||Zne()||eae()||tae()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rae=t=>{var e,r;return(r=(e=WS())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},nae=t=>{const e=rae(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},R3=()=>{var t;return(t=WS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(t){return t.endsWith(".cloudworkstations.dev")}async function sae(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iae(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ex(JSON.stringify(r)),Ex(JSON.stringify(o)),""].join(".")}const Lf={};function oae(){const t={prod:[],emulator:[]};for(const e of Object.keys(Lf))Lf[e]?t.emulator.push(e):t.prod.push(e);return t}function lae(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let NI=!1;function cae(t,e){if(typeof window>"u"||typeof document>"u"||!qS(window.location.host)||Lf[t]===e||Lf[t]||NI)return;Lf[t]=e;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=oae().prod.length>0;function o(){const h=document.getElementById(n);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,f){h.setAttribute("width","24"),h.setAttribute("id",f),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{NI=!0,o()},h}function A(h,f){h.setAttribute("id",f),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){const h=lae(n),f=r("text"),g=document.getElementById(f)||document.createElement("span"),p=r("learnmore"),m=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const v=h.element;l(v),A(m,p);const B=u();c(b,y),v.append(b,g,m,B),document.body.appendChild(v)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",f)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U3(){var t;const e=(t=WS())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M3(){return!U3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Q3(){return!U3()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function XS(){try{return typeof indexedDB=="object"}catch{return!1}}function L3(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;e(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function uae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aae="FirebaseError";class Pu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Aae,Object.setPrototypeOf(this,Pu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ky.prototype.create)}}class Ky{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},a=`${this.service}/${e}`,i=this.errors[e],o=i?dae(i,n):"Error",l=`${this.serviceName}: ${o} (${a}).`;return new Pu(a,l,n)}}function dae(t,e){return t.replace(hae,(r,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const hae=/\{\$([^}]+)}/g;function Nx(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const a of r){if(!n.includes(a))return!1;const i=t[a],o=e[a];if(kI(i)&&kI(o)){if(!Nx(i,o))return!1}else if(i!==o)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function kI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){return t&&t._delegate?t._delegate:t}class go{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fae{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new aae;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pae(e))try{this.getOrInitializeService({instanceIdentifier:_c})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(e=_c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_c){return this.instances.has(e)}getOptions(e=_c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);n===l&&o.resolve(a)}return a}onInit(e,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(a,i);const o=this.instances.get(a);return o&&e(o,a),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:mae(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=_c){return this.component?this.component.multipleInstances?e:_c:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mae(t){return t===_c?void 0:t}function pae(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gae{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new fae(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zt||(zt={}));const xae={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},vae=zt.INFO,yae={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},bae=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),a=yae[e];if(a)console[a](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let $3=class{constructor(e){this.name=e,this._logLevel=vae,this._logHandler=bae,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xae[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...e),this._logHandler(this,zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...e),this._logHandler(this,zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...e),this._logHandler(this,zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...e),this._logHandler(this,zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...e),this._logHandler(this,zt.ERROR,...e)}};const wae=(t,e)=>e.some(r=>t instanceof r);let TI,II;function Bae(){return TI||(TI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cae(){return II||(II=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H3=new WeakMap,f_=new WeakMap,V3=new WeakMap,A1=new WeakMap,YS=new WeakMap;function _ae(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(so(t.result)),a()},o=()=>{n(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&H3.set(r,t)}).catch(()=>{}),YS.set(e,t),e}function jae(t){if(f_.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),a()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});f_.set(t,e)}let m_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return f_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||V3.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return so(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eae(t){m_=t(m_)}function Sae(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(d1(this),e,...r);return V3.set(n,e.sort?e.sort():[e]),so(n)}:Cae().includes(t)?function(...e){return t.apply(d1(this),e),so(H3.get(this))}:function(...e){return so(t.apply(d1(this),e))}}function Nae(t){return typeof t=="function"?Sae(t):(t instanceof IDBTransaction&&jae(t),wae(t,Bae())?new Proxy(t,m_):t)}function so(t){if(t instanceof IDBRequest)return _ae(t);if(A1.has(t))return A1.get(t);const e=Nae(t);return e!==t&&(A1.set(t,e),YS.set(e,t)),e}const d1=t=>YS.get(t);function zy(t,e,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const o=indexedDB.open(t,e),l=so(o);return n&&o.addEventListener("upgradeneeded",c=>{n(so(o.result),c.oldVersion,c.newVersion,so(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function h1(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),so(r).then(()=>{})}const kae=["get","getKey","getAll","getAllKeys","count"],Tae=["put","add","delete","clear"],f1=new Map;function PI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(f1.get(e))return f1.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=Tae.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||kae.includes(r)))return;const i=async function(o,...l){const c=this.transaction(o,a?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),a&&c.done]))[0]};return f1.set(e,i),i}Eae(t=>({...t,get:(e,r,n)=>PI(e,r)||t.get(e,r,n),has:(e,r)=>!!PI(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iae{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Pae(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Pae(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const p_="@firebase/app",FI="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new $3("@firebase/app"),Fae="@firebase/app-compat",Dae="@firebase/analytics-compat",Oae="@firebase/analytics",Rae="@firebase/app-check-compat",Uae="@firebase/app-check",Mae="@firebase/auth",Qae="@firebase/auth-compat",Lae="@firebase/database",$ae="@firebase/data-connect",Hae="@firebase/database-compat",Vae="@firebase/functions",Kae="@firebase/functions-compat",zae="@firebase/installations",Gae="@firebase/installations-compat",Wae="@firebase/messaging",qae="@firebase/messaging-compat",Xae="@firebase/performance",Yae="@firebase/performance-compat",Jae="@firebase/remote-config",Zae="@firebase/remote-config-compat",ese="@firebase/storage",tse="@firebase/storage-compat",rse="@firebase/firestore",nse="@firebase/ai",ase="@firebase/firestore-compat",sse="firebase",ise="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="[DEFAULT]",ose={[p_]:"fire-core",[Fae]:"fire-core-compat",[Oae]:"fire-analytics",[Dae]:"fire-analytics-compat",[Uae]:"fire-app-check",[Rae]:"fire-app-check-compat",[Mae]:"fire-auth",[Qae]:"fire-auth-compat",[Lae]:"fire-rtdb",[$ae]:"fire-data-connect",[Hae]:"fire-rtdb-compat",[Vae]:"fire-fn",[Kae]:"fire-fn-compat",[zae]:"fire-iid",[Gae]:"fire-iid-compat",[Wae]:"fire-fcm",[qae]:"fire-fcm-compat",[Xae]:"fire-perf",[Yae]:"fire-perf-compat",[Jae]:"fire-rc",[Zae]:"fire-rc-compat",[ese]:"fire-gcs",[tse]:"fire-gcs-compat",[rse]:"fire-fst",[ase]:"fire-fst-compat",[nse]:"fire-vertex","fire-js":"fire-js",[sse]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map,lse=new Map,x_=new Map;function DI(t,e){try{t.container.addComponent(e)}catch(r){xo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Ql(t){const e=t.name;if(x_.has(e))return xo.debug(`There were multiple attempts to register component ${e}.`),!1;x_.set(e,t);for(const r of kx.values())DI(r,t);for(const r of lse.values())DI(r,t);return!0}function Gy(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function cse(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const use={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jl=new Ky("app","Firebase",use);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dse=ise;function K3(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:g_,automaticDataCollectionEnabled:!0},e),a=n.name;if(typeof a!="string"||!a)throw jl.create("bad-app-name",{appName:String(a)});if(r||(r=R3()),!r)throw jl.create("no-options");const i=kx.get(a);if(i){if(Nx(r,i.options)&&Nx(n,i.config))return i;throw jl.create("duplicate-app",{appName:a})}const o=new gae(a);for(const c of x_.values())o.addComponent(c);const l=new Ase(r,n,o);return kx.set(a,l),l}function z3(t=g_){const e=kx.get(t);if(!e&&t===g_&&R3())return K3();if(!e)throw jl.create("no-app",{appName:t});return e}function _i(t,e,r){var n;let a=(n=ose[t])!==null&&n!==void 0?n:t;r&&(a+=`-${r}`);const i=a.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${a}" with version "${e}":`];i&&l.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xo.warn(l.join(" "));return}Ql(new go(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hse="firebase-heartbeat-database",fse=1,vm="firebase-heartbeat-store";let m1=null;function G3(){return m1||(m1=zy(hse,fse,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vm)}catch(r){console.warn(r)}}}}).catch(t=>{throw jl.create("idb-open",{originalErrorMessage:t.message})})),m1}async function mse(t){try{const r=(await G3()).transaction(vm),n=await r.objectStore(vm).get(W3(t));return await r.done,n}catch(e){if(e instanceof Pu)xo.warn(e.message);else{const r=jl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xo.warn(r.message)}}}async function OI(t,e){try{const n=(await G3()).transaction(vm,"readwrite");await n.objectStore(vm).put(e,W3(t)),await n.done}catch(r){if(r instanceof Pu)xo.warn(r.message);else{const n=jl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});xo.warn(n.message)}}}function W3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse=1024,gse=30;class xse{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yse(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>gse){const o=bse(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=RI(),{heartbeatsToSend:n,unsentEntries:a}=vse(this._heartbeatsCache.heartbeats),i=Ex(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return xo.warn(r),""}}}function RI(){return new Date().toISOString().substring(0,10)}function vse(t,e=pse){const r=[];let n=t.slice();for(const a of t){const i=r.find(o=>o.agent===a.agent);if(i){if(i.dates.push(a.date),UI(r)>e){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),UI(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yse{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XS()?L3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await mse(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return OI(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function UI(t){return Ex(JSON.stringify({version:2,heartbeats:t})).length}function bse(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wse(t){Ql(new go("platform-logger",e=>new Iae(e),"PRIVATE")),Ql(new go("heartbeat",e=>new xse(e),"PRIVATE")),_i(p_,FI,t),_i(p_,FI,"esm2017"),_i("fire-js","")}wse("");var Bse="firebase",Cse="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(Bse,Cse,"app");var MI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,E){function N(){}N.prototype=E.prototype,C.D=E.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(S,k,I){for(var T=Array(arguments.length-2),U=2;U<arguments.length;U++)T[U-2]=arguments[U];return E.prototype[k].apply(S,T)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,E,N){N||(N=0);var S=Array(16);if(typeof E=="string")for(var k=0;16>k;++k)S[k]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(k=0;16>k;++k)S[k]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=C.g[0],N=C.g[1],k=C.g[2];var I=C.g[3],T=E+(I^N&(k^I))+S[0]+3614090360&4294967295;E=N+(T<<7&4294967295|T>>>25),T=I+(k^E&(N^k))+S[1]+3905402710&4294967295,I=E+(T<<12&4294967295|T>>>20),T=k+(N^I&(E^N))+S[2]+606105819&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(E^k&(I^E))+S[3]+3250441966&4294967295,N=k+(T<<22&4294967295|T>>>10),T=E+(I^N&(k^I))+S[4]+4118548399&4294967295,E=N+(T<<7&4294967295|T>>>25),T=I+(k^E&(N^k))+S[5]+1200080426&4294967295,I=E+(T<<12&4294967295|T>>>20),T=k+(N^I&(E^N))+S[6]+2821735955&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(E^k&(I^E))+S[7]+4249261313&4294967295,N=k+(T<<22&4294967295|T>>>10),T=E+(I^N&(k^I))+S[8]+1770035416&4294967295,E=N+(T<<7&4294967295|T>>>25),T=I+(k^E&(N^k))+S[9]+2336552879&4294967295,I=E+(T<<12&4294967295|T>>>20),T=k+(N^I&(E^N))+S[10]+4294925233&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(E^k&(I^E))+S[11]+2304563134&4294967295,N=k+(T<<22&4294967295|T>>>10),T=E+(I^N&(k^I))+S[12]+1804603682&4294967295,E=N+(T<<7&4294967295|T>>>25),T=I+(k^E&(N^k))+S[13]+4254626195&4294967295,I=E+(T<<12&4294967295|T>>>20),T=k+(N^I&(E^N))+S[14]+2792965006&4294967295,k=I+(T<<17&4294967295|T>>>15),T=N+(E^k&(I^E))+S[15]+1236535329&4294967295,N=k+(T<<22&4294967295|T>>>10),T=E+(k^I&(N^k))+S[1]+4129170786&4294967295,E=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(E^N))+S[6]+3225465664&4294967295,I=E+(T<<9&4294967295|T>>>23),T=k+(E^N&(I^E))+S[11]+643717713&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^E&(k^I))+S[0]+3921069994&4294967295,N=k+(T<<20&4294967295|T>>>12),T=E+(k^I&(N^k))+S[5]+3593408605&4294967295,E=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(E^N))+S[10]+38016083&4294967295,I=E+(T<<9&4294967295|T>>>23),T=k+(E^N&(I^E))+S[15]+3634488961&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^E&(k^I))+S[4]+3889429448&4294967295,N=k+(T<<20&4294967295|T>>>12),T=E+(k^I&(N^k))+S[9]+568446438&4294967295,E=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(E^N))+S[14]+3275163606&4294967295,I=E+(T<<9&4294967295|T>>>23),T=k+(E^N&(I^E))+S[3]+4107603335&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^E&(k^I))+S[8]+1163531501&4294967295,N=k+(T<<20&4294967295|T>>>12),T=E+(k^I&(N^k))+S[13]+2850285829&4294967295,E=N+(T<<5&4294967295|T>>>27),T=I+(N^k&(E^N))+S[2]+4243563512&4294967295,I=E+(T<<9&4294967295|T>>>23),T=k+(E^N&(I^E))+S[7]+1735328473&4294967295,k=I+(T<<14&4294967295|T>>>18),T=N+(I^E&(k^I))+S[12]+2368359562&4294967295,N=k+(T<<20&4294967295|T>>>12),T=E+(N^k^I)+S[5]+4294588738&4294967295,E=N+(T<<4&4294967295|T>>>28),T=I+(E^N^k)+S[8]+2272392833&4294967295,I=E+(T<<11&4294967295|T>>>21),T=k+(I^E^N)+S[11]+1839030562&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^E)+S[14]+4259657740&4294967295,N=k+(T<<23&4294967295|T>>>9),T=E+(N^k^I)+S[1]+2763975236&4294967295,E=N+(T<<4&4294967295|T>>>28),T=I+(E^N^k)+S[4]+1272893353&4294967295,I=E+(T<<11&4294967295|T>>>21),T=k+(I^E^N)+S[7]+4139469664&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^E)+S[10]+3200236656&4294967295,N=k+(T<<23&4294967295|T>>>9),T=E+(N^k^I)+S[13]+681279174&4294967295,E=N+(T<<4&4294967295|T>>>28),T=I+(E^N^k)+S[0]+3936430074&4294967295,I=E+(T<<11&4294967295|T>>>21),T=k+(I^E^N)+S[3]+3572445317&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^E)+S[6]+76029189&4294967295,N=k+(T<<23&4294967295|T>>>9),T=E+(N^k^I)+S[9]+3654602809&4294967295,E=N+(T<<4&4294967295|T>>>28),T=I+(E^N^k)+S[12]+3873151461&4294967295,I=E+(T<<11&4294967295|T>>>21),T=k+(I^E^N)+S[15]+530742520&4294967295,k=I+(T<<16&4294967295|T>>>16),T=N+(k^I^E)+S[2]+3299628645&4294967295,N=k+(T<<23&4294967295|T>>>9),T=E+(k^(N|~I))+S[0]+4096336452&4294967295,E=N+(T<<6&4294967295|T>>>26),T=I+(N^(E|~k))+S[7]+1126891415&4294967295,I=E+(T<<10&4294967295|T>>>22),T=k+(E^(I|~N))+S[14]+2878612391&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~E))+S[5]+4237533241&4294967295,N=k+(T<<21&4294967295|T>>>11),T=E+(k^(N|~I))+S[12]+1700485571&4294967295,E=N+(T<<6&4294967295|T>>>26),T=I+(N^(E|~k))+S[3]+2399980690&4294967295,I=E+(T<<10&4294967295|T>>>22),T=k+(E^(I|~N))+S[10]+4293915773&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~E))+S[1]+2240044497&4294967295,N=k+(T<<21&4294967295|T>>>11),T=E+(k^(N|~I))+S[8]+1873313359&4294967295,E=N+(T<<6&4294967295|T>>>26),T=I+(N^(E|~k))+S[15]+4264355552&4294967295,I=E+(T<<10&4294967295|T>>>22),T=k+(E^(I|~N))+S[6]+2734768916&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~E))+S[13]+1309151649&4294967295,N=k+(T<<21&4294967295|T>>>11),T=E+(k^(N|~I))+S[4]+4149444226&4294967295,E=N+(T<<6&4294967295|T>>>26),T=I+(N^(E|~k))+S[11]+3174756917&4294967295,I=E+(T<<10&4294967295|T>>>22),T=k+(E^(I|~N))+S[2]+718787259&4294967295,k=I+(T<<15&4294967295|T>>>17),T=N+(I^(k|~E))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(k+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+I&4294967295}n.prototype.u=function(C,E){E===void 0&&(E=C.length);for(var N=E-this.blockSize,S=this.B,k=this.h,I=0;I<E;){if(k==0)for(;I<=N;)a(this,C,I),I+=this.blockSize;if(typeof C=="string"){for(;I<E;)if(S[k++]=C.charCodeAt(I++),k==this.blockSize){a(this,S),k=0;break}}else for(;I<E;)if(S[k++]=C[I++],k==this.blockSize){a(this,S),k=0;break}}this.h=k,this.o+=E},n.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;var N=8*this.o;for(E=C.length-8;E<C.length;++E)C[E]=N&255,N/=256;for(this.u(C),C=Array(16),E=N=0;4>E;++E)for(var S=0;32>S;S+=8)C[N++]=this.g[E]>>>S&255;return C};function i(C,E){var N=l;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=E(C)}function o(C,E){this.h=E;for(var N=[],S=!0,k=C.length-1;0<=k;k--){var I=C[k]|0;S&&I==E||(N[k]=I,S=!1)}this.g=N}var l={};function c(C){return-128<=C&&128>C?i(C,function(E){return new o([E|0],0>E?-1:0)}):new o([C|0],0>C?-1:0)}function u(C){if(isNaN(C)||!isFinite(C))return d;if(0>C)return m(u(-C));for(var E=[],N=1,S=0;C>=N;S++)E[S]=C/N|0,N*=4294967296;return new o(E,0)}function A(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return m(A(C.substring(1),E));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(E,8)),S=d,k=0;k<C.length;k+=8){var I=Math.min(8,C.length-k),T=parseInt(C.substring(k,k+I),E);8>I?(I=u(Math.pow(E,I)),S=S.j(I).add(u(T))):(S=S.j(N),S=S.add(u(T)))}return S}var d=c(0),h=c(1),f=c(16777216);t=o.prototype,t.m=function(){if(p(this))return-m(this).m();for(var C=0,E=1,N=0;N<this.g.length;N++){var S=this.i(N);C+=(0<=S?S:4294967296+S)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(g(this))return"0";if(p(this))return"-"+m(this).toString(C);for(var E=u(Math.pow(C,6)),N=this,S="";;){var k=B(N,E).g;N=y(N,k.j(E));var I=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=k,g(N))return I+S;for(;6>I.length;)I="0"+I;S=I+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function g(C){if(C.h!=0)return!1;for(var E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function p(C){return C.h==-1}t.l=function(C){return C=y(this,C),p(C)?-1:g(C)?0:1};function m(C){for(var E=C.g.length,N=[],S=0;S<E;S++)N[S]=~C.g[S];return new o(N,~C.h).add(h)}t.abs=function(){return p(this)?m(this):this},t.add=function(C){for(var E=Math.max(this.g.length,C.g.length),N=[],S=0,k=0;k<=E;k++){var I=S+(this.i(k)&65535)+(C.i(k)&65535),T=(I>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);S=T>>>16,I&=65535,T&=65535,N[k]=T<<16|I}return new o(N,N[N.length-1]&-2147483648?-1:0)};function y(C,E){return C.add(m(E))}t.j=function(C){if(g(this)||g(C))return d;if(p(this))return p(C)?m(this).j(m(C)):m(m(this).j(C));if(p(C))return m(this.j(m(C)));if(0>this.l(f)&&0>C.l(f))return u(this.m()*C.m());for(var E=this.g.length+C.g.length,N=[],S=0;S<2*E;S++)N[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<C.g.length;k++){var I=this.i(S)>>>16,T=this.i(S)&65535,U=C.i(k)>>>16,M=C.i(k)&65535;N[2*S+2*k]+=T*M,b(N,2*S+2*k),N[2*S+2*k+1]+=I*M,b(N,2*S+2*k+1),N[2*S+2*k+1]+=T*U,b(N,2*S+2*k+1),N[2*S+2*k+2]+=I*U,b(N,2*S+2*k+2)}for(S=0;S<E;S++)N[S]=N[2*S+1]<<16|N[2*S];for(S=E;S<2*E;S++)N[S]=0;return new o(N,0)};function b(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function v(C,E){this.g=C,this.h=E}function B(C,E){if(g(E))throw Error("division by zero");if(g(C))return new v(d,d);if(p(C))return E=B(m(C),E),new v(m(E.g),m(E.h));if(p(E))return E=B(C,m(E)),new v(m(E.g),E.h);if(30<C.g.length){if(p(C)||p(E))throw Error("slowDivide_ only works with positive integers.");for(var N=h,S=E;0>=S.l(C);)N=_(N),S=_(S);var k=j(N,1),I=j(S,1);for(S=j(S,2),N=j(N,2);!g(S);){var T=I.add(S);0>=T.l(C)&&(k=k.add(N),I=T),S=j(S,1),N=j(N,1)}return E=y(C,k.j(E)),new v(k,E)}for(k=d;0<=C.l(E);){for(N=Math.max(1,Math.floor(C.m()/E.m())),S=Math.ceil(Math.log(N)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),I=u(N),T=I.j(E);p(T)||0<T.l(C);)N-=S,I=u(N),T=I.j(E);g(I)&&(I=h),k=k.add(I),C=y(C,T)}return new v(k,C)}t.A=function(C){return B(this,C).h},t.and=function(C){for(var E=Math.max(this.g.length,C.g.length),N=[],S=0;S<E;S++)N[S]=this.i(S)&C.i(S);return new o(N,this.h&C.h)},t.or=function(C){for(var E=Math.max(this.g.length,C.g.length),N=[],S=0;S<E;S++)N[S]=this.i(S)|C.i(S);return new o(N,this.h|C.h)},t.xor=function(C){for(var E=Math.max(this.g.length,C.g.length),N=[],S=0;S<E;S++)N[S]=this.i(S)^C.i(S);return new o(N,this.h^C.h)};function _(C){for(var E=C.g.length+1,N=[],S=0;S<E;S++)N[S]=C.i(S)<<1|C.i(S-1)>>>31;return new o(N,C.h)}function j(C,E){var N=E>>5;E%=32;for(var S=C.g.length-N,k=[],I=0;I<S;I++)k[I]=0<E?C.i(I+N)>>>E|C.i(I+N+1)<<32-E:C.i(I+N);return new o(k,C.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=A,JS=o}).apply(typeof MI<"u"?MI:typeof self<"u"?self:typeof window<"u"?window:{});var Hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var q3,Cf,X3,z0,v_,Y3,J3,Z3;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,P,F){return w==Array.prototype||w==Object.prototype||(w[P]=F.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hg=="object"&&Hg];for(var P=0;P<w.length;++P){var F=w[P];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}var n=r(this);function a(w,P){if(P)e:{var F=n;w=w.split(".");for(var H=0;H<w.length-1;H++){var ae=w[H];if(!(ae in F))break e;F=F[ae]}w=w[w.length-1],H=F[w],P=P(H),P!=H&&P!=null&&e(F,w,{configurable:!0,writable:!0,value:P})}}function i(w,P){w instanceof String&&(w+="");var F=0,H=!1,ae={next:function(){if(!H&&F<w.length){var ue=F++;return{value:P(ue,w[ue]),done:!1}}return H=!0,{done:!0,value:void 0}}};return ae[Symbol.iterator]=function(){return ae},ae}a("Array.prototype.values",function(w){return w||function(){return i(this,function(P,F){return F})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(w){var P=typeof w;return P=P!="object"?P:w?Array.isArray(w)?"array":P:"null",P=="array"||P=="object"&&typeof w.length=="number"}function u(w){var P=typeof w;return P=="object"&&w!=null||P=="function"}function A(w,P,F){return w.call.apply(w.bind,arguments)}function d(w,P,F){if(!w)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ae,H),w.apply(P,ae)}}return function(){return w.apply(P,arguments)}}function h(w,P,F){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:d,h.apply(null,arguments)}function f(w,P){var F=Array.prototype.slice.call(arguments,1);return function(){var H=F.slice();return H.push.apply(H,arguments),w.apply(this,H)}}function g(w,P){function F(){}F.prototype=P.prototype,w.aa=P.prototype,w.prototype=new F,w.prototype.constructor=w,w.Qb=function(H,ae,ue){for(var Fe=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)Fe[gr-2]=arguments[gr];return P.prototype[ae].apply(H,Fe)}}function p(w){const P=w.length;if(0<P){const F=Array(P);for(let H=0;H<P;H++)F[H]=w[H];return F}return[]}function m(w,P){for(let F=1;F<arguments.length;F++){const H=arguments[F];if(c(H)){const ae=w.length||0,ue=H.length||0;w.length=ae+ue;for(let Fe=0;Fe<ue;Fe++)w[ae+Fe]=H[Fe]}else w.push(H)}}class y{constructor(P,F){this.i=P,this.j=F,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function b(w){return/^[\s\xa0]*$/.test(w)}function v(){var w=l.navigator;return w&&(w=w.userAgent)?w:""}function B(w){return B[" "](w),w}B[" "]=function(){};var _=v().indexOf("Gecko")!=-1&&!(v().toLowerCase().indexOf("webkit")!=-1&&v().indexOf("Edge")==-1)&&!(v().indexOf("Trident")!=-1||v().indexOf("MSIE")!=-1)&&v().indexOf("Edge")==-1;function j(w,P,F){for(const H in w)P.call(F,w[H],H,w)}function C(w,P){for(const F in w)P.call(void 0,w[F],F,w)}function E(w){const P={};for(const F in w)P[F]=w[F];return P}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(w,P){let F,H;for(let ae=1;ae<arguments.length;ae++){H=arguments[ae];for(F in H)w[F]=H[F];for(let ue=0;ue<N.length;ue++)F=N[ue],Object.prototype.hasOwnProperty.call(H,F)&&(w[F]=H[F])}}function k(w){var P=1;w=w.split(":");const F=[];for(;0<P&&w.length;)F.push(w.shift()),P--;return w.length&&F.push(w.join(":")),F}function I(w){l.setTimeout(()=>{throw w},0)}function T(){var w=R;let P=null;return w.g&&(P=w.g,w.g=w.g.next,w.g||(w.h=null),P.next=null),P}class U{constructor(){this.h=this.g=null}add(P,F){const H=M.get();H.set(P,F),this.h?this.h.next=H:this.g=H,this.h=H}}var M=new y(()=>new L,w=>w.reset());class L{constructor(){this.next=this.g=this.h=null}set(P,F){this.h=P,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,R=new U,Q=()=>{const w=l.Promise.resolve(void 0);O=()=>{w.then(K)}};var K=()=>{for(var w;w=T();){try{w.h.call(w.g)}catch(F){I(F)}var P=M;P.j(w),100>P.h&&(P.h++,w.next=P.g,P.g=w)}D=!1};function $(){this.s=this.s,this.C=this.C}$.prototype.s=!1,$.prototype.ma=function(){this.s||(this.s=!0,this.N())},$.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(w,P){this.type=w,this.g=this.target=P,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var w=!1,P=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const F=()=>{};l.addEventListener("test",F,P),l.removeEventListener("test",F,P)}catch{}return w}();function W(w,P){if(q.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var F=this.type=w.type,H=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=P,P=w.relatedTarget){if(_){e:{try{B(P.nodeName);var ae=!0;break e}catch{}ae=!1}ae||(P=null)}}else F=="mouseover"?P=w.fromElement:F=="mouseout"&&(P=w.toElement);this.relatedTarget=P,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ne[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&W.aa.h.call(this)}}g(W,q);var ne={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),re=0;function ce(w,P,F,H,ae){this.listener=w,this.proxy=null,this.src=P,this.type=F,this.capture=!!H,this.ha=ae,this.key=++re,this.da=this.fa=!1}function Ae(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function ge(w){this.src=w,this.g={},this.h=0}ge.prototype.add=function(w,P,F,H,ae){var ue=w.toString();w=this.g[ue],w||(w=this.g[ue]=[],this.h++);var Fe=pe(w,P,H,ae);return-1<Fe?(P=w[Fe],F||(P.fa=!1)):(P=new ce(P,this.src,ue,!!H,ae),P.fa=F,w.push(P)),P};function Y(w,P){var F=P.type;if(F in w.g){var H=w.g[F],ae=Array.prototype.indexOf.call(H,P,void 0),ue;(ue=0<=ae)&&Array.prototype.splice.call(H,ae,1),ue&&(Ae(P),w.g[F].length==0&&(delete w.g[F],w.h--))}}function pe(w,P,F,H){for(var ae=0;ae<w.length;++ae){var ue=w[ae];if(!ue.da&&ue.listener==P&&ue.capture==!!F&&ue.ha==H)return ae}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),Ue={};function We(w,P,F,H,ae){if(Array.isArray(P)){for(var ue=0;ue<P.length;ue++)We(w,P[ue],F,H,ae);return null}return F=Be(F),w&&w[oe]?w.K(P,F,u(H)?!!H.capture:!1,ae):gt(w,P,F,!1,H,ae)}function gt(w,P,F,H,ae,ue){if(!P)throw Error("Invalid event type");var Fe=u(ae)?!!ae.capture:!!ae,gr=Ce(w);if(gr||(w[Se]=gr=new ge(w)),F=gr.add(P,F,H,Fe,ue),F.proxy)return F;if(H=Rt(),F.proxy=H,H.src=w,H.listener=F,w.addEventListener)z||(ae=Fe),ae===void 0&&(ae=!1),w.addEventListener(P.toString(),H,ae);else if(w.attachEvent)w.attachEvent(ee(P.toString()),H);else if(w.addListener&&w.removeListener)w.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return F}function Rt(){function w(F){return P.call(w.src,w.listener,F)}const P=le;return w}function Ut(w,P,F,H,ae){if(Array.isArray(P))for(var ue=0;ue<P.length;ue++)Ut(w,P[ue],F,H,ae);else H=u(H)?!!H.capture:!!H,F=Be(F),w&&w[oe]?(w=w.i,P=String(P).toString(),P in w.g&&(ue=w.g[P],F=pe(ue,F,H,ae),-1<F&&(Ae(ue[F]),Array.prototype.splice.call(ue,F,1),ue.length==0&&(delete w.g[P],w.h--)))):w&&(w=Ce(w))&&(P=w.g[P.toString()],w=-1,P&&(w=pe(P,F,H,ae)),(F=-1<w?P[w]:null)&&X(F))}function X(w){if(typeof w!="number"&&w&&!w.da){var P=w.src;if(P&&P[oe])Y(P.i,w);else{var F=w.type,H=w.proxy;P.removeEventListener?P.removeEventListener(F,H,w.capture):P.detachEvent?P.detachEvent(ee(F),H):P.addListener&&P.removeListener&&P.removeListener(H),(F=Ce(P))?(Y(F,w),F.h==0&&(F.src=null,P[Se]=null)):Ae(w)}}}function ee(w){return w in Ue?Ue[w]:Ue[w]="on"+w}function le(w,P){if(w.da)w=!0;else{P=new W(P,this);var F=w.listener,H=w.ha||w.src;w.fa&&X(w),w=F.call(H,P)}return w}function Ce(w){return w=w[Se],w instanceof ge?w:null}var Ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(w){return typeof w=="function"?w:(w[Ne]||(w[Ne]=function(P){return w.handleEvent(P)}),w[Ne])}function ve(){$.call(this),this.i=new ge(this),this.M=this,this.F=null}g(ve,$),ve.prototype[oe]=!0,ve.prototype.removeEventListener=function(w,P,F,H){Ut(this,w,P,F,H)};function qe(w,P){var F,H=w.F;if(H)for(F=[];H;H=H.F)F.push(H);if(w=w.M,H=P.type||P,typeof P=="string")P=new q(P,w);else if(P instanceof q)P.target=P.target||w;else{var ae=P;P=new q(H,w),S(P,ae)}if(ae=!0,F)for(var ue=F.length-1;0<=ue;ue--){var Fe=P.g=F[ue];ae=ie(Fe,H,!0,P)&&ae}if(Fe=P.g=w,ae=ie(Fe,H,!0,P)&&ae,ae=ie(Fe,H,!1,P)&&ae,F)for(ue=0;ue<F.length;ue++)Fe=P.g=F[ue],ae=ie(Fe,H,!1,P)&&ae}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var w=this.i,P;for(P in w.g){for(var F=w.g[P],H=0;H<F.length;H++)Ae(F[H]);delete w.g[P],w.h--}}this.F=null},ve.prototype.K=function(w,P,F,H){return this.i.add(String(w),P,!1,F,H)},ve.prototype.L=function(w,P,F,H){return this.i.add(String(w),P,!0,F,H)};function ie(w,P,F,H){if(P=w.i.g[String(P)],!P)return!0;P=P.concat();for(var ae=!0,ue=0;ue<P.length;++ue){var Fe=P[ue];if(Fe&&!Fe.da&&Fe.capture==F){var gr=Fe.listener,jn=Fe.ha||Fe.src;Fe.fa&&Y(w.i,Fe),ae=gr.call(jn,H)!==!1&&ae}}return ae&&!H.defaultPrevented}function we(w,P,F){if(typeof w=="function")F&&(w=h(w,F));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:l.setTimeout(w,P||0)}function Je(w){w.g=we(()=>{w.g=null,w.i&&(w.i=!1,Je(w))},w.l);const P=w.h;w.h=null,w.m.apply(null,P)}class Ke extends ${constructor(P,F){super(),this.m=P,this.l=F,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(w){$.call(this),this.h=w,this.g={}}g(pt,$);var er=[];function Vr(w){j(w.g,function(P,F){this.g.hasOwnProperty(F)&&X(P)},w),w.g={}}pt.prototype.N=function(){pt.aa.N.call(this),Vr(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nr=l.JSON.stringify,pr=l.JSON.parse,Qi=class{stringify(w){return l.JSON.stringify(w,void 0)}parse(w){return l.JSON.parse(w,void 0)}};function Da(){}Da.prototype.h=null;function js(w){return w.h||(w.h=w.i())}function rs(){}var ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Es(){q.call(this,"d")}g(Es,q);function wa(){q.call(this,"c")}g(wa,q);var Ss={},ht=null;function Pt(){return ht=ht||new ve}Ss.La="serverreachability";function lr(w){q.call(this,Ss.La,w)}g(lr,q);function sn(w){const P=Pt();qe(P,new lr(P))}Ss.STAT_EVENT="statevent";function _n(w,P){q.call(this,Ss.STAT_EVENT,w),this.stat=P}g(_n,q);function Br(w){const P=Pt();qe(P,new _n(P,w))}Ss.Ma="timingevent";function Oa(w,P){q.call(this,Ss.Ma,w),this.size=P}g(Oa,q);function tr(w,P){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){w()},P)}function Rr(){this.g=!0}Rr.prototype.xa=function(){this.g=!1};function gg(w,P,F,H,ae,ue){w.info(function(){if(w.g)if(ue)for(var Fe="",gr=ue.split("&"),jn=0;jn<gr.length;jn++){var qt=gr[jn].split("=");if(1<qt.length){var Vn=qt[0];qt=qt[1];var Kn=Vn.split("_");Fe=2<=Kn.length&&Kn[1]=="type"?Fe+(Vn+"="+qt+"&"):Fe+(Vn+"=redacted&")}}else Fe=null;else Fe=ue;return"XMLHTTP REQ ("+H+") [attempt "+ae+"]: "+P+`
`+F+`
`+Fe})}function Rw(w,P,F,H,ae,ue,Fe){w.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ae+"]: "+P+`
`+F+`
`+ue+" "+Fe})}function $u(w,P,F,H){w.info(function(){return"XMLHTTP TEXT ("+P+"): "+HW(w,F)+(H?" "+H:"")})}function $W(w,P){w.info(function(){return"TIMEOUT: "+P})}Rr.prototype.info=function(){};function HW(w,P){if(!w.g)return P;if(!P)return null;try{var F=JSON.parse(P);if(F){for(w=0;w<F.length;w++)if(Array.isArray(F[w])){var H=F[w];if(!(2>H.length)){var ae=H[1];if(Array.isArray(ae)&&!(1>ae.length)){var ue=ae[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(var Fe=1;Fe<ae.length;Fe++)ae[Fe]=""}}}}return Nr(F)}catch{return P}}var xg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fk={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uw;function vg(){}g(vg,Da),vg.prototype.g=function(){return new XMLHttpRequest},vg.prototype.i=function(){return{}},Uw=new vg;function Fo(w,P,F,H){this.j=w,this.i=P,this.l=F,this.R=H||1,this.U=new pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dk}function Dk(){this.i=null,this.g="",this.h=!1}var Ok={},Mw={};function Qw(w,P,F){w.L=1,w.v=Bg(Li(P)),w.m=F,w.P=!0,Rk(w,null)}function Rk(w,P){w.F=Date.now(),yg(w),w.A=Li(w.v);var F=w.A,H=w.R;Array.isArray(H)||(H=[String(H)]),Yk(F.i,"t",H),w.C=0,F=w.j.J,w.h=new Dk,w.g=mT(w.j,F?P:null,!w.m),0<w.O&&(w.M=new Ke(h(w.Y,w,w.g),w.O)),P=w.U,F=w.g,H=w.ca;var ae="readystatechange";Array.isArray(ae)||(ae&&(er[0]=ae.toString()),ae=er);for(var ue=0;ue<ae.length;ue++){var Fe=We(F,ae[ue],H||P.handleEvent,!1,P.h||P);if(!Fe)break;P.g[Fe.key]=Fe}P=w.H?E(w.H):{},w.m?(w.u||(w.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,P)):(w.u="GET",w.g.ea(w.A,w.u,null,P)),sn(),gg(w.i,w.u,w.A,w.l,w.R,w.m)}Fo.prototype.ca=function(w){w=w.target;const P=this.M;P&&$i(w)==3?P.j():this.Y(w)},Fo.prototype.Y=function(w){try{if(w==this.g)e:{const Kn=$i(this.g);var P=this.g.Ba();const Ku=this.g.Z();if(!(3>Kn)&&(Kn!=3||this.g&&(this.h.h||this.g.oa()||aT(this.g)))){this.J||Kn!=4||P==7||(P==8||0>=Ku?sn(3):sn(2)),Lw(this);var F=this.g.Z();this.X=F;t:if(Uk(this)){var H=aT(this.g);w="";var ae=H.length,ue=$i(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dc(this),Fh(this);var Fe="";break t}this.h.i=new l.TextDecoder}for(P=0;P<ae;P++)this.h.h=!0,w+=this.h.i.decode(H[P],{stream:!(ue&&P==ae-1)});H.length=0,this.h.g+=w,this.C=0,Fe=this.h.g}else Fe=this.g.oa();if(this.o=F==200,Rw(this.i,this.u,this.A,this.l,this.R,Kn,F),this.o){if(this.T&&!this.K){t:{if(this.g){var gr,jn=this.g;if((gr=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(gr)){var qt=gr;break t}}qt=null}if(F=qt)$u(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$w(this,F);else{this.o=!1,this.s=3,Br(12),dc(this),Fh(this);break e}}if(this.P){F=!0;let Ns;for(;!this.J&&this.C<Fe.length;)if(Ns=VW(this,Fe),Ns==Mw){Kn==4&&(this.s=4,Br(14),F=!1),$u(this.i,this.l,null,"[Incomplete Response]");break}else if(Ns==Ok){this.s=4,Br(15),$u(this.i,this.l,Fe,"[Invalid Chunk]"),F=!1;break}else $u(this.i,this.l,Ns,null),$w(this,Ns);if(Uk(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Kn!=4||Fe.length!=0||this.h.h||(this.s=1,Br(16),F=!1),this.o=this.o&&F,!F)$u(this.i,this.l,Fe,"[Invalid Chunked Response]"),dc(this),Fh(this);else if(0<Fe.length&&!this.W){this.W=!0;var Vn=this.j;Vn.g==this&&Vn.ba&&!Vn.M&&(Vn.j.info("Great, no buffering proxy detected. Bytes received: "+Fe.length),Ww(Vn),Vn.M=!0,Br(11))}}else $u(this.i,this.l,Fe,null),$w(this,Fe);Kn==4&&dc(this),this.o&&!this.J&&(Kn==4?AT(this.j,this):(this.o=!1,yg(this)))}else oq(this.g),F==400&&0<Fe.indexOf("Unknown SID")?(this.s=3,Br(12)):(this.s=0,Br(13)),dc(this),Fh(this)}}}catch{}finally{}};function Uk(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function VW(w,P){var F=w.C,H=P.indexOf(`
`,F);return H==-1?Mw:(F=Number(P.substring(F,H)),isNaN(F)?Ok:(H+=1,H+F>P.length?Mw:(P=P.slice(H,H+F),w.C=H+F,P)))}Fo.prototype.cancel=function(){this.J=!0,dc(this)};function yg(w){w.S=Date.now()+w.I,Mk(w,w.I)}function Mk(w,P){if(w.B!=null)throw Error("WatchDog timer not null");w.B=tr(h(w.ba,w),P)}function Lw(w){w.B&&(l.clearTimeout(w.B),w.B=null)}Fo.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?($W(this.i,this.A),this.L!=2&&(sn(),Br(17)),dc(this),this.s=2,Fh(this)):Mk(this,this.S-w)};function Fh(w){w.j.G==0||w.J||AT(w.j,w)}function dc(w){Lw(w);var P=w.M;P&&typeof P.ma=="function"&&P.ma(),w.M=null,Vr(w.U),w.g&&(P=w.g,w.g=null,P.abort(),P.ma())}function $w(w,P){try{var F=w.j;if(F.G!=0&&(F.g==w||Hw(F.h,w))){if(!w.K&&Hw(F.h,w)&&F.G==3){try{var H=F.Da.g.parse(P)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ae=H;if(ae[0]==0){e:if(!F.u){if(F.g)if(F.g.F+3e3<w.F)Ng(F),Eg(F);else break e;Gw(F),Br(18)}}else F.za=ae[1],0<F.za-F.T&&37500>ae[2]&&F.F&&F.v==0&&!F.C&&(F.C=tr(h(F.Za,F),6e3));if(1>=$k(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else fc(F,11)}else if((w.K||F.g==w)&&Ng(F),!b(P))for(ae=F.Da.g.parse(P),P=0;P<ae.length;P++){let qt=ae[P];if(F.T=qt[0],qt=qt[1],F.G==2)if(qt[0]=="c"){F.K=qt[1],F.ia=qt[2];const Vn=qt[3];Vn!=null&&(F.la=Vn,F.j.info("VER="+F.la));const Kn=qt[4];Kn!=null&&(F.Aa=Kn,F.j.info("SVER="+F.Aa));const Ku=qt[5];Ku!=null&&typeof Ku=="number"&&0<Ku&&(H=1.5*Ku,F.L=H,F.j.info("backChannelRequestTimeoutMs_="+H)),H=F;const Ns=w.g;if(Ns){const Tg=Ns.g?Ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tg){var ue=H.h;ue.g||Tg.indexOf("spdy")==-1&&Tg.indexOf("quic")==-1&&Tg.indexOf("h2")==-1||(ue.j=ue.l,ue.g=new Set,ue.h&&(Vw(ue,ue.h),ue.h=null))}if(H.D){const qw=Ns.g?Ns.g.getResponseHeader("X-HTTP-Session-Id"):null;qw&&(H.ya=qw,kr(H.I,H.D,qw))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-w.F,F.j.info("Handshake RTT: "+F.R+"ms")),H=F;var Fe=w;if(H.qa=fT(H,H.J?H.ia:null,H.W),Fe.K){Hk(H.h,Fe);var gr=Fe,jn=H.L;jn&&(gr.I=jn),gr.B&&(Lw(gr),yg(gr)),H.g=Fe}else cT(H);0<F.i.length&&Sg(F)}else qt[0]!="stop"&&qt[0]!="close"||fc(F,7);else F.G==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?fc(F,7):zw(F):qt[0]!="noop"&&F.l&&F.l.ta(qt),F.v=0)}}sn(4)}catch{}}var KW=class{constructor(w,P){this.g=w,this.map=P}};function Qk(w){this.l=w||10,l.PerformanceNavigationTiming?(w=l.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Lk(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function $k(w){return w.h?1:w.g?w.g.size:0}function Hw(w,P){return w.h?w.h==P:w.g?w.g.has(P):!1}function Vw(w,P){w.g?w.g.add(P):w.h=P}function Hk(w,P){w.h&&w.h==P?w.h=null:w.g&&w.g.has(P)&&w.g.delete(P)}Qk.prototype.cancel=function(){if(this.i=Vk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Vk(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let P=w.i;for(const F of w.g.values())P=P.concat(F.D);return P}return p(w.i)}function zW(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(c(w)){for(var P=[],F=w.length,H=0;H<F;H++)P.push(w[H]);return P}P=[],F=0;for(H in w)P[F++]=w[H];return P}function GW(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(c(w)||typeof w=="string"){var P=[];w=w.length;for(var F=0;F<w;F++)P.push(F);return P}P=[],F=0;for(const H in w)P[F++]=H;return P}}}function Kk(w,P){if(w.forEach&&typeof w.forEach=="function")w.forEach(P,void 0);else if(c(w)||typeof w=="string")Array.prototype.forEach.call(w,P,void 0);else for(var F=GW(w),H=zW(w),ae=H.length,ue=0;ue<ae;ue++)P.call(void 0,H[ue],F&&F[ue],w)}var zk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WW(w,P){if(w){w=w.split("&");for(var F=0;F<w.length;F++){var H=w[F].indexOf("="),ae=null;if(0<=H){var ue=w[F].substring(0,H);ae=w[F].substring(H+1)}else ue=w[F];P(ue,ae?decodeURIComponent(ae.replace(/\+/g," ")):"")}}}function hc(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof hc){this.h=w.h,bg(this,w.j),this.o=w.o,this.g=w.g,wg(this,w.s),this.l=w.l;var P=w.i,F=new Rh;F.i=P.i,P.g&&(F.g=new Map(P.g),F.h=P.h),Gk(this,F),this.m=w.m}else w&&(P=String(w).match(zk))?(this.h=!1,bg(this,P[1]||"",!0),this.o=Dh(P[2]||""),this.g=Dh(P[3]||"",!0),wg(this,P[4]),this.l=Dh(P[5]||"",!0),Gk(this,P[6]||"",!0),this.m=Dh(P[7]||"")):(this.h=!1,this.i=new Rh(null,this.h))}hc.prototype.toString=function(){var w=[],P=this.j;P&&w.push(Oh(P,Wk,!0),":");var F=this.g;return(F||P=="file")&&(w.push("//"),(P=this.o)&&w.push(Oh(P,Wk,!0),"@"),w.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F=this.s,F!=null&&w.push(":",String(F))),(F=this.l)&&(this.g&&F.charAt(0)!="/"&&w.push("/"),w.push(Oh(F,F.charAt(0)=="/"?YW:XW,!0))),(F=this.i.toString())&&w.push("?",F),(F=this.m)&&w.push("#",Oh(F,ZW)),w.join("")};function Li(w){return new hc(w)}function bg(w,P,F){w.j=F?Dh(P,!0):P,w.j&&(w.j=w.j.replace(/:$/,""))}function wg(w,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);w.s=P}else w.s=null}function Gk(w,P,F){P instanceof Rh?(w.i=P,eq(w.i,w.h)):(F||(P=Oh(P,JW)),w.i=new Rh(P,w.h))}function kr(w,P,F){w.i.set(P,F)}function Bg(w){return kr(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Dh(w,P){return w?P?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Oh(w,P,F){return typeof w=="string"?(w=encodeURI(w).replace(P,qW),F&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function qW(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Wk=/[#\/\?@]/g,XW=/[#\?:]/g,YW=/[#\?]/g,JW=/[#\?@]/g,ZW=/#/g;function Rh(w,P){this.h=this.g=null,this.i=w||null,this.j=!!P}function Do(w){w.g||(w.g=new Map,w.h=0,w.i&&WW(w.i,function(P,F){w.add(decodeURIComponent(P.replace(/\+/g," ")),F)}))}t=Rh.prototype,t.add=function(w,P){Do(this),this.i=null,w=Hu(this,w);var F=this.g.get(w);return F||this.g.set(w,F=[]),F.push(P),this.h+=1,this};function qk(w,P){Do(w),P=Hu(w,P),w.g.has(P)&&(w.i=null,w.h-=w.g.get(P).length,w.g.delete(P))}function Xk(w,P){return Do(w),P=Hu(w,P),w.g.has(P)}t.forEach=function(w,P){Do(this),this.g.forEach(function(F,H){F.forEach(function(ae){w.call(P,ae,H,this)},this)},this)},t.na=function(){Do(this);const w=Array.from(this.g.values()),P=Array.from(this.g.keys()),F=[];for(let H=0;H<P.length;H++){const ae=w[H];for(let ue=0;ue<ae.length;ue++)F.push(P[H])}return F},t.V=function(w){Do(this);let P=[];if(typeof w=="string")Xk(this,w)&&(P=P.concat(this.g.get(Hu(this,w))));else{w=Array.from(this.g.values());for(let F=0;F<w.length;F++)P=P.concat(w[F])}return P},t.set=function(w,P){return Do(this),this.i=null,w=Hu(this,w),Xk(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[P]),this.h+=1,this},t.get=function(w,P){return w?(w=this.V(w),0<w.length?String(w[0]):P):P};function Yk(w,P,F){qk(w,P),0<F.length&&(w.i=null,w.g.set(Hu(w,P),p(F)),w.h+=F.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],P=Array.from(this.g.keys());for(var F=0;F<P.length;F++){var H=P[F];const ue=encodeURIComponent(String(H)),Fe=this.V(H);for(H=0;H<Fe.length;H++){var ae=ue;Fe[H]!==""&&(ae+="="+encodeURIComponent(String(Fe[H]))),w.push(ae)}}return this.i=w.join("&")};function Hu(w,P){return P=String(P),w.j&&(P=P.toLowerCase()),P}function eq(w,P){P&&!w.j&&(Do(w),w.i=null,w.g.forEach(function(F,H){var ae=H.toLowerCase();H!=ae&&(qk(this,H),Yk(this,ae,F))},w)),w.j=P}function tq(w,P){const F=new Rr;if(l.Image){const H=new Image;H.onload=f(Oo,F,"TestLoadImage: loaded",!0,P,H),H.onerror=f(Oo,F,"TestLoadImage: error",!1,P,H),H.onabort=f(Oo,F,"TestLoadImage: abort",!1,P,H),H.ontimeout=f(Oo,F,"TestLoadImage: timeout",!1,P,H),l.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=w}else P(!1)}function rq(w,P){const F=new Rr,H=new AbortController,ae=setTimeout(()=>{H.abort(),Oo(F,"TestPingServer: timeout",!1,P)},1e4);fetch(w,{signal:H.signal}).then(ue=>{clearTimeout(ae),ue.ok?Oo(F,"TestPingServer: ok",!0,P):Oo(F,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ae),Oo(F,"TestPingServer: error",!1,P)})}function Oo(w,P,F,H,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),H(F)}catch{}}function nq(){this.g=new Qi}function aq(w,P,F){const H=F||"";try{Kk(w,function(ae,ue){let Fe=ae;u(ae)&&(Fe=Nr(ae)),P.push(H+ue+"="+encodeURIComponent(Fe))})}catch(ae){throw P.push(H+"type="+encodeURIComponent("_badmap")),ae}}function Cg(w){this.l=w.Ub||null,this.j=w.eb||!1}g(Cg,Da),Cg.prototype.g=function(){return new _g(this.l,this.j)},Cg.prototype.i=function(w){return function(){return w}}({});function _g(w,P){ve.call(this),this.D=w,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(_g,ve),t=_g.prototype,t.open=function(w,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=P,this.readyState=1,Mh(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(P.body=w),(this.D||l).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Uh(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Mh(this)),this.g&&(this.readyState=3,Mh(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jk(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jk(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var P=w.value?w.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!w.done}))&&(this.response=this.responseText+=P)}w.done?Uh(this):Mh(this),this.readyState==3&&Jk(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,Uh(this))},t.Qa=function(w){this.g&&(this.response=w,Uh(this))},t.ga=function(){this.g&&Uh(this)};function Uh(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Mh(w)}t.setRequestHeader=function(w,P){this.u.append(w,P)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],P=this.h.entries();for(var F=P.next();!F.done;)F=F.value,w.push(F[0]+": "+F[1]),F=P.next();return w.join(`\r
`)};function Mh(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(_g.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Zk(w){let P="";return j(w,function(F,H){P+=H,P+=":",P+=F,P+=`\r
`}),P}function Kw(w,P,F){e:{for(H in F){var H=!1;break e}H=!0}H||(F=Zk(F),typeof w=="string"?F!=null&&encodeURIComponent(String(F)):kr(w,P,F))}function Mr(w){ve.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Mr,ve);var sq=/^https?$/i,iq=["POST","PUT"];t=Mr.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,P,F,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);P=P?P.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uw.g(),this.v=this.o?js(this.o):js(Uw),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(P,String(w),!0),this.B=!1}catch(ue){eT(this,ue);return}if(w=F||"",F=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ae in H)F.set(ae,H[ae]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const ue of H.keys())F.set(ue,H.get(ue));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(F.keys()).find(ue=>ue.toLowerCase()=="content-type"),ae=l.FormData&&w instanceof l.FormData,!(0<=Array.prototype.indexOf.call(iq,P,void 0))||H||ae||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ue,Fe]of F)this.g.setRequestHeader(ue,Fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nT(this),this.u=!0,this.g.send(w),this.u=!1}catch(ue){eT(this,ue)}};function eT(w,P){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=P,w.m=5,tT(w),jg(w)}function tT(w){w.A||(w.A=!0,qe(w,"complete"),qe(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,qe(this,"complete"),qe(this,"abort"),jg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jg(this,!0)),Mr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rT(this):this.bb())},t.bb=function(){rT(this)};function rT(w){if(w.h&&typeof o<"u"&&(!w.v[1]||$i(w)!=4||w.Z()!=2)){if(w.u&&$i(w)==4)we(w.Ea,0,w);else if(qe(w,"readystatechange"),$i(w)==4){w.h=!1;try{const Fe=w.Z();e:switch(Fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var F;if(!(F=P)){var H;if(H=Fe===0){var ae=String(w.D).match(zk)[1]||null;!ae&&l.self&&l.self.location&&(ae=l.self.location.protocol.slice(0,-1)),H=!sq.test(ae?ae.toLowerCase():"")}F=H}if(F)qe(w,"complete"),qe(w,"success");else{w.m=6;try{var ue=2<$i(w)?w.g.statusText:""}catch{ue=""}w.l=ue+" ["+w.Z()+"]",tT(w)}}finally{jg(w)}}}}function jg(w,P){if(w.g){nT(w);const F=w.g,H=w.v[0]?()=>{}:null;w.g=null,w.v=null,P||qe(w,"ready");try{F.onreadystatechange=H}catch{}}}function nT(w){w.I&&(l.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function $i(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<$i(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var P=this.g.responseText;return w&&P.indexOf(w)==0&&(P=P.substring(w.length)),pr(P)}};function aT(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function oq(w){const P={};w=(w.g&&2<=$i(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<w.length;H++){if(b(w[H]))continue;var F=k(w[H]);const ae=F[0];if(F=F[1],typeof F!="string")continue;F=F.trim();const ue=P[ae]||[];P[ae]=ue,ue.push(F)}C(P,function(H){return H.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qh(w,P,F){return F&&F.internalChannelParams&&F.internalChannelParams[w]||P}function sT(w){this.Aa=0,this.i=[],this.j=new Rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qh("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qh("baseRetryDelayMs",5e3,w),this.cb=Qh("retryDelaySeedMs",1e4,w),this.Wa=Qh("forwardChannelMaxRetries",2,w),this.wa=Qh("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new Qk(w&&w.concurrentRequestLimit),this.Da=new nq,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sT.prototype,t.la=8,t.G=1,t.connect=function(w,P,F,H){Br(0),this.W=w,this.H=P||{},F&&H!==void 0&&(this.H.OSID=F,this.H.OAID=H),this.F=this.X,this.I=fT(this,null,this.W),Sg(this)};function zw(w){if(iT(w),w.G==3){var P=w.U++,F=Li(w.I);if(kr(F,"SID",w.K),kr(F,"RID",P),kr(F,"TYPE","terminate"),Lh(w,F),P=new Fo(w,w.j,P),P.L=2,P.v=Bg(Li(F)),F=!1,l.navigator&&l.navigator.sendBeacon)try{F=l.navigator.sendBeacon(P.v.toString(),"")}catch{}!F&&l.Image&&(new Image().src=P.v,F=!0),F||(P.g=mT(P.j,null),P.g.ea(P.v)),P.F=Date.now(),yg(P)}hT(w)}function Eg(w){w.g&&(Ww(w),w.g.cancel(),w.g=null)}function iT(w){Eg(w),w.u&&(l.clearTimeout(w.u),w.u=null),Ng(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&l.clearTimeout(w.s),w.s=null)}function Sg(w){if(!Lk(w.h)&&!w.s){w.s=!0;var P=w.Ga;O||Q(),D||(O(),D=!0),R.add(P,w),w.B=0}}function lq(w,P){return $k(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=P.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=tr(h(w.Ga,w,P),dT(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const ae=new Fo(this,this.j,w);let ue=this.o;if(this.S&&(ue?(ue=E(ue),S(ue,this.S)):ue=this.S),this.m!==null||this.O||(ae.H=ue,ue=null),this.P)e:{for(var P=0,F=0;F<this.i.length;F++){t:{var H=this.i[F];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(P+=H,4096<P){P=F;break e}if(P===4096||F===this.i.length-1){P=F+1;break e}}P=1e3}else P=1e3;P=lT(this,ae,P),F=Li(this.I),kr(F,"RID",w),kr(F,"CVER",22),this.D&&kr(F,"X-HTTP-Session-Id",this.D),Lh(this,F),ue&&(this.O?P="headers="+encodeURIComponent(String(Zk(ue)))+"&"+P:this.m&&Kw(F,this.m,ue)),Vw(this.h,ae),this.Ua&&kr(F,"TYPE","init"),this.P?(kr(F,"$req",P),kr(F,"SID","null"),ae.T=!0,Qw(ae,F,null)):Qw(ae,F,P),this.G=2}}else this.G==3&&(w?oT(this,w):this.i.length==0||Lk(this.h)||oT(this))};function oT(w,P){var F;P?F=P.l:F=w.U++;const H=Li(w.I);kr(H,"SID",w.K),kr(H,"RID",F),kr(H,"AID",w.T),Lh(w,H),w.m&&w.o&&Kw(H,w.m,w.o),F=new Fo(w,w.j,F,w.B+1),w.m===null&&(F.H=w.o),P&&(w.i=P.D.concat(w.i)),P=lT(w,F,1e3),F.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Vw(w.h,F),Qw(F,H,P)}function Lh(w,P){w.H&&j(w.H,function(F,H){kr(P,H,F)}),w.l&&Kk({},function(F,H){kr(P,H,F)})}function lT(w,P,F){F=Math.min(w.i.length,F);var H=w.l?h(w.l.Na,w.l,w):null;e:{var ae=w.i;let ue=-1;for(;;){const Fe=["count="+F];ue==-1?0<F?(ue=ae[0].g,Fe.push("ofs="+ue)):ue=0:Fe.push("ofs="+ue);let gr=!0;for(let jn=0;jn<F;jn++){let qt=ae[jn].g;const Vn=ae[jn].map;if(qt-=ue,0>qt)ue=Math.max(0,ae[jn].g-100),gr=!1;else try{aq(Vn,Fe,"req"+qt+"_")}catch{H&&H(Vn)}}if(gr){H=Fe.join("&");break e}}}return w=w.i.splice(0,F),P.D=w,H}function cT(w){if(!w.g&&!w.u){w.Y=1;var P=w.Fa;O||Q(),D||(O(),D=!0),R.add(P,w),w.v=0}}function Gw(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=tr(h(w.Fa,w),dT(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,uT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=tr(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Br(10),Eg(this),uT(this))};function Ww(w){w.A!=null&&(l.clearTimeout(w.A),w.A=null)}function uT(w){w.g=new Fo(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var P=Li(w.qa);kr(P,"RID","rpc"),kr(P,"SID",w.K),kr(P,"AID",w.T),kr(P,"CI",w.F?"0":"1"),!w.F&&w.ja&&kr(P,"TO",w.ja),kr(P,"TYPE","xmlhttp"),Lh(w,P),w.m&&w.o&&Kw(P,w.m,w.o),w.L&&(w.g.I=w.L);var F=w.g;w=w.ia,F.L=1,F.v=Bg(Li(P)),F.m=null,F.P=!0,Rk(F,w)}t.Za=function(){this.C!=null&&(this.C=null,Eg(this),Gw(this),Br(19))};function Ng(w){w.C!=null&&(l.clearTimeout(w.C),w.C=null)}function AT(w,P){var F=null;if(w.g==P){Ng(w),Ww(w),w.g=null;var H=2}else if(Hw(w.h,P))F=P.D,Hk(w.h,P),H=1;else return;if(w.G!=0){if(P.o)if(H==1){F=P.m?P.m.length:0,P=Date.now()-P.F;var ae=w.B;H=Pt(),qe(H,new Oa(H,F)),Sg(w)}else cT(w);else if(ae=P.s,ae==3||ae==0&&0<P.X||!(H==1&&lq(w,P)||H==2&&Gw(w)))switch(F&&0<F.length&&(P=w.h,P.i=P.i.concat(F)),ae){case 1:fc(w,5);break;case 4:fc(w,10);break;case 3:fc(w,6);break;default:fc(w,2)}}}function dT(w,P){let F=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(F*=2),F*P}function fc(w,P){if(w.j.info("Error code "+P),P==2){var F=h(w.fb,w),H=w.Xa;const ae=!H;H=new hc(H||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bg(H,"https"),Bg(H),ae?tq(H.toString(),F):rq(H.toString(),F)}else Br(2);w.G=0,w.l&&w.l.sa(P),hT(w),iT(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Br(2)):(this.j.info("Failed to ping google.com"),Br(1))};function hT(w){if(w.G=0,w.ka=[],w.l){const P=Vk(w.h);(P.length!=0||w.i.length!=0)&&(m(w.ka,P),m(w.ka,w.i),w.h.i.length=0,p(w.i),w.i.length=0),w.l.ra()}}function fT(w,P,F){var H=F instanceof hc?Li(F):new hc(F);if(H.g!="")P&&(H.g=P+"."+H.g),wg(H,H.s);else{var ae=l.location;H=ae.protocol,P=P?P+"."+ae.hostname:ae.hostname,ae=+ae.port;var ue=new hc(null);H&&bg(ue,H),P&&(ue.g=P),ae&&wg(ue,ae),F&&(ue.l=F),H=ue}return F=w.D,P=w.ya,F&&P&&kr(H,F,P),kr(H,"VER",w.la),Lh(w,H),H}function mT(w,P,F){if(P&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=w.Ca&&!w.pa?new Mr(new Cg({eb:F})):new Mr(w.pa),P.Ha(w.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pT(){}t=pT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kg(){}kg.prototype.g=function(w,P){return new Ra(w,P)};function Ra(w,P){ve.call(this),this.g=new sT(P),this.l=w,this.h=P&&P.messageUrlParams||null,w=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(w?w["X-WebChannel-Content-Type"]=P.messageContentType:w={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(w?w["X-WebChannel-Client-Profile"]=P.va:w={"X-WebChannel-Client-Profile":P.va}),this.g.S=w,(w=P&&P.Sb)&&!b(w)&&(this.g.m=w),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!b(P)&&(this.g.D=P,w=this.h,w!==null&&P in w&&(w=this.h,P in w&&delete w[P])),this.j=new Vu(this)}g(Ra,ve),Ra.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ra.prototype.close=function(){zw(this.g)},Ra.prototype.o=function(w){var P=this.g;if(typeof w=="string"){var F={};F.__data__=w,w=F}else this.u&&(F={},F.__data__=Nr(w),w=F);P.i.push(new KW(P.Ya++,w)),P.G==3&&Sg(P)},Ra.prototype.N=function(){this.g.l=null,delete this.j,zw(this.g),delete this.g,Ra.aa.N.call(this)};function gT(w){Es.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var P=w.__sm__;if(P){e:{for(const F in P){w=F;break e}w=void 0}(this.i=w)&&(w=this.i,P=P!==null&&w in P?P[w]:void 0),this.data=P}else this.data=w}g(gT,Es);function xT(){wa.call(this),this.status=1}g(xT,wa);function Vu(w){this.g=w}g(Vu,pT),Vu.prototype.ua=function(){qe(this.g,"a")},Vu.prototype.ta=function(w){qe(this.g,new gT(w))},Vu.prototype.sa=function(w){qe(this.g,new xT)},Vu.prototype.ra=function(){qe(this.g,"b")},kg.prototype.createWebChannel=kg.prototype.g,Ra.prototype.send=Ra.prototype.o,Ra.prototype.open=Ra.prototype.m,Ra.prototype.close=Ra.prototype.close,Z3=function(){return new kg},J3=function(){return Pt()},Y3=Ss,v_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xg.NO_ERROR=0,xg.TIMEOUT=8,xg.HTTP_ERROR=6,z0=xg,Fk.COMPLETE="complete",X3=Fk,rs.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Cf=rs,Mr.prototype.listenOnce=Mr.prototype.L,Mr.prototype.getLastError=Mr.prototype.Ka,Mr.prototype.getLastErrorCode=Mr.prototype.Ba,Mr.prototype.getStatus=Mr.prototype.Z,Mr.prototype.getResponseJson=Mr.prototype.Oa,Mr.prototype.getResponseText=Mr.prototype.oa,Mr.prototype.send=Mr.prototype.ea,Mr.prototype.setWithCredentials=Mr.prototype.Ha,q3=Mr}).apply(typeof Hg<"u"?Hg:typeof self<"u"?self:typeof window<"u"?window:{});const QI="@firebase/firestore",LI="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new $3("@firebase/firestore");function yA(){return du.logLevel}function Te(t,...e){if(du.logLevel<=zt.DEBUG){const r=e.map(ZS);du.debug(`Firestore (${Ah}): ${t}`,...r)}}function Ga(t,...e){if(du.logLevel<=zt.ERROR){const r=e.map(ZS);du.error(`Firestore (${Ah}): ${t}`,...r)}}function Mp(t,...e){if(du.logLevel<=zt.WARN){const r=e.map(ZS);du.warn(`Firestore (${Ah}): ${t}`,...r)}}function ZS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,e6(t,n,r)}function e6(t,e,r){let n=`FIRESTORE (${Ah}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ga(n),new Error(n)}function At(t,e,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,t||e6(e,a,n)}function wr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Pu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _se{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(In.UNAUTHENTICATED))}shutdown(){}}class jse{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ese{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){At(this.o===void 0,42304);let n=this.i;const a=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let i=new El;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new El,e.enqueueRetryable(()=>a(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},l=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new El)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(At(typeof n.accessToken=="string",31837,{l:n}),new t6(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new In(e)}}class Sse{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nse{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Sse(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $I{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kse{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cse(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){At(this.o===void 0,3512);const n=i=>{i.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const a=i=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $I(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(At(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new $I(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tse(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ise(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Tse(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=e.charAt(a[i]%62))}return n}}function Ct(t,e){return t<e?-1:t>e?1:0}function y_(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),a=e.codePointAt(r);if(n!==a){if(n<128&&a<128)return Ct(n,a);{const i=Ise(),o=Pse(i.encode(HI(t,r)),i.encode(HI(e,r)));return o!==0?o:Ct(n,a)}}r+=n>65535?2:1}return Ct(t.length,e.length)}function HI(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Pse(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Ct(t[r],e[r]);return Ct(t.length,e.length)}function cd(t,e,r){return t.length===e.length&&t.every((n,a)=>r(n,e[a]))}function n6(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=-62135596800,KI=1e6;class $r{static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*KI);return new $r(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new rt(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new rt(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<VI)throw new rt(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KI}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-VI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{static fromTimestamp(e){return new Lt(e)}static min(){return new Lt(new $r(0,0))}static max(){return new Lt(new $r(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="__name__";class ci{constructor(e,r,n){r===void 0?r=0:r>e.length&&ot(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ot(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let a=0;a<n;a++){const i=ci.compareSegments(e.get(a),r.get(a));if(i!==0)return i}return Ct(e.length,r.length)}static compareSegments(e,r){const n=ci.isNumericId(e),a=ci.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?ci.extractNumericId(e).compare(ci.extractNumericId(r)):y_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return JS.fromString(e.substring(4,e.length-2))}}class xr extends ci{construct(e,r,n){return new xr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new rt(ye.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new xr(r)}static emptyPath(){return new xr([])}}const Fse=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ur extends ci{construct(e,r,n){return new Ur(e,r,n)}static isValidIdentifier(e){return Fse.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zI}static keyField(){return new Ur([zI])}static fromServerFormat(e){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new rt(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;a<e.length;){const l=e[a];if(l==="\\"){if(a+1===e.length)throw new rt(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new rt(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,a+=2}else l==="`"?(o=!o,a++):l!=="."||o?(n+=l,a++):(i(),a++)}if(i(),o)throw new rt(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ur(r)}static emptyPath(){return new Ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(xr.fromString(e))}static fromName(e){return new et(xr.fromString(e).popFirst(5))}static empty(){return new et(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return xr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new xr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;class Tx{constructor(e,r,n,a){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=a}}function b_(t){return t.fields.find(e=>e.kind===2)}function jc(t){return t.fields.filter(e=>e.kind!==2)}Tx.UNKNOWN_ID=-1;class G0{constructor(e,r){this.fieldPath=e,this.kind=r}}class bm{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new bm(0,Ja.min())}}function Dse(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,a=Lt.fromTimestamp(n===1e9?new $r(r+1,0):new $r(r,n));return new Ja(a,et.empty(),e)}function a6(t){return new Ja(t.readTime,t.key,ym)}class Ja{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Ja(Lt.min(),et.empty(),ym)}static max(){return new Ja(Lt.max(),et.empty(),ym)}}function e2(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=et.comparator(t.documentKey,e.documentKey),r!==0?r:Ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class i6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wy(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==s6)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ot(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new se((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):se.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):se.reject(r)}static resolve(e){return new se((r,n)=>{r(e)})}static reject(e){return new se((r,n)=>{n(e)})}static waitFor(e){return new se((r,n)=>{let a=0,i=0,o=!1;e.forEach(l=>{++a,l.next(()=>{++i,o&&i===a&&r()},c=>n(c))}),o=!0,i===a&&r()})}static or(e){let r=se.resolve(!1);for(const n of e)r=r.next(a=>a?se.resolve(a):n());return r}static forEach(e,r){const n=[];return e.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(e,r){return new se((n,a)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;r(e[u]).next(A=>{o[u]=A,++l,l===i&&n(o)},A=>a(A))}})}static doWhile(e,r){return new se((n,a)=>{const i=()=>{e()===!0?r().next(()=>{i()},a):n()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="SimpleDb";class qy{static open(e,r,n,a){try{return new qy(r,e.transaction(a,n))}catch(i){throw new $f(r,i)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new El,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new $f(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const a=t2(n.target.error);this.S.reject(new $f(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(Te(Ha,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Rse(r)}}class Sl{static delete(e){return Te(Ha,"Removing database:",e),Fc(O3().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!XS())return!1;if(Sl.F())return!0;const e=Sx(),r=Sl.M(e),n=0<r&&r<10,a=o6(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,Sl.M(Sx())===12.2&&Ga("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(Te(Ha,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=i=>{const o=i.target.result;r(o)},a.onblocked=()=>{n(new $f(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=i=>{const o=i.target.error;o.name==="VersionError"?n(new rt(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new rt(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new $f(e,o))},a.onupgradeneeded=i=>{Te(Ha,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const o=i.target.result;if(this.L!==null&&this.L!==i.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${i.oldVersion}, event.newVersion=${i.newVersion}, db.version=${o.version}`);this.B.q(o,a.transaction,i.oldVersion,this.version).next(()=>{Te(Ha,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,a){const i=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=qy.open(this.db,e,i?"readonly":"readwrite",n),c=a(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),se.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(Te(Ha,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function o6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Ose{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return Fc(this.K.delete())}}class $f extends rt{constructor(e,r){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Fu(t){return t.name==="IndexedDbTransactionError"}class Rse{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(Te(Ha,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(Te(Ha,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Fc(n)}add(e){return Te(Ha,"ADD",this.store.name,e,e),Fc(this.store.add(e))}get(e){return Fc(this.store.get(e)).next(r=>(r===void 0&&(r=null),Te(Ha,"GET",this.store.name,e,r),r))}delete(e){return Te(Ha,"DELETE",this.store.name,e),Fc(this.store.delete(e))}count(){return Te(Ha,"COUNT",this.store.name),Fc(this.store.count())}J(e,r){const n=this.options(e,r),a=n.index?this.store.index(n.index):this.store;if(typeof a.getAll=="function"){const i=a.getAll(n.range);return new se((o,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{o(c.target.result)}})}{const i=this.cursor(n),o=[];return this.Y(i,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new se((a,i)=>{n.onerror=o=>{i(o.target.error)},n.onsuccess=o=>{a(o.target.result)}})}X(e,r){Te(Ha,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const a=this.cursor(n);return this.Y(a,(i,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const a=this.cursor(n);return this.Y(a,r)}ne(e){const r=this.cursor({});return new se((n,a)=>{r.onerror=i=>{const o=t2(i.target.error);a(o)},r.onsuccess=i=>{const o=i.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new se((a,i)=>{e.onerror=o=>{i(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void a();const c=new Ose(l),u=r(l.primaryKey,l.value,c);if(u instanceof se){const A=u.catch(d=>(c.done(),se.reject(d)));n.push(A)}c.isDone?a():c.j===null?l.continue():l.continue(c.j)}}).next(()=>se.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function Fc(t){return new se((e,r)=>{t.onsuccess=n=>{const a=n.target.result;e(a)},t.onerror=n=>{const a=t2(n.target.error);r(a)}})}let GI=!1;function t2(t){const e=Sl.M(Sx());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new rt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return GI||(GI=!0,setTimeout(()=>{throw n},0)),n}}return t}const Hf="IndexBackfiller";class Use{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){Te(Hf,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();Te(Hf,`Documents written: ${r}`)}catch(r){Fu(r)?Te(Hf,"Ignoring IndexedDB error during index backfill: ",r):await Wy(r)}await this.ie(6e4)})}}class Mse{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let a=r,i=!0;return se.doWhile(()=>i===!0&&a>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return Te(Hf,`Processing collection: ${o}`),this._e(e,o,a).next(l=>{a-=l,n.add(o)});i=!1})).next(()=>r-a)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(a=>this.localStore.localDocuments.getNextDocuments(e,r,a,n).next(i=>{const o=i.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(a,i)).next(l=>(Te(Hf,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((a,i)=>{const o=a6(i);e2(o,n)>0&&(n=o)}),new Ja(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Ws.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function Xy(t){return t==null}function wm(t){return t===0&&1/t==-1/0}function Qse(t){return typeof t=="number"&&Number.isInteger(t)&&!wm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="";function na(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=WI(e)),e=Lse(t.get(r),e);return WI(e)}function Lse(t,e){let r=e;const n=t.length;for(let a=0;a<n;a++){const i=t.charAt(a);switch(i){case"\0":r+="";break;case Ix:r+="";break;default:r+=i}}return r}function WI(t){return t+Ix+""}function xi(t){const e=t.length;if(At(e>=2,64408,{path:t}),e===2)return At(t.charAt(0)===Ix&&t.charAt(1)==="",56145,{path:t}),xr.emptyPath();const r=e-2,n=[];let a="";for(let i=0;i<e;){const o=t.indexOf(Ix,i);switch((o<0||o>r)&&ot(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(i,o);let c;a.length===0?c=l:(a+=l,c=a,a=""),n.push(c);break;case"":a+=t.substring(i,o),a+="\0";break;case"":a+=t.substring(i,o+1);break;default:ot(61167,{path:t})}i=o+2}return new xr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="remoteDocuments",Qp="owner",Xu="owner",Bm="mutationQueues",$se="userId",Us="mutations",qI="batchId",Qc="userMutationsIndex",XI=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e){return[t,na(e)]}function l6(t,e,r){return[t,na(e),r]}const Hse={},ud="documentMutations",Px="remoteDocumentsV14",Vse=["prefixPath","collectionGroup","readTime","documentId"],q0="documentKeyIndex",Kse=["prefixPath","collectionGroup","documentId"],c6="collectionGroupIndex",zse=["collectionGroup","readTime","prefixPath","documentId"],Cm="remoteDocumentGlobal",w_="remoteDocumentGlobalKey",Ad="targets",u6="queryTargetsIndex",Gse=["canonicalId","targetId"],dd="targetDocuments",Wse=["targetId","path"],r2="documentTargetsIndex",qse=["path","targetId"],Fx="targetGlobalKey",nu="targetGlobal",_m="collectionParents",Xse=["collectionId","parent"],hd="clientMetadata",Yse="clientId",Yy="bundles",Jse="bundleId",Jy="namedQueries",Zse="name",n2="indexConfiguration",eie="indexId",B_="collectionGroupIndex",tie="collectionGroup",Vf="indexState",rie=["indexId","uid"],A6="sequenceNumberIndex",nie=["uid","sequenceNumber"],Kf="indexEntries",aie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],d6="documentKeyIndex",sie=["indexId","uid","orderedDocumentKey"],Zy="documentOverlays",iie=["userId","collectionPath","documentId"],C_="collectionPathOverlayIndex",oie=["userId","collectionPath","largestBatchId"],h6="collectionGroupOverlayIndex",lie=["userId","collectionGroup","largestBatchId"],a2="globals",cie="name",f6=[Bm,Us,ud,Ec,Ad,Qp,nu,dd,hd,Cm,_m,Yy,Jy],uie=[...f6,Zy],m6=[Bm,Us,ud,Px,Ad,Qp,nu,dd,hd,Cm,_m,Yy,Jy,Zy],p6=m6,s2=[...p6,n2,Vf,Kf],Aie=s2,g6=[...s2,a2],die=g6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends i6{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function dn(t,e){const r=wr(t);return Sl.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function dh(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function x6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,r){this.comparator=e,this.root=r||Pn.EMPTY}insert(e,r){return new pa(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new pa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vg(this.root,e,this.comparator,!0)}}class Vg{constructor(e,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,r,n,a,i){this.key=e,this.value=r,this.color=n??Pn.RED,this.left=a??Pn.EMPTY,this.right=i??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,a,i){return new Pn(e??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let a=this;const i=n(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,a=this;if(r(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(e,a.key)===0){if(a.right.isEmpty())return Pn.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ot(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ot(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ot(27949);return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot(57766)}get value(){throw ot(16141)}get color(){throw ot(16727)}get left(){throw ot(29726)}get right(){throw ot(36894)}copy(e,r,n,a,i){return this}insert(e,r,n){return new Pn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new pa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;r(a.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new JI(this.data.getIterator())}getIteratorFrom(e){return new JI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new yr(this.comparator);return r.data=e,r}}class JI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Yu(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.fields=e,e.sort(Ur.comparator)}static empty(){return new As([])}unionWith(e){let r=new yr(Ur.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new As(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return cd(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hie extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hie("Invalid base64 string: "+i):i}}(e);return new Ia(r)}static fromUint8Array(e){const r=function(a){let i="";for(let o=0;o<a.length;++o)i+=String.fromCharCode(a[o]);return i}(e);return new Ia(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ia.EMPTY_BYTE_STRING=new Ia("");const fie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ll(t){if(At(!!t,39018),typeof t=="string"){let e=0;const r=fie.exec(t);if(At(!!r,46558,{timestamp:t}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:tn(t.seconds),nanos:tn(t.nanos)}}function tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hu(t){return typeof t=="string"?Ia.fromBase64String(t):Ia.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="server_timestamp",y6="__type__",b6="__previous_value__",w6="__local_write_time__";function i2(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[y6])===null||r===void 0?void 0:r.stringValue)===v6}function o2(t){const e=t.mapValue.fields[b6];return i2(e)?o2(e):e}function Dx(t){const e=Ll(t.mapValue.fields[w6].timestampValue);return new $r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mie{constructor(e,r,n,a,i,o,l,c,u,A){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=A}}const Ox="(default)";class fd{constructor(e,r){this.projectId=e,this.database=r||Ox}static empty(){return new fd("","")}get isDefaultDatabase(){return this.database===Ox}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="__type__",B6="__max__",pl={mapValue:{fields:{__type__:{stringValue:B6}}}},c2="__vector__",jm="value",X0={nullValue:"NULL_VALUE"};function fu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i2(t)?4:C6(t)?9007199254740991:eb(t)?10:11:ot(28295,{value:t})}function ki(t,e){if(t===e)return!0;const r=fu(t);if(r!==fu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dx(t).isEqual(Dx(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const o=Ll(a.timestampValue),l=Ll(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return hu(a.bytesValue).isEqual(hu(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return tn(a.geoPointValue.latitude)===tn(i.geoPointValue.latitude)&&tn(a.geoPointValue.longitude)===tn(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return tn(a.integerValue)===tn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const o=tn(a.doubleValue),l=tn(i.doubleValue);return o===l?wm(o)===wm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return cd(t.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return function(a,i){const o=a.mapValue.fields||{},l=i.mapValue.fields||{};if(YI(o)!==YI(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!ki(o[c],l[c])))return!1;return!0}(t,e);default:return ot(52216,{left:t})}}function Em(t,e){return(t.values||[]).find(r=>ki(r,e))!==void 0}function $l(t,e){if(t===e)return 0;const r=fu(t),n=fu(e);if(r!==n)return Ct(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ct(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=tn(i.integerValue||i.doubleValue),c=tn(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return ZI(t.timestampValue,e.timestampValue);case 4:return ZI(Dx(t),Dx(e));case 5:return y_(t.stringValue,e.stringValue);case 6:return function(i,o){const l=hu(i),c=hu(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const A=Ct(l[u],c[u]);if(A!==0)return A}return Ct(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ct(tn(i.latitude),tn(o.latitude));return l!==0?l:Ct(tn(i.longitude),tn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e4(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,u,A;const d=i.fields||{},h=o.fields||{},f=(l=d[jm])===null||l===void 0?void 0:l.arrayValue,g=(c=h[jm])===null||c===void 0?void 0:c.arrayValue,p=Ct(((u=f==null?void 0:f.values)===null||u===void 0?void 0:u.length)||0,((A=g==null?void 0:g.values)===null||A===void 0?void 0:A.length)||0);return p!==0?p:e4(f,g)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===pl.mapValue&&o===pl.mapValue)return 0;if(i===pl.mapValue)return 1;if(o===pl.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=o.fields||{},A=Object.keys(u);c.sort(),A.sort();for(let d=0;d<c.length&&d<A.length;++d){const h=y_(c[d],A[d]);if(h!==0)return h;const f=$l(l[c[d]],u[A[d]]);if(f!==0)return f}return Ct(c.length,A.length)}(t.mapValue,e.mapValue);default:throw ot(23264,{Pe:r})}}function ZI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ct(t,e);const r=Ll(t),n=Ll(e),a=Ct(r.seconds,n.seconds);return a!==0?a:Ct(r.nanos,n.nanos)}function e4(t,e){const r=t.values||[],n=e.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=$l(r[a],n[a]);if(i)return i}return Ct(r.length,n.length)}function md(t){return j_(t)}function j_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ll(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return hu(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return et.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=j_(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const o of n)i?i=!1:a+=",",a+=`${o}:${j_(r.fields[o])}`;return a+"}"}(t.mapValue):ot(61005,{value:t})}function Y0(t){switch(fu(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o2(t);return e?16+Y0(e):16;case 5:return 2*t.stringValue.length;case 6:return hu(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Y0(i),0)}(t.arrayValue);case 10:case 11:return function(n){let a=0;return dh(n.fields,(i,o)=>{a+=i.length+Y0(o)}),a}(t.mapValue);default:throw ot(13486,{value:t})}}function u2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function E_(t){return!!t&&"integerValue"in t}function Sm(t){return!!t&&"arrayValue"in t}function t4(t){return!!t&&"nullValue"in t}function r4(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function J0(t){return!!t&&"mapValue"in t}function eb(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[l2])===null||r===void 0?void 0:r.stringValue)===c2}function zf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return dh(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=zf(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zf(t.arrayValue.values[r]);return e}return Object.assign({},t)}function C6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===B6}const _6={mapValue:{fields:{[l2]:{stringValue:c2},[jm]:{arrayValue:{}}}}};function pie(t){return"nullValue"in t?X0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?u2(fd.empty(),et.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?eb(t)?_6:{mapValue:{}}:ot(35942,{value:t})}function gie(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?u2(fd.empty(),et.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?_6:"mapValue"in t?eb(t)?{mapValue:{}}:pl:ot(61959,{value:t})}function n4(t,e){const r=$l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function a4(t,e){const r=$l(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.value=e}static empty(){return new Wa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!J0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zf(r)}setAll(e){let r=Ur.emptyPath(),n={},a=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,a),n={},a=[],r=l.popLast()}o?n[l.lastSegment()]=zf(o):a.push(l.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(e){const r=this.field(e.popLast());J0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=r.mapValue.fields[e.get(n)];J0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(e,r,n){dh(r,(a,i)=>e[a]=i);for(const a of n)delete e[a]}clone(){return new Wa(zf(this.value))}}function j6(t){const e=[];return dh(t.fields,(r,n)=>{const a=new Ur([r]);if(J0(n)){const i=j6(n.mapValue).fields;if(i.length===0)e.push(a);else for(const o of i)e.push(a.child(o))}else e.push(a)}),new As(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,r,n,a,i,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new On(e,0,Lt.min(),Lt.min(),Lt.min(),Wa.empty(),0)}static newFoundDocument(e,r,n,a){return new On(e,1,r,Lt.min(),n,a,0)}static newNoDocument(e,r){return new On(e,2,r,Lt.min(),Lt.min(),Wa.empty(),0)}static newUnknownDocument(e,r){return new On(e,3,r,Lt.min(),Lt.min(),Wa.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Lt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof On&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new On(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,r){this.position=e,this.inclusive=r}}function s4(t,e,r){let n=0;for(let a=0;a<t.position.length;a++){const i=e[a],o=t.position[a];if(i.field.isKeyField()?n=et.comparator(et.fromName(o.referenceValue),r.key):n=$l(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function i4(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ki(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,r="asc"){this.field=e,this.dir=r}}function xie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{}class $t extends E6{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new vie(e,r,n):r==="array-contains"?new wie(e,n):r==="in"?new P6(e,n):r==="not-in"?new Bie(e,n):r==="array-contains-any"?new Cie(e,n):new $t(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new yie(e,n):new bie(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison($l(r,this.value)):r!==null&&fu(this.value)===fu(r)&&this.matchesComparison($l(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ot(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends E6{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new fr(e,r)}matches(e){return gd(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function gd(t){return t.op==="and"}function S_(t){return t.op==="or"}function A2(t){return S6(t)&&gd(t)}function S6(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function N_(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+md(t.value);if(A2(t))return t.filters.map(e=>N_(e)).join(",");{const e=t.filters.map(r=>N_(r)).join(",");return`${t.op}(${e})`}}function N6(t,e){return t instanceof $t?function(n,a){return a instanceof $t&&n.op===a.op&&n.field.isEqual(a.field)&&ki(n.value,a.value)}(t,e):t instanceof fr?function(n,a){return a instanceof fr&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,o,l)=>i&&N6(o,a.filters[l]),!0):!1}(t,e):void ot(19439)}function k6(t,e){const r=t.filters.concat(e);return fr.create(r,t.op)}function T6(t){return t instanceof $t?function(r){return`${r.field.canonicalString()} ${r.op} ${md(r.value)}`}(t):t instanceof fr?function(r){return r.op.toString()+" {"+r.getFilters().map(T6).join(" ,")+"}"}(t):"Filter"}class vie extends $t{constructor(e,r,n){super(e,r,n),this.key=et.fromName(n.referenceValue)}matches(e){const r=et.comparator(e.key,this.key);return this.matchesComparison(r)}}class yie extends $t{constructor(e,r){super(e,"in",r),this.keys=I6("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class bie extends $t{constructor(e,r){super(e,"not-in",r),this.keys=I6("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function I6(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>et.fromName(n.referenceValue))}class wie extends $t{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Sm(r)&&Em(r.arrayValue,this.value)}}class P6 extends $t{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Em(this.value.arrayValue,r)}}class Bie extends $t{constructor(e,r){super(e,"not-in",r)}matches(e){if(Em(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Em(this.value.arrayValue,r)}}class Cie extends $t{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Sm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Em(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e,r=null,n=[],a=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function k_(t,e=null,r=[],n=[],a=null,i=null,o=null){return new _ie(t,e,r,n,a,i,o)}function mu(t){const e=wr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>N_(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Xy(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>md(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>md(n)).join(",")),e.Ie=r}return e.Ie}function Lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!xie(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!N6(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!i4(t.startAt,e.startAt)&&i4(t.endAt,e.endAt)}function jie(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Ux(t,e){return t.filters.filter(r=>r instanceof $t&&r.field.isEqual(e))}function o4(t,e,r){let n=X0,a=!0;for(const i of Ux(t,e)){let o=X0,l=!0;switch(i.op){case"<":case"<=":o=pie(i.value);break;case"==":case"in":case">=":o=i.value;break;case">":o=i.value,l=!1;break;case"!=":case"not-in":o=X0}n4({value:n,inclusive:a},{value:o,inclusive:l})<0&&(n=o,a=l)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=r.position[i];n4({value:n,inclusive:a},{value:o,inclusive:r.inclusive})<0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}function l4(t,e,r){let n=pl,a=!0;for(const i of Ux(t,e)){let o=pl,l=!0;switch(i.op){case">=":case">":o=gie(i.value),l=!1;break;case"==":case"in":case"<=":o=i.value;break;case"<":o=i.value,l=!1;break;case"!=":case"not-in":o=pl}a4({value:n,inclusive:a},{value:o,inclusive:l})>0&&(n=o,a=l)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const o=r.position[i];a4({value:n,inclusive:a},{value:o,inclusive:r.inclusive})>0&&(n=o,a=r.inclusive);break}}return{value:n,inclusive:a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,r=null,n=[],a=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Eie(t,e,r,n,a,i,o,l){return new tb(t,e,r,n,a,i,o,l)}function F6(t){return new tb(t)}function c4(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Sie(t){return t.collectionGroup!==null}function Gf(t){const e=wr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new yr(Ur.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Rx(i,n))}),r.has(Ur.keyField().canonicalString())||e.Ee.push(new Rx(Ur.keyField(),n))}return e.Ee}function io(t){const e=wr(t);return e.de||(e.de=Nie(e,Gf(t))),e.de}function Nie(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Rx(a.field,i)});const r=t.endAt?new pd(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new pd(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function T_(t,e,r){return new tb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function D6(t,e){return Lp(io(t),io(e))&&t.limitType===e.limitType}function O6(t){return`${mu(io(t))}|lt:${t.limitType}`}function zh(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>T6(a)).join(", ")}]`),Xy(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>md(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>md(a)).join(",")),`Target(${n})`}(io(t))}; limitType=${t.limitType})`}function rb(t,e){return e.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):et.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,a){for(const i of Gf(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(n,a){return!(n.startAt&&!function(o,l,c){const u=s4(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Gf(n),a)||n.endAt&&!function(o,l,c){const u=s4(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Gf(n),a))}(t,e)}function kie(t){return(e,r)=>{let n=!1;for(const a of Gf(t)){const i=Tie(a,e,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Tie(t,e,r){const n=t.field.isKeyField()?et.comparator(e.key,r.key):function(i,o,l){const c=o.data.field(i),u=l.data.field(i);return c!==null&&u!==null?$l(c,u):ot(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ot(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,r]);a.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){dh(this.inner,(r,n)=>{for(const[a,i]of n)e(a,i)})}isEmpty(){return x6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie=new pa(et.comparator);function gl(){return Iie}const R6=new pa(et.comparator);function Kg(...t){let e=R6;for(const r of t)e=e.insert(r.key,r);return e}function U6(t){let e=R6;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function vi(){return Wf()}function M6(){return Wf()}function Wf(){return new No(t=>t.toString(),(t,e)=>t.isEqual(e))}const Pie=new pa(et.comparator),Fie=new yr(et.comparator);function cn(...t){let e=Fie;for(const r of t)e=e.add(r);return e}const Die=new yr(Ct);function Oie(){return Die}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wm(e)?"-0":e}}function Q6(t){return{integerValue:""+t}}function Rie(t,e){return Qse(e)?Q6(e):d2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this._=void 0}}function Uie(t,e,r){return t instanceof Nm?function(a,i){const o={fields:{[y6]:{stringValue:v6},[w6]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&i2(i)&&(i=o2(i)),i&&(o.fields[b6]=i),{mapValue:o}}(r,e):t instanceof xd?$6(t,e):t instanceof vd?H6(t,e):function(a,i){const o=L6(a,i),l=u4(o)+u4(a.Re);return E_(o)&&E_(a.Re)?Q6(l):d2(a.serializer,l)}(t,e)}function Mie(t,e,r){return t instanceof xd?$6(t,e):t instanceof vd?H6(t,e):r}function L6(t,e){return t instanceof km?function(n){return E_(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Nm extends nb{}class xd extends nb{constructor(e){super(),this.elements=e}}function $6(t,e){const r=V6(e);for(const n of t.elements)r.some(a=>ki(a,n))||r.push(n);return{arrayValue:{values:r}}}class vd extends nb{constructor(e){super(),this.elements=e}}function H6(t,e){let r=V6(e);for(const n of t.elements)r=r.filter(a=>!ki(a,n));return{arrayValue:{values:r}}}class km extends nb{constructor(e,r){super(),this.serializer=e,this.Re=r}}function u4(t){return tn(t.integerValue||t.doubleValue)}function V6(t){return Sm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qie{constructor(e,r){this.field=e,this.transform=r}}function Lie(t,e){return t.field.isEqual(e.field)&&function(n,a){return n instanceof xd&&a instanceof xd||n instanceof vd&&a instanceof vd?cd(n.elements,a.elements,ki):n instanceof km&&a instanceof km?ki(n.Re,a.Re):n instanceof Nm&&a instanceof Nm}(t.transform,e.transform)}class $ie{constructor(e,r){this.version=e,this.transformResults=r}}class Xa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Xa}static exists(e){return new Xa(void 0,e)}static updateTime(e){return new Xa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Z0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ab{}function K6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new h2(t.key,Xa.none()):new hh(t.key,t.data,Xa.none());{const r=t.data,n=Wa.empty();let a=new yr(Ur.comparator);for(let i of e.fields)if(!a.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),a=a.add(i)}return new ec(t.key,n,new As(a.toArray()),Xa.none())}}function Hie(t,e,r){t instanceof hh?function(a,i,o){const l=a.value.clone(),c=d4(a.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof ec?function(a,i,o){if(!Z0(a.precondition,i))return void i.convertToUnknownDocument(o.version);const l=d4(a.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(z6(a)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(a,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function qf(t,e,r,n){return t instanceof hh?function(i,o,l,c){if(!Z0(i.precondition,o))return l;const u=i.value.clone(),A=h4(i.fieldTransforms,c,o);return u.setAll(A),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof ec?function(i,o,l,c){if(!Z0(i.precondition,o))return l;const u=h4(i.fieldTransforms,c,o),A=o.data;return A.setAll(z6(i)),A.setAll(u),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,r,n):function(i,o,l){return Z0(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Vie(t,e){let r=null;for(const n of t.fieldTransforms){const a=e.data.field(n.field),i=L6(n.transform,a||null);i!=null&&(r===null&&(r=Wa.empty()),r.set(n.field,i))}return r||null}function A4(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&cd(n,a,(i,o)=>Lie(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends ab{constructor(e,r,n,a=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ec extends ab{constructor(e,r,n,a,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function z6(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function d4(t,e,r){const n=new Map;At(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let a=0;a<r.length;a++){const i=t[a],o=i.transform,l=e.data.field(i.field);n.set(i.field,Mie(o,l,r[a]))}return n}function h4(t,e,r){const n=new Map;for(const a of t){const i=a.transform,o=r.data.field(a.field);n.set(a.field,Uie(i,o,e))}return n}class h2 extends ab{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G6 extends ab{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,r,n,a){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&Hie(i,e,n[a])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=qf(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=qf(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=M6();return this.mutations.forEach(a=>{const i=e.get(a.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=r.has(a.key)?null:l;const c=K6(o,l);c!==null&&n.set(a.key,c),o.isValidDocument()||o.convertToNoDocument(Lt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),cn())}isEqual(e){return this.batchId===e.batchId&&cd(this.mutations,e.mutations,(r,n)=>A4(r,n))&&cd(this.baseMutations,e.baseMutations,(r,n)=>A4(r,n))}}class m2{constructor(e,r,n,a){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(e,r,n){At(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let a=function(){return Pie}();const i=e.mutations;for(let o=0;o<i.length;o++)a=a.insert(i[o].key,n[o].version);return new m2(e,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p2=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jr,Kt;function Kie(t){switch(t){case ye.OK:return ot(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return ot(15467,{code:t})}}function zie(t){if(t===void 0)return Ga("GRPC error has no .code"),ye.UNKNOWN;switch(t){case Jr.OK:return ye.OK;case Jr.CANCELLED:return ye.CANCELLED;case Jr.UNKNOWN:return ye.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return ye.INTERNAL;case Jr.UNAVAILABLE:return ye.UNAVAILABLE;case Jr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Jr.NOT_FOUND:return ye.NOT_FOUND;case Jr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Jr.ABORTED:return ye.ABORTED;case Jr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Jr.DATA_LOSS:return ye.DATA_LOSS;default:return ot(39323,{code:t})}}(Kt=Jr||(Jr={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new JS([4294967295,4294967295],0);const Gie={asc:"ASCENDING",desc:"DESCENDING"},Wie={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qie={and:"AND",or:"OR"};class Xie{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Yie(t,e){return t.useProto3Json||Xy(e)?e:{value:e}}function Tm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jie(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Zie(t,e){return Tm(t,e.toTimestamp())}function Js(t){return At(!!t,49232),Lt.fromTimestamp(function(r){const n=Ll(r);return new $r(n.seconds,n.nanos)}(t))}function g2(t,e){return I_(t,e).canonicalString()}function I_(t,e){const r=function(a){return new xr(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?r:r.child(e)}function W6(t){const e=xr.fromString(t);return At(coe(e),10190,{key:e.toString()}),e}function Mx(t,e){return g2(t.databaseId,e.path)}function ex(t,e){const r=W6(e);if(r.get(1)!==t.databaseId.projectId)throw new rt(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new rt(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new et(Y6(r))}function q6(t,e){return g2(t.databaseId,e)}function X6(t){const e=W6(t);return e.length===4?xr.emptyPath():Y6(e)}function eoe(t){return new xr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Y6(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f4(t,e,r){return{name:Mx(t,e),fields:r.value.mapValue.fields}}function toe(t,e,r){const n=ex(t,e.name),a=Js(e.updateTime),i=e.createTime?Js(e.createTime):Lt.min(),o=new Wa({mapValue:{fields:e.fields}}),l=On.newFoundDocument(n,a,i,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function Qx(t,e){let r;if(e instanceof hh)r={update:f4(t,e.key,e.value)};else if(e instanceof h2)r={delete:Mx(t,e.key)};else if(e instanceof ec)r={update:f4(t,e.key,e.data),updateMask:loe(e.fieldMask)};else{if(!(e instanceof G6))return ot(16599,{ft:e.type});r={verify:Mx(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const l=o.transform;if(l instanceof Nm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof vd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof km)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw ot(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:Zie(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ot(27497)}(t,e.precondition)),r}function P_(t,e){const r=e.currentDocument?function(i){return i.updateTime!==void 0?Xa.updateTime(Js(i.updateTime)):i.exists!==void 0?Xa.exists(i.exists):Xa.none()}(e.currentDocument):Xa.none(),n=e.updateTransforms?e.updateTransforms.map(a=>function(o,l){let c=null;if("setToServerValue"in l)At(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Nm;else if("appendMissingElements"in l){const A=l.appendMissingElements.values||[];c=new xd(A)}else if("removeAllFromArray"in l){const A=l.removeAllFromArray.values||[];c=new vd(A)}else"increment"in l?c=new km(o,l.increment):ot(16584,{proto:l});const u=Ur.fromServerFormat(l.fieldPath);return new Qie(u,c)}(t,a)):[];if(e.update){e.update.name;const a=ex(t,e.update.name),i=new Wa({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new As(u.map(A=>Ur.fromServerFormat(A)))}(e.updateMask);return new ec(a,i,o,r,n)}return new hh(a,i,r,n)}if(e.delete){const a=ex(t,e.delete);return new h2(a,r)}if(e.verify){const a=ex(t,e.verify);return new G6(a,r)}return ot(1463,{proto:e})}function roe(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map(r=>function(a,i){let o=a.updateTime?Js(a.updateTime):Js(i);return o.isEqual(Lt.min())&&(o=Js(i)),new $ie(o,a.transformResults||[])}(r,e))):[]}function noe(t,e){return{documents:[q6(t,e.path)]}}function aoe(t,e){const r={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=q6(t,a);const i=function(u){if(u.length!==0)return e8(fr.create(u,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(A=>function(h){return{field:bA(h.field),direction:soe(h.dir)}}(A))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=Yie(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:a}}function J6(t){let e=X6(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){At(n===1,65062);const A=r.from[0];A.allDescendants?a=A.collectionId:e=e.child(A.collectionId)}let i=[];r.where&&(i=function(d){const h=Z6(d);return h instanceof fr&&A2(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(g){return new Rx(wA(g.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let l=null;r.limit&&(l=function(d){let h;return h=typeof d=="object"?d.value:d,Xy(h)?null:h}(r.limit));let c=null;r.startAt&&(c=function(d){const h=!!d.before,f=d.values||[];return new pd(f,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new pd(f,h)}(r.endAt)),Eie(e,a,o,i,l,"F",c,u)}function Z6(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=wA(r.unaryFilter.field);return $t.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=wA(r.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wA(r.unaryFilter.field);return $t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wA(r.unaryFilter.field);return $t.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ot(61313);default:return ot(60726)}}(t):t.fieldFilter!==void 0?function(r){return $t.create(wA(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ot(58110);default:return ot(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return fr.create(r.compositeFilter.filters.map(n=>Z6(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ot(1026)}}(r.compositeFilter.op))}(t):ot(30097,{filter:t})}function soe(t){return Gie[t]}function ioe(t){return Wie[t]}function ooe(t){return qie[t]}function bA(t){return{fieldPath:t.canonicalString()}}function wA(t){return Ur.fromServerFormat(t.fieldPath)}function e8(t){return t instanceof $t?function(r){if(r.op==="=="){if(r4(r.value))return{unaryFilter:{field:bA(r.field),op:"IS_NAN"}};if(t4(r.value))return{unaryFilter:{field:bA(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(r4(r.value))return{unaryFilter:{field:bA(r.field),op:"IS_NOT_NAN"}};if(t4(r.value))return{unaryFilter:{field:bA(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bA(r.field),op:ioe(r.op),value:r.value}}}(t):t instanceof fr?function(r){const n=r.getFilters().map(a=>e8(a));return n.length===1?n[0]:{compositeFilter:{op:ooe(r.op),filters:n}}}(t):ot(54877,{filter:t})}function loe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function coe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,r,n,a,i=Lt.min(),o=Lt.min(),l=Ia.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new EA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new EA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new EA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new EA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.wt=e}}function uoe(t,e){let r;if(e.document)r=toe(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=et.fromSegments(e.noDocument.path),a=gu(e.noDocument.readTime);r=On.newNoDocument(n,a),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return ot(56709);{const n=et.fromSegments(e.unknownDocument.path),a=gu(e.unknownDocument.version);r=On.newUnknownDocument(n,a)}}return e.readTime&&r.setReadTime(function(a){const i=new $r(a[0],a[1]);return Lt.fromTimestamp(i)}(e.readTime)),r}function m4(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:Lx(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(i,o){return{name:Mx(i,o.key),fields:o.data.value.mapValue.fields,updateTime:Tm(i,o.version.toTimestamp()),createTime:Tm(i,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:pu(e.version)};else{if(!e.isUnknownDocument())return ot(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:pu(e.version)}}return n}function Lx(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function pu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function gu(t){const e=new $r(t.seconds,t.nanoseconds);return Lt.fromTimestamp(e)}function Dc(t,e){const r=(e.baseMutations||[]).map(i=>P_(t.wt,i));for(let i=0;i<e.mutations.length-1;++i){const o=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const n=e.mutations.map(i=>P_(t.wt,i)),a=$r.fromMillis(e.localWriteTimeMs);return new f2(e.batchId,a,r,n)}function _f(t){const e=gu(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?gu(t.lastLimboFreeSnapshotVersion):Lt.min();let n;return n=function(i){return i.documents!==void 0}(t.query)?function(i){const o=i.documents.length;return At(o===1,1966,{count:o}),io(F6(X6(i.documents[0])))}(t.query):function(i){return io(J6(i))}(t.query),new EA(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Ia.fromBase64String(t.resumeToken))}function r8(t,e){const r=pu(e.snapshotVersion),n=pu(e.lastLimboFreeSnapshotVersion);let a;a=jie(e.target)?noe(t.wt,e.target):aoe(t.wt,e.target).gt;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:mu(e.target),readTime:r,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:a}}function n8(t){const e=J6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?T_(e,e.limit,"L"):e}function p1(t,e){return new p2(e.largestBatchId,P_(t.wt,e.overlayMutation))}function p4(t,e){const r=e.path.lastSegment();return[t,na(e.path.popLast()),r]}function g4(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:pu(n.readTime),documentKey:na(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aoe{getBundleMetadata(e,r){return x4(e).get(r).next(n=>{if(n)return function(i){return{id:i.bundleId,createTime:gu(i.createTime),version:i.version}}(n)})}saveBundleMetadata(e,r){return x4(e).put(function(a){return{bundleId:a.id,createTime:pu(Js(a.createTime)),version:a.version}}(r))}getNamedQuery(e,r){return v4(e).get(r).next(n=>{if(n)return function(i){return{name:i.name,query:n8(i.bundledQuery),readTime:gu(i.readTime)}}(n)})}saveNamedQuery(e,r){return v4(e).put(function(a){return{name:a.name,readTime:pu(Js(a.readTime)),bundledQuery:a.bundledQuery}}(r))}}function x4(t){return dn(t,Yy)}function v4(t){return dn(t,Jy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r){this.serializer=e,this.userId=r}static bt(e,r){const n=r.uid||"";return new sb(e,n)}getOverlay(e,r){return Gh(e).get(p4(this.userId,r)).next(n=>n?p1(this.serializer,n):null)}getOverlays(e,r){const n=vi();return se.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){const a=[];return n.forEach((i,o)=>{const l=new p2(r,o);a.push(this.St(e,l))}),se.waitFor(a)}removeOverlaysForBatchId(e,r,n){const a=new Set;r.forEach(o=>a.add(na(o.getCollectionPath())));const i=[];return a.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);i.push(Gh(e).X(C_,l))}),se.waitFor(i)}getOverlaysForCollection(e,r,n){const a=vi(),i=na(r),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gh(e).J(C_,o).next(l=>{for(const c of l){const u=p1(this.serializer,c);a.set(u.getKey(),u)}return a})}getOverlaysForCollectionGroup(e,r,n,a){const i=vi();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Gh(e).te({index:h6,range:l},(c,u,A)=>{const d=p1(this.serializer,u);i.size()<a||d.largestBatchId===o?(i.set(d.getKey(),d),o=d.largestBatchId):A.done()}).next(()=>i)}St(e,r){return Gh(e).put(function(a,i,o){const[l,c,u]=p4(i,o.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Qx(a.wt,o.mutation)}}(this.serializer,this.userId,r))}}function Gh(t){return dn(t,Zy)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{Dt(e){return dn(e,a2)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Ia.fromUint8Array(n):Ia.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(tn(e.integerValue));else if("doubleValue"in e){const n=tn(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),wm(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=Ll(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt(hu(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?C6(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):eb(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):ot(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const a of Object.keys(n))this.Nt(a,r),this.Ct(n[a],r)}qt(e,r){var n,a;const i=e.fields||{};this.Mt(r,53);const o=jm,l=((a=(n=i[o].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.length)||0;this.Mt(r,15),r.xt(tn(l)),this.Nt(o,r),this.Ct(i[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const a of n)this.Ct(a,r)}kt(e,r){this.Mt(r,37),et.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}Oc.Wt=new Oc;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=255;function hoe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function y4(t){const e=64-function(n){let a=0;for(let i=0;i<8;++i){const o=hoe(255&n[i]);if(a+=o,o!==8)break}return a}(t);return Math.ceil(e/8)}class foe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const a=r.codePointAt(0);this.zt(240|a>>>18),this.zt(128|63&a>>>12),this.zt(128|63&a>>>6),this.zt(128|63&a)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const a=r.codePointAt(0);this.Jt(240|a>>>18),this.Jt(128|63&a>>>12),this.Jt(128|63&a>>>6),this.Jt(128|63&a)}}this.Yt()}en(e){const r=this.tn(e),n=y4(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=255&r[a]}rn(e){const r=this.tn(e),n=y4(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let a=r.length-n;a<r.length;++a)this.buffer[this.position++]=~(255&r[a])}sn(){this._n(Ju),this._n(255)}an(){this.un(Ju),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let a=1;a<r.length;++a)r[a]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===Ju?(this._n(Ju),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===Ju?(this.un(Ju),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const a=new Uint8Array(n);a.set(this.buffer),this.buffer=a}}class moe{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class poe{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Wh{constructor(){this.ln=new foe,this.hn=new moe(this.ln),this.Pn=new poe(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,r,n,a){this.In=e,this.En=r,this.dn=n,this.An=a}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new Rc(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:tx(this.dn),directionalValue:tx(this.An),orderedDocumentKey:tx(r),documentKey:n.path.toArray()}}mn(e,r,n){const a=this.Vn(e,r,n);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Mo(t,e){let r=t.In-e.In;return r!==0?r:(r=b4(t.dn,e.dn),r!==0?r:(r=b4(t.An,e.An),r!==0?r:et.comparator(t.En,e.En)))}function b4(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function tx(t){return Q3()?function(r){let n="";for(let a=0;a<r.length;a++)n+=String.fromCharCode(r[a]);return n}(t):t}function w4(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(t)}class B4{constructor(e){this.fn=new yr((r,n)=>Ur.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(At(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=b_(e);if(r!==void 0&&!this.bn(r))return!1;const n=jc(e);let a=new Set,i=0,o=0;for(;i<n.length&&this.bn(n[i]);++i)a=a.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!a.has(l.field.canonicalString())){const c=n[i];if(!this.Sn(l,c)||!this.Dn(this.gn[o++],c))return!1}++i}for(;i<n.length;++i){const l=n[i];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new yr(Ur.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new G0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new G0(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new G0(n.field,n.dir==="asc"?0:1)));return new Tx(Tx.UNKNOWN_ID,this.collectionId,r,bm.empty())}bn(e){for(const r of this.pn)if(this.Sn(r,e))return!0;return!1}Sn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){var e,r;if(At(t instanceof $t||t instanceof fr,20012),t instanceof $t){if(t instanceof P6){const a=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(i=>$t.create(t.field,"==",i)))||[];return fr.create(a,"or")}return t}const n=t.filters.map(a=>a8(a));return fr.create(n,t.op)}function goe(t){if(t.getFilters().length===0)return[];const e=O_(a8(t));return At(s8(e),7391),F_(e)||D_(e)?[e]:e.getFilters()}function F_(t){return t instanceof $t}function D_(t){return t instanceof fr&&A2(t)}function s8(t){return F_(t)||D_(t)||function(r){if(r instanceof fr&&S_(r)){for(const n of r.getFilters())if(!F_(n)&&!D_(n))return!1;return!0}return!1}(t)}function O_(t){if(At(t instanceof $t||t instanceof fr,34018),t instanceof $t)return t;if(t.filters.length===1)return O_(t.filters[0]);const e=t.filters.map(n=>O_(n));let r=fr.create(e,t.op);return r=$x(r),s8(r)?r:(At(r instanceof fr,64498),At(gd(r),40251),At(r.filters.length>1,57927),r.filters.reduce((n,a)=>x2(n,a)))}function x2(t,e){let r;return At(t instanceof $t||t instanceof fr,38388),At(e instanceof $t||e instanceof fr,25473),r=t instanceof $t?e instanceof $t?function(a,i){return fr.create([a,i],"and")}(t,e):C4(t,e):e instanceof $t?C4(e,t):function(a,i){if(At(a.filters.length>0&&i.filters.length>0,48005),gd(a)&&gd(i))return k6(a,i.getFilters());const o=S_(a)?a:i,l=S_(a)?i:a,c=o.filters.map(u=>x2(u,l));return fr.create(c,"or")}(t,e),$x(r)}function C4(t,e){if(gd(e))return k6(e,t.getFilters());{const r=e.filters.map(n=>x2(t,n));return fr.create(r,"or")}}function $x(t){if(At(t instanceof $t||t instanceof fr,11850),t instanceof $t)return t;const e=t.getFilters();if(e.length===1)return $x(e[0]);if(S6(t))return t;const r=e.map(a=>$x(a)),n=[];return r.forEach(a=>{a instanceof $t?n.push(a):a instanceof fr&&(a.op===t.op?n.push(...a.filters):n.push(a))}),n.length===1?n[0]:fr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.Cn=new v2}addToCollectionParentIndex(e,r){return this.Cn.add(r),se.resolve()}getCollectionParents(e,r){return se.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return se.resolve()}deleteFieldIndex(e,r){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,r){return se.resolve()}getDocumentsMatchingTarget(e,r){return se.resolve(null)}getIndexType(e,r){return se.resolve(0)}getFieldIndexes(e,r){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,r){return se.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,r){return se.resolve(Ja.min())}updateCollectionGroup(e,r,n){return se.resolve()}updateIndexEntries(e,r){return se.resolve()}}class v2{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r]||new yr(xr.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(e){return(this.index[e]||new yr(xr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="IndexedDbIndexManager",zg=new Uint8Array(0);class voe{constructor(e,r){this.databaseId=r,this.Fn=new v2,this.Mn=new No(n=>mu(n),(n,a)=>Lp(n,a)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),a=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const i={collectionId:n,parent:na(a)};return j4(e).put(i)}return se.resolve()}getCollectionParents(e,r){const n=[],a=IDBKeyRange.bound([r,""],[n6(r),""],!1,!0);return j4(e).J(a).next(i=>{for(const o of i){if(o.collectionId!==r)break;n.push(xi(o.parent))}return n})}addFieldIndex(e,r){const n=qh(e),a=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete a.indexId;const i=n.add(a);if(r.indexState){const o=eA(e);return i.next(l=>{o.put(g4(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return i.next()}deleteFieldIndex(e,r){const n=qh(e),a=eA(e),i=Zu(e);return n.delete(r.indexId).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=qh(e),n=Zu(e),a=eA(e);return r.X().next(()=>n.X()).next(()=>a.X())}createTargetIndexes(e,r){return se.forEach(this.xn(r),n=>this.getIndexType(e,n).next(a=>{if(a===0||a===1){const i=new B4(n).vn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,r){const n=Zu(e);let a=!0;const i=new Map;return se.forEach(this.xn(r),o=>this.On(e,o).next(l=>{a&&(a=!!l),i.set(o,l)})).next(()=>{if(a){let o=cn();const l=[];return se.forEach(i,(c,u)=>{Te(_4,`Using index ${function(v){return`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(B=>`${B.fieldPath}:${B.kind}`).join(",")}`}(c)} to execute ${mu(r)}`);const A=function(v,B){const _=b_(B);if(_===void 0)return null;for(const j of Ux(v,_.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null}(u,c),d=function(v,B){const _=new Map;for(const j of jc(B))for(const C of Ux(v,j.fieldPath))switch(C.op){case"==":case"in":_.set(j.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return _.set(j.fieldPath.canonicalString(),C.value),Array.from(_.values())}return null}(u,c),h=function(v,B){const _=[];let j=!0;for(const C of jc(B)){const E=C.kind===0?o4(v,C.fieldPath,v.startAt):l4(v,C.fieldPath,v.startAt);_.push(E.value),j&&(j=E.inclusive)}return new pd(_,j)}(u,c),f=function(v,B){const _=[];let j=!0;for(const C of jc(B)){const E=C.kind===0?l4(v,C.fieldPath,v.endAt):o4(v,C.fieldPath,v.endAt);_.push(E.value),j&&(j=E.inclusive)}return new pd(_,j)}(u,c),g=this.Nn(c,u,h),p=this.Nn(c,u,f),m=this.Bn(c,u,d),y=this.Ln(c.indexId,A,g,h.inclusive,p,f.inclusive,m);return se.forEach(y,b=>n.Z(b,r.limit).next(v=>{v.forEach(B=>{const _=et.fromSegments(B.documentKey);o.has(_)||(o=o.add(_),l.push(_))})}))}).next(()=>l)}return se.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=goe(fr.create(e.filters,"and")).map(n=>k_(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,a,i,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,i.length),u=c/(r!=null?r.length:1),A=[];for(let d=0;d<c;++d){const h=r?this.kn(r[d/u]):zg,f=this.qn(e,h,n[d%u],a),g=this.Qn(e,h,i[d%u],o),p=l.map(m=>this.qn(e,h,m,!0));A.push(...this.createRange(f,g,p))}return A}qn(e,r,n,a){const i=new Rc(e,et.empty(),r,n);return a?i:i.Rn()}Qn(e,r,n,a){const i=new Rc(e,et.empty(),r,n);return a?i.Rn():i}On(e,r){const n=new B4(r),a=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,a).next(i=>{let o=null;for(const l of i)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const a=this.xn(r);return se.forEach(a,i=>this.On(e,i).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new yr(Ur.comparator),A=!1;for(const d of c.filters)for(const h of d.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?A=!0:u=u.add(h.field));for(const d of c.orderBy)d.field.isKeyField()||(u=u.add(d.field));return u.size+(A?1:0)}(i)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&a.length>1&&n===2?1:n)}$n(e,r){const n=new Wh;for(const a of jc(e)){const i=r.data.field(a.fieldPath);if(i==null)return null;const o=n.Tn(a.kind);Oc.Wt.vt(i,o)}return n.cn()}kn(e){const r=new Wh;return Oc.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new Wh;return Oc.Wt.vt(u2(this.databaseId,r),n.Tn(function(i){const o=jc(i);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let a=[];a.push(new Wh);let i=0;for(const o of jc(e)){const l=n[i++];for(const c of a)if(this.Kn(r,o.fieldPath)&&Sm(l))a=this.Wn(a,o,l);else{const u=c.Tn(o.kind);Oc.Wt.vt(l,u)}}return this.Gn(a)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const a=[...e],i=[];for(const o of n.arrayValue.values||[])for(const l of a){const c=new Wh;c.seed(l.cn()),Oc.Wt.vt(o,c.Tn(r.kind)),i.push(c)}return i}Kn(e,r){return!!e.filters.find(n=>n instanceof $t&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=qh(e),a=eA(e);return(r?n.J(B_,IDBKeyRange.bound(r,r)):n.J()).next(i=>{const o=[];return se.forEach(i,l=>a.get([l.indexId,this.uid]).next(c=>{o.push(function(A,d){const h=d?new bm(d.sequenceNumber,new Ja(gu(d.readTime),new et(xi(d.documentKey)),d.largestBatchId)):bm.empty(),f=A.fields.map(([g,p])=>new G0(Ur.fromServerFormat(g),p));return new Tx(A.indexId,A.collectionGroup,f,h)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,a)=>{const i=n.indexState.sequenceNumber-a.indexState.sequenceNumber;return i!==0?i:Ct(n.collectionGroup,a.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const a=qh(e),i=eA(e);return this.zn(e).next(o=>a.J(B_,IDBKeyRange.bound(r,r)).next(l=>se.forEach(l,c=>i.put(g4(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return se.forEach(r,(a,i)=>{const o=n.get(a.collectionGroup);return(o?se.resolve(o):this.getFieldIndexes(e,a.collectionGroup)).next(l=>(n.set(a.collectionGroup,l),se.forEach(l,c=>this.jn(e,a,c).next(u=>{const A=this.Hn(i,c);return u.isEqual(A)?se.resolve():this.Jn(e,i,c,u,A)}))))})}Yn(e,r,n,a){return Zu(e).put(a.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,a){return Zu(e).delete(a.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const a=Zu(e);let i=new yr(Mo);return a.te({index:d6,range:IDBKeyRange.only([n.indexId,this.uid,tx(this.Un(n,r))])},(o,l)=>{i=i.add(new Rc(n.indexId,r,w4(l.arrayValue),w4(l.directionalValue)))}).next(()=>i)}Hn(e,r){let n=new yr(Mo);const a=this.$n(r,e);if(a==null)return n;const i=b_(r);if(i!=null){const o=e.data.field(i.fieldPath);if(Sm(o))for(const l of o.arrayValue.values||[])n=n.add(new Rc(r.indexId,e.key,this.kn(l),a))}else n=n.add(new Rc(r.indexId,e.key,zg,a));return n}Jn(e,r,n,a,i){Te(_4,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,A,d,h){const f=c.getIterator(),g=u.getIterator();let p=Yu(f),m=Yu(g);for(;p||m;){let y=!1,b=!1;if(p&&m){const v=A(p,m);v<0?b=!0:v>0&&(y=!0)}else p!=null?b=!0:y=!0;y?(d(m),m=Yu(g)):b?(h(p),p=Yu(f)):(p=Yu(f),m=Yu(g))}}(a,i,Mo,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),se.waitFor(o)}zn(e){let r=1;return eA(e).te({index:A6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,a,i)=>{i.done(),r=a.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>Mo(o,l)).filter((o,l,c)=>!l||Mo(o,c[l-1])!==0);const a=[];a.push(e);for(const o of n){const l=Mo(o,e),c=Mo(o,r);if(l===0)a[0]=e.Rn();else if(l>0&&c<0)a.push(o),a.push(o.Rn());else if(c>0)break}a.push(r);const i=[];for(let o=0;o<a.length;o+=2){if(this.Xn(a[o],a[o+1]))return[];const l=a[o].mn(this.uid,zg,et.empty()),c=a[o+1].mn(this.uid,zg,et.empty());i.push(IDBKeyRange.bound(l,c))}return i}Xn(e,r){return Mo(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(E4)}getMinOffset(e,r){return se.mapArray(this.xn(r),n=>this.On(e,n).next(a=>a||ot(44426))).next(E4)}}function j4(t){return dn(t,_m)}function Zu(t){return dn(t,Kf)}function qh(t){return dn(t,n2)}function eA(t){return dn(t,Vf)}function E4(t){At(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const a=t[n].indexState.offset;e2(a,e)<0&&(e=a),r<a.largestBatchId&&(r=a.largestBatchId)}return new Ja(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i8=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t,e,r){const n=t.store(Us),a=t.store(ud),i=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(A,d,h)=>(l++,h.delete()));i.push(c.next(()=>{At(l===1,47070,{batchId:r.batchId})}));const u=[];for(const A of r.mutations){const d=l6(e,A.key.path,r.batchId);i.push(a.delete(d)),u.push(A.key)}return se.waitFor(i).next(()=>u)}function Hx(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ot(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(i8,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);class ib{constructor(e,r,n,a){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=a,this.er={}}static bt(e,r,n,a){At(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new ib(i,r,n,a)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qo(e).te({index:Qc,range:n},(a,i,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,a){const i=BA(e),o=Qo(e);return o.add({}).next(l=>{At(typeof l=="number",49019);const c=new f2(l,r,n,a),u=function(f,g,p){const m=p.baseMutations.map(b=>Qx(f.wt,b)),y=p.mutations.map(b=>Qx(f.wt,b));return{userId:g,batchId:p.batchId,localWriteTimeMs:p.localWriteTime.toMillis(),baseMutations:m,mutations:y}}(this.serializer,this.userId,c),A=[];let d=new yr((h,f)=>Ct(h.canonicalString(),f.canonicalString()));for(const h of a){const f=l6(this.userId,h.key.path,l);d=d.add(h.key.path.popLast()),A.push(o.put(u)),A.push(i.put(f,Hse))}return d.forEach(h=>{A.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),se.waitFor(A).next(()=>c)})}lookupMutationBatch(e,r){return Qo(e).get(r).next(n=>n?(At(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),Dc(this.serializer,n)):null)}tr(e,r){return this.er[r]?se.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const a=n.keys();return this.er[r]=a,a}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qo(e).te({index:Qc,range:a},(o,l,c)=>{l.userId===this.userId&&(At(l.batchId>=n,47524,{nr:n}),i=Dc(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=ru;return Qo(e).te({index:Qc,range:r,reverse:!0},(a,i,o)=>{n=i.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,ru],[this.userId,Number.POSITIVE_INFINITY]);return Qo(e).J(Qc,r).next(n=>n.map(a=>Dc(this.serializer,a)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=W0(this.userId,r.path),a=IDBKeyRange.lowerBound(n),i=[];return BA(e).te({range:a},(o,l,c)=>{const[u,A,d]=o,h=xi(A);if(u===this.userId&&r.path.isEqual(h))return Qo(e).get(d).next(f=>{if(!f)throw ot(61480,{rr:o,batchId:d});At(f.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:f.userId,batchId:d}),i.push(Dc(this.serializer,f))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(Ct);const a=[];return r.forEach(i=>{const o=W0(this.userId,i.path),l=IDBKeyRange.lowerBound(o),c=BA(e).te({range:l},(u,A,d)=>{const[h,f,g]=u,p=xi(f);h===this.userId&&i.path.isEqual(p)?n=n.add(g):d.done()});a.push(c)}),se.waitFor(a).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1,i=W0(this.userId,n),o=IDBKeyRange.lowerBound(i);let l=new yr(Ct);return BA(e).te({range:o},(c,u,A)=>{const[d,h,f]=c,g=xi(h);d===this.userId&&n.isPrefixOf(g)?g.length===a&&(l=l.add(f)):A.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],a=[];return r.forEach(i=>{a.push(Qo(e).get(i).next(o=>{if(o===null)throw ot(35274,{batchId:i});At(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:i}),n.push(Dc(this.serializer,o))}))}),se.waitFor(a).next(()=>n)}removeMutationBatch(e,r){return o8(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),se.forEach(n,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return se.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),a=[];return BA(e).te({range:n},(i,o,l)=>{if(i[0]===this.userId){const c=xi(i[1]);a.push(c)}else l.done()}).next(()=>{At(a.length===0,56720,{_r:a.map(i=>i.canonicalString())})})})}containsKey(e,r){return l8(e,this.userId,r)}ar(e){return c8(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:ru,lastStreamToken:""})}}function l8(t,e,r){const n=W0(e,r.path),a=n[1],i=IDBKeyRange.lowerBound(n);let o=!1;return BA(t).te({range:i,ee:!0},(l,c,u)=>{const[A,d,h]=l;A===e&&d===a&&(o=!0),u.done()}).next(()=>o)}function Qo(t){return dn(t,Us)}function BA(t){return dn(t,ud)}function c8(t){return dn(t,Bm)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new xu(0)}static lr(){return new xu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new xu(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>Lt.fromTimestamp(new $r(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(a=>(a.highestListenSequenceNumber=r,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),r>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r),this.Pr(e,a)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>tA(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(At(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let a=0;const i=[];return tA(e).te((o,l)=>{const c=_f(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(a++,i.push(this.removeTargetData(e,c)))}).next(()=>se.waitFor(i)).next(()=>a)}forEachTarget(e,r){return tA(e).te((n,a)=>{const i=_f(a);r(i)})}hr(e){return N4(e).get(Fx).next(r=>(At(r!==null,2888),r))}Pr(e,r){return N4(e).put(Fx,r)}Tr(e,r){return tA(e).put(r8(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=mu(r),a=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return tA(e).te({range:a,index:u6},(o,l,c)=>{const u=_f(l);Lp(r,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,r,n){const a=[],i=rl(e);return r.forEach(o=>{const l=na(o.path);a.push(i.put({targetId:n,path:l})),a.push(this.referenceDelegate.addReference(e,n,o))}),se.waitFor(a)}removeMatchingKeys(e,r,n){const a=rl(e);return se.forEach(r,i=>{const o=na(i.path);return se.waitFor([a.delete([n,o]),this.referenceDelegate.removeReference(e,n,i)])})}removeMatchingKeysForTargetId(e,r){const n=rl(e),a=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(a)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),a=rl(e);let i=cn();return a.te({range:n,ee:!0},(o,l,c)=>{const u=xi(o[1]),A=new et(u);i=i.add(A)}).next(()=>i)}containsKey(e,r){const n=na(r.path),a=IDBKeyRange.bound([n],[n6(n)],!1,!0);let i=0;return rl(e).te({index:r2,ee:!0,range:a},([o,l],c,u)=>{o!==0&&(i++,u.done())}).next(()=>i>0)}Rt(e,r){return tA(e).get(r).next(n=>n?_f(n):null)}}function tA(t){return dn(t,Ad)}function N4(t){return dn(t,nu)}function rl(t){return dn(t,dd)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="LruGarbageCollector",boe=1048576;function T4([t,e],[r,n]){const a=Ct(t,r);return a===0?Ct(e,n):a}class woe{constructor(e){this.Er=e,this.buffer=new yr(T4),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();T4(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class u8{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Te(k4,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Fu(r)?Te(k4,"Ignoring IndexedDB error during garbage collection: ",r):await Wy(r)}await this.mr(3e5)})}}class Boe{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return se.resolve(Ws.le);const n=new woe(r);return this.gr.forEachTarget(e,a=>n.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>n.Rr(a))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(S4)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S4):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,a,i,o,l,c,u;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),a=this.params.maximumSequenceNumbersToCollect):a=d,o=Date.now(),this.nthSequenceNumber(e,a))).next(d=>(n=d,l=Date.now(),this.removeTargets(e,n,r))).next(d=>(i=d,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(d=>(u=Date.now(),yA()<=zt.DEBUG&&Te("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-A}ms
	Determined least recently used ${a} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-A}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:d})))}}function A8(t,e){return new Boe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Coe{constructor(e,r){this.db=e,this.garbageCollector=A8(this,r)}pr(e){const r=this.br(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}br(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.Sr(e,(n,a)=>r(a))}addReference(e,r,n){return Gg(e,n)}removeReference(e,r,n){return Gg(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Gg(e,r)}Dr(e,r){return function(a,i){let o=!1;return c8(a).ne(l=>l8(a,l,i).next(c=>(c&&(o=!0),se.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let i=0;return this.Sr(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Lt.min()),rl(e).delete(function(d){return[0,na(d.path)]}(o))))});a.push(c)}}).next(()=>se.waitFor(a)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Gg(e,r)}Sr(e,r){const n=rl(e);let a,i=Ws.le;return n.te({index:r2},([o,l],{path:c,sequenceNumber:u})=>{o===0?(i!==Ws.le&&r(new et(xi(a)),i),i=u,a=c):i=Ws.le}).next(()=>{i!==Ws.le&&r(new et(xi(a)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Gg(t,e){return rl(t).put(function(n,a){return{targetId:0,path:na(n.path),sequenceNumber:a}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(){this.changes=new No(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?se.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return gc(e).put(n)}removeEntry(e,r,n){return gc(e).delete(function(i,o){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Lx(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=On.newInvalidDocument(r);return gc(e).te({index:q0,range:IDBKeyRange.only(Xh(r))},(a,i)=>{n=this.Cr(r,i)}).next(()=>n)}Fr(e,r){let n={size:0,document:On.newInvalidDocument(r)};return gc(e).te({index:q0,range:IDBKeyRange.only(Xh(r))},(a,i)=>{n={document:this.Cr(r,i),size:Hx(i)}}).next(()=>n)}getEntries(e,r){let n=gl();return this.Mr(e,r,(a,i)=>{const o=this.Cr(a,i);n=n.insert(a,o)}).next(()=>n)}Or(e,r){let n=gl(),a=new pa(et.comparator);return this.Mr(e,r,(i,o)=>{const l=this.Cr(i,o);n=n.insert(i,l),a=a.insert(i,Hx(o))}).next(()=>({documents:n,Nr:a}))}Mr(e,r,n){if(r.isEmpty())return se.resolve();let a=new yr(F4);r.forEach(c=>a=a.add(c));const i=IDBKeyRange.bound(Xh(a.first()),Xh(a.last())),o=a.getIterator();let l=o.getNext();return gc(e).te({index:q0,range:i},(c,u,A)=>{const d=et.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&F4(l,d)<0;)n(l,null),l=o.getNext();l&&l.isEqual(d)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?A.H(Xh(l)):A.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,a,i){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),Lx(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return gc(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let A=gl();for(const d of u){const h=this.Cr(et.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);h.isFoundDocument()&&(rb(r,h)||a.has(h.key))&&(A=A.insert(h.key,h))}return A})}getAllFromCollectionGroup(e,r,n,a){let i=gl();const o=P4(r,n),l=P4(r,Ja.max());return gc(e).te({index:c6,range:IDBKeyRange.bound(o,l,!0)},(c,u,A)=>{const d=this.Cr(et.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(d.key,d),i.size===a&&A.done()}).next(()=>i)}newChangeBuffer(e){return new joe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return I4(e).get(w_).next(r=>(At(!!r,20021),r))}vr(e,r){return I4(e).put(w_,r)}Cr(e,r){if(r){const n=uoe(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(Lt.min())))return n}return On.newInvalidDocument(e)}}function h8(t){return new _oe(t)}class joe extends d8{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new No(n=>n.toString(),(n,a)=>n.isEqual(a))}applyChanges(e){const r=[];let n=0,a=new yr((i,o)=>Ct(i.canonicalString(),o.canonicalString()));return this.changes.forEach((i,o)=>{const l=this.Lr.get(i);if(r.push(this.Br.removeEntry(e,i,l.readTime)),o.isValidDocument()){const c=m4(this.Br.serializer,o);a=a.add(i.path.popLast());const u=Hx(c);n+=u-l.size,r.push(this.Br.addEntry(e,i,c))}else if(n-=l.size,this.trackRemovals){const c=m4(this.Br.serializer,o.convertToNoDocument(Lt.min()));r.push(this.Br.addEntry(e,i,c))}}),a.forEach(i=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,i))}),r.push(this.Br.updateMetadata(e,n)),se.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:a})=>(a.forEach((i,o)=>{this.Lr.set(i,{size:o,readTime:n.get(i).readTime})}),n))}}function I4(t){return dn(t,Cm)}function gc(t){return dn(t,Px)}function Xh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function P4(t,e){const r=e.documentKey.path.toArray();return[t,Lx(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function F4(t,e){const r=t.path.toArray(),n=e.path.toArray();let a=0;for(let i=0;i<r.length-2&&i<n.length-2;++i)if(a=Ct(r[i],n[i]),a)return a;return a=Ct(r.length,n.length),a||(a=Ct(r[r.length-2],n[n.length-2]),a||Ct(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eoe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e,r,n,a){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,r))).next(a=>(n!==null&&qf(n.mutation,a,As.empty(),$r.now()),a))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,cn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=cn()){const a=vi();return this.populateOverlays(e,a,r).next(()=>this.computeViews(e,r,a,n).next(i=>{let o=Kg();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=vi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,cn()))}populateOverlays(e,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,a){let i=gl();const o=Wf(),l=function(){return Wf()}();return r.forEach((c,u)=>{const A=n.get(u.key);a.has(u.key)&&(A===void 0||A.mutation instanceof ec)?i=i.insert(u.key,u):A!==void 0?(o.set(u.key,A.mutation.getFieldMask()),qf(A.mutation,u,A.mutation.getFieldMask(),$r.now())):o.set(u.key,As.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,A)=>o.set(u,A)),r.forEach((u,A)=>{var d;return l.set(u,new Eoe(A,(d=o.get(u))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Wf();let a=new pa((o,l)=>o-l),i=cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let A=n.get(c)||As.empty();A=l.applyToLocalView(u,A),n.set(c,A);const d=(a.get(l.batchId)||cn()).add(c);a=a.insert(l.batchId,d)})}).next(()=>{const o=[],l=a.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,A=c.value,d=M6();A.forEach(h=>{if(!i.has(h)){const f=K6(r.get(h),n.get(h));f!==null&&d.set(h,f),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return se.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,a){return function(o){return et.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Sie(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,a):this.getDocumentsMatchingCollectionQuery(e,r,n,a)}getNextDocuments(e,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,a).next(i=>{const o=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,a-i.size):se.resolve(vi());let l=ym,c=i;return o.next(u=>se.forEach(u,(A,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),i.get(A)?se.resolve():this.remoteDocumentCache.getEntry(e,A).next(h=>{c=c.insert(A,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,cn())).next(A=>({batchId:l,changes:U6(A)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new et(r)).next(n=>{let a=Kg();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,r,n,a){const i=r.collectionGroup;let o=Kg();return this.indexManager.getCollectionParents(e,i).next(l=>se.forEach(l,c=>{const u=function(d,h){return new tb(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,n,a).next(A=>{A.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,a))).next(o=>{i.forEach((c,u)=>{const A=u.getKey();o.get(A)===null&&(o=o.insert(A,On.newInvalidDocument(A)))});let l=Kg();return o.forEach((c,u)=>{const A=i.get(c);A!==void 0&&qf(A.mutation,u,As.empty(),$r.now()),rb(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return se.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Js(a.createTime)}}(r)),se.resolve()}getNamedQuery(e,r){return se.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(a){return{name:a.name,query:n8(a.bundledQuery),readTime:Js(a.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(){this.overlays=new pa(et.comparator),this.Qr=new Map}getOverlay(e,r){return se.resolve(this.overlays.get(r))}getOverlays(e,r){const n=vi();return se.forEach(r,a=>this.getOverlay(e,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((a,i)=>{this.St(e,r,i)}),se.resolve()}removeOverlaysForBatchId(e,r,n){const a=this.Qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(n)),se.resolve()}getOverlaysForCollection(e,r,n){const a=vi(),i=r.length+1,o=new et(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>n&&a.set(c.getKey(),c)}return se.resolve(a)}getOverlaysForCollectionGroup(e,r,n,a){let i=new pa((u,A)=>u-A);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let A=i.get(u.largestBatchId);A===null&&(A=vi(),i=i.insert(u.largestBatchId,A)),A.set(u.getKey(),u)}}const l=vi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,A)=>l.set(u,A)),!(l.size()>=a)););return se.resolve(l)}St(e,r,n){const a=this.overlays.get(n.key);if(a!==null){const o=this.Qr.get(a.largestBatchId).delete(n.key);this.Qr.set(a.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new p2(r,n));let i=this.Qr.get(r);i===void 0&&(i=cn(),this.Qr.set(r,i)),this.Qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class koe{constructor(){this.sessionToken=Ia.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.$r=new yr(pn.Ur),this.Kr=new yr(pn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new pn(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new pn(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new et(new xr([])),n=new pn(r,e),a=new pn(r,e+1),i=[];return this.Kr.forEachInRange([n,a],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new et(new xr([])),n=new pn(r,e),a=new pn(r,e+1);let i=cn();return this.Kr.forEachInRange([n,a],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new pn(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class pn{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return et.comparator(e.key,r.key)||Ct(e.Zr,r.Zr)}static Wr(e,r){return Ct(e.Zr,r.Zr)||et.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Toe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new yr(pn.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,a){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f2(i,r,n,a);this.mutationQueue.push(o);for(const l of a)this.Xr=this.Xr.add(new pn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return se.resolve(o)}lookupMutationBatch(e,r){return se.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,a=this.ti(n),i=a<0?0:a;return se.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?ru:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new pn(r,0),a=new pn(r,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,a],o=>{const l=this.ei(o.Zr);i.push(l)}),se.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new yr(Ct);return r.forEach(a=>{const i=new pn(a,0),o=new pn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{n=n.add(l.Zr)})}),se.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,a=n.length+1;let i=n;et.isDocumentKey(i)||(i=i.child(""));const o=new pn(new et(i),0);let l=new yr(Ct);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===a&&(l=l.add(c.Zr)),!0)},o),se.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const a=this.ei(n);a!==null&&r.push(a)}),r}removeMutationBatch(e,r){At(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return se.forEach(r.mutations,a=>{const i=new pn(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new pn(r,0),a=this.Xr.firstAfterOrEqual(n);return se.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ioe{constructor(e){this.ii=e,this.docs=function(){return new pa(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return se.resolve(n?n.document.mutableCopy():On.newInvalidDocument(r))}getEntries(e,r){let n=gl();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():On.newInvalidDocument(a))}),se.resolve(n)}getDocumentsMatchingQuery(e,r,n,a){let i=gl();const o=r.path,l=new et(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:A}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||e2(a6(A),n)<=0||(a.has(A.key)||rb(r,A))&&(i=i.insert(A.key,A.mutableCopy()))}return se.resolve(i)}getAllFromCollectionGroup(e,r,n,a){ot(9500)}si(e,r){return se.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Poe(this)}getSize(e){return se.resolve(this.size)}}class Poe extends d8{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Br.addEntry(e,a)):this.Br.removeEntry(n)}),se.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e){this.persistence=e,this.oi=new No(r=>mu(r),Lp),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this._i=0,this.ai=new y2,this.targetCount=0,this.ui=xu.cr()}forEachTarget(e,r){return this.oi.forEach((n,a)=>r(a)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),se.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new xu(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,se.resolve()}updateTargetData(e,r){return this.Tr(r),se.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,r,n){let a=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),a++)}),se.waitFor(i).next(()=>a)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return se.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),se.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(o=>{i.push(a.markPotentiallyOrphaned(e,o))}),se.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),se.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return se.resolve(n)}containsKey(e,r){return se.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,r){this.ci={},this.overlays={},this.li=new Ws(0),this.hi=!1,this.hi=!0,this.Pi=new koe,this.referenceDelegate=e(this),this.Ti=new Foe(this),this.indexManager=new xoe,this.remoteDocumentCache=function(a){return new Ioe(a)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new t8(r),this.Ei=new Soe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Noe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Toe(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){Te("MemoryPersistence","Starting transaction:",e);const a=new Doe(this.li.next());return this.referenceDelegate.di(),n(a).next(i=>this.referenceDelegate.Ai(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ri(e,r){return se.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class Doe extends i6{constructor(e){super(),this.currentSequenceNumber=e}}class ob{constructor(e){this.persistence=e,this.Vi=new y2,this.mi=null}static fi(e){return new ob(e)}get gi(){if(this.mi)return this.mi;throw ot(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),se.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),se.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(a=>this.gi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(a=>{a.forEach(i=>this.gi.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,n=>{const a=et.fromPath(n);return this.pi(e,a).next(i=>{i||r.removeEntry(a,Lt.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return se.or([()=>se.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class Vx{constructor(e,r){this.persistence=e,this.yi=new No(n=>na(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=A8(this,r)}static fi(e,r){return new Vx(e,r)}di(){}Ai(e){return se.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(a=>n+a))}br(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return se.forEach(this.yi,(n,a)=>this.Dr(e,n,a).next(i=>i?se.resolve():r(a)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,i.removeEntry(o,Lt.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Y0(e.data.value)),r}Dr(e,r,n){return se.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const a=this.yi.get(r);return se.resolve(a!==void 0&&a>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ooe{constructor(e){this.serializer=e}q(e,r,n,a){const i=new qy("createOrUpgrade",r);n<1&&a>=1&&(function(c){c.createObjectStore(Qp)}(e),function(c){c.createObjectStore(Bm,{keyPath:$se}),c.createObjectStore(Us,{keyPath:qI,autoIncrement:!0}).createIndex(Qc,XI,{unique:!0}),c.createObjectStore(ud)}(e),D4(e),function(c){c.createObjectStore(Ec)}(e));let o=se.resolve();return n<3&&a>=3&&(n!==0&&(function(c){c.deleteObjectStore(dd),c.deleteObjectStore(Ad),c.deleteObjectStore(nu)}(e),D4(e)),o=o.next(()=>function(c){const u=c.store(nu),A={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return u.put(Fx,A)}(i))),n<4&&a>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(Us).J().next(d=>{c.deleteObjectStore(Us),c.createObjectStore(Us,{keyPath:qI,autoIncrement:!0}).createIndex(Qc,XI,{unique:!0});const h=u.store(Us),f=d.map(g=>h.put(g));return se.waitFor(f)})}(e,i))),o=o.next(()=>{(function(c){c.createObjectStore(hd,{keyPath:Yse})})(e)})),n<5&&a>=5&&(o=o.next(()=>this.wi(i))),n<6&&a>=6&&(o=o.next(()=>(function(c){c.createObjectStore(Cm)}(e),this.bi(i)))),n<7&&a>=7&&(o=o.next(()=>this.Si(i))),n<8&&a>=8&&(o=o.next(()=>this.Di(e,i))),n<9&&a>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&a>=10&&(o=o.next(()=>this.Ci(i))),n<11&&a>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(Yy,{keyPath:Jse})})(e),function(c){c.createObjectStore(Jy,{keyPath:Zse})}(e)})),n<12&&a>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(Zy,{keyPath:iie});u.createIndex(C_,oie,{unique:!1}),u.createIndex(h6,lie,{unique:!1})})(e)})),n<13&&a>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(Px,{keyPath:Vse});u.createIndex(q0,Kse),u.createIndex(c6,zse)}(e)).next(()=>this.Fi(e,i)).next(()=>e.deleteObjectStore(Ec))),n<14&&a>=14&&(o=o.next(()=>this.Mi(e,i))),n<15&&a>=15&&(o=o.next(()=>function(c){c.createObjectStore(n2,{keyPath:eie,autoIncrement:!0}).createIndex(B_,tie,{unique:!1}),c.createObjectStore(Vf,{keyPath:rie}).createIndex(A6,nie,{unique:!1}),c.createObjectStore(Kf,{keyPath:aie}).createIndex(d6,sie,{unique:!1})}(e))),n<16&&a>=16&&(o=o.next(()=>{r.objectStore(Vf).clear()}).next(()=>{r.objectStore(Kf).clear()})),n<17&&a>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(a2,{keyPath:cie})})(e)})),n<18&&a>=18&&Q3()&&(o=o.next(()=>{r.objectStore(Vf).clear()}).next(()=>{r.objectStore(Kf).clear()})),o}bi(e){let r=0;return e.store(Ec).te((n,a)=>{r+=Hx(a)}).next(()=>{const n={byteSize:r};return e.store(Cm).put(w_,n)})}wi(e){const r=e.store(Bm),n=e.store(Us);return r.J().next(a=>se.forEach(a,i=>{const o=IDBKeyRange.bound([i.userId,ru],[i.userId,i.lastAcknowledgedBatchId]);return n.J(Qc,o).next(l=>se.forEach(l,c=>{At(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=Dc(this.serializer,c);return o8(e,i.userId,u).next(()=>{})}))}))}Si(e){const r=e.store(dd),n=e.store(Ec);return e.store(nu).get(Fx).next(a=>{const i=[];return n.te((o,l)=>{const c=new xr(o),u=function(d){return[0,na(d)]}(c);i.push(r.get(u).next(A=>A?se.resolve():(d=>r.put({targetId:0,path:na(d),sequenceNumber:a.highestListenSequenceNumber}))(c)))}).next(()=>se.waitFor(i))})}Di(e,r){e.createObjectStore(_m,{keyPath:Xse});const n=r.store(_m),a=new v2,i=o=>{if(a.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:na(c)})}};return r.store(Ec).te({ee:!0},(o,l)=>{const c=new xr(o);return i(c.popLast())}).next(()=>r.store(ud).te({ee:!0},([o,l,c],u)=>{const A=xi(l);return i(A.popLast())}))}Ci(e){const r=e.store(Ad);return r.te((n,a)=>{const i=_f(a),o=r8(this.serializer,i);return r.put(o)})}Fi(e,r){const n=r.store(Ec),a=[];return n.te((i,o)=>{const l=r.store(Px),c=function(d){return d.document?new et(xr.fromString(d.document.name).popFirst(5)):d.noDocument?et.fromSegments(d.noDocument.path):d.unknownDocument?et.fromSegments(d.unknownDocument.path):ot(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};a.push(l.put(u))}).next(()=>se.waitFor(a))}Mi(e,r){const n=r.store(Us),a=h8(this.serializer),i=new b2(ob.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let A=(u=l.get(c.userId))!==null&&u!==void 0?u:cn();Dc(this.serializer,c).keys().forEach(d=>A=A.add(d)),l.set(c.userId,A)}),se.forEach(l,(c,u)=>{const A=new In(u),d=sb.bt(this.serializer,A),h=i.getIndexManager(A),f=ib.bt(A,this.serializer,h,i.referenceDelegate);return new f8(a,f,d,h).recalculateAndSaveOverlaysForDocumentKeys(new __(r,Ws.le),c).next()})})}}function D4(t){t.createObjectStore(dd,{keyPath:Wse}).createIndex(r2,qse,{unique:!0}),t.createObjectStore(Ad,{keyPath:"targetId"}).createIndex(u6,Gse,{unique:!0}),t.createObjectStore(nu)}const Lo="IndexedDbPersistence",g1=18e5,x1=5e3,v1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Roe="main";class w2{constructor(e,r,n,a,i,o,l,c,u,A,d=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=i,this.window=o,this.document=l,this.Oi=u,this.Ni=A,this.Bi=d,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=h=>Promise.resolve(),!w2.C())throw new rt(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Coe(this,a),this.Ui=r+Roe,this.serializer=new t8(c),this.Ki=new Sl(this.Ui,this.Bi,new Ooe(this.serializer)),this.Pi=new doe,this.Ti=new yoe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=h8(this.serializer),this.Ei=new Aoe,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,A===!1&&Ga(Lo,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rt(ye.FAILED_PRECONDITION,v1);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new Ws(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Wg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(Fu(e))return Te(Lo,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Te(Lo,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Yh(e).get(Xu).next(r=>se.resolve(this.ts(r)))}ns(e){return Wg(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,g1)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=dn(r,hd);return n.J().next(a=>{const i=this._s(a,g1),o=a.filter(l=>i.indexOf(l)===-1);return se.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?se.resolve(!0):Yh(e).get(Xu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,x1)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new rt(ye.FAILED_PRECONDITION,v1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Wg(e).J().next(n=>this._s(n,x1).find(a=>{if(this.clientId!==a.clientId){const i=!this.networkEnabled&&a.networkEnabled,o=!this.inForeground&&a.inForeground,l=this.networkEnabled===a.networkEnabled;if(i||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&Te(Lo,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Qp,hd],e=>{const r=new __(e,Ws.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Wg(e).J().next(r=>this._s(r,g1).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return ib.bt(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new voe(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return sb.bt(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){Te(Lo,"Starting transaction:",e);const a=r==="readonly"?"readonly":"readwrite",i=function(c){return c===18?die:c===17?g6:c===16?Aie:c===15?s2:c===14?p6:c===13?m6:c===12?uie:c===11?f6:void ot(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,a,i,l=>(o=new __(l,this.li?this.li.next():Ws.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw Ga(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new rt(ye.FAILED_PRECONDITION,s6);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return Yh(e).get(Xu).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,x1)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new rt(ye.FAILED_PRECONDITION,v1)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Yh(e).put(Xu,r)}static C(){return Sl.C()}Xi(e){const r=Yh(e);return r.get(Xu).next(n=>this.ts(n)?(Te(Lo,"Releasing primary lease."),r.delete(Xu)):se.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Ga(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;M3()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return Te(Lo,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ga(Lo,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Ga("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Yh(t){return dn(t,Qp)}function Wg(t){return dn(t,hd)}function Uoe(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,r,n,a){this.targetId=e,this.fromCache=r,this.ds=n,this.As=a}static Rs(e,r){let n=cn(),a=cn();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new B2(e,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return M3()?8:o6(Sx())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,a){const i={result:null};return this.ws(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,r,a,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Moe;return this.Ss(e,r,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>i.result)}Ds(e,r,n,a){return n.documentReadCount<this.gs?(yA()<=zt.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",zh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(yA()<=zt.DEBUG&&Te("QueryEngine","Query:",zh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ps*a?(yA()<=zt.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",zh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,io(r))):se.resolve())}ws(e,r){if(c4(r))return se.resolve(null);let n=io(r);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=T_(r,null,"F"),n=io(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=cn(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,T_(r,null,"F")):this.Fs(e,u,r,c)}))})))}bs(e,r,n,a){return c4(r)||a.isEqual(Lt.min())?se.resolve(null):this.ys.getDocuments(e,n).next(i=>{const o=this.vs(r,i);return this.Cs(r,o,n,a)?se.resolve(null):(yA()<=zt.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),zh(r)),this.Fs(e,o,r,Dse(a,ym)).next(l=>l))})}vs(e,r){let n=new yr(kie(e));return r.forEach((a,i)=>{rb(e,i)&&(n=n.add(i))}),n}Cs(e,r,n,a){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,r,n){return yA()<=zt.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",zh(r)),this.ys.getDocumentsMatchingQuery(e,r,Ja.min(),n)}Fs(e,r,n,a){return this.ys.getDocumentsMatchingQuery(e,n,a).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qoe="LocalStore";class Loe{constructor(e,r,n,a){this.persistence=e,this.Ms=r,this.serializer=a,this.xs=new pa(Ct),this.Os=new No(i=>mu(i),Lp),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f8(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function p8(t,e,r,n){return new Loe(t,e,r,n)}async function g8(t,e){const r=wr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],l=[];let c=cn();for(const u of a){o.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}for(const u of i){l.push(u.batchId);for(const A of u.mutations)c=c.add(A.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function $oe(t,e){const r=wr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),i=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,A){const d=u.batch,h=d.keys();let f=se.resolve();return h.forEach(g=>{f=f.next(()=>A.getEntry(c,g)).next(p=>{const m=u.docVersions.get(g);At(m!==null,48541),p.version.compareTo(m)<0&&(d.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),A.addEntry(p)))})}),f.next(()=>l.mutationQueue.removeMutationBatch(c,d))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=cn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,a))})}function Hoe(t){const e=wr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Voe(t,e){const r=wr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=ru),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class O4{constructor(){this.activeTargetIds=Oie()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x8{constructor(){this.xo=new O4,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new O4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="ConnectivityMonitor";class U4{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Te(R4,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Te(R4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg=null;function R_(){return qg===null?qg=function(){return 268435456+Math.round(2147483648*Math.random())}():qg++,"0x"+qg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="RestConnection",zoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Goe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${a}`,this.Go=this.databaseId.database===Ox?`project_id=${n}`:`project_id=${n}&database_id=${a}`}zo(e,r,n,a,i){const o=R_(),l=this.jo(e,r.toUriEncodedString());Te(y1,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,a,i);const{host:u}=new URL(l),A=qS(u);return this.Jo(e,l,c,n,A).then(d=>(Te(y1,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Mp(y1,`RPC '${e}' ${o} failed with error: `,d,"url: ",l,"request:",n),d})}Yo(e,r,n,a,i,o){return this.zo(e,r,n,a,i)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ah}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>e[i]=a),n&&n.headers.forEach((a,i)=>e[i]=a)}jo(e,r){const n=zoe[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class qoe extends Goe{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,a,i){const o=R_();return new Promise((l,c)=>{const u=new q3;u.setWithCredentials(!0),u.listenOnce(X3.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case z0.NO_ERROR:const d=u.getResponseJson();Te(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),l(d);break;case z0.TIMEOUT:Te(zn,`RPC '${e}' ${o} timed out`),c(new rt(ye.DEADLINE_EXCEEDED,"Request time out"));break;case z0.HTTP_ERROR:const h=u.getStatus();if(Te(zn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const p=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(b)>=0?b:ye.UNKNOWN}(g.status);c(new rt(p,g.message))}else c(new rt(ye.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new rt(ye.UNAVAILABLE,"Connection failed."));break;default:ot(9055,{h_:e,streamId:o,P_:u.getLastErrorCode(),T_:u.getLastError()})}}finally{Te(zn,`RPC '${e}' ${o} completed.`)}});const A=JSON.stringify(a);Te(zn,`RPC '${e}' ${o} sending request:`,a),u.send(r,"POST",A,n,15)})}I_(e,r,n){const a=R_(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Z3(),l=J3(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const A=i.join("");Te(zn,`Creating RPC '${e}' stream ${a}: ${A}`,c);const d=o.createWebChannel(A,c);this.E_(d);let h=!1,f=!1;const g=new Woe({Zo:m=>{f?Te(zn,`Not sending because RPC '${e}' stream ${a} is closed:`,m):(h||(Te(zn,`Opening RPC '${e}' stream ${a} transport.`),d.open(),h=!0),Te(zn,`RPC '${e}' stream ${a} sending:`,m),d.send(m))},Xo:()=>d.close()}),p=(m,y,b)=>{m.listen(y,v=>{try{b(v)}catch(B){setTimeout(()=>{throw B},0)}})};return p(d,Cf.EventType.OPEN,()=>{f||(Te(zn,`RPC '${e}' stream ${a} transport opened.`),g.__())}),p(d,Cf.EventType.CLOSE,()=>{f||(f=!0,Te(zn,`RPC '${e}' stream ${a} transport closed`),g.u_(),this.d_(d))}),p(d,Cf.EventType.ERROR,m=>{f||(f=!0,Mp(zn,`RPC '${e}' stream ${a} transport errored. Name:`,m.name,"Message:",m.message),g.u_(new rt(ye.UNAVAILABLE,"The operation could not be completed")))}),p(d,Cf.EventType.MESSAGE,m=>{var y;if(!f){const b=m.data[0];At(!!b,16349);const v=b,B=(v==null?void 0:v.error)||((y=v[0])===null||y===void 0?void 0:y.error);if(B){Te(zn,`RPC '${e}' stream ${a} received error:`,B);const _=B.status;let j=function(N){const S=Jr[N];if(S!==void 0)return zie(S)}(_),C=B.message;j===void 0&&(j=ye.INTERNAL,C="Unknown error status: "+_+" with message "+B.message),f=!0,g.u_(new rt(j,C)),d.close()}else Te(zn,`RPC '${e}' stream ${a} received:`,b),g.c_(b)}}),p(l,Y3.STAT_EVENT,m=>{m.stat===v_.PROXY?Te(zn,`RPC '${e}' stream ${a} detected buffering proxy`):m.stat===v_.NOPROXY&&Te(zn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.a_()},0),g}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(r=>r===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xoe(){return typeof window<"u"?window:null}function rx(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(t){return new Xie(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,r,n=1e3,a=1.5,i=6e4){this.xi=e,this.timerId=r,this.A_=n,this.R_=a,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const r=Math.floor(this.m_+this.w_()),n=Math.max(0,Date.now()-this.g_),a=Math.max(0,r-n);a>0&&Te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="PersistentStream";class Yoe{constructor(e,r,n,a,i,o,l,c){this.xi=e,this.S_=n,this.D_=a,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new v8(e,r)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,r){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():r&&r.code===ye.RESOURCE_EXHAUSTED?(Ga(r.toString()),Ga("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):r&&r.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),r=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.v_===r&&this.z_(n,a)},n=>{e(()=>{const a=new rt(ye.UNKNOWN,"Fetching auth token failed: "+n.message);return this.j_(a)})})}z_(e,r){const n=this.G_(this.v_);this.stream=this.H_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{n(()=>this.j_(a))}),this.stream.onMessage(a=>{n(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return Te(M4,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return r=>{this.xi.enqueueAndForget(()=>this.v_===e?r():(Te(M4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Joe extends Yoe{constructor(e,r,n,a,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,r){return this.connection.I_("Write",e,r)}J_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const r=roe(e.writeResults,e.commitTime),n=Js(e.commitTime);return this.listener.ra(n,r)}ia(){const e={};e.database=eoe(this.serializer),this.Q_(e)}ta(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Qx(this.serializer,n))};this.Q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{}class ele extends Zoe{constructor(e,r,n,a){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new rt(ye.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,I_(r,n),a,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new rt(ye.UNKNOWN,i.toString())})}Yo(e,r,n,a,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,I_(r,n),a,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new rt(ye.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class tle{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ga(r),this.ua=!1):Te("OnlineStateTracker",r)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="RemoteStore";class rle{constructor(e,r,n,a,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{n.enqueueAndForget(async()=>{Vp(this)&&(Te($p,"Restarting streams for network reachability change."),await async function(c){const u=wr(c);u.da.add(4),await Hp(u),u.Va.set("Unknown"),u.da.delete(4),await cb(u)}(this))})}),this.Va=new tle(n,a)}}async function cb(t){if(Vp(t))for(const e of t.Aa)await e(!0)}async function Hp(t){for(const e of t.Aa)await e(!1)}function Vp(t){return wr(t).da.size===0}async function y8(t,e,r){if(!Fu(e))throw e;t.da.add(1),await Hp(t),t.Va.set("Offline"),r||(r=()=>Hoe(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te($p,"Retrying IndexedDB access"),await r(),t.da.delete(1),await cb(t)})}function b8(t,e){return e().catch(r=>y8(t,r,e))}async function Kp(t){const e=wr(t),r=Hl(e);let n=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:ru;for(;nle(e);)try{const a=await Voe(e.localStore,n);if(a===null){e.Ia.length===0&&r.k_();break}n=a.batchId,ale(e,a)}catch(a){await y8(e,a)}w8(e)&&B8(e)}function nle(t){return Vp(t)&&t.Ia.length<10}function ale(t,e){t.Ia.push(e);const r=Hl(t);r.N_()&&r.ea&&r.ta(e.mutations)}function w8(t){return Vp(t)&&!Hl(t).O_()&&t.Ia.length>0}function B8(t){Hl(t).start()}async function sle(t){Hl(t).ia()}async function ile(t){const e=Hl(t);for(const r of t.Ia)e.ta(r.mutations)}async function ole(t,e,r){const n=t.Ia.shift(),a=m2.from(n,e,r);await b8(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Kp(t)}async function lle(t,e){e&&Hl(t).ea&&await async function(n,a){if(function(o){return Kie(o)&&o!==ye.ABORTED}(a.code)){const i=n.Ia.shift();Hl(n).L_(),await b8(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Kp(n)}}(t,e),w8(t)&&B8(t)}async function Q4(t,e){const r=wr(t);r.asyncQueue.verifyOperationInProgress(),Te($p,"RemoteStore received new credentials");const n=Vp(r);r.da.add(3),await Hp(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.da.delete(3),await cb(r)}async function cle(t,e){const r=wr(t);e?(r.da.delete(2),await cb(r)):e||(r.da.add(2),await Hp(r),r.Va.set("Unknown"))}function Hl(t){return t.ga||(t.ga=function(r,n,a){const i=wr(r);return i.oa(),new Joe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:sle.bind(null,t),i_:lle.bind(null,t),na:ile.bind(null,t),ra:ole.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Kp(t)):(await t.ga.stop(),t.Ia.length>0&&(Te($p,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r,n,a,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new El,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,a,i){const o=Date.now()+n,l=new C2(e,r,o,a,i);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function C8(t,e){if(Ga("AsyncQueue",`${e}: ${t}`),Fu(t))return new rt(ye.UNAVAILABLE,`${e}: ${t}`);throw t}class ule{constructor(){this.queries=L4(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=wr(r),i=a.queries;a.queries=L4(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(n)})})(this,new rt(ye.ABORTED,"Firestore shutting down"))}}function L4(){return new No(t=>O6(t),D6)}function Ale(t){t.Ca.forEach(e=>{e.next()})}var $4,H4;(H4=$4||($4={})).xa="default",H4.Cache="cache";const dle="SyncEngine";class hle{constructor(e,r,n,a,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new No(l=>O6(l),D6),this.Pu=new Map,this.Tu=new Set,this.Iu=new pa(et.comparator),this.Eu=new Map,this.du=new y2,this.Au={},this.Ru=new Map,this.Vu=xu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function fle(t,e,r){const n=E8(t);try{const a=await function(o,l){const c=wr(o),u=$r.now(),A=l.reduce((f,g)=>f.add(g.key),cn());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=gl(),p=cn();return c.Bs.getEntries(f,A).next(m=>{g=m,g.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,g)).next(m=>{d=m;const y=[];for(const b of l){const v=Vie(b,d.get(b.key).overlayedDocument);v!=null&&y.push(new ec(b.key,v,j6(v.value.mapValue),Xa.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,y,l)}).next(m=>{h=m;const y=m.applyToLocalDocumentSet(d,p);return c.documentOverlayCache.saveOverlays(f,m.batchId,y)})}).then(()=>({batchId:h.batchId,changes:U6(d)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(o,l,c){let u=o.Au[o.currentUser.toKey()];u||(u=new pa(Ct)),u=u.insert(l,c),o.Au[o.currentUser.toKey()]=u}(n,a.batchId,r),await ub(n,a.changes),await Kp(n.remoteStore)}catch(a){const i=C8(a,"Failed to persist write");r.reject(i)}}function V4(t,e,r){const n=wr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&a.push(l.snapshot)}),function(o,l){const c=wr(o);c.onlineState=l;let u=!1;c.queries.forEach((A,d)=>{for(const h of d.Sa)h.Fa(l)&&(u=!0)}),u&&Ale(c)}(n.eventManager,e),a.length&&n.lu.Y_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function mle(t,e){const r=wr(t),n=e.batch.batchId;try{const a=await $oe(r.localStore,e);j8(r,n,null),_8(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await ub(r,a)}catch(a){await Wy(a)}}async function ple(t,e,r){const n=wr(t);try{const a=await function(o,l){const c=wr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let A;return c.mutationQueue.lookupMutationBatch(u,l).next(d=>(At(d!==null,37113),A=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,A,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,A)).next(()=>c.localDocuments.getDocuments(u,A))})}(n.localStore,e);j8(n,e,r),_8(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await ub(n,a)}catch(a){await Wy(a)}}function _8(t,e){(t.Ru.get(e)||[]).forEach(r=>{r.resolve()}),t.Ru.delete(e)}function j8(t,e,r){const n=wr(t);let a=n.Au[n.currentUser.toKey()];if(a){const i=a.get(e);i&&(r?i.reject(r):i.resolve(),a=a.remove(e)),n.Au[n.currentUser.toKey()]=a}}async function ub(t,e,r){const n=wr(t),a=[],i=[],o=[];n.hu.isEmpty()||(n.hu.forEach((l,c)=>{o.push(n.fu(c,e,r).then(u=>{var A;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(A=void 0)===null||A===void 0?void 0:A.current;n.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){a.push(u);const d=B2.Rs(c.targetId,u);i.push(d)}}))}),await Promise.all(o),n.lu.Y_(a),await async function(c,u){const A=wr(c);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>se.forEach(u,h=>se.forEach(h.ds,f=>A.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>se.forEach(h.As,f=>A.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!Fu(d))throw d;Te(Qoe,"Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=A.xs.get(h),g=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(g);A.xs=A.xs.insert(h,p)}}}(n.localStore,i))}async function gle(t,e){const r=wr(t);if(!r.currentUser.isEqual(e)){Te(dle,"User change. New user:",e.toKey());const n=await g8(r.localStore,e);r.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new rt(ye.CANCELLED,o))})}),i.Ru.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await ub(r,n.ks)}}function E8(t){const e=wr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mle.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ple.bind(null,e),e}class Im{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lb(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,r){return null}Cu(e,r){return null}Du(e){return p8(this.persistence,new m8,e.initialUser,this.serializer)}Su(e){return new b2(ob.fi,this.serializer)}bu(e){return new x8}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Im.provider={build:()=>new Im};class xle extends Im{constructor(e){super(),this.cacheSizeBytes=e}vu(e,r){At(this.persistence.referenceDelegate instanceof Vx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new u8(n,e.asyncQueue,r)}Su(e){const r=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new b2(n=>Vx.fi(n,r),this.serializer)}}class vle extends Im{constructor(e,r,n){super(),this.Fu=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Fu.initialize(this,e),await E8(this.Fu.syncEngine),await Kp(this.Fu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Du(e){return p8(this.persistence,new m8,e.initialUser,this.serializer)}vu(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new u8(n,e.asyncQueue,r)}Cu(e,r){const n=new Mse(r,this.persistence);return new Use(e.asyncQueue,n)}Su(e){const r=Uoe(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new w2(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,Xoe(),rx(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new x8}}class Kx{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>V4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gle.bind(null,this.syncEngine),await cle(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ule}()}createDatastore(e){const r=lb(e.databaseInfo.databaseId),n=function(i){return new qoe(i)}(e.databaseInfo);return function(i,o,l,c){return new ele(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,a,i,o,l){return new rle(n,a,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>V4(this.syncEngine,r,0),function(){return U4.C()?new U4:new Koe}())}createSyncEngine(e,r){return function(a,i,o,l,c,u,A){const d=new hle(a,i,o,l,c,u);return A&&(d.mu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(a){const i=wr(a);Te($p,"RemoteStore shutting down."),i.da.add(5),await Hp(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Kx.provider={build:()=>new Kx};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="FirestoreClient";class yle{constructor(e,r,n,a,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=In.UNAUTHENTICATED,this.clientId=r6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Te(Vl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Te(Vl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new El;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=C8(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function b1(t,e){t.asyncQueue.verifyOperationInProgress(),Te(Vl,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async a=>{n.isEqual(a)||(await g8(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function K4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ble(t);Te(Vl,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Q4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,a)=>Q4(e.remoteStore,a)),t._onlineComponents=e}async function ble(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te(Vl,"Using user provided OfflineComponentProvider");try{await b1(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Mp("Error using user provided cache. Falling back to memory cache: "+r),await b1(t,new Im)}}else Te(Vl,"Using default OfflineComponentProvider"),await b1(t,new xle(void 0));return t._offlineComponents}async function wle(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te(Vl,"Using user provided OnlineComponentProvider"),await K4(t,t._uninitializedComponentsProvider._online)):(Te(Vl,"Using default OnlineComponentProvider"),await K4(t,new Kx))),t._onlineComponents}function Ble(t){return wle(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t,e,r){if(!r)throw new rt(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Cle(t,e,r,n){if(e===!0&&n===!0)throw new rt(ye.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function G4(t){if(!et.isDocumentKey(t))throw new rt(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W4(t){if(et.isDocumentKey(t))throw new rt(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _2(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ot(12329,{type:typeof t})}function j2(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new rt(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_2(t);throw new rt(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8="firestore.googleapis.com",q4=!0;class X4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k8,this.ssl=q4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:q4;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i8;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<boe)throw new rt(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cle("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S8((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new rt(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new rt(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new rt(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ab{constructor(e,r,n,a){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new X4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new X4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _se;switch(n.type){case"firstParty":return new Nse(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new rt(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=z4.get(r);n&&(Te("ComponentProvider","Removing Datastore"),z4.delete(r),n.terminate())}(this),Promise.resolve()}}function _le(t,e,r,n={}){var a;t=j2(t,Ab);const i=qS(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;i&&(sae(`https://${c}`),cae("Firestore",!0)),o.host!==k8&&o.host!==c&&Mp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:n});if(!Nx(u,l)&&(t._setSettings(u),n.mockUserToken)){let A,d;if(typeof n.mockUserToken=="string")A=n.mockUserToken,d=In.MOCK_USER;else{A=iae(n.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new rt(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new In(h)}t._authCredentials=new jse(new t6(A,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new E2(this.firestore,e,this._query)}}class oo{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oo(this.firestore,e,this._key)}}class Nl extends E2{constructor(e,r,n){super(e,r,F6(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new oo(this.firestore,null,new et(e))}withConverter(e){return new Nl(this.firestore,e,this._path)}}function Y4(t,e,...r){if(t=Ml(t),N8("collection","path",e),t instanceof Ab){const n=xr.fromString(e,...r);return W4(n),new Nl(t,null,n)}{if(!(t instanceof oo||t instanceof Nl))throw new rt(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return W4(n),new Nl(t.firestore,null,n)}}function jle(t,e,...r){if(t=Ml(t),arguments.length===1&&(e=r6.newId()),N8("doc","path",e),t instanceof Ab){const n=xr.fromString(e,...r);return G4(n),new oo(t,null,new et(n))}{if(!(t instanceof oo||t instanceof Nl))throw new rt(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(xr.fromString(e,...r));return G4(n),new oo(t.firestore,t instanceof Nl?t.converter:null,new et(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="AsyncQueue";class Z4{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new v8(this,"async_queue_retry"),this.rc=()=>{const n=rx();n&&Te(J4,"Visibility state changed to "+n.visibilityState),this.x_.b_()},this.sc=e;const r=rx();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const r=rx();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const r=new El;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Fu(e))throw e;Te(J4,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const r=this.sc.then(()=>(this.ec=!0,e().catch(n=>{throw this.Xu=n,this.ec=!1,Ga("INTERNAL UNHANDLED ERROR: ",eP(n)),n}).then(n=>(this.ec=!1,n))));return this.sc=r,r}enqueueAfterDelay(e,r,n){this.oc(),this.nc.indexOf(e)>-1&&(r=0);const a=C2.createAndSchedule(this,e,r,n,i=>this.uc(i));return this.Zu.push(a),a}oc(){this.Xu&&ot(47125,{cc:eP(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const r of this.Zu)if(r.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Zu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const r=this.Zu.indexOf(e);this.Zu.splice(r,1)}}function eP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class S2 extends Ab{constructor(e,r,n,a){super(e,r,n,a),this.type="firestore",this._queue=new Z4,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Z4(e),this._firestoreClient=void 0,await e}}}function N2(t,e){const r=typeof t=="object"?t:z3(),n=typeof t=="string"?t:Ox,a=Gy(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=nae("firestore");i&&_le(a,...i)}return a}function Ele(t){if(t._terminated)throw new rt(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||T8(t),t._firestoreClient}function T8(t){var e,r,n;const a=t._freezeSettings(),i=function(l,c,u,A){return new mie(l,c,u,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,S8(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new yle(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function Sle(t,e){Mp("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return Nle(t,Kx.provider,{build:n=>new vle(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function Nle(t,e,r){if((t=j2(t,S2))._firestoreClient||t._terminated)throw new rt(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new rt(ye.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},T8(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pm(Ia.fromBase64String(e))}catch(r){throw new rt(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Pm(Ia.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new rt(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new rt(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new rt(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kle=/^__.*__$/;class Tle{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ec(e,this.data,this.fieldMask,r,this.fieldTransforms):new hh(e,this.data,r,this.fieldTransforms)}}function O8(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot(40011,{Ic:t})}}class k2{constructor(e,r,n,a,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new k2(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Vc(e),a}mc(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),a=this.dc({path:n,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return zx(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(O8(this.Ic)&&kle.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Ile{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||lb(e)}bc(e,r,n,a=!1){return new k2({Ic:e,methodName:r,wc:n,path:Ur.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ple(t){const e=t._freezeSettings(),r=lb(t._databaseId);return new Ile(t._databaseId,!!e.ignoreUndefinedProperties,r)}function Fle(t,e,r,n,a,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,r,a);Q8("Data must be an object, but it was:",o,n);const l=U8(n,o);let c,u;if(i.merge)c=new As(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const A=[];for(const d of i.mergeFields){const h=Dle(e,d,r);if(!o.contains(h))throw new rt(ye.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Ule(A,h)||A.push(h)}c=new As(A),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Tle(new Wa(l),c,u)}function R8(t,e){if(M8(t=Ml(t)))return Q8("Unsupported field value:",e,t),U8(t,e);if(t instanceof P8)return function(n,a){if(!O8(a.Ic))throw a.gc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(n,a){const i=[];let o=0;for(const l of n){let c=R8(l,a.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,a){if((n=Ml(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Rie(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=$r.fromDate(n);return{timestampValue:Tm(a.serializer,i)}}if(n instanceof $r){const i=new $r(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Tm(a.serializer,i)}}if(n instanceof F8)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Pm)return{bytesValue:Jie(a.serializer,n._byteString)};if(n instanceof oo){const i=a.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw a.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:g2(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof D8)return function(o,l){return{mapValue:{fields:{[l2]:{stringValue:c2},[jm]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.gc("VectorValues must only contain numeric values.");return d2(l.serializer,u)})}}}}}}(n,a);throw a.gc(`Unsupported field value: ${_2(n)}`)}(t,e)}function U8(t,e){const r={};return x6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dh(t,(n,a)=>{const i=R8(a,e.Ac(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function M8(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $r||t instanceof F8||t instanceof Pm||t instanceof oo||t instanceof P8||t instanceof D8)}function Q8(t,e,r){if(!M8(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=_2(r);throw n==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+n)}}function Dle(t,e,r){if((e=Ml(e))instanceof I8)return e._internalPath;if(typeof e=="string")return Rle(t,e);throw zx("Field path arguments must be of type string or ",t,!1,void 0,r)}const Ole=new RegExp("[~\\*/\\[\\]]");function Rle(t,e,r){if(e.search(Ole)>=0)throw zx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new I8(...e.split("."))._internalPath}catch{throw zx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function zx(t,e,r,n,a){const i=n&&!n.isEmpty(),o=a!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${n}`),o&&(c+=` in document ${a}`),c+=")"),new rt(ye.INVALID_ARGUMENT,l+t+c)}function Ule(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mle(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function tP(t,e){const r=j2(t.firestore,S2),n=jle(t),a=Mle(t.converter,e);return Qle(r,[Fle(Ple(t.firestore),"addDoc",n._key,a,t.converter!==null,{}).toMutation(n._key,Xa.exists(!1))]).then(()=>n)}function Qle(t,e){return function(n,a){const i=new El;return n.asyncQueue.enqueueAndForget(async()=>fle(await Ble(n),a,i)),i.promise}(Ele(t),e)}(function(e,r=!0){(function(a){Ah=a})(dse),Ql(new go("firestore",(n,{instanceIdentifier:a,options:i})=>{const o=n.getProvider("app").getImmediate(),l=new S2(new Ese(n.getProvider("auth-internal")),new kse(o,n.getProvider("app-check-internal")),function(u,A){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new rt(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(u.options.projectId,A)}(o,a),o);return i=Object.assign({useFetchStreams:r},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),_i(QI,LI,e),_i(QI,LI,"esm2017")})();const L8="@firebase/installations",T2="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8=1e4,H8=`w:${T2}`,V8="FIS_v2",Lle="https://firebaseinstallations.googleapis.com/v1",$le=60*60*1e3,Hle="installations",Vle="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kle={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vu=new Ky(Hle,Vle,Kle);function K8(t){return t instanceof Pu&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z8({projectId:t}){return`${Lle}/projects/${t}/installations`}function G8(t){return{token:t.token,requestStatus:2,expiresIn:Gle(t.expiresIn),creationTime:Date.now()}}async function W8(t,e){const n=(await e.json()).error;return vu.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function q8({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zle(t,{refreshToken:e}){const r=q8(t);return r.append("Authorization",Wle(e)),r}async function X8(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Gle(t){return Number(t.replace("s","000"))}function Wle(t){return`${V8} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qle({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=z8(t),a=q8(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={fid:r,authVersion:V8,appId:t.appId,sdkVersion:H8},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await X8(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:G8(u.authToken)}}else throw await W8("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yle=/^[cdef][\w-]{21}$/,U_="";function Jle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=Zle(t);return Yle.test(r)?r:U_}catch{return U_}}function Zle(t){return Xle(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8=new Map;function Z8(t,e){const r=db(t);eL(r,e),ece(r,e)}function eL(t,e){const r=J8.get(t);if(r)for(const n of r)n(e)}function ece(t,e){const r=tce();r&&r.postMessage({key:t,fid:e}),rce()}let Lc=null;function tce(){return!Lc&&"BroadcastChannel"in self&&(Lc=new BroadcastChannel("[Firebase] FID Change"),Lc.onmessage=t=>{eL(t.data.key,t.data.fid)}),Lc}function rce(){J8.size===0&&Lc&&(Lc.close(),Lc=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nce="firebase-installations-database",ace=1,yu="firebase-installations-store";let w1=null;function I2(){return w1||(w1=zy(nce,ace,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yu)}}})),w1}async function Gx(t,e){const r=db(t),a=(await I2()).transaction(yu,"readwrite"),i=a.objectStore(yu),o=await i.get(r);return await i.put(e,r),await a.done,(!o||o.fid!==e.fid)&&Z8(t,e.fid),e}async function tL(t){const e=db(t),n=(await I2()).transaction(yu,"readwrite");await n.objectStore(yu).delete(e),await n.done}async function hb(t,e){const r=db(t),a=(await I2()).transaction(yu,"readwrite"),i=a.objectStore(yu),o=await i.get(r),l=e(o);return l===void 0?await i.delete(r):await i.put(l,r),await a.done,l&&(!o||o.fid!==l.fid)&&Z8(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(t){let e;const r=await hb(t.appConfig,n=>{const a=sce(n),i=ice(t,a);return e=i.registrationPromise,i.installationEntry});return r.fid===U_?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function sce(t){const e=t||{fid:Jle(),registrationStatus:0};return rL(e)}function ice(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(vu.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=oce(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lce(t)}:{installationEntry:e}}async function oce(t,e){try{const r=await qle(t,e);return Gx(t.appConfig,r)}catch(r){throw K8(r)&&r.customData.serverCode===409?await tL(t.appConfig):await Gx(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function lce(t){let e=await rP(t.appConfig);for(;e.registrationStatus===1;)await Y8(100),e=await rP(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await P2(t);return n||r}return e}function rP(t){return hb(t,e=>{if(!e)throw vu.create("installation-not-found");return rL(e)})}function rL(t){return cce(t)?{fid:t.fid,registrationStatus:0}:t}function cce(t){return t.registrationStatus===1&&t.registrationTime+$8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uce({appConfig:t,heartbeatServiceProvider:e},r){const n=Ace(t,r),a=zle(t,r),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&a.append("x-firebase-client",u)}const o={installation:{sdkVersion:H8,appId:t.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await X8(()=>fetch(n,l));if(c.ok){const u=await c.json();return G8(u)}else throw await W8("Generate Auth Token",c)}function Ace(t,{fid:e}){return`${z8(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(t,e=!1){let r;const n=await hb(t.appConfig,i=>{if(!nL(i))throw vu.create("not-registered");const o=i.authToken;if(!e&&fce(o))return i;if(o.requestStatus===1)return r=dce(t,e),i;{if(!navigator.onLine)throw vu.create("app-offline");const l=pce(i);return r=hce(t,l),l}});return r?await r:n.authToken}async function dce(t,e){let r=await nP(t.appConfig);for(;r.authToken.requestStatus===1;)await Y8(100),r=await nP(t.appConfig);const n=r.authToken;return n.requestStatus===0?F2(t,e):n}function nP(t){return hb(t,e=>{if(!nL(e))throw vu.create("not-registered");const r=e.authToken;return gce(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function hce(t,e){try{const r=await uce(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Gx(t.appConfig,n),r}catch(r){if(K8(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await tL(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Gx(t.appConfig,n)}throw r}}function nL(t){return t!==void 0&&t.registrationStatus===2}function fce(t){return t.requestStatus===2&&!mce(t)}function mce(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$le}function pce(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function gce(t){return t.requestStatus===1&&t.requestTime+$8<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xce(t){const e=t,{installationEntry:r,registrationPromise:n}=await P2(e);return n?n.catch(console.error):F2(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vce(t,e=!1){const r=t;return await yce(r),(await F2(r,e)).token}async function yce(t){const{registrationPromise:e}=await P2(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bce(t){if(!t||!t.options)throw B1("App Configuration");if(!t.name)throw B1("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw B1(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function B1(t){return vu.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aL="installations",wce="installations-internal",Bce=t=>{const e=t.getProvider("app").getImmediate(),r=bce(e),n=Gy(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Cce=t=>{const e=t.getProvider("app").getImmediate(),r=Gy(e,aL).getImmediate();return{getId:()=>xce(r),getToken:a=>vce(r,a)}};function _ce(){Ql(new go(aL,Bce,"PUBLIC")),Ql(new go(wce,Cce,"PRIVATE"))}_ce();_i(L8,T2);_i(L8,T2,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jce="/firebase-messaging-sw.js",Ece="/firebase-cloud-messaging-push-scope",sL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Sce="https://fcmregistrations.googleapis.com/v1",iL="google.c.a.c_id",Nce="google.c.a.c_l",kce="google.c.a.ts",Tce="google.c.a.e",aP=1e4;var sP;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(sP||(sP={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Fm;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Fm||(Fm={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ice(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),a=new Uint8Array(n.length);for(let i=0;i<n.length;++i)a[i]=n.charCodeAt(i);return a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="fcm_token_details_db",Pce=5,iP="fcm_token_object_Store";async function Fce(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(i=>i.name).includes(C1))return null;let e=null;return(await zy(C1,Pce,{upgrade:async(n,a,i,o)=>{var l;if(a<2||!n.objectStoreNames.contains(iP))return;const c=o.objectStore(iP),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(a===2){const A=u;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:(l=A.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:typeof A.vapidKey=="string"?A.vapidKey:eo(A.vapidKey)}}}else if(a===3){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:eo(A.auth),p256dh:eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:eo(A.vapidKey)}}}else if(a===4){const A=u;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:eo(A.auth),p256dh:eo(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:eo(A.vapidKey)}}}}}})).close(),await h1(C1),await h1("fcm_vapid_details_db"),await h1("undefined"),Dce(e)?e:null}function Dce(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oce="firebase-messaging-database",Rce=1,Dm="firebase-messaging-store";let _1=null;function oL(){return _1||(_1=zy(Oce,Rce,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dm)}}})),_1}async function Uce(t){const e=lL(t),n=await(await oL()).transaction(Dm).objectStore(Dm).get(e);if(n)return n;{const a=await Fce(t.appConfig.senderId);if(a)return await D2(t,a),a}}async function D2(t,e){const r=lL(t),a=(await oL()).transaction(Dm,"readwrite");return await a.objectStore(Dm).put(e,r),await a.done,e}function lL({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mce={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},aa=new Ky("messaging","Messaging",Mce);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qce(t,e){const r=await R2(t),n=cL(e),a={method:"POST",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(O2(t.appConfig),a)).json()}catch(o){throw aa.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw aa.create("token-subscribe-failed",{errorInfo:o})}if(!i.token)throw aa.create("token-subscribe-no-token");return i.token}async function Lce(t,e){const r=await R2(t),n=cL(e.subscriptionOptions),a={method:"PATCH",headers:r,body:JSON.stringify(n)};let i;try{i=await(await fetch(`${O2(t.appConfig)}/${e.token}`,a)).json()}catch(o){throw aa.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(i.error){const o=i.error.message;throw aa.create("token-update-failed",{errorInfo:o})}if(!i.token)throw aa.create("token-update-no-token");return i.token}async function $ce(t,e){const n={method:"DELETE",headers:await R2(t)};try{const i=await(await fetch(`${O2(t.appConfig)}/${e}`,n)).json();if(i.error){const o=i.error.message;throw aa.create("token-unsubscribe-failed",{errorInfo:o})}}catch(a){throw aa.create("token-unsubscribe-failed",{errorInfo:a==null?void 0:a.toString()})}}function O2({projectId:t}){return`${Sce}/projects/${t}/registrations`}async function R2({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function cL({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const a={web:{endpoint:r,auth:e,p256dh:t}};return n!==sL&&(a.web.applicationPubKey=n),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hce=7*24*60*60*1e3;async function Vce(t){const e=await zce(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:eo(e.getKey("auth")),p256dh:eo(e.getKey("p256dh"))},n=await Uce(t.firebaseDependencies);if(n){if(Gce(n.subscriptionOptions,r))return Date.now()>=n.createTime+Hce?Kce(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await $ce(t.firebaseDependencies,n.token)}catch(a){console.warn(a)}return oP(t.firebaseDependencies,r)}else return oP(t.firebaseDependencies,r)}async function Kce(t,e){try{const r=await Lce(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await D2(t.firebaseDependencies,n),r}catch(r){throw r}}async function oP(t,e){const n={token:await Qce(t,e),createTime:Date.now(),subscriptionOptions:e};return await D2(t,n),n.token}async function zce(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ice(e)})}function Gce(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,a=e.auth===t.auth,i=e.p256dh===t.p256dh;return r&&n&&a&&i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Wce(e,t),qce(e,t),Xce(e,t),e}function Wce(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const a=e.notification.image;a&&(t.notification.image=a);const i=e.notification.icon;i&&(t.notification.icon=i)}function qce(t,e){e.data&&(t.data=e.data)}function Xce(t,e){var r,n,a,i,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(a=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&a!==void 0?a:(i=e.notification)===null||i===void 0?void 0:i.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yce(t){return typeof t=="object"&&!!t&&iL in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jce(t){if(!t||!t.options)throw j1("App Configuration Object");if(!t.name)throw j1("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw j1(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function j1(t){return aa.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zce{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=Jce(e);this.firebaseDependencies={app:e,appConfig:a,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eue(t){try{t.swRegistration=await navigator.serviceWorker.register(jce,{scope:Ece}),t.swRegistration.update().catch(()=>{}),await tue(t.swRegistration)}catch(e){throw aa.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function tue(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${aP} ms`)),aP),a=t.installing||t.waiting;t.active?(clearTimeout(n),e()):a?a.onstatechange=i=>{var o;((o=i.target)===null||o===void 0?void 0:o.state)==="activated"&&(a.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rue(t,e){if(!e&&!t.swRegistration&&await eue(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw aa.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nue(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sL)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e){if(!navigator)throw aa.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw aa.create("permission-blocked");return await nue(t,e==null?void 0:e.vapidKey),await rue(t,e==null?void 0:e.serviceWorkerRegistration),Vce(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aue(t,e,r){const n=sue(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[iL],message_name:r[Nce],message_time:r[kce],message_device_time:Math.floor(Date.now()/1e3)})}function sue(t){switch(t){case Fm.NOTIFICATION_CLICKED:return"notification_open";case Fm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iue(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===Fm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(lP(r)):t.onMessageHandler.next(lP(r)));const n=r.data;Yce(n)&&n[Tce]==="1"&&await aue(t,r.messageType,n)}const cP="@firebase/messaging",uP="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oue=t=>{const e=new Zce(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>iue(e,r)),e},lue=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>uL(e,n)}};function cue(){Ql(new go("messaging",oue,"PUBLIC")),Ql(new go("messaging-internal",lue,"PRIVATE")),_i(cP,uP),_i(cP,uP,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uue(){try{await L3()}catch{return!1}return typeof window<"u"&&XS()&&uae()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(t,e){if(!navigator)throw aa.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t=z3()){return uue().then(e=>{if(!e)throw aa.create("unsupported-browser")},e=>{throw aa.create("indexed-db-unsupported")}),Gy(Ml(t),"messaging").getImmediate()}async function due(t,e){return t=Ml(t),uL(t,e)}function hue(t,e){return t=Ml(t),Aue(t,e)}cue();const fue={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},fh=K3(fue);let nx=null;try{typeof window<"u"&&"serviceWorker"in navigator?(nx=AL(fh),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const mue=N2(fh),pue=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await Sle(mue).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};pue().catch(t=>{console.error("Failed to initialize Firestore:",t)});const dL=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,E1=async()=>{try{if(!dL())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!fh||!nx)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!nx)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await due(nx,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}},S1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),gue=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,xue=(t,e,r,n,a,i)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=i||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3);a.slice(0,h).map((f,g)=>`${g+1}. ${f.product_name||"Produk"} (${f.quantity||1}x)`).join(`
`),a.length-h}const A=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let d="Produk tidak tersedia";if(Array.isArray(a)&&a.length>0){const h=Math.min(a.length,3),f=a.slice(0,h).map((m,y)=>`${y+1}. ${m.product_name||"Produk"} (${m.quantity||1}x) - ${S1(m.price||0)}`).join(`
`),g=a.length-h,p=g>0?`+${g} item lainnya`:"";d=f+(p?`
${p}`:"")}return`🎉 *PESANAN BERHASIL DIBUAT* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${d}

*PENGIRIMAN*
Alamat: ${A}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${S1(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${S1(t.total)}
Metode: ${gue(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* 🙏`},Jh="caa6aa7f-8086-4920-899d-4ac498a62eea",Xg="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",vue="",hL=["0895385500396","081394586882"],M_=["https://app.wapanels.com/api/create-message"],lo={};M_.forEach(t=>{lo[t]={healthy:!0,lastChecked:0}});const N1=t=>{lo[t]&&(lo[t].healthy=!1,lo[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},AP=t=>{lo[t]&&(lo[t].healthy=!0,lo[t].lastChecked=Date.now())},yue=()=>hL,zp=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of M_)if(!(!lo[n].healthy&&M_.some(a=>lo[a].healthy)))try{let a,i={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(i={Authorization:Jh,"Content-Type":"application/json"},a={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?a={appkey:Jh,authkey:Xg,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?a={appkey:Jh,authkey:Xg,to:r,message:e,template_id:""}:a={appkey:Jh,authkey:Xg,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await Xo.post(n,a,{headers:i,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return AP(n),console.log(`✅ WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const A={appkey:Jh,authkey:Xg,to:r,message:e},d=await Xo.post(n,A,{headers:i,timeout:15e3});if(d.data&&d.status>=200&&d.status<300&&d.data.success===!0)return console.log("✅ WhatsApp message sent successfully via alternate payload format"),AP(n),!0}catch(A){console.error("Alternate payload also failed:",A)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),N1(n))}catch(a){if(a.response){const i=a.response.status;console.error(`WhatsApp API error (HTTP ${i}) with endpoint ${n}:`,{data:a.response.data,status:i}),i===404||i===401||i===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),N1(n)):i===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),N1(n)):(i===401||i===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else a.request?console.error(`Network error with endpoint ${n}:`,a.message):console.error(`Error with endpoint ${n}:`,a.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},k1=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),bue=async(t,e,r,n,a,i)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log("⏱️ Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(f=>({product_name:f.product_name||"Produk",price:f.price||0,quantity:f.quantity||1,variant:f.variant||"",unit:f.unit||"",product_id:f.product_id||""})),console.log(`✅ Order items valid: ${o.length} items found`)):(console.warn("⚠️ No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=i||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let A="";const d=xue(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${d.length} karakter`),console.log("Detail items dalam pesan:",o.map(f=>`${f.product_name} (${f.quantity}x)`)),console.log(`Panjang pesan ringkas: ${d.length} karakter`),d.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${d.length} karakter)`);const f=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let g="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const m=o[0];g=`${m.product_name||"Produk"} (${m.quantity||1}x)`,o.length>1&&(g+=` +${o.length-1} item lainnya`)}let p="";if(Array.isArray(o)&&o.length>0){const m=Math.min(o.length,3);for(let y=0;y<m;y++){const b=o[y];p+=`${y+1}. ${b.product_name||"Produk"} (${b.quantity||1}x) - ${k1(b.price||0)}
`}o.length>m&&(p+=`+${o.length-m} item lainnya
`)}else p=`Produk tidak tersedia
`;A=`🎉 *PESANAN BERHASIL* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${f}

*PRODUK YANG DIPESAN*
${p}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${k1(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${k1(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${A.length} karakter`)}else A=d;console.log(`Pesan final: ${A.length} karakter`),console.log("Konten pesan WhatsApp (awal):",A.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const h=await zp(e.phone,A);return console.log(h?"✅ WhatsApp notification berhasil dikirim ke pelanggan":"❌ Gagal mengirim WhatsApp notification ke pelanggan"),h}catch(o){return console.error("Error sending customer order notification:",o),!1}},wue=async(t,e,r,n,a,i)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=B=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(B).replace("Rp ","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((B,_)=>B+(_.price||0)*(_.quantity||0),0),A=c.map((B,_)=>{const j=B.price||0,C=B.quantity||1,E=j*C;return`${_+1}. ${B.product_name||"Produk"} (${C}x) - ${l(E)}`}).join(`
`),d=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},h=t.shipping_cost||d.cost||0;console.log("Admin notification - shipping cost:",h);const f=t.discount_data||{},g=f&&(f.value>0||f.code),p=g?f.type==="percentage"?`${f.value}%`:l(f.value||0):"0",m=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",y=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",b=`🛒 PESANAN BARU 🛒

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${m}
No. HP Penerima: ${y}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${d.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${d.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(h)}
Estimasi: ${d.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${A}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${g?`Diskon${f.code?" ("+f.code+")":""}: -${p}
`:""}Ongkos Kirim: ${l(h)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${Bue(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(i==null?void 0:i.bank_name)||"SeaBank"}
No. Rekening: ${(i==null?void 0:i.account_number)||"901958730549"}
a.n: ${(i==null?void 0:i.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let v=0;for(const B of hL)try{v>0&&await new Promise(j=>setTimeout(j,1e3)),await zp(B,b)&&(v++,console.log(`✅ WhatsApp notification sent to admin: ${B}`))}catch(_){console.error(`Error sending WhatsApp to admin ${B}:`,_)}return v>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},Bue=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,fL=zp,mL=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await Z.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await Z.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:a}=await Z.from("order_items").select("*").eq("order_id",t.id),{data:i}=await Z.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await wue(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},i||{street:"N/A",city:"N/A"},a||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},T1=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),Q_=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),pL=x.createContext(void 0);function Hr(){const t=x.useContext(pL);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Cue({children:t}){const[e,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(!0),[u,A]=x.useState(!1),d=async B=>{try{const{data:_,error:j}=await Z.from("profiles").select("*").eq("id",B).maybeSingle();return j?(console.error("Error fetching profile:",j),null):_}catch(_){return console.error("Error in fetchProfile:",_),null}},h=async(B,_={})=>{try{let j=await d(B);if(!j){console.log("Profile not found, creating new profile for user:",B);const{data:C,error:E}=await Z.from("profiles").insert({id:B,name:_.name||"",email:_.email||"",role:_.role||"customer",created_at:new Date().toISOString()}).select().single();if(E)return console.error("Error creating profile:",E),null;j=C}return j}catch(j){return console.error("Error in ensureProfileExists:",j),null}},f=async()=>{var _;if(!e)return;let B=await d(e.id);B||(B=await h(e.id,{email:e.email,name:((_=e.user_metadata)==null?void 0:_.name)||""})),B&&a(B)};x.useEffect(()=>{const{data:{subscription:B}}=Z.auth.onAuthStateChange(async(_,j)=>{o(j),r((j==null?void 0:j.user)??null),j!=null&&j.user?(c(!0),setTimeout(async()=>{var E;let C=await d(j.user.id);C||(C=await h(j.user.id,{email:j.user.email,name:((E=j.user.user_metadata)==null?void 0:E.name)||""})),a(C),c(!1)},0)):(a(null),c(!1))});return Z.auth.getSession().then(async({data:{session:_}})=>{var j;if(o(_),r((_==null?void 0:_.user)??null),_!=null&&_.user){let C=await d(_.user.id);if(C||(C=await h(_.user.id,{email:_.user.email,name:((j=_.user.user_metadata)==null?void 0:j.name)||""})),C)try{const E=await E1();if(E){await T1(_.user.id,E),console.log("FCM token updated for returning user:",_.user.id,"Token:",E.substring(0,10)+"..."),C.fcm_token=E;const N={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",N)}}catch(E){console.error("Error generating/storing FCM token on session check:",E)}a(C)}c(!1)}),()=>{B.unsubscribe()}},[]);let g=0,p=!1;const m=async()=>{if(!e)return!1;const B=Date.now();if(B-g<5e3)return console.log("Using cached phone verification result:",p),p;try{g=B;const{data:j,error:C}=await Z.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(C||!j)return console.error("Error checking phone verification:",C),p=!1,A(!1),!1;const E=j.is_phone_verified===!0;return p=E,u!==E&&A(E),E}catch(j){return console.error("Error in checkPhoneVerification:",j),p=!1,A(!1),!1}},y=async(B,_)=>{try{c(!0);const{data:j,error:C}=await Z.auth.signInWithPassword({email:B,password:_});if(C)throw C;if(j!=null&&j.user){const E=await d(j.user.id);if(E&&a(E),await m(),"Notification"in window&&"serviceWorker"in navigator)try{const N=await E1();N?(localStorage.setItem("fcmToken",N),await T1(j.user.id,N),n&&a(S=>S&&{...S,fcm_token:N,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",j.user.id,"Token:",N.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(N){console.error("Error generating/storing FCM token:",N)}}}catch(j){throw console.error("Login error:",j),c(!1),j}finally{c(!1)}},b=async(B,_,j)=>{c(!0);try{const{data:C,error:E}=await Z.auth.signUp({email:_,password:j,options:{data:{name:B}}});if(E)throw E;if(C.user){await h(C.user.id,{email:_,name:B,role:"customer"});try{const N=await E1();if(N){await T1(C.user.id,N);const S={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",S),console.log("FCM token generated and stored for new user:",C.user.id,"Token:",N.substring(0,10)+"..."),console.log("Device info stored:",S);const k=await d(C.user.id);k&&a({...k,fcm_token:N})}}catch(N){console.error("Error generating/storing FCM token during registration:",N)}}}catch(C){throw c(!1),C}},v=async()=>{try{await Z.auth.signOut()}catch(B){console.error("Error during logout:",B)}};return x.useEffect(()=>{e&&n?m():A(!1)},[e,n]),s.jsx(pL.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:y,register:b,logout:v,refreshProfile:f,checkPhoneVerification:m},children:t})}const gL=x.createContext(void 0);function fb(){const t=x.useContext(gL);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function _ue({children:t}){const[e,r]=x.useState([]);x.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),x.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(A=>{const d=A.findIndex(h=>h.id===u.id);if(d>-1){const h=[...A];return h[d]={...h[d],quantity:h[d].quantity+(u.quantity||1)},h}else return[...A,{...u,quantity:u.quantity||1}]})},a=u=>{r(A=>A.filter(d=>d.id!==u))},i=(u,A)=>{if(A<=0){a(u);return}r(d=>d.map(h=>h.id===u?{...h,quantity:A}:h))},o=()=>{r([])},l=e.reduce((u,A)=>u+A.price*A.quantity,0),c=e.reduce((u,A)=>u+A.quantity,0);return s.jsx(gL.Provider,{value:{items:e,addItem:n,removeItem:a,updateQuantity:i,clearCart:o,total:l,itemCount:c},children:t})}function jue(){const t=va();return x.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}const Eue=()=>{const t=va();return x.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),s.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),s.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})};function Jt({children:t}){const e=va(),r=e.pathname.startsWith("/ppob");return s.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[s.jsx("main",{className:fe("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&s.jsx("div",{className:"text-center mb-2",children:s.jsx(mt,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:s.jsxs("div",{className:"flex justify-around items-center h-16",children:[s.jsx(Zh,{to:"/",icon:s.jsx(GM,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),s.jsx(Zh,{to:"/chat",icon:s.jsx(gS,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),s.jsx(Zh,{to:"/cart",icon:s.jsx(Ey,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),s.jsx(Zh,{to:"/orders",icon:s.jsx(fo,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),s.jsx(Zh,{to:"/profile",icon:s.jsx(sd,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Zh({to:t,icon:e,label:r,isActive:n}){return s.jsx(mt,{to:t,className:"flex flex-col items-center justify-center w-full",children:s.jsxs("div",{className:fe("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,s.jsx("span",{className:"text-xs mt-1",children:r})]})})}const he=x.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:fe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));he.displayName="Input";const _e=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:fe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));_e.displayName="Card";const lt=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:fe("flex flex-col space-y-1.5 p-6",t),...e}));lt.displayName="CardHeader";const ct=x.forwardRef(({className:t,...e},r)=>s.jsx("h3",{ref:r,className:fe("text-2xl font-semibold leading-none tracking-tight",t),...e}));ct.displayName="CardTitle";const dr=x.forwardRef(({className:t,...e},r)=>s.jsx("p",{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));dr.displayName="CardDescription";const je=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:fe("p-6 pt-0",t),...e}));je.displayName="CardContent";const ms=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:fe("flex items-center p-6 pt-0",t),...e}));ms.displayName="CardFooter";function Om(t,[e,r]){return Math.min(r,Math.max(e,t))}var Sue=x.createContext(void 0);function mh(t){const e=x.useContext(Sue);return t||e||"ltr"}var I1=0;function U2(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??dP()),document.body.insertAdjacentElement("beforeend",t[1]??dP()),I1++,()=>{I1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),I1--}},[])}function dP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var P1="focusScope.autoFocusOnMount",F1="focusScope.autoFocusOnUnmount",hP={bubbles:!1,cancelable:!0},Nue="FocusScope",mb=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=x.useState(null),u=nn(a),A=nn(i),d=x.useRef(null),h=dt(e,p=>c(p)),f=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(v){if(f.paused||!l)return;const B=v.target;l.contains(B)?d.current=B:Go(d.current,{select:!0})},m=function(v){if(f.paused||!l)return;const B=v.relatedTarget;B!==null&&(l.contains(B)||Go(d.current,{select:!0}))},y=function(v){if(document.activeElement===document.body)for(const _ of v)_.removedNodes.length>0&&Go(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",m);const b=new MutationObserver(y);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",m),b.disconnect()}}},[n,l,f.paused]),x.useEffect(()=>{if(l){mP.add(f);const p=document.activeElement;if(!l.contains(p)){const y=new CustomEvent(P1,hP);l.addEventListener(P1,u),l.dispatchEvent(y),y.defaultPrevented||(kue(Due(xL(l)),{select:!0}),document.activeElement===p&&Go(l))}return()=>{l.removeEventListener(P1,u),setTimeout(()=>{const y=new CustomEvent(F1,hP);l.addEventListener(F1,A),l.dispatchEvent(y),y.defaultPrevented||Go(p??document.body,{select:!0}),l.removeEventListener(F1,A),mP.remove(f)},0)}}},[l,u,A,f]);const g=x.useCallback(p=>{if(!r&&!n||f.paused)return;const m=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,y=document.activeElement;if(m&&y){const b=p.currentTarget,[v,B]=Tue(b);v&&B?!p.shiftKey&&y===B?(p.preventDefault(),r&&Go(v,{select:!0})):p.shiftKey&&y===v&&(p.preventDefault(),r&&Go(B,{select:!0})):y===b&&p.preventDefault()}},[r,n,f.paused]);return s.jsx(Ye.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});mb.displayName=Nue;function kue(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Go(n,{select:e}),document.activeElement!==r)return}function Tue(t){const e=xL(t),r=fP(e,t),n=fP(e.reverse(),t);return[r,n]}function xL(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function fP(t,e){for(const r of t)if(!Iue(r,{upTo:e}))return r}function Iue(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Pue(t){return t instanceof HTMLInputElement&&"select"in t}function Go(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Pue(t)&&e&&t.select()}}var mP=Fue();function Fue(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=pP(t,e),t.unshift(e)},remove(e){var r;t=pP(t,e),(r=t[0])==null||r.resume()}}}function pP(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Due(t){return t.filter(e=>e.tagName!=="A")}function Gp(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Oue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},rA=new WeakMap,Yg=new WeakMap,Jg={},D1=0,vL=function(t){return t&&(t.host||vL(t.parentNode))},Rue=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=vL(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Uue=function(t,e,r,n){var a=Rue(e,Array.isArray(t)?t:[t]);Jg[r]||(Jg[r]=new WeakMap);var i=Jg[r],o=[],l=new Set,c=new Set(a),u=function(d){!d||l.has(d)||(l.add(d),u(d.parentNode))};a.forEach(u);var A=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(h){if(l.has(h))A(h);else try{var f=h.getAttribute(n),g=f!==null&&f!=="false",p=(rA.get(h)||0)+1,m=(i.get(h)||0)+1;rA.set(h,p),i.set(h,m),o.push(h),p===1&&g&&Yg.set(h,!0),m===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return A(e),l.clear(),D1++,function(){o.forEach(function(d){var h=rA.get(d)-1,f=i.get(d)-1;rA.set(d,h),i.set(d,f),h||(Yg.has(d)||d.removeAttribute(n),Yg.delete(d)),f||d.removeAttribute(r)}),D1--,D1||(rA=new WeakMap,rA=new WeakMap,Yg=new WeakMap,Jg={})}},M2=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=Oue(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Uue(n,a,r,"aria-hidden")):function(){return null}},hi=function(){return hi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},hi.apply(this,arguments)};function yL(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Mue(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var ax="right-scroll-bar-position",sx="width-before-scroll-bar",Que="with-scroll-bars-hidden",Lue="--removed-body-scroll-bar-size";function O1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function $ue(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var Hue=typeof window<"u"?x.useLayoutEffect:x.useEffect,gP=new WeakMap;function Vue(t,e){var r=$ue(null,function(n){return t.forEach(function(a){return O1(a,n)})});return Hue(function(){var n=gP.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(l){i.has(l)||O1(l,null)}),i.forEach(function(l){a.has(l)||O1(l,o)})}gP.set(r,t)},[t]),r}function Kue(t){return t}function zue(t,e){e===void 0&&(e=Kue);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var A=o;o=[],A.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(A){o.push(A),u()},filter:function(A){return o=o.filter(A),r}}}};return a}function Gue(t){t===void 0&&(t={});var e=zue(null);return e.options=hi({async:!0,ssr:!1},t),e}var bL=function(t){var e=t.sideCar,r=yL(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,hi({},r))};bL.isSideCarExport=!0;function Wue(t,e){return t.useMedium(e),bL}var wL=Gue(),R1=function(){},pb=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:R1,onWheelCapture:R1,onTouchMoveCapture:R1}),a=n[0],i=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,A=t.enabled,d=t.shards,h=t.sideCar,f=t.noRelative,g=t.noIsolation,p=t.inert,m=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,v=t.gapMode,B=yL(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=h,j=Vue([r,e]),C=hi(hi({},B),a);return x.createElement(x.Fragment,null,A&&x.createElement(_,{sideCar:wL,removeScrollBar:u,shards:d,noRelative:f,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:v}),o?x.cloneElement(x.Children.only(l),hi(hi({},C),{ref:j})):x.createElement(b,hi({},C,{className:c,ref:j}),l))});pb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};pb.classNames={fullWidth:sx,zeroRight:ax};var que=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=que();return e&&t.setAttribute("nonce",e),t}function Yue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Jue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zue=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Xue())&&(Yue(e,r),Jue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},eAe=function(){var t=Zue();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},BL=function(){var t=eAe(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},tAe={left:0,top:0,right:0,gap:0},U1=function(t){return parseInt(t||"",10)||0},rAe=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[U1(r),U1(n),U1(a)]},nAe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tAe;var e=rAe(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},aAe=BL(),DA="data-scroll-locked",sAe=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Que,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(DA,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ax,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(sx,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ax," .").concat(ax,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sx," .").concat(sx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(DA,`] {
    `).concat(Lue,": ").concat(l,`px;
  }
`)},xP=function(){var t=parseInt(document.body.getAttribute(DA)||"0",10);return isFinite(t)?t:0},iAe=function(){x.useEffect(function(){return document.body.setAttribute(DA,(xP()+1).toString()),function(){var t=xP()-1;t<=0?document.body.removeAttribute(DA):document.body.setAttribute(DA,t.toString())}},[])},oAe=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;iAe();var i=x.useMemo(function(){return nAe(a)},[a]);return x.createElement(aAe,{styles:sAe(i,!e,a,r?"":"!important")})},L_=!1;if(typeof window<"u")try{var Zg=Object.defineProperty({},"passive",{get:function(){return L_=!0,!0}});window.addEventListener("test",Zg,Zg),window.removeEventListener("test",Zg,Zg)}catch{L_=!1}var nA=L_?{passive:!1}:!1,lAe=function(t){return t.tagName==="TEXTAREA"},CL=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!lAe(t)&&r[e]==="visible")},cAe=function(t){return CL(t,"overflowY")},uAe=function(t){return CL(t,"overflowX")},vP=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=_L(t,n);if(a){var i=jL(t,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},AAe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},dAe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},_L=function(t,e){return t==="v"?cAe(e):uAe(e)},jL=function(t,e){return t==="v"?AAe(e):dAe(e)},hAe=function(t,e){return t==="h"&&e==="rtl"?-1:1},fAe=function(t,e,r,n,a){var i=hAe(t,window.getComputedStyle(e).direction),o=i*n,l=r.target,c=e.contains(l),u=!1,A=o>0,d=0,h=0;do{if(!l)break;var f=jL(t,l),g=f[0],p=f[1],m=f[2],y=p-m-i*g;(g||y)&&_L(t,l)&&(d+=y,h+=g);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(A&&Math.abs(d)<1||!A&&Math.abs(h)<1)&&(u=!0),u},e0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},yP=function(t){return[t.deltaX,t.deltaY]},bP=function(t){return t&&"current"in t?t.current:t},mAe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},pAe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},gAe=0,aA=[];function xAe(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(gAe++)[0],i=x.useState(BL)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var p=Mue([t.lockRef.current],(t.shards||[]).map(bP),!0).filter(Boolean);return p.forEach(function(m){return m.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),p.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(p,m){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var y=e0(p),b=r.current,v="deltaX"in p?p.deltaX:b[0]-y[0],B="deltaY"in p?p.deltaY:b[1]-y[1],_,j=p.target,C=Math.abs(v)>Math.abs(B)?"h":"v";if("touches"in p&&C==="h"&&j.type==="range")return!1;var E=vP(C,j);if(!E)return!0;if(E?_=C:(_=C==="v"?"h":"v",E=vP(C,j)),!E)return!1;if(!n.current&&"changedTouches"in p&&(v||B)&&(n.current=_),!_)return!0;var N=n.current||_;return fAe(N,m,p,N==="h"?v:B)},[]),c=x.useCallback(function(p){var m=p;if(!(!aA.length||aA[aA.length-1]!==i)){var y="deltaY"in m?yP(m):e0(m),b=e.current.filter(function(_){return _.name===m.type&&(_.target===m.target||m.target===_.shadowParent)&&mAe(_.delta,y)})[0];if(b&&b.should){m.cancelable&&m.preventDefault();return}if(!b){var v=(o.current.shards||[]).map(bP).filter(Boolean).filter(function(_){return _.contains(m.target)}),B=v.length>0?l(m,v[0]):!o.current.noIsolation;B&&m.cancelable&&m.preventDefault()}}},[]),u=x.useCallback(function(p,m,y,b){var v={name:p,delta:m,target:y,should:b,shadowParent:vAe(y)};e.current.push(v),setTimeout(function(){e.current=e.current.filter(function(B){return B!==v})},1)},[]),A=x.useCallback(function(p){r.current=e0(p),n.current=void 0},[]),d=x.useCallback(function(p){u(p.type,yP(p),p.target,l(p,t.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,e0(p),p.target,l(p,t.lockRef.current))},[]);x.useEffect(function(){return aA.push(i),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,nA),document.addEventListener("touchmove",c,nA),document.addEventListener("touchstart",A,nA),function(){aA=aA.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,nA),document.removeEventListener("touchmove",c,nA),document.removeEventListener("touchstart",A,nA)}},[]);var f=t.removeScrollBar,g=t.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:pAe(a)}):null,f?x.createElement(oAe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function vAe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const yAe=Wue(wL,xAe);var gb=x.forwardRef(function(t,e){return x.createElement(pb,hi({},t,{ref:e,sideCar:yAe}))});gb.classNames=pb.classNames;var bAe=[" ","Enter","ArrowUp","ArrowDown"],wAe=[" ","Enter"],bu="Select",[xb,vb,BAe]=By(bu),[ph,NKe]=Hn(bu,[BAe,ih]),yb=ih(),[CAe,tc]=ph(bu),[_Ae,jAe]=ph(bu),EL=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:A,autoComplete:d,disabled:h,required:f,form:g}=t,p=yb(e),[m,y]=x.useState(null),[b,v]=x.useState(null),[B,_]=x.useState(!1),j=mh(u),[C,E]=ys({prop:n,defaultProp:a??!1,onChange:i,caller:bu}),[N,S]=ys({prop:o,defaultProp:l,onChange:c,caller:bu}),k=x.useRef(null),I=m?g||!!m.closest("form"):!0,[T,U]=x.useState(new Set),M=Array.from(T).map(L=>L.props.value).join(";");return s.jsx(TS,{...p,children:s.jsxs(CAe,{required:f,scope:e,trigger:m,onTriggerChange:y,valueNode:b,onValueNodeChange:v,valueNodeHasChildren:B,onValueNodeHasChildrenChange:_,contentId:Bi(),value:N,onValueChange:S,open:C,onOpenChange:E,dir:j,triggerPointerDownPosRef:k,disabled:h,children:[s.jsx(xb.Provider,{scope:e,children:s.jsx(_Ae,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{U(O=>new Set(O).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{U(O=>{const D=new Set(O);return D.delete(L),D})},[]),children:r})}),I?s.jsxs(YL,{"aria-hidden":!0,required:f,tabIndex:-1,name:A,autoComplete:d,value:N,onChange:L=>S(L.target.value),disabled:h,form:g,children:[N===void 0?s.jsx("option",{value:""}):null,Array.from(T)]},M):null]})})};EL.displayName=bu;var SL="SelectTrigger",NL=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=yb(r),o=tc(SL,r),l=o.disabled||n,c=dt(e,o.onTriggerChange),u=vb(r),A=x.useRef("touch"),[d,h,f]=ZL(p=>{const m=u().filter(v=>!v.disabled),y=m.find(v=>v.value===o.value),b=e$(m,p,y);b!==void 0&&o.onValueChange(b.value)}),g=p=>{l||(o.onOpenChange(!0),f()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return s.jsx(Py,{asChild:!0,...i,children:s.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":JL(o.value)?"":void 0,...a,ref:c,onClick:Re(a.onClick,p=>{p.currentTarget.focus(),A.current!=="mouse"&&g(p)}),onPointerDown:Re(a.onPointerDown,p=>{A.current=p.pointerType;const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Re(a.onKeyDown,p=>{const m=d.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(m&&p.key===" ")&&bAe.includes(p.key)&&(g(),p.preventDefault())})})})});NL.displayName=SL;var kL="SelectValue",TL=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=t,c=tc(kL,r),{onValueNodeHasChildrenChange:u}=c,A=i!==void 0,d=dt(e,c.onValueNodeChange);return Yr(()=>{u(A)},[u,A]),s.jsx(Ye.span,{...l,ref:d,style:{pointerEvents:"none"},children:JL(c.value)?s.jsx(s.Fragment,{children:o}):i})});TL.displayName=kL;var EAe="SelectIcon",IL=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(Ye.span,{"aria-hidden":!0,...a,ref:e,children:n||"▼"})});IL.displayName=EAe;var SAe="SelectPortal",PL=t=>s.jsx(Np,{asChild:!0,...t});PL.displayName=SAe;var wu="SelectContent",FL=x.forwardRef((t,e)=>{const r=tc(wu,t.__scopeSelect),[n,a]=x.useState();if(Yr(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Zd.createPortal(s.jsx(DL,{scope:t.__scopeSelect,children:s.jsx(xb.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(OL,{...t,ref:e})});FL.displayName=wu;var Fs=10,[DL,rc]=ph(wu),NAe="SelectContentImpl",kAe=cu("SelectContent.RemoveScroll"),OL=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:m,...y}=t,b=tc(wu,r),[v,B]=x.useState(null),[_,j]=x.useState(null),C=dt(e,oe=>B(oe)),[E,N]=x.useState(null),[S,k]=x.useState(null),I=vb(r),[T,U]=x.useState(!1),M=x.useRef(!1);x.useEffect(()=>{if(v)return M2(v)},[v]),U2();const L=x.useCallback(oe=>{const[re,...ce]=I().map(Y=>Y.ref.current),[Ae]=ce.slice(-1),ge=document.activeElement;for(const Y of oe)if(Y===ge||(Y==null||Y.scrollIntoView({block:"nearest"}),Y===re&&_&&(_.scrollTop=0),Y===Ae&&_&&(_.scrollTop=_.scrollHeight),Y==null||Y.focus(),document.activeElement!==ge))return},[I,_]),O=x.useCallback(()=>L([E,v]),[L,E,v]);x.useEffect(()=>{T&&O()},[T,O]);const{onOpenChange:D,triggerPointerDownPosRef:R}=b;x.useEffect(()=>{if(v){let oe={x:0,y:0};const re=Ae=>{var ge,Y;oe={x:Math.abs(Math.round(Ae.pageX)-(((ge=R.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((Y=R.current)==null?void 0:Y.y)??0))}},ce=Ae=>{oe.x<=10&&oe.y<=10?Ae.preventDefault():v.contains(Ae.target)||D(!1),document.removeEventListener("pointermove",re),R.current=null};return R.current!==null&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",re),document.removeEventListener("pointerup",ce,{capture:!0})}}},[v,D,R]),x.useEffect(()=>{const oe=()=>D(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[D]);const[Q,K]=ZL(oe=>{const re=I().filter(ge=>!ge.disabled),ce=re.find(ge=>ge.ref.current===document.activeElement),Ae=e$(re,oe,ce);Ae&&setTimeout(()=>Ae.ref.current.focus())}),$=x.useCallback((oe,re,ce)=>{const Ae=!M.current&&!ce;(b.value!==void 0&&b.value===re||Ae)&&(N(oe),Ae&&(M.current=!0))},[b.value]),q=x.useCallback(()=>v==null?void 0:v.focus(),[v]),z=x.useCallback((oe,re,ce)=>{const Ae=!M.current&&!ce;(b.value!==void 0&&b.value===re||Ae)&&k(oe)},[b.value]),W=n==="popper"?$_:RL,ne=W===$_?{side:l,sideOffset:c,align:u,alignOffset:A,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:g,hideWhenDetached:p,avoidCollisions:m}:{};return s.jsx(DL,{scope:r,content:v,viewport:_,onViewportChange:j,itemRefCallback:$,selectedItem:E,onItemLeave:q,itemTextRefCallback:z,focusSelectedItem:O,selectedItemText:S,position:n,isPositioned:T,searchRef:Q,children:s.jsx(gb,{as:kAe,allowPinchZoom:!0,children:s.jsx(mb,{asChild:!0,trapped:b.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Re(a,oe=>{var re;(re=b.trigger)==null||re.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(eh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:s.jsx(W,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:oe=>oe.preventDefault(),...y,...ne,onPlaced:()=>U(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Re(y.onKeyDown,oe=>{const re=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!re&&oe.key.length===1&&K(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ae=I().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ge=oe.target,Y=Ae.indexOf(ge);Ae=Ae.slice(Y+1)}setTimeout(()=>L(Ae)),oe.preventDefault()}})})})})})})});OL.displayName=NAe;var TAe="SelectItemAlignedPosition",RL=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=tc(wu,r),o=rc(wu,r),[l,c]=x.useState(null),[u,A]=x.useState(null),d=dt(e,C=>A(C)),h=vb(r),f=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:m,selectedItemText:y,focusSelectedItem:b}=o,v=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&m&&y){const C=i.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),N=i.valueNode.getBoundingClientRect(),S=y.getBoundingClientRect();if(i.dir!=="rtl"){const ge=S.left-E.left,Y=N.left-ge,pe=C.left-Y,Se=C.width+pe,Ue=Math.max(Se,E.width),We=window.innerWidth-Fs,gt=Om(Y,[Fs,Math.max(Fs,We-Ue)]);l.style.minWidth=Se+"px",l.style.left=gt+"px"}else{const ge=E.right-S.right,Y=window.innerWidth-N.right-ge,pe=window.innerWidth-C.right-Y,Se=C.width+pe,Ue=Math.max(Se,E.width),We=window.innerWidth-Fs,gt=Om(Y,[Fs,Math.max(Fs,We-Ue)]);l.style.minWidth=Se+"px",l.style.right=gt+"px"}const k=h(),I=window.innerHeight-Fs*2,T=p.scrollHeight,U=window.getComputedStyle(u),M=parseInt(U.borderTopWidth,10),L=parseInt(U.paddingTop,10),O=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),R=M+L+T+D+O,Q=Math.min(m.offsetHeight*5,R),K=window.getComputedStyle(p),$=parseInt(K.paddingTop,10),q=parseInt(K.paddingBottom,10),z=C.top+C.height/2-Fs,W=I-z,ne=m.offsetHeight/2,oe=m.offsetTop+ne,re=M+L+oe,ce=R-re;if(re<=z){const ge=k.length>0&&m===k[k.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-p.offsetTop-p.offsetHeight,pe=Math.max(W,ne+(ge?q:0)+Y+O),Se=re+pe;l.style.height=Se+"px"}else{const ge=k.length>0&&m===k[0].ref.current;l.style.top="0px";const pe=Math.max(z,M+p.offsetTop+(ge?$:0)+ne)+ce;l.style.height=pe+"px",p.scrollTop=re-z+p.offsetTop}l.style.margin=`${Fs}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,m,y,i.dir,n]);Yr(()=>v(),[v]);const[B,_]=x.useState();Yr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=x.useCallback(C=>{C&&g.current===!0&&(v(),b==null||b(),g.current=!1)},[v,b]);return s.jsx(PAe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:j,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:B},children:s.jsx(Ye.div,{...a,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});RL.displayName=TAe;var IAe="SelectPopperPosition",$_=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Fs,...i}=t,o=yb(r);return s.jsx(IS,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$_.displayName=IAe;var[PAe,Q2]=ph(wu,{}),H_="SelectViewport",UL=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=rc(H_,r),o=Q2(H_,r),l=dt(e,i.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(xb.Slot,{scope:r,children:s.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Re(a.onScroll,u=>{const A=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const f=Math.abs(c.current-A.scrollTop);if(f>0){const g=window.innerHeight-Fs*2,p=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),y=Math.max(p,m);if(y<g){const b=y+f,v=Math.min(g,b),B=b-v;d.style.height=v+"px",d.style.bottom==="0px"&&(A.scrollTop=B>0?B:0,d.style.justifyContent="flex-end")}}}c.current=A.scrollTop})})})]})});UL.displayName=H_;var ML="SelectGroup",[FAe,DAe]=ph(ML),OAe=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Bi();return s.jsx(FAe,{scope:r,id:a,children:s.jsx(Ye.div,{role:"group","aria-labelledby":a,...n,ref:e})})});OAe.displayName=ML;var QL="SelectLabel",LL=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=DAe(QL,r);return s.jsx(Ye.div,{id:a.id,...n,ref:e})});LL.displayName=QL;var Wx="SelectItem",[RAe,$L]=ph(Wx),HL=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,l=tc(Wx,r),c=rc(Wx,r),u=l.value===n,[A,d]=x.useState(i??""),[h,f]=x.useState(!1),g=dt(e,b=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,b,n,a)}),p=Bi(),m=x.useRef("touch"),y=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(RAe,{scope:r,value:n,disabled:a,textId:p,isSelected:u,onItemTextChange:x.useCallback(b=>{d(v=>v||((b==null?void 0:b.textContent)??"").trim())},[]),children:s.jsx(xb.ItemSlot,{scope:r,value:n,disabled:a,textValue:A,children:s.jsx(Ye.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:g,onFocus:Re(o.onFocus,()=>f(!0)),onBlur:Re(o.onBlur,()=>f(!1)),onClick:Re(o.onClick,()=>{m.current!=="mouse"&&y()}),onPointerUp:Re(o.onPointerUp,()=>{m.current==="mouse"&&y()}),onPointerDown:Re(o.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:Re(o.onPointerMove,b=>{var v;m.current=b.pointerType,a?(v=c.onItemLeave)==null||v.call(c):m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Re(o.onPointerLeave,b=>{var v;b.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:Re(o.onKeyDown,b=>{var B;((B=c.searchRef)==null?void 0:B.current)!==""&&b.key===" "||(wAe.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});HL.displayName=Wx;var jf="SelectItemText",VL=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=tc(jf,r),l=rc(jf,r),c=$L(jf,r),u=jAe(jf,r),[A,d]=x.useState(null),h=dt(e,y=>d(y),c.onItemTextChange,y=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,y,c.value,c.disabled)}),f=A==null?void 0:A.textContent,g=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:p,onNativeOptionRemove:m}=u;return Yr(()=>(p(g),()=>m(g)),[p,m,g]),s.jsxs(s.Fragment,{children:[s.jsx(Ye.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Zd.createPortal(i.children,o.valueNode):null]})});VL.displayName=jf;var KL="SelectItemIndicator",zL=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return $L(KL,r).isSelected?s.jsx(Ye.span,{"aria-hidden":!0,...n,ref:e}):null});zL.displayName=KL;var V_="SelectScrollUpButton",GL=x.forwardRef((t,e)=>{const r=rc(V_,t.__scopeSelect),n=Q2(V_,t.__scopeSelect),[a,i]=x.useState(!1),o=dt(e,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(qL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});GL.displayName=V_;var K_="SelectScrollDownButton",WL=x.forwardRef((t,e)=>{const r=rc(K_,t.__scopeSelect),n=Q2(K_,t.__scopeSelect),[a,i]=x.useState(!1),o=dt(e,n.onScrollButtonChange);return Yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,A=Math.ceil(c.scrollTop)<u;i(A)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(qL,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WL.displayName=K_;var qL=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=rc("SelectScrollButton",r),o=x.useRef(null),l=vb(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Yr(()=>{var A;const u=l().find(d=>d.ref.current===document.activeElement);(A=u==null?void 0:u.ref.current)==null||A.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ye.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:Re(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Re(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Re(a.onPointerLeave,()=>{c()})})}),UAe="SelectSeparator",XL=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Ye.div,{"aria-hidden":!0,...n,ref:e})});XL.displayName=UAe;var z_="SelectArrow",MAe=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=yb(r),i=tc(z_,r),o=rc(z_,r);return i.open&&o.position==="popper"?s.jsx(PS,{...a,...n,ref:e}):null});MAe.displayName=z_;var QAe="SelectBubbleInput",YL=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=x.useRef(null),i=dt(n,a),o=Gp(e);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLSelectElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&A){const d=new Event("change",{bubbles:!0});A.call(l,e),l.dispatchEvent(d)}},[o,e]),s.jsx(Ye.select,{...r,style:{...vM,...r.style},ref:i,defaultValue:e})});YL.displayName=QAe;function JL(t){return t===""||t===void 0}function ZL(t){const e=nn(t),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function e$(t,e,r){const a=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=LAe(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function LAe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $Ae=EL,t$=NL,HAe=TL,VAe=IL,KAe=PL,r$=FL,zAe=UL,n$=LL,a$=HL,GAe=VL,WAe=zL,s$=GL,i$=WL,o$=XL;const Rn=$Ae,Un=HAe,vn=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(t$,{ref:n,className:fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(VAe,{asChild:!0,children:s.jsx(fS,{className:"h-4 w-4 opacity-50"})})]}));vn.displayName=t$.displayName;const l$=x.forwardRef(({className:t,...e},r)=>s.jsx(s$,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(yX,{className:"h-4 w-4"})}));l$.displayName=s$.displayName;const c$=x.forwardRef(({className:t,...e},r)=>s.jsx(i$,{ref:r,className:fe("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(fS,{className:"h-4 w-4"})}));c$.displayName=i$.displayName;const yn=x.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>s.jsx(KAe,{children:s.jsxs(r$,{ref:a,className:fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(l$,{}),s.jsx(zAe,{className:fe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(c$,{})]})}));yn.displayName=r$.displayName;const qAe=x.forwardRef(({className:t,...e},r)=>s.jsx(n$,{ref:r,className:fe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));qAe.displayName=n$.displayName;const vt=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(a$,{ref:n,className:fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(WAe,{children:s.jsx(hS,{className:"h-4 w-4"})})}),s.jsx(GAe,{children:e})]}));vt.displayName=a$.displayName;const XAe=x.forwardRef(({className:t,...e},r)=>s.jsx(o$,{ref:r,className:fe("-mx-1 my-1 h-px bg-muted",t),...e}));XAe.displayName=o$.displayName;var u$=["PageUp","PageDown"],A$=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],d$={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},gh="Slider",[G_,YAe,JAe]=By(gh),[h$,kKe]=Hn(gh,[JAe]),[ZAe,bb]=h$(gh),f$=x.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:A,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:f=!1,form:g,...p}=t,m=x.useRef(new Set),y=x.useRef(0),v=o==="horizontal"?ede:tde,[B=[],_]=ys({prop:A,defaultProp:u,onChange:k=>{var T;(T=[...m.current][y.current])==null||T.focus(),d(k)}}),j=x.useRef(B);function C(k){const I=ide(B,k);S(k,I)}function E(k){S(k,y.current)}function N(){const k=j.current[y.current];B[y.current]!==k&&h(B)}function S(k,I,{commit:T}={commit:!1}){const U=ude(i),M=Ade(Math.round((k-n)/i)*i+n,U),L=Om(M,[n,a]);_((O=[])=>{const D=ade(O,L,I);if(cde(D,c*i)){y.current=D.indexOf(L);const R=String(D)!==String(O);return R&&T&&h(D),R?D:O}else return O})}return s.jsx(ZAe,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:a,valueIndexToChangeRef:y,thumbs:m.current,values:B,orientation:o,form:g,children:s.jsx(G_.Provider,{scope:t.__scopeSlider,children:s.jsx(G_.Slot,{scope:t.__scopeSlider,children:s.jsx(v,{"aria-disabled":l,"data-disabled":l?"":void 0,...p,ref:e,onPointerDown:Re(p.onPointerDown,()=>{l||(j.current=B)}),min:n,max:a,inverted:f,onSlideStart:l?void 0:C,onSlideMove:l?void 0:E,onSlideEnd:l?void 0:N,onHomeKeyDown:()=>!l&&S(n,0,{commit:!0}),onEndKeyDown:()=>!l&&S(a,B.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:I})=>{if(!l){const M=u$.includes(k.key)||k.shiftKey&&A$.includes(k.key)?10:1,L=y.current,O=B[L],D=i*M*I;S(O+D,L,{commit:!0})}}})})})})});f$.displayName=gh;var[m$,p$]=h$(gh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ede=x.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...A}=t,[d,h]=x.useState(null),f=dt(e,v=>h(v)),g=x.useRef(void 0),p=mh(a),m=p==="ltr",y=m&&!i||!m&&i;function b(v){const B=g.current||d.getBoundingClientRect(),_=[0,B.width],C=L2(_,y?[r,n]:[n,r]);return g.current=B,C(v-B.left)}return s.jsx(m$,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:s.jsx(g$,{dir:p,"data-orientation":"horizontal",...A,ref:f,style:{...A.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const B=b(v.clientX);o==null||o(B)},onSlideMove:v=>{const B=b(v.clientX);l==null||l(B)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:v=>{const _=d$[y?"from-left":"from-right"].includes(v.key);u==null||u({event:v,direction:_?-1:1})}})})}),tde=x.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,A=x.useRef(null),d=dt(e,A),h=x.useRef(void 0),f=!a;function g(p){const m=h.current||A.current.getBoundingClientRect(),y=[0,m.height],v=L2(y,f?[n,r]:[r,n]);return h.current=m,v(p-m.top)}return s.jsx(m$,{scope:t.__scopeSlider,startEdge:f?"bottom":"top",endEdge:f?"top":"bottom",size:"height",direction:f?1:-1,children:s.jsx(g$,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const m=g(p.clientY);i==null||i(m)},onSlideMove:p=>{const m=g(p.clientY);o==null||o(m)},onSlideEnd:()=>{h.current=void 0,l==null||l()},onStepKeyDown:p=>{const y=d$[f?"from-bottom":"from-top"].includes(p.key);c==null||c({event:p,direction:y?-1:1})}})})}),g$=x.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,A=bb(gh,r);return s.jsx(Ye.span,{...u,ref:e,onKeyDown:Re(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(l(d),d.preventDefault()):u$.concat(A$).includes(d.key)&&(c(d),d.preventDefault())}),onPointerDown:Re(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),A.thumbs.has(h)?h.focus():n(d)}),onPointerMove:Re(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&a(d)}),onPointerUp:Re(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),i(d))})})}),x$="SliderTrack",v$=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=bb(x$,r);return s.jsx(Ye.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});v$.displayName=x$;var W_="SliderRange",y$=x.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=bb(W_,r),i=p$(W_,r),o=x.useRef(null),l=dt(e,o),c=a.values.length,u=a.values.map(h=>B$(h,a.min,a.max)),A=c>1?Math.min(...u):0,d=100-Math.max(...u);return s.jsx(Ye.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:l,style:{...t.style,[i.startEdge]:A+"%",[i.endEdge]:d+"%"}})});y$.displayName=W_;var q_="SliderThumb",b$=x.forwardRef((t,e)=>{const r=YAe(t.__scopeSlider),[n,a]=x.useState(null),i=dt(e,l=>a(l)),o=x.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return s.jsx(rde,{...t,ref:i,index:o})}),rde=x.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=bb(q_,r),l=p$(q_,r),[c,u]=x.useState(null),A=dt(e,b=>u(b)),d=c?o.form||!!c.closest("form"):!0,h=Pp(c),f=o.values[n],g=f===void 0?0:B$(f,o.min,o.max),p=sde(n,o.values.length),m=h==null?void 0:h[l.size],y=m?ode(m,g,l.direction):0;return x.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${g}% + ${y}px)`},children:[s.jsx(G_.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Ye.span,{role:"slider","aria-label":t["aria-label"]||p,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:A,style:f===void 0?{display:"none"}:t.style,onFocus:Re(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),d&&s.jsx(w$,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:f},n)]})});b$.displayName=q_;var nde="RadioBubbleInput",w$=x.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=x.useRef(null),i=dt(a,n),o=Gp(e);return x.useEffect(()=>{const l=a.current;if(!l)return;const c=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&A){const d=new Event("input",{bubbles:!0});A.call(l,e),l.dispatchEvent(d)}},[o,e]),s.jsx(Ye.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});w$.displayName=nde;function ade(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function B$(t,e,r){const i=100/(r-e)*(t-e);return Om(i,[0,100])}function sde(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function ide(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function ode(t,e,r){const n=t/2,i=L2([0,50],[0,n]);return(n-i(e)*r)*r}function lde(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function cde(t,e){if(e>0){const r=lde(t);return Math.min(...r)>=e}return!0}function L2(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function ude(t){return(String(t).split(".")[1]||"").length}function Ade(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var C$=f$,dde=v$,hde=y$,fde=b$;const _$=x.forwardRef(({className:t,...e},r)=>s.jsxs(C$,{ref:r,className:fe("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(dde,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:s.jsx(hde,{className:"absolute h-full bg-primary"})}),s.jsx(fde,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));_$.displayName=C$.displayName;var wb="Dialog",[j$,E$]=Hn(wb),[mde,ai]=j$(wb),S$=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[u,A]=ys({prop:n,defaultProp:a??!1,onChange:i,caller:wb});return s.jsx(mde,{scope:e,triggerRef:l,contentRef:c,contentId:Bi(),titleId:Bi(),descriptionId:Bi(),open:u,onOpenChange:A,onOpenToggle:x.useCallback(()=>A(d=>!d),[A]),modal:o,children:r})};S$.displayName=wb;var N$="DialogTrigger",k$=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=ai(N$,r),i=dt(e,a.triggerRef);return s.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":V2(a.open),...n,ref:i,onClick:Re(t.onClick,a.onOpenToggle)})});k$.displayName=N$;var $2="DialogPortal",[pde,T$]=j$($2,{forceMount:void 0}),I$=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=ai($2,e);return s.jsx(pde,{scope:e,forceMount:r,children:x.Children.map(n,o=>s.jsx(xa,{present:r||i.open,children:s.jsx(Np,{asChild:!0,container:a,children:o})}))})};I$.displayName=$2;var qx="DialogOverlay",P$=x.forwardRef((t,e)=>{const r=T$(qx,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=ai(qx,t.__scopeDialog);return i.modal?s.jsx(xa,{present:n||i.open,children:s.jsx(xde,{...a,ref:e})}):null});P$.displayName=qx;var gde=cu("DialogOverlay.RemoveScroll"),xde=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=ai(qx,r);return s.jsx(gb,{as:gde,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ye.div,{"data-state":V2(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Bu="DialogContent",F$=x.forwardRef((t,e)=>{const r=T$(Bu,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=ai(Bu,t.__scopeDialog);return s.jsx(xa,{present:n||i.open,children:i.modal?s.jsx(vde,{...a,ref:e}):s.jsx(yde,{...a,ref:e})})});F$.displayName=Bu;var vde=x.forwardRef((t,e)=>{const r=ai(Bu,t.__scopeDialog),n=x.useRef(null),a=dt(e,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return M2(i)},[]),s.jsx(D$,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Re(t.onFocusOutside,i=>i.preventDefault())})}),yde=x.forwardRef((t,e)=>{const r=ai(Bu,t.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(D$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),D$=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=ai(Bu,r),c=x.useRef(null),u=dt(e,c);return U2(),s.jsxs(s.Fragment,{children:[s.jsx(mb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(eh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":V2(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(wde,{titleId:l.titleId}),s.jsx(Cde,{contentRef:c,descriptionId:l.descriptionId})]})]})}),H2="DialogTitle",O$=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=ai(H2,r);return s.jsx(Ye.h2,{id:a.titleId,...n,ref:e})});O$.displayName=H2;var R$="DialogDescription",U$=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=ai(R$,r);return s.jsx(Ye.p,{id:a.descriptionId,...n,ref:e})});U$.displayName=R$;var M$="DialogClose",Q$=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=ai(M$,r);return s.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Re(t.onClick,()=>a.onOpenChange(!1))})});Q$.displayName=M$;function V2(t){return t?"open":"closed"}var L$="DialogTitleWarning",[bde,$$]=bq(L$,{contentName:Bu,titleName:H2,docsSlug:"dialog"}),wde=({titleId:t})=>{const e=$$(L$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},Bde="DialogDescriptionWarning",Cde=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$$(Bde).contentName}}.`;return x.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},K2=S$,z2=k$,G2=I$,Wp=P$,qp=F$,Xp=O$,Yp=U$,Bb=Q$;const Ti=K2,Xx=z2,_de=G2,H$=x.forwardRef(({className:t,...e},r)=>s.jsx(Wp,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));H$.displayName=Wp.displayName;const jde=th("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),ri=x.forwardRef(({side:t="right",className:e,children:r,...n},a)=>s.jsxs(_de,{children:[s.jsx(H$,{}),s.jsxs(qp,{ref:a,className:fe(jde({side:t}),e),...n,children:[r,s.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Ny,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ri.displayName=qp.displayName;const Ii=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ii.displayName="SheetHeader";const vo=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});vo.displayName="SheetFooter";const Pi=x.forwardRef(({className:t,...e},r)=>s.jsx(Xp,{ref:r,className:fe("text-lg font-semibold text-foreground",t),...e}));Pi.displayName=Xp.displayName;const Rm=x.forwardRef(({className:t,...e},r)=>s.jsx(Yp,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));Rm.displayName=Yp.displayName;var Ede="Separator",wP="horizontal",Sde=["horizontal","vertical"],V$=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=wP,...a}=t,i=Nde(n)?n:wP,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ye.div,{"data-orientation":i,...l,...a,ref:e})});V$.displayName=Ede;function Nde(t){return Sde.includes(t)}var K$=V$;const sa=x.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>s.jsx(K$,{ref:a,decorative:r,orientation:e,className:fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));sa.displayName=K$.displayName;const kde=()=>{const[t,e]=Gne(),[r,n]=x.useState(t.get("q")||""),[a,i]=x.useState("price-asc"),[o,l]=x.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=x.useState([]),[A,d]=x.useState([]),[h,f]=x.useState([]),[g,p]=x.useState([]),[m,y]=x.useState(!0),[b,v]=x.useState(0),[B,_]=x.useState(100),{addItem:j}=fb();x.useEffect(()=>{(async()=>{y(!0);try{const{data:U,error:M}=await Z.from("products").select("*");if(M)throw M;if(U){u(U);const L=Array.from(new Set(U.map(D=>D.origin).filter(Boolean)));f(L);const O=Array.from(new Set(U.map(D=>D.type).filter(Boolean)));if(p(O),U.length>0){const D=U.map(K=>K.price),R=Math.floor(Math.min(...D)),Q=Math.ceil(Math.max(...D));v(R),_(Q),l(K=>({...K,priceRange:[R,Q]}))}}}catch(U){console.error("Error fetching products:",U),me({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{y(!1)}})()},[]),x.useEffect(()=>{if(m)return;const T=t.get("category"),U=t.get("featured"),M=t.get("discount"),L=t.get("q");L&&L!==r&&n(L);let O=[...c];switch(r&&(O=O.filter(D=>{var R;return D.name.toLowerCase().includes(r.toLowerCase())||(((R=D.description)==null?void 0:R.toLowerCase().includes(r.toLowerCase()))??!1)})),T&&(O=O.filter(D=>D.type===T)),U==="true"&&(O=O.filter(D=>D.featured===!0)),M==="true"&&(O=O.filter(D=>D.discount!==null&&D.discount>0)),O=O.filter(D=>{const R=D.price;return!(R<o.priceRange[0]||R>o.priceRange[1]||o.types.length>0&&!o.types.includes(D.type)||o.origins.length>0&&(!D.origin||!o.origins.includes(D.origin)))}),a){case"price-asc":O.sort((D,R)=>D.price-R.price);break;case"price-desc":O.sort((D,R)=>R.price-D.price);break;case"rating":O.sort((D,R)=>(R.rating||0)-(D.rating||0));break;case"newest":O.sort((D,R)=>{const Q=D.created_at?new Date(D.created_at).getTime():0;return(R.created_at?new Date(R.created_at).getTime():0)-Q});break}d(O)},[c,t,r,a,o,m]);const C=()=>{e(T=>(r?T.set("q",r):T.delete("q"),T))},E=T=>{j({id:T.id,name:T.name,price:T.discount?T.price*(1-T.discount/100):T.price,image:T.images&&T.images.length>0?T.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:T.type,quantity:1}),me({title:"Ditambahkan ke keranjang",description:`${T.name} telah ditambahkan ke keranjang belanja Anda.`})},N=T=>{l(U=>{const M=[...U.types],L=M.indexOf(T);return L>-1?M.splice(L,1):M.push(T),{...U,types:M}})},S=T=>{l(U=>{const M=[...U.origins],L=M.indexOf(T);return L>-1?M.splice(L,1):M.push(T),{...U,origins:M}})},k=T=>{l(U=>({...U,priceRange:[T[0],T[1]]}))},I=()=>{l({priceRange:[b,B],types:[],origins:[]})};return s.jsx(Jt,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(he,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:T=>n(T.target.value),className:"pl-10",onKeyDown:T=>{T.key==="Enter"&&C()}}),s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(Yl,{className:"h-4 w-4 text-muted-foreground"})})]}),s.jsx(G,{onClick:C,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),s.jsxs(Ti,{children:[s.jsx(Xx,{asChild:!0,children:s.jsx(G,{variant:"outline",size:"icon",className:"flex-shrink-0",children:s.jsx(zM,{className:"h-4 w-4"})})}),s.jsxs(ri,{side:"right",children:[s.jsxs(Ii,{children:[s.jsx(Pi,{children:"Filter Produk"}),s.jsx(Rm,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),s.jsxs("div",{className:"py-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),s.jsxs(Rn,{value:a,onValueChange:T=>i(T),children:[s.jsx(vn,{children:s.jsx(Un,{placeholder:"Urutkan"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),s.jsx(vt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),s.jsx(vt,{value:"rating",children:"Rating Terbaik"}),s.jsx(vt,{value:"newest",children:"Terbaru"})]})]})]}),s.jsx(sa,{className:"my-4"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),s.jsxs("div",{className:"px-2",children:[s.jsx(_$,{max:B,min:b,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:k}),s.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[s.jsxs("span",{children:["Rp ",o.priceRange[0]]}),s.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),s.jsx(sa,{className:"my-4"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:g.map(T=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`type-${T}`,checked:o.types.includes(T),onChange:()=>N(T),className:"mr-2"}),s.jsx("label",{htmlFor:`type-${T}`,className:"text-sm",children:T})]},T))})]}),s.jsx(sa,{className:"my-4"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:h.map(T=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:`origin-${T}`,checked:o.origins.includes(T),onChange:()=>S(T),className:"mr-2"}),s.jsx("label",{htmlFor:`origin-${T}`,className:"text-sm",children:T})]},T))})]}),s.jsxs("div",{className:"mt-6 flex justify-end",children:[s.jsx(G,{variant:"outline",onClick:I,className:"mr-2",children:"Hapus Semua"}),s.jsx(Xx,{asChild:!0,children:s.jsx(G,{children:"Terapkan Filter"})})]})]})]})]})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[A.length," produk ditemukan"]}),m?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(rr,{className:"h-8 w-8 animate-spin text-flame-500"})}):s.jsx("div",{className:"grid grid-cols-2 gap-4",children:A.map(T=>s.jsxs(_e,{className:"overflow-hidden border-none shadow-sm",children:[s.jsx(mt,{to:`/product/${T.id}`,children:s.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[s.jsx("img",{src:T.images&&T.images.length>0?T.images[0]:"/placeholder.svg",alt:T.name,className:"h-full w-full object-cover"}),T.discount&&T.discount>0&&s.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[T.discount,"% DISKON"]})]})}),s.jsxs(je,{className:"p-3",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:T.type}),s.jsx(mt,{to:`/product/${T.id}`,children:s.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:T.name})})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{children:T.discount&&T.discount>0?s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"font-bold text-sm",children:xe(T.price*(1-T.discount/100))}),s.jsx("span",{className:"text-muted-foreground text-xs line-through",children:xe(T.price)})]}):s.jsx("span",{className:"font-bold text-sm",children:xe(T.price)})}),s.jsx(G,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>E(T),children:s.jsx(Ey,{className:"h-4 w-4"})})]})]})]},T.id))}),!m&&A.length===0&&s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};var M1="rovingFocusGroup.onEntryFocus",Tde={bubbles:!1,cancelable:!0},Jp="RovingFocusGroup",[X_,z$,Ide]=By(Jp),[Pde,Cb]=Hn(Jp,[Ide]),[Fde,Dde]=Pde(Jp),G$=x.forwardRef((t,e)=>s.jsx(X_.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(X_.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Ode,{...t,ref:e})})}));G$.displayName=Jp;var Ode=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:A=!1,...d}=t,h=x.useRef(null),f=dt(e,h),g=mh(i),[p,m]=ys({prop:o,defaultProp:l??null,onChange:c,caller:Jp}),[y,b]=x.useState(!1),v=nn(u),B=z$(r),_=x.useRef(!1),[j,C]=x.useState(0);return x.useEffect(()=>{const E=h.current;if(E)return E.addEventListener(M1,v),()=>E.removeEventListener(M1,v)},[v]),s.jsx(Fde,{scope:r,orientation:n,dir:g,loop:a,currentTabStopId:p,onItemFocus:x.useCallback(E=>m(E),[m]),onItemShiftTab:x.useCallback(()=>b(!0),[]),onFocusableItemAdd:x.useCallback(()=>C(E=>E+1),[]),onFocusableItemRemove:x.useCallback(()=>C(E=>E-1),[]),children:s.jsx(Ye.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...d,ref:f,style:{outline:"none",...t.style},onMouseDown:Re(t.onMouseDown,()=>{_.current=!0}),onFocus:Re(t.onFocus,E=>{const N=!_.current;if(E.target===E.currentTarget&&N&&!y){const S=new CustomEvent(M1,Tde);if(E.currentTarget.dispatchEvent(S),!S.defaultPrevented){const k=B().filter(L=>L.focusable),I=k.find(L=>L.active),T=k.find(L=>L.id===p),M=[I,T,...k].filter(Boolean).map(L=>L.ref.current);X$(M,A)}}_.current=!1}),onBlur:Re(t.onBlur,()=>b(!1))})})}),W$="RovingFocusGroupItem",q$=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...l}=t,c=Bi(),u=i||c,A=Dde(W$,r),d=A.currentTabStopId===u,h=z$(r),{onFocusableItemAdd:f,onFocusableItemRemove:g,currentTabStopId:p}=A;return x.useEffect(()=>{if(n)return f(),()=>g()},[n,f,g]),s.jsx(X_.ItemSlot,{scope:r,id:u,focusable:n,active:a,children:s.jsx(Ye.span,{tabIndex:d?0:-1,"data-orientation":A.orientation,...l,ref:e,onMouseDown:Re(t.onMouseDown,m=>{n?A.onItemFocus(u):m.preventDefault()}),onFocus:Re(t.onFocus,()=>A.onItemFocus(u)),onKeyDown:Re(t.onKeyDown,m=>{if(m.key==="Tab"&&m.shiftKey){A.onItemShiftTab();return}if(m.target!==m.currentTarget)return;const y=Mde(m,A.orientation,A.dir);if(y!==void 0){if(m.metaKey||m.ctrlKey||m.altKey||m.shiftKey)return;m.preventDefault();let v=h().filter(B=>B.focusable).map(B=>B.ref.current);if(y==="last")v.reverse();else if(y==="prev"||y==="next"){y==="prev"&&v.reverse();const B=v.indexOf(m.currentTarget);v=A.loop?Qde(v,B+1):v.slice(B+1)}setTimeout(()=>X$(v))}}),children:typeof o=="function"?o({isCurrentTabStop:d,hasTabStop:p!=null}):o})})});q$.displayName=W$;var Rde={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ude(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Mde(t,e,r){const n=Ude(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Rde[n]}function X$(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function Qde(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Y$=G$,J$=q$,_b="Tabs",[Lde,TKe]=Hn(_b,[Cb]),Z$=Cb(),[$de,W2]=Lde(_b),eH=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,A=mh(l),[d,h]=ys({prop:n,onChange:a,defaultProp:i??"",caller:_b});return s.jsx($de,{scope:r,baseId:Bi(),value:d,onValueChange:h,orientation:o,dir:A,activationMode:c,children:s.jsx(Ye.div,{dir:A,"data-orientation":o,...u,ref:e})})});eH.displayName=_b;var tH="TabsList",rH=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=W2(tH,r),o=Z$(r);return s.jsx(Y$,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ye.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});rH.displayName=tH;var nH="TabsTrigger",aH=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=W2(nH,r),l=Z$(r),c=oH(o.baseId,n),u=lH(o.baseId,n),A=n===o.value;return s.jsx(J$,{asChild:!0,...l,focusable:!a,active:A,children:s.jsx(Ye.button,{type:"button",role:"tab","aria-selected":A,"aria-controls":u,"data-state":A?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:e,onMouseDown:Re(t.onMouseDown,d=>{!a&&d.button===0&&d.ctrlKey===!1?o.onValueChange(n):d.preventDefault()}),onKeyDown:Re(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(n)}),onFocus:Re(t.onFocus,()=>{const d=o.activationMode!=="manual";!A&&!a&&d&&o.onValueChange(n)})})})});aH.displayName=nH;var sH="TabsContent",iH=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,l=W2(sH,r),c=oH(l.baseId,n),u=lH(l.baseId,n),A=n===l.value,d=x.useRef(A);return x.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(xa,{present:a||A,children:({present:h})=>s.jsx(Ye.div,{"data-state":A?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&i})})});iH.displayName=sH;function oH(t,e){return`${t}-trigger-${e}`}function lH(t,e){return`${t}-content-${e}`}var Hde=eH,cH=rH,uH=aH,AH=iH;const Pa=Hde,ga=x.forwardRef(({className:t,...e},r)=>s.jsx(cH,{ref:r,className:fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));ga.displayName=cH.displayName;const Nt=x.forwardRef(({className:t,...e},r)=>s.jsx(uH,{ref:r,className:fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nt.displayName=uH.displayName;const Xt=x.forwardRef(({className:t,...e},r)=>s.jsx(AH,{ref:r,className:fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Xt.displayName=AH.displayName;const Vde=()=>{const{id:t}=Up(),[e,r]=x.useState(null),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(1),[u,A]=x.useState(0),{addItem:d}=fb(),h=Ot();x.useEffect(()=>((async()=>{if(t)try{a(!0);const{data:b,error:v}=await Z.from("products").select("*").eq("id",t).single();if(v)throw v;b?(r(b),document.title=`${b.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(b){console.error("Error fetching product:",b),o(b.message||"Gagal memuat produk")}finally{a(!1)}})(),()=>{r(null),c(1),A(0)}),[t]);const f=()=>{e&&(d({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),me({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},g=()=>{c(y=>Math.max(1,y-1))},p=()=>{c(y=>y+1)};if(n)return s.jsx(Jt,{children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[s.jsx(rr,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(i||!e)return s.jsx(Jt,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(G,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:i||"Produk yang diminta tidak dapat ditemukan."}),s.jsx(mt,{to:"/search",children:s.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const m=e.discount?e.price*(1-e.discount/100):e.price;return s.jsx(Jt,{children:s.jsxs("div",{className:"pb-24",children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[s.jsx(G,{variant:"ghost",className:"p-0 mr-2",onClick:()=>h(-1),children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),s.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?s.jsxs(s.Fragment,{children:[s.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&s.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((y,b)=>s.jsx("button",{className:`w-2 h-2 rounded-full ${u===b?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>A(b)},b))})]}):s.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:s.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&s.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),s.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),s.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"font-bold text-lg text-flame-500",children:xe(m)}),s.jsx("div",{className:"text-sm text-muted-foreground line-through",children:xe(e.price)})]}):s.jsx("div",{className:"font-bold text-lg",children:xe(e.price)})})]}),s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(y=>s.jsx(WX,{size:16,className:`${y<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},y))}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&s.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),s.jsx(sa,{className:"my-4"}),s.jsxs(Pa,{defaultValue:"description",className:"mt-4",children:[s.jsxs(ga,{className:"w-full grid grid-cols-3",children:[s.jsx(Nt,{value:"description",children:"Deskripsi"}),s.jsx(Nt,{value:"specifications",children:"Spesifikasi"}),s.jsx(Nt,{value:"reviews",children:"Ulasan"})]}),s.jsxs(Xt,{value:"description",className:"mt-4",children:[s.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&s.jsx("div",{children:s.jsxs("p",{className:"text-sm mt-4",children:[s.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&s.jsxs("p",{className:"text-sm mt-2",children:[s.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),s.jsx(Xt,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?s.jsx("div",{className:"rounded-md border overflow-hidden",children:s.jsx("table",{className:"min-w-full",children:s.jsx("tbody",{children:Object.entries(e.specifications).map(([y,b],v)=>s.jsxs("tr",{className:v%2===0?"bg-secondary":"",children:[s.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:y}),s.jsx("td",{className:"px-4 py-2 text-sm",children:String(b)})]},y))})})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),s.jsx(Xt,{value:"reviews",className:"mt-4",children:s.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?s.jsx(s.Fragment,{children:s.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),s.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center border rounded-md",children:[s.jsx(G,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:g,disabled:l<=1,children:s.jsx(qM,{className:"h-4 w-4"})}),s.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:p,children:s.jsx(rh,{className:"h-4 w-4"})})]}),s.jsxs(G,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:f,disabled:!e.in_stock,children:[s.jsx(Ey,{className:"h-4 w-4 mr-2"}),xe(m*l)]})]})})]})})},Kde=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:a}=fb(),{user:i}=Hr(),o=Ot(),l=A=>{r(A),me({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(A,d)=>{d<=0?(r(A),me({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(A,d)},u=()=>{if(t.length===0){me({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!i){me({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return s.jsx(Jt,{children:s.jsxs("div",{className:"p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"space-y-4 mb-6",children:t.map(A=>s.jsx(_e,{className:"overflow-hidden shadow-sm",children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:s.jsx("img",{src:A.image||"/placeholder.svg",alt:A.name,className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:A.type}),s.jsx(mt,{to:`/product/${A.id}`,children:s.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:A.name})}),s.jsx("span",{className:"font-bold",children:xe(A.price)})]}),s.jsx("button",{onClick:()=>l(A.id),className:"text-muted-foreground hover:text-destructive",children:s.jsx(um,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsxs("div",{className:"flex items-center border rounded-md",children:[s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(A.id,A.quantity-1),children:s.jsx(qM,{className:"h-3 w-3"})}),s.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:A.quantity}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(A.id,A.quantity+1),children:s.jsx(rh,{className:"h-3 w-3"})})]}),s.jsx("span",{className:"font-bold",children:xe(A.price*A.quantity)})]})]})]})})},A.id))}),s.jsxs("button",{onClick:()=>{a(),me({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[s.jsx(um,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),s.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:xe(n)})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{children:"Pengiriman"}),s.jsx("span",{className:"font-medium",children:xe(5e3)})]}),s.jsx(sa,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-bold",children:"Total"}),s.jsx("span",{className:"font-bold",children:xe(n+5e3)})]})]}),s.jsx(G,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:i?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):s.jsxs("div",{className:"text-center py-10",children:[s.jsx("div",{className:"text-charcoal-400 mb-4",children:s.jsx(zde,{size:64,className:"mx-auto"})}),s.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),s.jsx(mt,{to:"/search",children:s.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},zde=({size:t=24,className:e=""})=>s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[s.jsx("circle",{cx:"8",cy:"21",r:"1"}),s.jsx("circle",{cx:"19",cy:"21",r:"1"}),s.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var q2="Radio",[Gde,dH]=Hn(q2),[Wde,qde]=Gde(q2),hH=x.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...A}=t,[d,h]=x.useState(null),f=dt(e,m=>h(m)),g=x.useRef(!1),p=d?u||!!d.closest("form"):!0;return s.jsxs(Wde,{scope:r,checked:a,disabled:o,children:[s.jsx(Ye.button,{type:"button",role:"radio","aria-checked":a,"data-state":gH(a),"data-disabled":o?"":void 0,disabled:o,value:l,...A,ref:f,onClick:Re(t.onClick,m=>{a||c==null||c(),p&&(g.current=m.isPropagationStopped(),g.current||m.stopPropagation())})}),p&&s.jsx(pH,{control:d,bubbles:!g.current,name:n,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});hH.displayName=q2;var fH="RadioIndicator",mH=x.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...a}=t,i=qde(fH,r);return s.jsx(xa,{present:n||i.checked,children:s.jsx(Ye.span,{"data-state":gH(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})})});mH.displayName=fH;var Xde="RadioBubbleInput",pH=x.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=dt(o,i),c=Gp(r),u=Pp(e);return x.useEffect(()=>{const A=o.current;if(!A)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:n});f.call(A,r),A.dispatchEvent(g)}},[c,r,n]),s.jsx(Ye.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pH.displayName=Xde;function gH(t){return t?"checked":"unchecked"}var Yde=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],jb="RadioGroup",[Jde,IKe]=Hn(jb,[Cb,dH]),xH=Cb(),vH=dH(),[Zde,ehe]=Jde(jb),yH=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:A=!0,onValueChange:d,...h}=t,f=xH(r),g=mh(u),[p,m]=ys({prop:i,defaultProp:a??null,onChange:d,caller:jb});return s.jsx(Zde,{scope:r,name:n,required:o,disabled:l,value:p,onValueChange:m,children:s.jsx(Y$,{asChild:!0,...f,orientation:c,dir:g,loop:A,children:s.jsx(Ye.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:g,...h,ref:e})})})});yH.displayName=jb;var bH="RadioGroupItem",wH=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...a}=t,i=ehe(bH,r),o=i.disabled||n,l=xH(r),c=vH(r),u=x.useRef(null),A=dt(e,u),d=i.value===a.value,h=x.useRef(!1);return x.useEffect(()=>{const f=p=>{Yde.includes(p.key)&&(h.current=!0)},g=()=>h.current=!1;return document.addEventListener("keydown",f),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",f),document.removeEventListener("keyup",g)}},[]),s.jsx(J$,{asChild:!0,...l,focusable:!o,active:d,children:s.jsx(hH,{disabled:o,required:i.required,checked:d,...c,...a,name:i.name,ref:A,onCheck:()=>i.onValueChange(a.value),onKeyDown:Re(f=>{f.key==="Enter"&&f.preventDefault()}),onFocus:Re(a.onFocus,()=>{var f;h.current&&((f=u.current)==null||f.click())})})})});wH.displayName=bH;var the="RadioGroupIndicator",BH=x.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,a=vH(r);return s.jsx(mH,{...a,...n,ref:e})});BH.displayName=the;var CH=yH,_H=wH,rhe=BH;const Ef=x.forwardRef(({className:t,...e},r)=>s.jsx(CH,{className:fe("grid gap-2",t),...e,ref:r}));Ef.displayName=CH.displayName;const Sc=x.forwardRef(({className:t,...e},r)=>s.jsx(_H,{ref:r,className:fe("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(rhe,{className:"flex items-center justify-center",children:s.jsx(EX,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Sc.displayName=_H.displayName;var nhe="Label",jH=x.forwardRef((t,e)=>s.jsx(Ye.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));jH.displayName=nhe;var EH=jH;const ahe=th("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=x.forwardRef(({className:t,...e},r)=>s.jsx(EH,{ref:r,className:fe(ahe(),t),...e}));Ie.displayName=EH.displayName;let t0;const she=new Uint8Array(16);function ihe(){if(!t0&&(t0=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t0))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t0(she)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function ohe(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const lhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BP={randomUUID:lhe};function xn(t,e,r){if(BP.randomUUID&&!t)return BP.randomUUID();t=t||{};const n=t.random||(t.rng||ihe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,ohe(n)}const nl={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await Z.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let a=Z.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(a=a.eq("is_active",r.is_active)),r.search&&(a=a.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),a=a.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:i,error:o}=await a;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(i==null?void 0:i.length)||0,"results"),{data:i,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await Z.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=xn()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:a,error:i}=await Z.from("vouchers").insert(t).select().single();if(i)throw console.error("Supabase error details:",i),new Error(`Gagal menyimpan voucher: ${i.message||"Unknown database error"}`);return{data:a,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:a,error:i}=await Z.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(i)throw console.error("Error checking unique voucher:",i),new Error(`Gagal memeriksa kode voucher: ${i.message||"Unknown error"}`);if(a)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await Z.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await Z.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await Z.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await Z.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,a=new Date(e.start_date),i=new Date(e.end_date);return n<a?{data:null,error:new Error("Voucher belum berlaku")}:n>i?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await Z.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:a,error:i}=await Z.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return{data:a,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},Uc={async getTransactions(t=100,e=0,r){try{let n=Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:a,error:i}=await n;return{data:a,error:i}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const a of e)if(!t[a])throw new Error(`Field ${a} wajib diisi`);t.id||(t.id=xn()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await Z.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await Z.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await Z.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const a={id:xn(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:i}=await Z.from("coal_inventory_transactions").insert(a);return i?(console.error("Error reducing coal stock:",i),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:a}=await Z.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!a||a.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const i={id:xn(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await Z.from("coal_inventory_transactions").insert(i);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await Z.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,a=0,i=0,o=0,l=0,c=0,u="",A=0;t.forEach(v=>{const B=v.transaction_type==="incoming"&&v.vehicle_info==="cancelled_order_return";if(v.transaction_type==="incoming")B?A+=v.quantity_kg:r+=v.quantity_kg,v.quality_grade==="premium"?a+=v.quantity_kg:v.quality_grade==="standard"?i+=v.quantity_kg:v.quality_grade==="economy"&&(o+=v.quantity_kg),!B&&v.price_per_kg&&v.price_per_kg>0&&(l+=v.price_per_kg*v.quantity_kg,c+=v.quantity_kg);else if(v.transaction_type==="outgoing"){n+=v.quantity_kg;let _=v.quantity_kg;if(o>0){const j=Math.min(o,_);o-=j,_-=j}if(_>0&&i>0){const j=Math.min(i,_);i-=j,_-=j}if(_>0&&a>0){const j=Math.min(a,_);a-=j}}(!u||new Date(v.transaction_date)>new Date(u))&&(u=v.transaction_date)});const d=r-n+A,h=c>0?l/c:0,f=d*h;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:A,currentStock:d,totalPremium:a,totalStandard:i,totalEconomy:o});const g=Math.max(0,a),p=Math.max(0,i),m=Math.max(0,o),y={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:d,average_price_per_kg:h,last_transaction_date:u,stock_value:f,premium_stock_kg:g,standard_stock_kg:p,economy_stock_kg:m},{data:b}=await Z.from("coal_inventory_summary").select("id").limit(1);b&&b.length>0?await Z.from("coal_inventory_summary").update(y).eq("id",b[0].id):await Z.from("coal_inventory_summary").insert({...y,id:xn()})}catch(t){console.error("Error updating inventory summary:",t)}}};N2(fh);const che=async t=>{try{const{data:e,error:r}=await Z.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let a={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:f,error:g}=await Z.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!g&&f&&(a=f)}let i={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:f,error:g}=await Z.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!g&&f&&(i=f,n.shipping_cost=f.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:f,error:g}=await Z.from("discounts").select("code, type, value, description").eq("id",c).single();!g&&f&&(l=f,n.discount_data=f)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const f=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(f){const{data:g,error:p}=await Z.from("payment_methods").select("name, bank_name, account_number, description").eq("id",f).single();!p&&g&&(u=g)}}const{data:A,error:d}=await Z.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),h=!d&&Array.isArray(A)?A:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:h.length,hasShippingData:!!i,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await bue(n,e,a,h,i,u)?console.log("✅ WhatsApp notification sent successfully to customer:",e.phone):console.error("❌ Failed to send WhatsApp notification to customer"))}catch(f){console.error("Error sending WhatsApp notification to customer:",f)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},$o=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],CP=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,uhe=()=>{var W,ne,oe;const{items:t,clearCart:e}=fb(),r=Ot(),{user:n,profile:a}=Hr(),i=t.reduce((re,ce)=>re+ce.price*ce.quantity,0),o=parseFloat(i.toFixed(2)),[l,c]=x.useState("bank-transfer"),[u,A]=x.useState($o[0].bank),[d,h]=x.useState(""),[f,g]=x.useState(""),[p,m]=x.useState([]),[y,b]=x.useState(!1),[v,B]=x.useState([]),[_,j]=x.useState(""),[C,E]=x.useState(!1),[N,S]=x.useState(null),[k,I]=x.useState(0),[T,U]=x.useState(!1),[M,L]=x.useState(null),O=((W=v.find(re=>re.id===d))==null?void 0:W.cost)||0,D=o-k,R=D+O;x.useEffect(()=>{n||(r("/cart"),me({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),x.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),x.useEffect(()=>{(async()=>{if(n)try{const{data:ce,error:Ae}=await Z.from("addresses").select("*").eq("user_id",n.id);if(Ae)throw Ae;if(ce&&ce.length>0){const ge=ce.map(pe=>({id:pe.id,name:pe.name,street:pe.street,city:pe.city,state:pe.state,zip:pe.zip,country:pe.country,isDefault:pe.is_default,user_id:pe.user_id,created_at:pe.created_at}));m(ge);const Y=ge.find(pe=>pe.isDefault);Y?g(Y.id):ge.length>0&&g(ge[0].id)}}catch(ce){console.error("Error fetching addresses:",ce),me({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),x.useEffect(()=>{(async()=>{try{const{data:ce,error:Ae}=await Z.from("shipping_methods").select("*").eq("active",!0);if(Ae)throw Ae;if(ce&&ce.length>0)B(ce),h(ce[0].id);else{const ge=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];B(ge),h(ge[0].id)}}catch(ce){console.error("Error fetching shipping methods:",ce);const Ae=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];B(Ae),h(Ae[0].id)}})()},[]);const Q=async()=>{if(!_.trim()){me({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}E(!0);try{const{data:re,error:ce}=await nl.getVoucherByCode(_);if(ce)throw ce;if(!re)throw new Error("Voucher tidak ditemukan");if(re.min_purchase&&o<re.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${xe(re.min_purchase)}`);const Ae=nl.calculateDiscount(re,o);S(re),I(Ae),me({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${xe(Ae)}`,variant:"default"})}catch(re){console.error("Error applying voucher:",re),me({title:"Gagal Menerapkan Voucher",description:re.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{E(!1)}},K=()=>{S(null),I(0),j(""),me({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},$=async()=>{var re,ce;if(!n||t.length===0||!f||f==="undefined"){me({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{b(!0),console.log("Creating order with data:",{user_id:n.id,total:R,status:"pending",payment_method:l,shipping_address_id:f,payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:k||0});const{data:Ae,error:ge}=await Z.from("orders").insert({user_id:n.id,total:R,status:"pending",payment_method:l,shipping_address_id:f,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(N==null?void 0:N.id)||null,discount_amount:k||0}).select().single();if(ge)throw console.error("Order creation error:",ge),ge;console.log("Order created successfully:",Ae);for(const pe of t){console.log("Inserting order item:",{order_id:Ae.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});const{error:Se}=await Z.from("order_items").insert({order_id:Ae.id,product_id:pe.id,product_name:pe.name,quantity:pe.quantity,price:pe.price});if(Se)throw console.error("Error inserting order item:",Se),Se}try{await Uc.reduceStockFromOrder(Ae.id,t.map(pe=>({productName:pe.name,quantity:pe.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(pe){console.error("Error updating coal inventory:",pe)}if(N)try{await nl.incrementUsageCount(N.id),console.log("Voucher usage count updated")}catch(pe){console.error("Error updating voucher usage count:",pe)}me({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await mL(Ae),console.log("Order notification sent to admins")}catch(pe){console.error("Error sending order notification to admins:",pe)}try{const{data:pe}=await Z.from("addresses").select("*").eq("id",f).single(),{data:Se}=await Z.from("order_items").select("*").eq("order_id",Ae.id),Ue={name:CP(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(re=$o.find(Ut=>Ut.bank===u))==null?void 0:re.accountNumber:void 0,account_name:l==="bank-transfer"?(ce=$o.find(Ut=>Ut.bank===u))==null?void 0:ce.accountName:void 0},We=v.find(Ut=>Ut.id===d),gt={name:(We==null?void 0:We.name)||"Pengiriman Standar",cost:(We==null?void 0:We.cost)||O,estimated_days:(We==null?void 0:We.estimated_days)||2,carrier:"JPC Delivery"},Rt={...Ae,shipping_cost:O,shipping_provider:gt.carrier,shipping_service:gt.name,shipping_estimate:`${gt.estimated_days} hari`,discount_data:N?{code:N.code,value:k,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await che(Rt),console.log("WhatsApp notification is handled by the notification service"),a!=null&&a.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(pe){console.error("Error sending notification to customer:",pe)}e();const Y=Ae.id;sessionStorage.setItem("lastCompletedOrderId",Y),console.log(`⏩ Redirecting to order details page: /order/${Y}`),me({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),me({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${Ae.id}`)},1500)}catch(Ae){console.error("Error placing order:",Ae),me({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{b(!1)}},q=re=>{c(re)};if(!n||p.length===0)return s.jsx(Jt,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs(mt,{to:"/cart",className:"flex items-center text-charcoal-600",children:[s.jsx(Ys,{className:"h-5 w-5 mr-1"}),s.jsx("span",{children:"Kembali ke Keranjang"})]}),s.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),s.jsx("div",{className:"w-8"})]}),s.jsxs("div",{className:"text-center py-10",children:[s.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),s.jsx(mt,{to:"/address/new",children:s.jsx(G,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const z=()=>{const[re,ce]=x.useState(!0),[Ae,ge]=x.useState(null),[Y,pe]=x.useState([]),[Se,Ue]=x.useState(null),[We,gt]=x.useState(null),[Rt,Ut]=x.useState(null);return M?(x.useEffect(()=>{async function X(){ce(!0);try{const{data:ee,error:le}=await Z.from("orders").select("*").eq("id",M.id).single();if(le)throw le;ge(ee);const{data:Ce,error:Ne}=await Z.from("order_items").select("*").eq("order_id",M.id);if(Ne)throw Ne;if(pe(Ce||[]),ee.shipping_address_id){const{data:ve,error:qe}=await Z.from("addresses").select("*").eq("id",ee.shipping_address_id).single();!qe&&ve&&Ue(ve)}const Be=ee.shipping_id||ee.shipping_method_id;if(Be){const{data:ve,error:qe}=await Z.from("shipping_methods").select("*").eq("id",Be).single();!qe&&ve&&gt(ve)}if(ee.payment_method==="bank-transfer")try{if(ee.payment_details&&typeof ee.payment_details=="string"){const ve=JSON.parse(ee.payment_details);Ut(ve)}else{const ve=$o.find(qe=>qe.bank===u);Ut(ve||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(ve){console.error("Error parsing payment details:",ve),Ut({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(ee){console.error("Error fetching order details:",ee),me({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{ce(!1)}}X()},[M.id]),re?s.jsxs("div",{className:"p-4 text-center",children:[s.jsx(rr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),s.jsx("p",{children:"Memuat detail pesanan..."})]}):s.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[s.jsx(kT,{className:"h-6 w-6 text-green-500"}),s.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[s.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",M.id]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),s.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Total:"}),s.jsx("span",{className:"font-bold",children:xe(M.total)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),s.jsx("span",{children:CP(M.payment_method)})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),s.jsx("div",{className:"space-y-3",children:Y.map((X,ee)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[X.product_image?s.jsx("img",{src:X.product_image,alt:X.product_name,className:"w-12 h-12 object-cover rounded"}):s.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:s.jsx(jy,{className:"h-6 w-6 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:X.product_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[X.quantity," x ",xe(X.price),X.variant&&s.jsxs("span",{className:"ml-1",children:["(",X.variant,")"]})]})]})]}),s.jsx("div",{className:"font-medium",children:xe(X.price*X.quantity)})]},ee))})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),Se&&s.jsxs("div",{className:"mb-3",children:[s.jsx("div",{className:"font-medium",children:Se.recipient_name||Se.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[Se.street,",",Se.district&&`${Se.district}, `,Se.city,",",Se.province,Se.postal_code]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:Se.recipient_phone||Se.phone})]}),We&&s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:We.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[We.provider," ",We.service]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",We.estimated_days||2," jam"]})]}),s.jsx("div",{className:"font-medium",children:xe(We.cost)})]})]}),(Ae==null?void 0:Ae.payment_method)==="bank-transfer"&&Rt&&s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[s.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),s.jsx("div",{className:"font-medium",children:Rt.bank||Rt.bank_name})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),s.jsx("div",{className:"font-medium",children:Rt.accountNumber||Rt.account_number})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),s.jsx("div",{className:"font-medium",children:Rt.accountName||Rt.account_name||"Jaya Perkasa Charcoal"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),s.jsx("div",{className:"font-bold text-lg",children:xe(Ae.total)})]}),s.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsx(G,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),s.jsx(G,{onClick:()=>r(`/order/${M.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):s.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return T&&M?s.jsxs(Jt,{children:[s.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[s.jsxs(mt,{to:"/",className:"text-charcoal-600 flex items-center",children:[s.jsx(Ys,{className:"h-5 w-5 mr-1"}),s.jsx("span",{children:"Kembali ke Beranda"})]}),s.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),s.jsx("div",{className:"w-8"})]}),s.jsx(z,{})]}):s.jsx(Jt,{children:s.jsxs("div",{className:"pb-28",children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[s.jsxs(mt,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[s.jsx(Ys,{className:"h-5 w-5 mr-1"}),s.jsx("span",{children:"Kembali ke Keranjang"})]}),s.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),s.jsx("div",{className:"w-8"})," "]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),s.jsx(Ef,{value:f,onValueChange:g,className:"space-y-3",children:p.map(re=>s.jsx(_e,{className:`cursor-pointer border-2 ${f===re.id?"border-flame-500":"border-border"}`,onClick:()=>g(re.id),children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{value:re.id,id:`address-${re.id}`,className:"flex-shrink-0"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Ie,{htmlFor:`address-${re.id}`,className:"font-medium cursor-pointer",children:re.name}),re.isDefault&&s.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[re.street,", ",re.city,", ",re.state," ",re.zip]})]})]})})},re.id))}),s.jsx("div",{className:"mt-3",children:s.jsx(mt,{to:"/address/new",children:s.jsxs(G,{variant:"outline",className:"w-full text-sm",children:[s.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),s.jsx(Ef,{value:d,onValueChange:h,children:s.jsx("div",{className:"space-y-3",children:v.map(re=>s.jsx(_e,{className:`cursor-pointer border-2 ${d===re.id?"border-flame-500":"border-border"}`,children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{value:re.id,id:`shipping-${re.id}`,className:"flex-shrink-0"}),s.jsxs("div",{className:"flex justify-between w-full",children:[s.jsxs(Ie,{htmlFor:`shipping-${re.id}`,className:"cursor-pointer",children:[s.jsx("div",{className:"font-medium",children:re.name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[re.estimated_days," Jam kerja"]})]}),s.jsx("div",{className:"font-medium",children:xe(re.cost)})]})]})})},re.id))})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),s.jsx(Ef,{value:l,onValueChange:q,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(LM,{className:"h-5 w-5 text-flame-500"}),s.jsx(Ie,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),s.jsx(_e,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{value:"cod",id:"cod",className:"flex-shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mS,{className:"h-5 w-5 text-flame-500"}),s.jsx(Ie,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),s.jsx(_e,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sc,{value:"qris",id:"qris",className:"flex-shrink-0"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xS,{className:"h-5 w-5 text-flame-500"}),s.jsx(Ie,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),s.jsx(Ef,{value:u,onValueChange:A,className:"space-y-2",children:$o.map(re=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sc,{value:re.bank,id:`bank-${re.bank}`}),s.jsx(Ie,{htmlFor:`bank-${re.bank}`,children:re.bank})]},re.bank))}),s.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:$o.find(re=>re.bank===u)&&s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),s.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),s.jsxs("p",{children:["No. Rekening: ",(ne=$o.find(re=>re.bank===u))==null?void 0:ne.accountNumber]}),s.jsxs("p",{children:["Atas Nama: ",(oe=$o.find(re=>re.bank===u))==null?void 0:oe.accountName]})]})})]}),l==="qris"&&s.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),s.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:s.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:re=>{const ce=re.target;ce.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),s.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),s.jsx(_e,{children:s.jsxs(je,{className:"p-4",children:[s.jsx("div",{className:"space-y-3 mb-3",children:t.map(re=>s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium text-sm",children:re.name}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",re.quantity," x ",xe(re.price)]})]}),s.jsx("div",{className:"font-medium text-right",children:xe(re.price*re.quantity)})]},re.id))}),s.jsx(sa,{className:"my-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{className:"font-medium",children:xe(o)})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Pengiriman"}),s.jsx("span",{className:"font-medium",children:xe(O)})]}),N?s.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(kT,{className:"h-4 w-4 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:N.code}),s.jsx("p",{className:"text-xs text-gray-500",children:N.discount_type==="percentage"?`Diskon ${N.discount_value}%`:`Diskon ${xe(N.discount_value)}`})]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",xe(k)]}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:K,children:s.jsx(Ny,{className:"h-3 w-3"})})]})]}):s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(vS,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),s.jsx(he,{placeholder:"Masukkan kode voucher",className:"pl-8",value:_,onChange:re=>j(re.target.value),disabled:C})]}),s.jsx(G,{variant:"outline",size:"sm",onClick:Q,disabled:C||!_.trim(),className:"shrink-0",children:C?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),N&&s.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[s.jsx("span",{children:"Subtotal setelah diskon"}),s.jsx("span",{className:"font-medium",children:xe(D)})]}),s.jsx(sa,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-bold",children:"Total"}),s.jsx("span",{className:"font-bold",children:xe(R)})]})]})]})})]})]}),s.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"font-bold",children:"Total:"}),s.jsx("span",{className:"font-bold text-xl",children:xe(R)})]}),s.jsx(G,{onClick:$,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:y,children:y?"Memproses...":"Buat Pesanan"})]})]})})};var Zp=t=>t.type==="checkbox",$c=t=>t instanceof Date,da=t=>t==null;const SH=t=>typeof t=="object";var Xr=t=>!da(t)&&!Array.isArray(t)&&SH(t)&&!$c(t),NH=t=>Xr(t)&&t.target?Zp(t.target)?t.target.checked:t.target.value:t,Ahe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kH=(t,e)=>t.has(Ahe(e)),dhe=t=>{const e=t.constructor&&t.constructor.prototype;return Xr(e)&&e.hasOwnProperty("isPrototypeOf")},X2=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nn(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(X2&&(t instanceof Blob||n))&&(r||Xr(t)))if(e=r?[]:{},!r&&!dhe(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=Nn(t[a]));else return t;return e}var Eb=t=>Array.isArray(t)?t.filter(Boolean):[],Gr=t=>t===void 0,Oe=(t,e,r)=>{if(!e||!Xr(t))return r;const n=Eb(e.split(/[,[\].]+?/)).reduce((a,i)=>da(a)?a:a[i],t);return Gr(n)||n===t?Gr(t[e])?r:t[e]:n},Va=t=>typeof t=="boolean",Y2=t=>/^\w*$/.test(t),TH=t=>Eb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ar=(t,e,r)=>{let n=-1;const a=Y2(e)?[e]:TH(e),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=t[l];c=Xr(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const Yx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IH=V.createContext(null),Sb=()=>V.useContext(IH),hhe=t=>{const{children:e,...r}=t;return V.createElement(IH.Provider,{value:r},e)};var PH=(t,e,r,n=!0)=>{const a={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(a,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Vs.all&&(e._proxyFormState[o]=!n||Vs.all),r&&(r[o]=!0),t[o]}});return a};const J2=typeof window<"u"?x.useLayoutEffect:x.useEffect;function fhe(t){const e=Sb(),{control:r=e.control,disabled:n,name:a,exact:i}=t||{},[o,l]=V.useState(r._formState),c=V.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return J2(()=>r._subscribe({name:a,formState:c.current,exact:i,callback:u=>{!n&&l({...r._formState,...u})}}),[a,n,i]),V.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),V.useMemo(()=>PH(o,r,c.current,!1),[o,r])}var yi=t=>typeof t=="string",FH=(t,e,r,n,a)=>yi(t)?(n&&e.watch.add(t),Oe(r,t,a)):Array.isArray(t)?t.map(i=>(n&&e.watch.add(i),Oe(r,i))):(n&&(e.watchAll=!0),r);function mhe(t){const e=Sb(),{control:r=e.control,name:n,defaultValue:a,disabled:i,exact:o}=t||{},l=V.useRef(a),[c,u]=V.useState(r._getWatch(n,l.current));return J2(()=>r._subscribe({name:n,formState:{values:!0},exact:o,callback:A=>!i&&u(FH(n,r._names,A.values||r._formValues,!1,l.current))}),[n,r,i,o]),V.useEffect(()=>r._removeUnmounted()),c}function phe(t){const e=Sb(),{name:r,disabled:n,control:a=e.control,shouldUnregister:i}=t,o=kH(a._names.array,r),l=mhe({control:a,name:r,defaultValue:Oe(a._formValues,r,Oe(a._defaultValues,r,t.defaultValue)),exact:!0}),c=fhe({control:a,name:r,exact:!0}),u=V.useRef(t),A=V.useRef(a.register(r,{...t.rules,value:l,...Va(t.disabled)?{disabled:t.disabled}:{}})),d=V.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Oe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Oe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Oe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Oe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Oe(c.errors,r)}}),[c,r]),h=V.useCallback(m=>A.current.onChange({target:{value:NH(m),name:r},type:Yx.CHANGE}),[r]),f=V.useCallback(()=>A.current.onBlur({target:{value:Oe(a._formValues,r),name:r},type:Yx.BLUR}),[r,a._formValues]),g=V.useCallback(m=>{const y=Oe(a._fields,r);y&&m&&(y._f.ref={focus:()=>m.focus&&m.focus(),select:()=>m.select&&m.select(),setCustomValidity:b=>m.setCustomValidity(b),reportValidity:()=>m.reportValidity()})},[a._fields,r]),p=V.useMemo(()=>({name:r,value:l,...Va(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:f,ref:g}),[r,n,c.disabled,h,f,g,l]);return V.useEffect(()=>{const m=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...Va(u.current.disabled)?{disabled:u.current.disabled}:{}});const y=(b,v)=>{const B=Oe(a._fields,b);B&&B._f&&(B._f.mount=v)};if(y(r,!0),m){const b=Nn(Oe(a._options.defaultValues,r));ar(a._defaultValues,r,b),Gr(Oe(a._formValues,r))&&ar(a._formValues,r,b)}return!o&&a.register(r),()=>{(o?m&&!a._state.action:m)?a.unregister(r):y(r,!1)}},[r,a,o,i]),V.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),V.useMemo(()=>({field:p,formState:c,fieldState:d}),[p,c,d])}const ghe=t=>t.render(phe(t));var DH=(t,e,r,n,a)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:a||!0}}:{},Xf=t=>Array.isArray(t)?t:[t],_P=()=>{let t=[];return{get observers(){return t},next:a=>{for(const i of t)i.next&&i.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(i=>i!==a)}}),unsubscribe:()=>{t=[]}}},Y_=t=>da(t)||!SH(t);function al(t,e){if(Y_(t)||Y_(e))return t===e;if($c(t)&&$c(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const a of r){const i=t[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=e[a];if($c(i)&&$c(o)||Xr(i)&&Xr(o)||Array.isArray(i)&&Array.isArray(o)?!al(i,o):i!==o)return!1}}return!0}var ja=t=>Xr(t)&&!Object.keys(t).length,Z2=t=>t.type==="file",Ks=t=>typeof t=="function",Jx=t=>{if(!X2)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},OH=t=>t.type==="select-multiple",eN=t=>t.type==="radio",xhe=t=>eN(t)||Zp(t),Q1=t=>Jx(t)&&t.isConnected;function vhe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Gr(t)?n++:t[e[n++]];return t}function yhe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Gr(t[e]))return!1;return!0}function ln(t,e){const r=Array.isArray(e)?e:Y2(e)?[e]:TH(e),n=r.length===1?t:vhe(t,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(Xr(n)&&ja(n)||Array.isArray(n)&&yhe(n))&&ln(t,r.slice(0,-1)),t}var RH=t=>{for(const e in t)if(Ks(t[e]))return!0;return!1};function Zx(t,e={}){const r=Array.isArray(t);if(Xr(t)||r)for(const n in t)Array.isArray(t[n])||Xr(t[n])&&!RH(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Zx(t[n],e[n])):da(t[n])||(e[n]=!0);return e}function UH(t,e,r){const n=Array.isArray(t);if(Xr(t)||n)for(const a in t)Array.isArray(t[a])||Xr(t[a])&&!RH(t[a])?Gr(e)||Y_(r[a])?r[a]=Array.isArray(t[a])?Zx(t[a],[]):{...Zx(t[a])}:UH(t[a],da(e)?{}:e[a],r[a]):r[a]=!al(t[a],e[a]);return r}var ef=(t,e)=>UH(t,e,Zx(e));const jP={value:!1,isValid:!1},EP={value:!0,isValid:!0};var MH=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gr(t[0].attributes.value)?Gr(t[0].value)||t[0].value===""?EP:{value:t[0].value,isValid:!0}:EP:jP}return jP},QH=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Gr(t)?t:e?t===""?NaN:t&&+t:r&&yi(t)?new Date(t):n?n(t):t;const SP={isValid:!1,value:null};var LH=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,SP):SP;function NP(t){const e=t.ref;return Z2(e)?e.files:eN(e)?LH(t.refs).value:OH(e)?[...e.selectedOptions].map(({value:r})=>r):Zp(e)?MH(t.refs).value:QH(Gr(e.value)?t.ref.value:e.value,t)}var bhe=(t,e,r,n)=>{const a={};for(const i of t){const o=Oe(e,i);o&&ar(a,i,o._f)}return{criteriaMode:r,names:[...t],fields:a,shouldUseNativeValidation:n}},ev=t=>t instanceof RegExp,tf=t=>Gr(t)?t:ev(t)?t.source:Xr(t)?ev(t.value)?t.value.source:t.value:t,kP=t=>({isOnSubmit:!t||t===Vs.onSubmit,isOnBlur:t===Vs.onBlur,isOnChange:t===Vs.onChange,isOnAll:t===Vs.all,isOnTouch:t===Vs.onTouched});const TP="AsyncFunction";var whe=t=>!!t&&!!t.validate&&!!(Ks(t.validate)&&t.validate.constructor.name===TP||Xr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===TP)),Bhe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),IP=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Yf=(t,e,r,n)=>{for(const a of r||Object.keys(t)){const i=Oe(t,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],a)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Yf(l,e))break}else if(Xr(l)&&Yf(l,e))break}}};function PP(t,e,r){const n=Oe(t,r);if(n||Y2(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Oe(e,i),l=Oe(t,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};a.pop()}return{name:r}}var Che=(t,e,r,n)=>{r(t);const{name:a,...i}=t;return ja(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!n||Vs.all))},_he=(t,e,r)=>!t||!e||t===e||Xf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),jhe=(t,e,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(e||t):(r?n.isOnBlur:a.isOnBlur)?!t:(r?n.isOnChange:a.isOnChange)?t:!0,Ehe=(t,e)=>!Eb(Oe(t,e)).length&&ln(t,e),She=(t,e,r)=>{const n=Xf(Oe(t,r));return ar(n,"root",e[r]),ar(t,r,n),t},ix=t=>yi(t);function FP(t,e,r="validate"){if(ix(t)||Array.isArray(t)&&t.every(ix)||Va(t)&&!t)return{type:r,message:ix(t)?t:"",ref:e}}var sA=t=>Xr(t)&&!ev(t)?t:{value:t,message:""},DP=async(t,e,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:A,min:d,max:h,pattern:f,validate:g,name:p,valueAsNumber:m,mount:y}=t._f,b=Oe(r,p);if(!y||e.has(p))return{};const v=l?l[0]:o,B=I=>{a&&v.reportValidity&&(v.setCustomValidity(Va(I)?"":I||""),v.reportValidity())},_={},j=eN(o),C=Zp(o),E=j||C,N=(m||Z2(o))&&Gr(o.value)&&Gr(b)||Jx(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,S=DH.bind(null,p,n,_),k=(I,T,U,M=Vi.maxLength,L=Vi.minLength)=>{const O=I?T:U;_[p]={type:I?M:L,message:O,ref:o,...S(I?M:L,O)}};if(i?!Array.isArray(b)||!b.length:c&&(!E&&(N||da(b))||Va(b)&&!b||C&&!MH(l).isValid||j&&!LH(l).isValid)){const{value:I,message:T}=ix(c)?{value:!!c,message:c}:sA(c);if(I&&(_[p]={type:Vi.required,message:T,ref:v,...S(Vi.required,T)},!n))return B(T),_}if(!N&&(!da(d)||!da(h))){let I,T;const U=sA(h),M=sA(d);if(!da(b)&&!isNaN(b)){const L=o.valueAsNumber||b&&+b;da(U.value)||(I=L>U.value),da(M.value)||(T=L<M.value)}else{const L=o.valueAsDate||new Date(b),O=Q=>new Date(new Date().toDateString()+" "+Q),D=o.type=="time",R=o.type=="week";yi(U.value)&&b&&(I=D?O(b)>O(U.value):R?b>U.value:L>new Date(U.value)),yi(M.value)&&b&&(T=D?O(b)<O(M.value):R?b<M.value:L<new Date(M.value))}if((I||T)&&(k(!!I,U.message,M.message,Vi.max,Vi.min),!n))return B(_[p].message),_}if((u||A)&&!N&&(yi(b)||i&&Array.isArray(b))){const I=sA(u),T=sA(A),U=!da(I.value)&&b.length>+I.value,M=!da(T.value)&&b.length<+T.value;if((U||M)&&(k(U,I.message,T.message),!n))return B(_[p].message),_}if(f&&!N&&yi(b)){const{value:I,message:T}=sA(f);if(ev(I)&&!b.match(I)&&(_[p]={type:Vi.pattern,message:T,ref:o,...S(Vi.pattern,T)},!n))return B(T),_}if(g){if(Ks(g)){const I=await g(b,r),T=FP(I,v);if(T&&(_[p]={...T,...S(Vi.validate,T.message)},!n))return B(T.message),_}else if(Xr(g)){let I={};for(const T in g){if(!ja(I)&&!n)break;const U=FP(await g[T](b,r),v,T);U&&(I={...U,...S(T,U.message)},B(U.message),n&&(_[p]=I))}if(!ja(I)&&(_[p]={ref:v,...I},!n))return _}}return B(!0),_};const Nhe={mode:Vs.onSubmit,reValidateMode:Vs.onChange,shouldFocusError:!0};function khe(t={}){let e={...Nhe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ks(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=Xr(e.defaultValues)||Xr(e.values)?Nn(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Nn(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...A};const h={array:_P(),state:_P()},f=e.criteriaMode===Vs.all,g=X=>ee=>{clearTimeout(u),u=setTimeout(X,ee)},p=async X=>{if(!e.disabled&&(A.isValid||d.isValid||X)){const ee=e.resolver?ja((await C()).errors):await N(n,!0);ee!==r.isValid&&h.state.next({isValid:ee})}},m=(X,ee)=>{!e.disabled&&(A.isValidating||A.validatingFields||d.isValidating||d.validatingFields)&&((X||Array.from(l.mount)).forEach(le=>{le&&(ee?ar(r.validatingFields,le,ee):ln(r.validatingFields,le))}),h.state.next({validatingFields:r.validatingFields,isValidating:!ja(r.validatingFields)}))},y=(X,ee=[],le,Ce,Ne=!0,Be=!0)=>{if(Ce&&le&&!e.disabled){if(o.action=!0,Be&&Array.isArray(Oe(n,X))){const ve=le(Oe(n,X),Ce.argA,Ce.argB);Ne&&ar(n,X,ve)}if(Be&&Array.isArray(Oe(r.errors,X))){const ve=le(Oe(r.errors,X),Ce.argA,Ce.argB);Ne&&ar(r.errors,X,ve),Ehe(r.errors,X)}if((A.touchedFields||d.touchedFields)&&Be&&Array.isArray(Oe(r.touchedFields,X))){const ve=le(Oe(r.touchedFields,X),Ce.argA,Ce.argB);Ne&&ar(r.touchedFields,X,ve)}(A.dirtyFields||d.dirtyFields)&&(r.dirtyFields=ef(a,i)),h.state.next({name:X,isDirty:k(X,ee),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ar(i,X,ee)},b=(X,ee)=>{ar(r.errors,X,ee),h.state.next({errors:r.errors})},v=X=>{r.errors=X,h.state.next({errors:r.errors,isValid:!1})},B=(X,ee,le,Ce)=>{const Ne=Oe(n,X);if(Ne){const Be=Oe(i,X,Gr(le)?Oe(a,X):le);Gr(Be)||Ce&&Ce.defaultChecked||ee?ar(i,X,ee?Be:NP(Ne._f)):U(X,Be),o.mount&&p()}},_=(X,ee,le,Ce,Ne)=>{let Be=!1,ve=!1;const qe={name:X};if(!e.disabled){if(!le||Ce){(A.isDirty||d.isDirty)&&(ve=r.isDirty,r.isDirty=qe.isDirty=k(),Be=ve!==qe.isDirty);const ie=al(Oe(a,X),ee);ve=!!Oe(r.dirtyFields,X),ie?ln(r.dirtyFields,X):ar(r.dirtyFields,X,!0),qe.dirtyFields=r.dirtyFields,Be=Be||(A.dirtyFields||d.dirtyFields)&&ve!==!ie}if(le){const ie=Oe(r.touchedFields,X);ie||(ar(r.touchedFields,X,le),qe.touchedFields=r.touchedFields,Be=Be||(A.touchedFields||d.touchedFields)&&ie!==le)}Be&&Ne&&h.state.next(qe)}return Be?qe:{}},j=(X,ee,le,Ce)=>{const Ne=Oe(r.errors,X),Be=(A.isValid||d.isValid)&&Va(ee)&&r.isValid!==ee;if(e.delayError&&le?(c=g(()=>b(X,le)),c(e.delayError)):(clearTimeout(u),c=null,le?ar(r.errors,X,le):ln(r.errors,X)),(le?!al(Ne,le):Ne)||!ja(Ce)||Be){const ve={...Ce,...Be&&Va(ee)?{isValid:ee}:{},errors:r.errors,name:X};r={...r,...ve},h.state.next(ve)}},C=async X=>{m(X,!0);const ee=await e.resolver(i,e.context,bhe(X||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return m(X),ee},E=async X=>{const{errors:ee}=await C(X);if(X)for(const le of X){const Ce=Oe(ee,le);Ce?ar(r.errors,le,Ce):ln(r.errors,le)}else r.errors=ee;return ee},N=async(X,ee,le={valid:!0})=>{for(const Ce in X){const Ne=X[Ce];if(Ne){const{_f:Be,...ve}=Ne;if(Be){const qe=l.array.has(Be.name),ie=Ne._f&&whe(Ne._f);ie&&A.validatingFields&&m([Ce],!0);const we=await DP(Ne,l.disabled,i,f,e.shouldUseNativeValidation&&!ee,qe);if(ie&&A.validatingFields&&m([Ce]),we[Be.name]&&(le.valid=!1,ee))break;!ee&&(Oe(we,Be.name)?qe?She(r.errors,we,Be.name):ar(r.errors,Be.name,we[Be.name]):ln(r.errors,Be.name))}!ja(ve)&&await N(ve,ee,le)}}return le.valid},S=()=>{for(const X of l.unMount){const ee=Oe(n,X);ee&&(ee._f.refs?ee._f.refs.every(le=>!Q1(le)):!Q1(ee._f.ref))&&oe(X)}l.unMount=new Set},k=(X,ee)=>!e.disabled&&(X&&ee&&ar(i,X,ee),!al(Q(),a)),I=(X,ee,le)=>FH(X,l,{...o.mount?i:Gr(ee)?a:yi(X)?{[X]:ee}:ee},le,ee),T=X=>Eb(Oe(o.mount?i:a,X,e.shouldUnregister?Oe(a,X,[]):[])),U=(X,ee,le={})=>{const Ce=Oe(n,X);let Ne=ee;if(Ce){const Be=Ce._f;Be&&(!Be.disabled&&ar(i,X,QH(ee,Be)),Ne=Jx(Be.ref)&&da(ee)?"":ee,OH(Be.ref)?[...Be.ref.options].forEach(ve=>ve.selected=Ne.includes(ve.value)):Be.refs?Zp(Be.ref)?Be.refs.forEach(ve=>{(!ve.defaultChecked||!ve.disabled)&&(Array.isArray(Ne)?ve.checked=!!Ne.find(qe=>qe===ve.value):ve.checked=Ne===ve.value||!!Ne)}):Be.refs.forEach(ve=>ve.checked=ve.value===Ne):Z2(Be.ref)?Be.ref.value="":(Be.ref.value=Ne,Be.ref.type||h.state.next({name:X,values:Nn(i)})))}(le.shouldDirty||le.shouldTouch)&&_(X,Ne,le.shouldTouch,le.shouldDirty,!0),le.shouldValidate&&R(X)},M=(X,ee,le)=>{for(const Ce in ee){if(!ee.hasOwnProperty(Ce))return;const Ne=ee[Ce],Be=X+"."+Ce,ve=Oe(n,Be);(l.array.has(X)||Xr(Ne)||ve&&!ve._f)&&!$c(Ne)?M(Be,Ne,le):U(Be,Ne,le)}},L=(X,ee,le={})=>{const Ce=Oe(n,X),Ne=l.array.has(X),Be=Nn(ee);ar(i,X,Be),Ne?(h.array.next({name:X,values:Nn(i)}),(A.isDirty||A.dirtyFields||d.isDirty||d.dirtyFields)&&le.shouldDirty&&h.state.next({name:X,dirtyFields:ef(a,i),isDirty:k(X,Be)})):Ce&&!Ce._f&&!da(Be)?M(X,Be,le):U(X,Be,le),IP(X,l)&&h.state.next({...r}),h.state.next({name:o.mount?X:void 0,values:Nn(i)})},O=async X=>{o.mount=!0;const ee=X.target;let le=ee.name,Ce=!0;const Ne=Oe(n,le),Be=ie=>{Ce=Number.isNaN(ie)||$c(ie)&&isNaN(ie.getTime())||al(ie,Oe(i,le,ie))},ve=kP(e.mode),qe=kP(e.reValidateMode);if(Ne){let ie,we;const Je=ee.type?NP(Ne._f):NH(X),Ke=X.type===Yx.BLUR||X.type===Yx.FOCUS_OUT,pt=!Bhe(Ne._f)&&!e.resolver&&!Oe(r.errors,le)&&!Ne._f.deps||jhe(Ke,Oe(r.touchedFields,le),r.isSubmitted,qe,ve),er=IP(le,l,Ke);ar(i,le,Je),Ke?(Ne._f.onBlur&&Ne._f.onBlur(X),c&&c(0)):Ne._f.onChange&&Ne._f.onChange(X);const Vr=_(le,Je,Ke),Nr=!ja(Vr)||er;if(!Ke&&h.state.next({name:le,type:X.type,values:Nn(i)}),pt)return(A.isValid||d.isValid)&&(e.mode==="onBlur"?Ke&&p():Ke||p()),Nr&&h.state.next({name:le,...er?{}:Vr});if(!Ke&&er&&h.state.next({...r}),e.resolver){const{errors:pr}=await C([le]);if(Be(Je),Ce){const Qi=PP(r.errors,n,le),Da=PP(pr,n,Qi.name||le);ie=Da.error,le=Da.name,we=ja(pr)}}else m([le],!0),ie=(await DP(Ne,l.disabled,i,f,e.shouldUseNativeValidation))[le],m([le]),Be(Je),Ce&&(ie?we=!1:(A.isValid||d.isValid)&&(we=await N(n,!0)));Ce&&(Ne._f.deps&&R(Ne._f.deps),j(le,we,ie,Vr))}},D=(X,ee)=>{if(Oe(r.errors,ee)&&X.focus)return X.focus(),1},R=async(X,ee={})=>{let le,Ce;const Ne=Xf(X);if(e.resolver){const Be=await E(Gr(X)?X:Ne);le=ja(Be),Ce=X?!Ne.some(ve=>Oe(Be,ve)):le}else X?(Ce=(await Promise.all(Ne.map(async Be=>{const ve=Oe(n,Be);return await N(ve&&ve._f?{[Be]:ve}:ve)}))).every(Boolean),!(!Ce&&!r.isValid)&&p()):Ce=le=await N(n);return h.state.next({...!yi(X)||(A.isValid||d.isValid)&&le!==r.isValid?{}:{name:X},...e.resolver||!X?{isValid:le}:{},errors:r.errors}),ee.shouldFocus&&!Ce&&Yf(n,D,X?Ne:l.mount),Ce},Q=X=>{const ee={...o.mount?i:a};return Gr(X)?ee:yi(X)?Oe(ee,X):X.map(le=>Oe(ee,le))},K=(X,ee)=>({invalid:!!Oe((ee||r).errors,X),isDirty:!!Oe((ee||r).dirtyFields,X),error:Oe((ee||r).errors,X),isValidating:!!Oe(r.validatingFields,X),isTouched:!!Oe((ee||r).touchedFields,X)}),$=X=>{X&&Xf(X).forEach(ee=>ln(r.errors,ee)),h.state.next({errors:X?r.errors:{}})},q=(X,ee,le)=>{const Ce=(Oe(n,X,{_f:{}})._f||{}).ref,Ne=Oe(r.errors,X)||{},{ref:Be,message:ve,type:qe,...ie}=Ne;ar(r.errors,X,{...ie,...ee,ref:Ce}),h.state.next({name:X,errors:r.errors,isValid:!1}),le&&le.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},z=(X,ee)=>Ks(X)?h.state.subscribe({next:le=>X(I(void 0,ee),le)}):I(X,ee,!0),W=X=>h.state.subscribe({next:ee=>{_he(X.name,ee.name,X.exact)&&Che(ee,X.formState||A,gt,X.reRenderRoot)&&X.callback({values:{...i},...r,...ee})}}).unsubscribe,ne=X=>(o.mount=!0,d={...d,...X.formState},W({...X,formState:d})),oe=(X,ee={})=>{for(const le of X?Xf(X):l.mount)l.mount.delete(le),l.array.delete(le),ee.keepValue||(ln(n,le),ln(i,le)),!ee.keepError&&ln(r.errors,le),!ee.keepDirty&&ln(r.dirtyFields,le),!ee.keepTouched&&ln(r.touchedFields,le),!ee.keepIsValidating&&ln(r.validatingFields,le),!e.shouldUnregister&&!ee.keepDefaultValue&&ln(a,le);h.state.next({values:Nn(i)}),h.state.next({...r,...ee.keepDirty?{isDirty:k()}:{}}),!ee.keepIsValid&&p()},re=({disabled:X,name:ee})=>{(Va(X)&&o.mount||X||l.disabled.has(ee))&&(X?l.disabled.add(ee):l.disabled.delete(ee))},ce=(X,ee={})=>{let le=Oe(n,X);const Ce=Va(ee.disabled)||Va(e.disabled);return ar(n,X,{...le||{},_f:{...le&&le._f?le._f:{ref:{name:X}},name:X,mount:!0,...ee}}),l.mount.add(X),le?re({disabled:Va(ee.disabled)?ee.disabled:e.disabled,name:X}):B(X,!0,ee.value),{...Ce?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:tf(ee.min),max:tf(ee.max),minLength:tf(ee.minLength),maxLength:tf(ee.maxLength),pattern:tf(ee.pattern)}:{},name:X,onChange:O,onBlur:O,ref:Ne=>{if(Ne){ce(X,ee),le=Oe(n,X);const Be=Gr(Ne.value)&&Ne.querySelectorAll&&Ne.querySelectorAll("input,select,textarea")[0]||Ne,ve=xhe(Be),qe=le._f.refs||[];if(ve?qe.find(ie=>ie===Be):Be===le._f.ref)return;ar(n,X,{_f:{...le._f,...ve?{refs:[...qe.filter(Q1),Be,...Array.isArray(Oe(a,X))?[{}]:[]],ref:{type:Be.type,name:X}}:{ref:Be}}}),B(X,!1,void 0,Be)}else le=Oe(n,X,{}),le._f&&(le._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(kH(l.array,X)&&o.action)&&l.unMount.add(X)}}},Ae=()=>e.shouldFocusError&&Yf(n,D,l.mount),ge=X=>{Va(X)&&(h.state.next({disabled:X}),Yf(n,(ee,le)=>{const Ce=Oe(n,le);Ce&&(ee.disabled=Ce._f.disabled||X,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(Ne=>{Ne.disabled=Ce._f.disabled||X}))},0,!1))},Y=(X,ee)=>async le=>{let Ce;le&&(le.preventDefault&&le.preventDefault(),le.persist&&le.persist());let Ne=Nn(i);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:Be,values:ve}=await C();r.errors=Be,Ne=ve}else await N(n);if(l.disabled.size)for(const Be of l.disabled)ar(Ne,Be,void 0);if(ln(r.errors,"root"),ja(r.errors)){h.state.next({errors:{}});try{await X(Ne,le)}catch(Be){Ce=Be}}else ee&&await ee({...r.errors},le),Ae(),setTimeout(Ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ja(r.errors)&&!Ce,submitCount:r.submitCount+1,errors:r.errors}),Ce)throw Ce},pe=(X,ee={})=>{Oe(n,X)&&(Gr(ee.defaultValue)?L(X,Nn(Oe(a,X))):(L(X,ee.defaultValue),ar(a,X,Nn(ee.defaultValue))),ee.keepTouched||ln(r.touchedFields,X),ee.keepDirty||(ln(r.dirtyFields,X),r.isDirty=ee.defaultValue?k(X,Nn(Oe(a,X))):k()),ee.keepError||(ln(r.errors,X),A.isValid&&p()),h.state.next({...r}))},Se=(X,ee={})=>{const le=X?Nn(X):a,Ce=Nn(le),Ne=ja(X),Be=Ne?a:Ce;if(ee.keepDefaultValues||(a=le),!ee.keepValues){if(ee.keepDirtyValues){const ve=new Set([...l.mount,...Object.keys(ef(a,i))]);for(const qe of Array.from(ve))Oe(r.dirtyFields,qe)?ar(Be,qe,Oe(i,qe)):L(qe,Oe(Be,qe))}else{if(X2&&Gr(X))for(const ve of l.mount){const qe=Oe(n,ve);if(qe&&qe._f){const ie=Array.isArray(qe._f.refs)?qe._f.refs[0]:qe._f.ref;if(Jx(ie)){const we=ie.closest("form");if(we){we.reset();break}}}}for(const ve of l.mount)L(ve,Oe(Be,ve))}i=Nn(Be),h.array.next({values:{...Be}}),h.state.next({values:{...Be}})}l={mount:ee.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!A.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ee.keepSubmitCount?r.submitCount:0,isDirty:Ne?!1:ee.keepDirty?r.isDirty:!!(ee.keepDefaultValues&&!al(X,a)),isSubmitted:ee.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ne?{}:ee.keepDirtyValues?ee.keepDefaultValues&&i?ef(a,i):r.dirtyFields:ee.keepDefaultValues&&X?ef(a,X):ee.keepDirty?r.dirtyFields:{},touchedFields:ee.keepTouched?r.touchedFields:{},errors:ee.keepErrors?r.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ue=(X,ee)=>Se(Ks(X)?X(i):X,ee),We=(X,ee={})=>{const le=Oe(n,X),Ce=le&&le._f;if(Ce){const Ne=Ce.refs?Ce.refs[0]:Ce.ref;Ne.focus&&(Ne.focus(),ee.shouldSelect&&Ks(Ne.select)&&Ne.select())}},gt=X=>{r={...r,...X}},Ut={control:{register:ce,unregister:oe,getFieldState:K,handleSubmit:Y,setError:q,_subscribe:W,_runSchema:C,_focusError:Ae,_getWatch:I,_getDirty:k,_setValid:p,_setFieldArray:y,_setDisabledField:re,_setErrors:v,_getFieldArray:T,_reset:Se,_resetDefaultValues:()=>Ks(e.defaultValues)&&e.defaultValues().then(X=>{Ue(X,e.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:S,_disableForm:ge,_subjects:h,_proxyFormState:A,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(X){o=X},get _defaultValues(){return a},get _names(){return l},set _names(X){l=X},get _formState(){return r},get _options(){return e},set _options(X){e={...e,...X}}},subscribe:ne,trigger:R,register:ce,handleSubmit:Y,watch:z,setValue:L,getValues:Q,reset:Ue,resetField:pe,clearErrors:$,unregister:oe,setError:q,setFocus:We,getFieldState:K};return{...Ut,formControl:Ut}}function fa(t={}){const e=V.useRef(void 0),r=V.useRef(void 0),[n,a]=V.useState({isDirty:!1,isValidating:!1,isLoading:Ks(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ks(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:khe(t),formState:n},t.formControl&&t.defaultValues&&!Ks(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const i=e.current.control;return i._options=t,J2(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),V.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),V.useEffect(()=>{t.mode&&(i._options.mode=t.mode),t.reValidateMode&&(i._options.reValidateMode=t.reValidateMode)},[i,t.mode,t.reValidateMode]),V.useEffect(()=>{t.errors&&(i._setErrors(t.errors),i._focusError())},[i,t.errors]),V.useEffect(()=>{t.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,t.shouldUnregister]),V.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),V.useEffect(()=>{t.values&&!al(t.values,r.current)?(i._reset(t.values,i._options.resetOptions),r.current=t.values,a(o=>({...o}))):i._resetDefaultValues()},[i,t.values]),V.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),e.current.formState=PH(n,i),e.current}const ia=hhe,$H=x.createContext({}),Ve=({...t})=>s.jsx($H.Provider,{value:{name:t.name},children:s.jsx(ghe,{...t})}),Nb=()=>{const t=x.useContext($H),e=x.useContext(HH),{getFieldState:r,formState:n}=Sb(),a=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},HH=x.createContext({}),Qe=x.forwardRef(({className:t,...e},r)=>{const n=x.useId();return s.jsx(HH.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:fe("space-y-2",t),...e})})});Qe.displayName="FormItem";const Le=x.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:a}=Nb();return s.jsx(Ie,{ref:r,className:fe(n&&"text-destructive",t),htmlFor:a,...e})});Le.displayName="FormLabel";const $e=x.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Nb();return s.jsx(dM,{ref:e,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...t})});$e.displayName="FormControl";const ox=x.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=Nb();return s.jsx("p",{ref:r,id:n,className:fe("text-sm text-muted-foreground",t),...e})});ox.displayName="FormDescription";const Ge=x.forwardRef(({className:t,children:e,...r},n)=>{const{error:a,formMessageId:i}=Nb(),o=a?String(a==null?void 0:a.message):e;return o?s.jsx("p",{ref:n,id:i,className:fe("text-sm font-medium text-destructive",t),...r,children:o}):null});Ge.displayName="FormMessage";const OP=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Oe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},VH=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?OP(n.ref,r,t):n.refs&&n.refs.forEach(a=>OP(a,r,t))}},The=(t,e)=>{e.shouldUseNativeValidation&&VH(t,e);const r={};for(const n in t){const a=Oe(e.fields,n),i=Object.assign(t[n]||{},{ref:a&&a.ref});if(Ihe(e.names||Object.keys(t),n)){const o=Object.assign({},Oe(r,n));ar(o,"root",i),ar(r,n,o)}else ar(r,n,i)}return r},Ihe=(t,e)=>t.some(r=>r.startsWith(e+"."));var Phe=function(t,e){for(var r={};t.length;){var n=t[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(A){return A.errors.forEach(function(d){return t.push(d)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=DH(o,e,r,a,u?[].concat(u,n.message):n.message)}t.shift()}return r},ma=function(t,e,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return i.shouldUseNativeValidation&&VH({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:The(Phe(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Yt;(function(t){t.assertEqual=a=>{};function e(a){}t.assertIs=e;function r(a){throw new Error}t.assertNever=r,t.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},t.getValidEnumValues=a=>{const i=t.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return t.objectValues(o)},t.objectValues=a=>t.objectKeys(a).map(function(i){return a[i]}),t.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},t.find=(a,i)=>{for(const o of a)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&Number.isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=n,t.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(Yt||(Yt={}));var RP;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(RP||(RP={}));const tt=Yt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Jo=t=>{switch(typeof t){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return Number.isNaN(t)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(t)?tt.array:t===null?tt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?tt.promise:typeof Map<"u"&&t instanceof Map?tt.map:typeof Set<"u"&&t instanceof Set?tt.set:typeof Date<"u"&&t instanceof Date?tt.date:tt.object;default:return tt.unknown}},ke=Yt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class yo extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(e){if(!(e instanceof yo))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(e(a))):n.push(e(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}yo.create=t=>new yo(t);const J_=(t,e)=>{let r;switch(t.code){case ke.invalid_type:t.received===tt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Yt.jsonStringifyReplacer)}`;break;case ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${Yt.joinValues(t.keys,", ")}`;break;case ke.invalid_union:r="Invalid input";break;case ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Yt.joinValues(t.options)}`;break;case ke.invalid_enum_value:r=`Invalid enum value. Expected ${Yt.joinValues(t.options)}, received '${t.received}'`;break;case ke.invalid_arguments:r="Invalid function arguments";break;case ke.invalid_return_type:r="Invalid function return type";break;case ke.invalid_date:r="Invalid date";break;case ke.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Yt.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ke.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ke.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ke.custom:r="Invalid input";break;case ke.invalid_intersection_types:r="Intersection results could not be merged";break;case ke.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ke.not_finite:r="Number must be finite";break;default:r=e.defaultError,Yt.assertNever(t)}return{message:r}};let Fhe=J_;function Dhe(){return Fhe}const Ohe=t=>{const{data:e,path:r,errorMaps:n,issueData:a}=t,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...a,path:i,message:l}};function He(t,e){const r=Dhe(),n=Ohe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===J_?void 0:J_].filter(a=>!!a)});t.common.issues.push(n)}class Za{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const a of r){if(a.status==="aborted")return yt;a.status==="dirty"&&e.dirty(),n.push(a.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return Za.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return yt;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:e.value,value:n}}}const yt=Object.freeze({status:"aborted"}),Sf=t=>({status:"dirty",value:t}),ws=t=>({status:"valid",value:t}),UP=t=>t.status==="aborted",MP=t=>t.status==="dirty",yd=t=>t.status==="valid",tv=t=>typeof Promise<"u"&&t instanceof Promise;var nt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(nt||(nt={}));class Kl{constructor(e,r,n,a){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const QP=(t,e)=>{if(yd(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new yo(t.common.issues);return this._error=r,this._error}}};function kt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:a}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:a}}class Wt{get description(){return this._def.description}_getType(e){return Jo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Jo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Za,ctx:{common:e.parent.common,data:e.data,parsedType:Jo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(tv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jo(e)},a=this._parseSync({data:e,path:n.path,parent:n});return QP(n,a)}"~validate"(e){var n,a;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jo(e)};if(!this["~standard"].async)try{const i=this._parseSync({data:e,path:[],parent:r});return yd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(a=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&a.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(i=>yd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Jo(e)},a=this._parse({data:e,path:n.path,parent:n}),i=await(tv(a)?a:Promise.resolve(a));return QP(n,i)}refine(e,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=e(a),l=()=>i.addIssue({code:ke.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,a)=>e(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(e){return new Bd({schema:this,typeName:bt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return kl.create(this,this._def)}nullable(){return Cd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ji.create(this)}promise(){return sv.create(this,this._def)}or(e){return nv.create([this,e],this._def)}and(e){return av.create(this,e,this._def)}transform(e){return new Bd({...kt(this._def),schema:this,typeName:bt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new rj({...kt(this._def),innerType:this,defaultValue:r,typeName:bt.ZodDefault})}brand(){return new sfe({typeName:bt.ZodBranded,type:this,...kt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new nj({...kt(this._def),innerType:this,catchValue:r,typeName:bt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return tN.create(this,e)}readonly(){return aj.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Rhe=/^c[^\s-]{8,}$/i,Uhe=/^[0-9a-z]+$/,Mhe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Qhe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lhe=/^[a-z0-9_-]{21}$/i,$he=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Hhe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vhe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Khe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L1;const zhe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ghe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Whe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,qhe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xhe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Yhe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,KH="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Jhe=new RegExp(`^${KH}$`);function zH(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Zhe(t){return new RegExp(`^${zH(t)}$`)}function efe(t){let e=`${KH}T${zH(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function tfe(t,e){return!!((e==="v4"||!e)&&zhe.test(t)||(e==="v6"||!e)&&Whe.test(t))}function rfe(t,e){if(!$he.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||"typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||e&&a.alg!==e)}catch{return!1}}function nfe(t,e){return!!((e==="v4"||!e)&&Ghe.test(t)||(e==="v6"||!e)&&qhe.test(t))}class xl extends Wt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==tt.string){const i=this._getOrReturnCtx(e);return He(i,{code:ke.invalid_type,expected:tt.string,received:i.parsedType}),yt}const n=new Za;let a;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),He(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),He(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,l=e.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(e,a),o?He(a,{code:ke.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&He(a,{code:ke.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Vhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"email",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")L1||(L1=new RegExp(Khe,"u")),L1.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"emoji",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Qhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"uuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Lhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"nanoid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Rhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"cuid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Uhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"cuid2",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Mhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"ulid",code:ke.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),He(a,{validation:"url",code:ke.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"regex",code:ke.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?efe(i).test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Jhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Zhe(i).test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{code:ke.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Hhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"duration",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?tfe(e.data,i.version)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"ip",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?rfe(e.data,i.alg)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"jwt",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?nfe(e.data,i.version)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"cidr",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Xhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"base64",code:ke.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Yhe.test(e.data)||(a=this._getOrReturnCtx(e,a),He(a,{validation:"base64url",code:ke.invalid_string,message:i.message}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(a=>e.test(a),{validation:r,code:ke.invalid_string,...nt.errToObj(n)})}_addCheck(e){return new xl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...nt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...nt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...nt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...nt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...nt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...nt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...nt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...nt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...nt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...nt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...nt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...nt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...nt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...nt.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...nt.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...nt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...nt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...nt.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...nt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...nt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...nt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...nt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...nt.errToObj(r)})}nonempty(e){return this.min(1,nt.errToObj(e))}trim(){return new xl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}xl.create=t=>new xl({checks:[],typeName:bt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...kt(t)});function afe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,a=r>n?r:n,i=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return i%o/10**a}class bd extends Wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==tt.number){const i=this._getOrReturnCtx(e);return He(i,{code:ke.invalid_type,expected:tt.number,received:i.parsedType}),yt}let n;const a=new Za;for(const i of this._def.checks)i.kind==="int"?Yt.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:ke.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?afe(e.data,i.value)!==0&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),He(n,{code:ke.not_finite,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,a){return new bd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(a)}]})}_addCheck(e){return new bd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:nt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:nt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:nt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:nt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Yt.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}bd.create=t=>new bd({checks:[],typeName:bt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...kt(t)});class Um extends Wt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==tt.bigint)return this._getInvalidInput(e);let n;const a=new Za;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),He(n,{code:ke.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):Yt.assertNever(i);return{status:a.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return He(r,{code:ke.invalid_type,expected:tt.bigint,received:r.parsedType}),yt}gte(e,r){return this.setLimit("min",e,!0,nt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,nt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,nt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,nt.toString(r))}setLimit(e,r,n,a){return new Um({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:nt.toString(a)}]})}_addCheck(e){return new Um({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:nt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:nt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:nt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Um.create=t=>new Um({checks:[],typeName:bt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...kt(t)});class Z_ extends Wt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==tt.boolean){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.boolean,received:n.parsedType}),yt}return ws(e.data)}}Z_.create=t=>new Z_({typeName:bt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...kt(t)});class rv extends Wt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==tt.date){const i=this._getOrReturnCtx(e);return He(i,{code:ke.invalid_type,expected:tt.date,received:i.parsedType}),yt}if(Number.isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return He(i,{code:ke.invalid_date}),yt}const n=new Za;let a;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(a=this._getOrReturnCtx(e,a),He(a,{code:ke.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(a=this._getOrReturnCtx(e,a),He(a,{code:ke.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Yt.assertNever(i);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new rv({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:nt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:nt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}rv.create=t=>new rv({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:bt.ZodDate,...kt(t)});class LP extends Wt{_parse(e){if(this._getType(e)!==tt.symbol){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.symbol,received:n.parsedType}),yt}return ws(e.data)}}LP.create=t=>new LP({typeName:bt.ZodSymbol,...kt(t)});class $P extends Wt{_parse(e){if(this._getType(e)!==tt.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.undefined,received:n.parsedType}),yt}return ws(e.data)}}$P.create=t=>new $P({typeName:bt.ZodUndefined,...kt(t)});class HP extends Wt{_parse(e){if(this._getType(e)!==tt.null){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.null,received:n.parsedType}),yt}return ws(e.data)}}HP.create=t=>new HP({typeName:bt.ZodNull,...kt(t)});class VP extends Wt{constructor(){super(...arguments),this._any=!0}_parse(e){return ws(e.data)}}VP.create=t=>new VP({typeName:bt.ZodAny,...kt(t)});class KP extends Wt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ws(e.data)}}KP.create=t=>new KP({typeName:bt.ZodUnknown,...kt(t)});class zl extends Wt{_parse(e){const r=this._getOrReturnCtx(e);return He(r,{code:ke.invalid_type,expected:tt.never,received:r.parsedType}),yt}}zl.create=t=>new zl({typeName:bt.ZodNever,...kt(t)});class zP extends Wt{_parse(e){if(this._getType(e)!==tt.undefined){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.void,received:n.parsedType}),yt}return ws(e.data)}}zP.create=t=>new zP({typeName:bt.ZodVoid,...kt(t)});class ji extends Wt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),a=this._def;if(r.parsedType!==tt.array)return He(r,{code:ke.invalid_type,expected:tt.array,received:r.parsedType}),yt;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(He(r,{code:o?ke.too_big:ke.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(He(r,{code:ke.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(He(r,{code:ke.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new Kl(r,o,r.path,l)))).then(o=>Za.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new Kl(r,o,r.path,l)));return Za.mergeArray(n,i)}get element(){return this._def.type}min(e,r){return new ji({...this._def,minLength:{value:e,message:nt.toString(r)}})}max(e,r){return new ji({...this._def,maxLength:{value:e,message:nt.toString(r)}})}length(e,r){return new ji({...this._def,exactLength:{value:e,message:nt.toString(r)}})}nonempty(e){return this.min(1,e)}}ji.create=(t,e)=>new ji({type:t,minLength:null,maxLength:null,exactLength:null,typeName:bt.ZodArray,...kt(e)});function CA(t){if(t instanceof en){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=kl.create(CA(n))}return new en({...t._def,shape:()=>e})}else return t instanceof ji?new ji({...t._def,type:CA(t.element)}):t instanceof kl?kl.create(CA(t.unwrap())):t instanceof Cd?Cd.create(CA(t.unwrap())):t instanceof Cu?Cu.create(t.items.map(e=>CA(e))):t}class en extends Wt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Yt.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==tt.object){const u=this._getOrReturnCtx(e);return He(u,{code:ke.invalid_type,expected:tt.object,received:u.parsedType}),yt}const{status:n,ctx:a}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zl&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const A=i[u],d=a.data[u];c.push({key:{status:"valid",value:u},value:A._parse(new Kl(a,d,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof zl){const u=this._def.unknownKeys;if(u==="passthrough")for(const A of l)c.push({key:{status:"valid",value:A},value:{status:"valid",value:a.data[A]}});else if(u==="strict")l.length>0&&(He(a,{code:ke.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const A of l){const d=a.data[A];c.push({key:{status:"valid",value:A},value:u._parse(new Kl(a,d,a.path,A)),alwaysSet:A in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const A of c){const d=await A.key,h=await A.value;u.push({key:d,value:h,alwaysSet:A.alwaysSet})}return u}).then(u=>Za.mergeObjectSync(n,u)):Za.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return nt.errToObj,new en({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,o;const a=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:nt.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:bt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new en({...this._def,catchall:e})}pick(e){const r={};for(const n of Yt.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new en({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Yt.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new en({...this._def,shape:()=>r})}deepPartial(){return CA(this)}partial(e){const r={};for(const n of Yt.objectKeys(this.shape)){const a=this.shape[n];e&&!e[n]?r[n]=a:r[n]=a.optional()}return new en({...this._def,shape:()=>r})}required(e){const r={};for(const n of Yt.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof kl;)i=i._def.innerType;r[n]=i}return new en({...this._def,shape:()=>r})}keyof(){return GH(Yt.objectKeys(this.shape))}}en.create=(t,e)=>new en({shape:()=>t,unknownKeys:"strip",catchall:zl.create(),typeName:bt.ZodObject,...kt(e)});en.strictCreate=(t,e)=>new en({shape:()=>t,unknownKeys:"strict",catchall:zl.create(),typeName:bt.ZodObject,...kt(e)});en.lazycreate=(t,e)=>new en({shape:t,unknownKeys:"strip",catchall:zl.create(),typeName:bt.ZodObject,...kt(e)});class nv extends Wt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new yo(l.ctx.common.issues));return He(r,{code:ke.invalid_union,unionErrors:o}),yt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},A=c._parseSync({data:r.data,path:r.path,parent:u});if(A.status==="valid")return A;A.status==="dirty"&&!i&&(i={result:A,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new yo(c));return He(r,{code:ke.invalid_union,unionErrors:l}),yt}}get options(){return this._def.options}}nv.create=(t,e)=>new nv({options:t,typeName:bt.ZodUnion,...kt(e)});function ej(t,e){const r=Jo(t),n=Jo(e);if(t===e)return{valid:!0,data:t};if(r===tt.object&&n===tt.object){const a=Yt.objectKeys(e),i=Yt.objectKeys(t).filter(l=>a.indexOf(l)!==-1),o={...t,...e};for(const l of i){const c=ej(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===tt.array&&n===tt.array){if(t.length!==e.length)return{valid:!1};const a=[];for(let i=0;i<t.length;i++){const o=t[i],l=e[i],c=ej(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===tt.date&&n===tt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class av extends Wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=(i,o)=>{if(UP(i)||UP(o))return yt;const l=ej(i.value,o.value);return l.valid?((MP(i)||MP(o))&&r.dirty(),{status:r.value,value:l.data}):(He(n,{code:ke.invalid_intersection_types}),yt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}av.create=(t,e,r)=>new av({left:t,right:e,typeName:bt.ZodIntersection,...kt(r)});class Cu extends Wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.array)return He(n,{code:ke.invalid_type,expected:tt.array,received:n.parsedType}),yt;if(n.data.length<this._def.items.length)return He(n,{code:ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yt;!this._def.rest&&n.data.length>this._def.items.length&&(He(n,{code:ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Kl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Za.mergeArray(r,o)):Za.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new Cu({...this._def,rest:e})}}Cu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cu({items:t,typeName:bt.ZodTuple,rest:null,...kt(e)})};class GP extends Wt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.map)return He(n,{code:ke.invalid_type,expected:tt.map,received:n.parsedType}),yt;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new Kl(n,l,n.path,[u,"key"])),value:i._parse(new Kl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,A=await c.value;if(u.status==="aborted"||A.status==="aborted")return yt;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,A=c.value;if(u.status==="aborted"||A.status==="aborted")return yt;(u.status==="dirty"||A.status==="dirty")&&r.dirty(),l.set(u.value,A.value)}return{status:r.value,value:l}}}}GP.create=(t,e,r)=>new GP({valueType:e,keyType:t,typeName:bt.ZodMap,...kt(r)});class Mm extends Wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==tt.set)return He(n,{code:ke.invalid_type,expected:tt.set,received:n.parsedType}),yt;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(He(n,{code:ke.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(He(n,{code:ke.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const A of c){if(A.status==="aborted")return yt;A.status==="dirty"&&r.dirty(),u.add(A.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new Kl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Mm({...this._def,minSize:{value:e,message:nt.toString(r)}})}max(e,r){return new Mm({...this._def,maxSize:{value:e,message:nt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Mm.create=(t,e)=>new Mm({valueType:t,minSize:null,maxSize:null,typeName:bt.ZodSet,...kt(e)});class WP extends Wt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}WP.create=(t,e)=>new WP({getter:t,typeName:bt.ZodLazy,...kt(e)});class tj extends Wt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return He(r,{received:r.data,code:ke.invalid_literal,expected:this._def.value}),yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}tj.create=(t,e)=>new tj({value:t,typeName:bt.ZodLiteral,...kt(e)});function GH(t,e){return new wd({values:t,typeName:bt.ZodEnum,...kt(e)})}class wd extends Wt{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{expected:Yt.joinValues(n),received:r.parsedType,code:ke.invalid_type}),yt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return He(r,{received:r.data,code:ke.invalid_enum_value,options:n}),yt}return ws(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return wd.create(e,{...this._def,...r})}exclude(e,r=this._def){return wd.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}wd.create=GH;class qP extends Wt{_parse(e){const r=Yt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==tt.string&&n.parsedType!==tt.number){const a=Yt.objectValues(r);return He(n,{expected:Yt.joinValues(a),received:n.parsedType,code:ke.invalid_type}),yt}if(this._cache||(this._cache=new Set(Yt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const a=Yt.objectValues(r);return He(n,{received:n.data,code:ke.invalid_enum_value,options:a}),yt}return ws(e.data)}get enum(){return this._def.values}}qP.create=(t,e)=>new qP({values:t,typeName:bt.ZodNativeEnum,...kt(e)});class sv extends Wt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==tt.promise&&r.common.async===!1)return He(r,{code:ke.invalid_type,expected:tt.promise,received:r.parsedType}),yt;const n=r.parsedType===tt.promise?r.data:Promise.resolve(r.data);return ws(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}sv.create=(t,e)=>new sv({type:t,typeName:bt.ZodPromise,...kt(e)});class Bd extends Wt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===bt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),a=this._def.effect||null,i={addIssue:o=>{He(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return yt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?yt:c.status==="dirty"||r.value==="dirty"?Sf(c.value):c});{if(r.value==="aborted")return yt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?yt:l.status==="dirty"||r.value==="dirty"?Sf(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?yt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?yt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!yd(o))return yt;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>yd(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):yt);Yt.assertNever(a)}}Bd.create=(t,e,r)=>new Bd({schema:t,typeName:bt.ZodEffects,effect:e,...kt(r)});Bd.createWithPreprocess=(t,e,r)=>new Bd({schema:e,effect:{type:"preprocess",transform:t},typeName:bt.ZodEffects,...kt(r)});class kl extends Wt{_parse(e){return this._getType(e)===tt.undefined?ws(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}kl.create=(t,e)=>new kl({innerType:t,typeName:bt.ZodOptional,...kt(e)});class Cd extends Wt{_parse(e){return this._getType(e)===tt.null?ws(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cd.create=(t,e)=>new Cd({innerType:t,typeName:bt.ZodNullable,...kt(e)});class rj extends Wt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}rj.create=(t,e)=>new rj({innerType:t,typeName:bt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...kt(e)});class nj extends Wt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return tv(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yo(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new yo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}nj.create=(t,e)=>new nj({innerType:t,typeName:bt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...kt(e)});class XP extends Wt{_parse(e){if(this._getType(e)!==tt.nan){const n=this._getOrReturnCtx(e);return He(n,{code:ke.invalid_type,expected:tt.nan,received:n.parsedType}),yt}return{status:"valid",value:e.data}}}XP.create=t=>new XP({typeName:bt.ZodNaN,...kt(t)});class sfe extends Wt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class tN extends Wt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?yt:i.status==="dirty"?(r.dirty(),Sf(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?yt:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(e,r){return new tN({in:e,out:r,typeName:bt.ZodPipeline})}}class aj extends Wt{_parse(e){const r=this._def.innerType._parse(e),n=a=>(yd(a)&&(a.value=Object.freeze(a.value)),a);return tv(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}aj.create=(t,e)=>new aj({innerType:t,typeName:bt.ZodReadonly,...kt(e)});var bt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(bt||(bt={}));const St=xl.create,Tl=bd.create,OA=Z_.create;zl.create;ji.create;const ya=en.create;nv.create;av.create;Cu.create;const ife=tj.create,_d=wd.create;sv.create;kl.create;Cd.create;const ofe=()=>{const t=Ot();return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),s.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),s.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[s.jsx(G,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),s.jsx(G,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},lfe=ya({name:St().min(1,"Nama wajib diisi"),phone:St().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(ife(""))}),cfe=({profile:t,onUpdate:e,onCancel:r})=>{const[n,a]=x.useState(!1),i=fa({resolver:ma(lfe),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{a(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{a(!1)}};return s.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[s.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),s.jsx(ia,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[s.jsx(Ve,{control:i.control,name:"name",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama Lengkap"}),s.jsx($e,{children:s.jsx(he,{placeholder:"Masukkan nama lengkap",...l})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:i.control,name:"phone",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nomor Telepon"}),s.jsx($e,{children:s.jsx(he,{placeholder:"contoh: 081234567890",...l})}),s.jsx(Ge,{})]})}),s.jsxs("div",{className:"flex space-x-2 pt-2",children:[s.jsx(G,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),s.jsx(G,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},ufe=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=Hr(),{toast:a}=ni(),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,A]=x.useState(!1),d=Ot();x.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:p,error:m}=await Z.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});m?console.error("Error fetching addresses:",m):o(p||[])}}catch(p){console.error("Error fetching user data:",p)}finally{c(!1)}})()},[t]);const h=async g=>{try{if(!t)return;const{error:p}=await Z.from("profiles").update({name:g.name,phone:g.phone}).eq("id",t.id);if(p){console.error("Error updating profile:",p),a({variant:"destructive",title:"Gagal memperbarui profil",description:p.message});return}await n(),a({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),A(!1)}catch(p){console.error("Error in profile update:",p),a({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},f=async()=>{try{await r(),a({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),d("/")}catch(g){console.error("Error logging out:",g),a({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?s.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):s.jsxs("div",{className:"pb-16",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),s.jsxs(G,{variant:"ghost",size:"sm",onClick:f,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[s.jsx(pS,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),s.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:s.jsx(sd,{className:"h-8 w-8 text-slate-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),s.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[s.jsx(TC,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&s.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[s.jsx(IC,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),s.jsxs(Pa,{defaultValue:"profile",className:"w-full",children:[s.jsxs(ga,{className:"grid w-full grid-cols-2",children:[s.jsx(Nt,{value:"profile",children:"Informasi Pribadi"}),s.jsx(Nt,{value:"addresses",children:"Alamat Saya"})]}),s.jsx(Xt,{value:"profile",className:"mt-4 space-y-4",children:u?s.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:s.jsx(cfe,{profile:e,onUpdate:h,onCancel:()=>A(!1)})}):s.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[s.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[s.jsx(sd,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),s.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),s.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),s.jsxs("p",{className:"font-medium flex items-center",children:[s.jsx(TC,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),s.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),s.jsxs("p",{className:"font-medium flex items-center",children:[s.jsx(IC,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),s.jsxs("p",{className:"font-medium flex items-center",children:[s.jsx(JM,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),s.jsx(G,{onClick:()=>A(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),s.jsx(Xt,{value:"addresses",className:"mt-4",children:i.length===0?s.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[s.jsx(PT,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),s.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),s.jsx(G,{onClick:()=>d("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):s.jsxs("div",{className:"space-y-4",children:[i.map(g=>s.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:g.name}),g.isDefault&&s.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),s.jsx(mt,{to:`/address/${g.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),s.jsx("p",{className:"text-sm mt-1",children:g.street}),s.jsxs("p",{className:"text-sm",children:[g.city,", ",g.state," ",g.zip]})]},g.id)),s.jsx("div",{className:"flex justify-center mt-2",children:s.jsxs(G,{onClick:()=>d("/address/new"),variant:"outline",className:"w-full",children:[s.jsx(PT,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},Afe=()=>{const{user:t}=Hr();return s.jsx(Jt,{children:s.jsx("div",{className:"p-4",children:t?s.jsx(ufe,{}):s.jsx(ofe,{})})})};var kb="Checkbox",[dfe,PKe]=Hn(kb),[hfe,rN]=dfe(kb);function ffe(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:l,onCheckedChange:c,required:u,value:A="on",internal_do_not_use_render:d}=t,[h,f]=ys({prop:r,defaultProp:a??!1,onChange:c,caller:kb}),[g,p]=x.useState(null),[m,y]=x.useState(null),b=x.useRef(!1),v=g?!!o||!!g.closest("form"):!0,B={checked:h,disabled:i,setChecked:f,control:g,setControl:p,name:l,form:o,value:A,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:Il(a)?!1:a,isFormControl:v,bubbleInput:m,setBubbleInput:y};return s.jsx(hfe,{scope:e,...B,children:mfe(d)?d(B):n})}var WH="CheckboxTrigger",qH=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:l,checked:c,required:u,setControl:A,setChecked:d,hasConsumerStoppedPropagationRef:h,isFormControl:f,bubbleInput:g}=rN(WH,t),p=dt(a,A),m=x.useRef(c);return x.useEffect(()=>{const y=i==null?void 0:i.form;if(y){const b=()=>d(m.current);return y.addEventListener("reset",b),()=>y.removeEventListener("reset",b)}},[i,d]),s.jsx(Ye.button,{type:"button",role:"checkbox","aria-checked":Il(c)?"mixed":c,"aria-required":u,"data-state":eV(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:p,onKeyDown:Re(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:Re(r,y=>{d(b=>Il(b)?!0:!b),g&&f&&(h.current=y.isPropagationStopped(),h.current||y.stopPropagation())})})});qH.displayName=WH;var nN=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c,onCheckedChange:u,form:A,...d}=t;return s.jsx(ffe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:l,required:o,onCheckedChange:u,name:n,form:A,value:c,internal_do_not_use_render:({isFormControl:h})=>s.jsxs(s.Fragment,{children:[s.jsx(qH,{...d,ref:e,__scopeCheckbox:r}),h&&s.jsx(ZH,{__scopeCheckbox:r})]})})});nN.displayName=kb;var XH="CheckboxIndicator",YH=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=rN(XH,r);return s.jsx(xa,{present:n||Il(i.checked)||i.checked===!0,children:s.jsx(Ye.span,{"data-state":eV(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});YH.displayName=XH;var JH="CheckboxBubbleInput",ZH=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:l,disabled:c,name:u,value:A,form:d,bubbleInput:h,setBubbleInput:f}=rN(JH,t),g=dt(r,f),p=Gp(i),m=Pp(n);x.useEffect(()=>{const b=h;if(!b)return;const v=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(v,"checked").set,j=!a.current;if(p!==i&&_){const C=new Event("click",{bubbles:j});b.indeterminate=Il(i),_.call(b,Il(i)?!1:i),b.dispatchEvent(C)}},[h,p,i,a]);const y=x.useRef(Il(i)?!1:i);return s.jsx(Ye.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??y.current,required:l,disabled:c,name:u,value:A,form:d,...e,tabIndex:-1,ref:g,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ZH.displayName=JH;function mfe(t){return typeof t=="function"}function Il(t){return t==="indeterminate"}function eV(t){return Il(t)?"indeterminate":t?"checked":"unchecked"}const aN=x.forwardRef(({className:t,...e},r)=>s.jsx(nN,{ref:r,className:fe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(YH,{className:fe("flex items-center justify-center text-current"),children:s.jsx(hS,{className:"h-4 w-4"})})}));aN.displayName=nN.displayName;const pfe=()=>{const{id:t}=Up(),e=Ot(),{toast:r}=ni(),{user:n}=Hr(),a=t==="new",[i,o]=x.useState(""),[l,c]=x.useState(""),[u,A]=x.useState(""),[d,h]=x.useState(""),[f,g]=x.useState(""),[p,m]=x.useState(""),[y,b]=x.useState(!1),[v,B]=x.useState(!1);x.useEffect(()=>{(async()=>{if(!(a||!n))try{B(!0);const{data:E,error:N}=await Z.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(N)throw N;E&&(o(E.name),c(E.street),A(E.city),h(E.state),g(E.zip),m(E.country),b(E.is_default))}catch(E){r({title:"Error",description:E.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{B(!1)}})()},[t,n,a,r]);const _=async C=>{if(C.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{B(!0),y&&await Z.from("addresses").update({is_default:!1}).eq("user_id",n.id);const E={name:i,street:l,city:u,state:d,zip:f,country:p,is_default:y,user_id:n.id};if(a){const{error:N}=await Z.from("addresses").insert([E]);if(N)throw N;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:N}=await Z.from("addresses").update(E).eq("id",t).eq("user_id",n.id);if(N)throw N;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(E){r({title:"Error",description:E.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{B(!1)}},j=async()=>{if(!n||a||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{B(!0);const{error:C}=await Z.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(C)throw C;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(C){r({title:"Error",description:C.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{B(!1)}};return s.jsx(Jt,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[s.jsx(Ys,{className:"h-5 w-5 mr-1"}),s.jsx("span",{children:"Kembali"})]}),s.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:a?"Tambah Alamat Baru":"Edit Alamat"})]}),s.jsxs("form",{onSubmit:_,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"name",children:"Nama Alamat"}),s.jsx(he,{id:"name",type:"text",value:i,onChange:C=>o(C.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"street",children:"Alamat Jalan"}),s.jsx(he,{id:"street",type:"text",value:l,onChange:C=>c(C.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"city",children:"Kota"}),s.jsx(he,{id:"city",type:"text",value:u,onChange:C=>A(C.target.value),placeholder:"Nama Kota",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"state",children:"Provinsi"}),s.jsx(he,{id:"state",type:"text",value:d,onChange:C=>h(C.target.value),placeholder:"Nama Provinsi",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"zip",children:"Kode Pos"}),s.jsx(he,{id:"zip",type:"text",value:f,onChange:C=>g(C.target.value),placeholder:"Kode Pos",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"country",children:"Catatan Detail Lokasi"}),s.jsx(he,{id:"country",type:"text",value:p,onChange:C=>m(C.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[s.jsx(aN,{id:"isDefault",checked:y,onCheckedChange:C=>b(C===!0)}),s.jsx(Ie,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),s.jsx("div",{className:"pt-4",children:s.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:v,children:v?"Menyimpan...":"Simpan Alamat"})}),!a&&s.jsx("div",{className:"pt-2",children:s.jsx(G,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:j,disabled:v,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sj=function(t,e){return sj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},sj(t,e)};function si(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sj(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ij=function(){return ij=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ij.apply(this,arguments)};function Aa(t,e,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(A){try{u(n.next(A))}catch(d){o(d)}}function c(A){try{u(n.throw(A))}catch(d){o(d)}}function u(A){A.done?i(A.value):a(A.value).then(l,c)}u((n=n.apply(t,[])).next())})}function Wn(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(A){return c([u,A])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(A){u=[6,A],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function r0(t,e,r){if(arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||e)}var bo=function(){function t(e,r,n,a){this.left=e,this.top=r,this.width=n,this.height=a}return t.prototype.add=function(e,r,n,a){return new t(this.left+e,this.top+r,this.width+n,this.height+a)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(a){return a.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Tb=function(t,e){return bo.fromClientRect(t,e.getBoundingClientRect())},gfe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),a=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new bo(0,0,n,a)},Ib=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},zr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},YP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xfe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var n0=0;n0<YP.length;n0++)xfe[YP.charCodeAt(n0)]=n0;var JP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var a0=0;a0<JP.length;a0++)Nf[JP.charCodeAt(a0)]=a0;var vfe=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=Nf[t.charCodeAt(n)],o=Nf[t.charCodeAt(n+1)],l=Nf[t.charCodeAt(n+2)],c=Nf[t.charCodeAt(n+3)],A[a++]=i<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},yfe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},bfe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},au=5,sN=11,$1=2,wfe=sN-au,tV=65536>>au,Bfe=1<<au,H1=Bfe-1,Cfe=1024>>au,_fe=tV+Cfe,jfe=_fe,Efe=32,Sfe=jfe+Efe,Nfe=65536>>sN,kfe=1<<wfe,Tfe=kfe-1,ZP=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},Ife=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},Pfe=function(t,e){var r=vfe(t),n=Array.isArray(r)?bfe(r):new Uint32Array(r),a=Array.isArray(r)?yfe(r):new Uint16Array(r),i=24,o=ZP(a,i/2,n[4]/2),l=n[5]===2?ZP(a,(i+n[4])/2):Ife(n,Math.ceil((i+n[4])/4));return new Ffe(n[0],n[1],n[2],n[3],o,l)},Ffe=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>au],r=(r<<$1)+(e&H1),this.data[r];if(e<=65535)return r=this.index[tV+(e-55296>>au)],r=(r<<$1)+(e&H1),this.data[r];if(e<this.highStart)return r=Sfe-Nfe+(e>>sN),r=this.index[r],r+=e>>au&Tfe,r=this.index[r],r=(r<<$1)+(e&H1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),eF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dfe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var s0=0;s0<eF.length;s0++)Dfe[eF.charCodeAt(s0)]=s0;var Ofe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",tF=50,Rfe=1,rV=2,nV=3,Ufe=4,Mfe=5,rF=7,aV=8,nF=9,vl=10,oj=11,aF=12,lj=13,Qfe=14,kf=15,cj=16,i0=17,rf=18,Lfe=19,sF=20,uj=21,nf=22,V1=23,iA=24,Ma=25,Tf=26,If=27,oA=28,$fe=29,Mc=30,Hfe=31,o0=32,l0=33,Aj=34,dj=35,hj=36,Qm=37,fj=38,lx=39,cx=40,K1=41,sV=42,Vfe=43,Kfe=[9001,65288],iV="!",Ft="×",c0="÷",mj=Pfe(Ofe),Ki=[Mc,hj],pj=[Rfe,rV,nV,Mfe],oV=[vl,aV],iF=[If,Tf],zfe=pj.concat(oV),oF=[fj,lx,cx,Aj,dj],Gfe=[kf,lj],Wfe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],a=[];return t.forEach(function(i,o){var l=mj.get(i);if(l>tF?(a.push(!0),l-=tF):a.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return n.push(o),r.push(cj);if(l===Ufe||l===oj){if(o===0)return n.push(o),r.push(Mc);var c=r[o-1];return zfe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(Mc))}if(n.push(o),l===Hfe)return r.push(e==="strict"?uj:Qm);if(l===sV||l===$fe)return r.push(Mc);if(l===Vfe)return i>=131072&&i<=196605||i>=196608&&i<=262141?r.push(Qm):r.push(Mc);r.push(l)}),[n,r,a]},z1=function(t,e,r,n){var a=n[r];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var i=r;i<=n.length;){i++;var o=n[i];if(o===e)return!0;if(o!==vl)break}if(a===vl)for(var i=r;i>0;){i--;var l=n[i];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==vl)break}if(l!==vl)break}return!1},lF=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===vl)r--;else return n}return 0},qfe=function(t,e,r,n,a){if(r[n]===0)return Ft;var i=n-1;if(Array.isArray(a)&&a[i]===!0)return Ft;var o=i-1,l=i+1,c=e[i],u=o>=0?e[o]:0,A=e[l];if(c===rV&&A===nV)return Ft;if(pj.indexOf(c)!==-1)return iV;if(pj.indexOf(A)!==-1||oV.indexOf(A)!==-1)return Ft;if(lF(i,e)===aV)return c0;if(mj.get(t[i])===oj||(c===o0||c===l0)&&mj.get(t[l])===oj||c===rF||A===rF||c===nF||[vl,lj,kf].indexOf(c)===-1&&A===nF||[i0,rf,Lfe,iA,oA].indexOf(A)!==-1||lF(i,e)===nf||z1(V1,nf,i,e)||z1([i0,rf],uj,i,e)||z1(aF,aF,i,e))return Ft;if(c===vl)return c0;if(c===V1||A===V1)return Ft;if(A===cj||c===cj)return c0;if([lj,kf,uj].indexOf(A)!==-1||c===Qfe||u===hj&&Gfe.indexOf(c)!==-1||c===oA&&A===hj||A===sF||Ki.indexOf(A)!==-1&&c===Ma||Ki.indexOf(c)!==-1&&A===Ma||c===If&&[Qm,o0,l0].indexOf(A)!==-1||[Qm,o0,l0].indexOf(c)!==-1&&A===Tf||Ki.indexOf(c)!==-1&&iF.indexOf(A)!==-1||iF.indexOf(c)!==-1&&Ki.indexOf(A)!==-1||[If,Tf].indexOf(c)!==-1&&(A===Ma||[nf,kf].indexOf(A)!==-1&&e[l+1]===Ma)||[nf,kf].indexOf(c)!==-1&&A===Ma||c===Ma&&[Ma,oA,iA].indexOf(A)!==-1)return Ft;if([Ma,oA,iA,i0,rf].indexOf(A)!==-1)for(var d=i;d>=0;){var h=e[d];if(h===Ma)return Ft;if([oA,iA].indexOf(h)!==-1)d--;else break}if([If,Tf].indexOf(A)!==-1)for(var d=[i0,rf].indexOf(c)!==-1?o:i;d>=0;){var h=e[d];if(h===Ma)return Ft;if([oA,iA].indexOf(h)!==-1)d--;else break}if(fj===c&&[fj,lx,Aj,dj].indexOf(A)!==-1||[lx,Aj].indexOf(c)!==-1&&[lx,cx].indexOf(A)!==-1||[cx,dj].indexOf(c)!==-1&&A===cx||oF.indexOf(c)!==-1&&[sF,Tf].indexOf(A)!==-1||oF.indexOf(A)!==-1&&c===If||Ki.indexOf(c)!==-1&&Ki.indexOf(A)!==-1||c===iA&&Ki.indexOf(A)!==-1||Ki.concat(Ma).indexOf(c)!==-1&&A===nf&&Kfe.indexOf(t[l])===-1||Ki.concat(Ma).indexOf(A)!==-1&&c===rf)return Ft;if(c===K1&&A===K1){for(var f=r[i],g=1;f>0&&(f--,e[f]===K1);)g++;if(g%2!==0)return Ft}return c===o0&&A===l0?Ft:c0},Xfe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=Wfe(t,e.lineBreak),n=r[0],a=r[1],i=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(a=a.map(function(l){return[Ma,Mc,sV].indexOf(l)!==-1?Qm:l}));var o=e.wordBreak==="keep-all"?i.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,a,o]},Yfe=function(){function t(e,r,n,a){this.codePoints=e,this.required=r===iV,this.start=n,this.end=a}return t.prototype.slice=function(){return zr.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Jfe=function(t,e){var r=Ib(t),n=Xfe(r,e),a=n[0],i=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var A=Ft;u<l&&(A=qfe(r,i,a,++u,o))===Ft;);if(A!==Ft||u===l){var d=new Yfe(r,A,c,u);return c=u,{value:d,done:!1}}return{done:!0,value:null}}}},Zfe=1,eme=2,eg=4,cF=8,iv=10,uF=47,Jf=92,tme=9,rme=32,u0=34,af=61,nme=35,ame=36,sme=37,A0=39,d0=40,sf=41,ime=95,Na=45,ome=33,lme=60,cme=62,ume=64,Ame=91,dme=93,hme=61,fme=123,h0=63,mme=125,AF=124,pme=126,gme=128,dF=65533,G1=42,Hc=43,xme=44,vme=58,yme=59,Lm=46,bme=0,wme=8,Bme=11,Cme=14,_me=31,jme=127,oi=-1,lV=48,cV=97,uV=101,Eme=102,Sme=117,Nme=122,AV=65,dV=69,hV=70,kme=85,Tme=90,Yn=function(t){return t>=lV&&t<=57},Ime=function(t){return t>=55296&&t<=57343},lA=function(t){return Yn(t)||t>=AV&&t<=hV||t>=cV&&t<=Eme},Pme=function(t){return t>=cV&&t<=Nme},Fme=function(t){return t>=AV&&t<=Tme},Dme=function(t){return Pme(t)||Fme(t)},Ome=function(t){return t>=gme},f0=function(t){return t===iv||t===tme||t===rme},ov=function(t){return Dme(t)||Ome(t)||t===ime},hF=function(t){return ov(t)||Yn(t)||t===Na},Rme=function(t){return t>=bme&&t<=wme||t===Bme||t>=Cme&&t<=_me||t===jme},Zo=function(t,e){return t!==Jf?!1:e!==iv},m0=function(t,e,r){return t===Na?ov(e)||Zo(e,r):ov(t)?!0:!!(t===Jf&&Zo(t,e))},W1=function(t,e,r){return t===Hc||t===Na?Yn(e)?!0:e===Lm&&Yn(r):Yn(t===Lm?e:t)},Ume=function(t){var e=0,r=1;(t[e]===Hc||t[e]===Na)&&(t[e]===Na&&(r=-1),e++);for(var n=[];Yn(t[e]);)n.push(t[e++]);var a=n.length?parseInt(zr.apply(void 0,n),10):0;t[e]===Lm&&e++;for(var i=[];Yn(t[e]);)i.push(t[e++]);var o=i.length,l=o?parseInt(zr.apply(void 0,i),10):0;(t[e]===dV||t[e]===uV)&&e++;var c=1;(t[e]===Hc||t[e]===Na)&&(t[e]===Na&&(c=-1),e++);for(var u=[];Yn(t[e]);)u.push(t[e++]);var A=u.length?parseInt(zr.apply(void 0,u),10):0;return r*(a+l*Math.pow(10,-o))*Math.pow(10,c*A)},Mme={type:2},Qme={type:3},Lme={type:4},$me={type:13},Hme={type:8},Vme={type:21},Kme={type:9},zme={type:10},Gme={type:11},Wme={type:12},qme={type:14},p0={type:23},Xme={type:1},Yme={type:25},Jme={type:24},Zme={type:26},epe={type:27},tpe={type:28},rpe={type:29},npe={type:31},gj={type:32},fV=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Ib(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==gj;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case u0:return this.consumeStringToken(u0);case nme:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(hF(r)||Zo(n,a)){var i=m0(r,n,a)?eme:Zfe,o=this.consumeName();return{type:5,value:o,flags:i}}break;case ame:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),$me;break;case A0:return this.consumeStringToken(A0);case d0:return Mme;case sf:return Qme;case G1:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),qme;break;case Hc:if(W1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case xme:return Lme;case Na:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(W1(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(m0(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Na&&u===cme)return this.consumeCodePoint(),this.consumeCodePoint(),Jme;break;case Lm:if(W1(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case uF:if(this.peekCodePoint(0)===G1)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===G1&&(A=this.consumeCodePoint(),A===uF))return this.consumeToken();if(A===oi)return this.consumeToken()}break;case vme:return Zme;case yme:return epe;case lme:if(this.peekCodePoint(0)===ome&&this.peekCodePoint(1)===Na&&this.peekCodePoint(2)===Na)return this.consumeCodePoint(),this.consumeCodePoint(),Yme;break;case ume:var d=this.peekCodePoint(0),h=this.peekCodePoint(1),f=this.peekCodePoint(2);if(m0(d,h,f)){var o=this.consumeName();return{type:7,value:o}}break;case Ame:return tpe;case Jf:if(Zo(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case dme:return rpe;case hme:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),Hme;break;case fme:return Gme;case mme:return Wme;case Sme:case kme:var g=this.peekCodePoint(0),p=this.peekCodePoint(1);return g===Hc&&(lA(p)||p===h0)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case AF:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),Kme;if(this.peekCodePoint(0)===AF)return this.consumeCodePoint(),Vme;break;case pme:if(this.peekCodePoint(0)===af)return this.consumeCodePoint(),zme;break;case oi:return gj}return f0(e)?(this.consumeWhiteSpace(),npe):Yn(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):ov(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:zr(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();lA(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===h0&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var a=parseInt(zr.apply(void 0,e.map(function(c){return c===h0?lV:c})),16),i=parseInt(zr.apply(void 0,e.map(function(c){return c===h0?hV:c})),16);return{type:30,start:a,end:i}}var o=parseInt(zr.apply(void 0,e),16);if(this.peekCodePoint(0)===Na&&lA(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];lA(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var i=parseInt(zr.apply(void 0,l),16);return{type:30,start:o,end:i}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===d0?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===d0?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===oi)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===A0||r===u0){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===oi||this.peekCodePoint(0)===sf)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),p0)}for(;;){var a=this.consumeCodePoint();if(a===oi||a===sf)return{type:22,value:zr.apply(void 0,e)};if(f0(a))return this.consumeWhiteSpace(),this.peekCodePoint(0)===oi||this.peekCodePoint(0)===sf?(this.consumeCodePoint(),{type:22,value:zr.apply(void 0,e)}):(this.consumeBadUrlRemnants(),p0);if(a===u0||a===A0||a===d0||Rme(a))return this.consumeBadUrlRemnants(),p0;if(a===Jf)if(Zo(a,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),p0;else e.push(a)}},t.prototype.consumeWhiteSpace=function(){for(;f0(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===sf||e===oi)return;Zo(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var a=Math.min(r,e);n+=zr.apply(void 0,this._value.splice(0,a)),e-=a}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var a=this._value[n];if(a===oi||a===void 0||a===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(a===iv)return this._value.splice(0,n),Xme;if(a===Jf){var i=this._value[n+1];i!==oi&&i!==void 0&&(i===iv?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Zo(a,i)&&(r+=this.consumeStringSlice(n),r+=zr(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=eg,n=this.peekCodePoint(0);for((n===Hc||n===Na)&&e.push(this.consumeCodePoint());Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(n===Lm&&Yn(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=cF;Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===dV||n===uV)&&((a===Hc||a===Na)&&Yn(i)||Yn(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=cF;Yn(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Ume(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);if(m0(a,i,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return a===sme?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(lA(e)){for(var r=zr(e);lA(this.peekCodePoint(0))&&r.length<6;)r+=zr(this.consumeCodePoint());f0(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||Ime(n)||n>1114111?dF:n}return e===oi?dF:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(hF(r))e+=zr(r);else if(Zo(r,this.peekCodePoint(0)))e+=zr(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),mV=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new fV;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||spe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?gj:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),tg=function(t){return t.type===15},xh=function(t){return t.type===17},hr=function(t){return t.type===20},ape=function(t){return t.type===0},xj=function(t,e){return hr(t)&&t.value===e},pV=function(t){return t.type!==31},jd=function(t){return t.type!==31&&t.type!==4},Oi=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},spe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Gl=function(t){return t.type===17||t.type===15},rn=function(t){return t.type===16||Gl(t)},gV=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Mn={type:17,number:0,flags:eg},iN={type:16,number:50,flags:eg},yl={type:16,number:100,flags:eg},Pf=function(t,e,r){var n=t[0],a=t[1];return[jr(n,e),jr(typeof a<"u"?a:n,r)]},jr=function(t,e){if(t.type===16)return t.number/100*e;if(tg(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},xV="deg",vV="grad",yV="rad",bV="turn",Pb={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case xV:return Math.PI*e.number/180;case vV:return Math.PI/200*e.number;case yV:return e.number;case bV:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},wV=function(t){return t.type===15&&(t.unit===xV||t.unit===vV||t.unit===yV||t.unit===bV)},BV=function(t){var e=t.filter(hr).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mn,Mn];case"to top":case"bottom":return ds(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mn,yl];case"to right":case"left":return ds(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[yl,yl];case"to bottom":case"top":return ds(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[yl,Mn];case"to left":case"right":return ds(270)}return 0},ds=function(t){return Math.PI*t/180},Pl={name:"color",parse:function(t,e){if(e.type===18){var r=ipe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3);return bl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),a=e.value.substring(1,2),i=e.value.substring(2,3),o=e.value.substring(3,4);return bl(parseInt(n+n,16),parseInt(a+a,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6);return bl(parseInt(n,16),parseInt(a,16),parseInt(i,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),a=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8);return bl(parseInt(n,16),parseInt(a,16),parseInt(i,16),parseInt(o,16)/255)}}if(e.type===20){var l=co[e.value.toUpperCase()];if(typeof l<"u")return l}return co.TRANSPARENT}},Fl=function(t){return(255&t)===0},fn=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,a=255&t>>24;return e<255?"rgba("+a+","+n+","+r+","+e/255+")":"rgb("+a+","+n+","+r+")"},bl=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},fF=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},mF=function(t,e){var r=e.filter(jd);if(r.length===3){var n=r.map(fF),a=n[0],i=n[1],o=n[2];return bl(a,i,o,1)}if(r.length===4){var l=r.map(fF),a=l[0],i=l[1],o=l[2],c=l[3];return bl(a,i,o,c)}return 0};function q1(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var pF=function(t,e){var r=e.filter(jd),n=r[0],a=r[1],i=r[2],o=r[3],l=(n.type===17?ds(n.number):Pb.parse(t,n))/(Math.PI*2),c=rn(a)?a.number/100:0,u=rn(i)?i.number/100:0,A=typeof o<"u"&&rn(o)?jr(o,1):1;if(c===0)return bl(u*255,u*255,u*255,1);var d=u<=.5?u*(c+1):u+c-u*c,h=u*2-d,f=q1(h,d,l+1/3),g=q1(h,d,l),p=q1(h,d,l-1/3);return bl(f*255,g*255,p*255,A)},ipe={hsl:pF,hsla:pF,rgb:mF,rgba:mF},Zf=function(t,e){return Pl.parse(t,mV.create(e).parseComponentValue())},co={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ope={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(hr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lpe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Fb=function(t,e){var r=Pl.parse(t,e[0]),n=e[1];return n&&rn(n)?{color:r,stop:n}:{color:r,stop:null}},gF=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Mn),n.stop===null&&(n.stop=yl);for(var a=[],i=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=jr(l,e);c>i?a.push(c):a.push(i),i=c}else a.push(null)}for(var u=null,o=0;o<a.length;o++){var A=a[o];if(A===null)u===null&&(u=o);else if(u!==null){for(var d=o-u,h=a[u-1],f=(A-h)/(d+1),g=1;g<=d;g++)a[u+g-1]=f*g;u=null}}return t.map(function(p,m){var y=p.color;return{color:y,stop:Math.max(Math.min(1,a[m]/e),0)}})},cpe=function(t,e,r){var n=e/2,a=r/2,i=jr(t[0],e)-n,o=a-jr(t[1],r);return(Math.atan2(o,i)+Math.PI*2)%(Math.PI*2)},upe=function(t,e,r){var n=typeof t=="number"?t:cpe(t,e,r),a=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),i=e/2,o=r/2,l=a/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[a,i-u,i+u,o-c,o+c]},Ps=function(t,e){return Math.sqrt(t*t+e*e)},xF=function(t,e,r,n,a){var i=[[0,0],[0,e],[t,0],[t,e]];return i.reduce(function(o,l){var c=l[0],u=l[1],A=Ps(r-c,n-u);return(a?A<o.optimumDistance:A>o.optimumDistance)?{optimumCorner:l,optimumDistance:A}:o},{optimumDistance:a?1/0:-1/0,optimumCorner:null}).optimumCorner},Ape=function(t,e,r,n,a){var i=0,o=0;switch(t.size){case 0:t.shape===0?i=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-a)));break;case 2:if(t.shape===0)i=o=Math.min(Ps(e,r),Ps(e,r-a),Ps(e-n,r),Ps(e-n,r-a));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-a))/Math.min(Math.abs(e),Math.abs(e-n)),c=xF(n,a,e,r,!0),u=c[0],A=c[1];i=Ps(u-e,(A-r)/l),o=l*i}break;case 1:t.shape===0?i=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-a)):t.shape===1&&(i=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-a)));break;case 3:if(t.shape===0)i=o=Math.max(Ps(e,r),Ps(e,r-a),Ps(e-n,r),Ps(e-n,r-a));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-a))/Math.max(Math.abs(e),Math.abs(e-n)),d=xF(n,a,e,r,!1),u=d[0],A=d[1];i=Ps(u-e,(A-r)/l),o=l*i}break}return Array.isArray(t.size)&&(i=jr(t.size[0],n),o=t.size.length===2?jr(t.size[1],a):i),[i,o]},dpe=function(t,e){var r=ds(180),n=[];return Oi(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&o.value==="to"){r=BV(a);return}else if(wV(o)){r=Pb.parse(t,o);return}}var l=Fb(t,a);n.push(l)}),{angle:r,stops:n,type:1}},g0=function(t,e){var r=ds(180),n=[];return Oi(e).forEach(function(a,i){if(i===0){var o=a[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=BV(a);return}else if(wV(o)){r=(Pb.parse(t,o)+ds(270))%ds(360);return}}var l=Fb(t,a);n.push(l)}),{angle:r,stops:n,type:1}},hpe=function(t,e){var r=ds(180),n=[],a=1,i=0,o=3,l=[];return Oi(e).forEach(function(c,u){var A=c[0];if(u===0){if(hr(A)&&A.value==="linear"){a=1;return}else if(hr(A)&&A.value==="radial"){a=2;return}}if(A.type===18){if(A.name==="from"){var d=Pl.parse(t,A.values[0]);n.push({stop:Mn,color:d})}else if(A.name==="to"){var d=Pl.parse(t,A.values[0]);n.push({stop:yl,color:d})}else if(A.name==="color-stop"){var h=A.values.filter(jd);if(h.length===2){var d=Pl.parse(t,h[1]),f=h[0];xh(f)&&n.push({stop:{type:16,number:f.number*100,flags:f.flags},color:d})}}}}),a===1?{angle:(r+ds(180))%ds(360),stops:n,type:a}:{size:o,shape:i,stops:n,position:l,type:a}},CV="closest-side",_V="farthest-side",jV="closest-corner",EV="farthest-corner",SV="circle",NV="ellipse",kV="cover",TV="contain",fpe=function(t,e){var r=0,n=3,a=[],i=[];return Oi(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(d,h){if(u)if(hr(h))switch(h.value){case"center":return i.push(iN),d;case"top":case"left":return i.push(Mn),d;case"right":case"bottom":return i.push(yl),d}else(rn(h)||Gl(h))&&i.push(h);else if(hr(h))switch(h.value){case SV:return r=0,!1;case NV:return r=1,!1;case"at":return u=!0,!1;case CV:return n=0,!1;case kV:case _V:return n=1,!1;case TV:case jV:return n=2,!1;case EV:return n=3,!1}else if(Gl(h)||rn(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},c)}if(c){var A=Fb(t,o);a.push(A)}}),{size:n,shape:r,stops:a,position:i,type:2}},x0=function(t,e){var r=0,n=3,a=[],i=[];return Oi(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(A,d){if(hr(d))switch(d.value){case"center":return i.push(iN),!1;case"top":case"left":return i.push(Mn),!1;case"right":case"bottom":return i.push(yl),!1}else if(rn(d)||Gl(d))return i.push(d),!1;return A},c):l===1&&(c=o.reduce(function(A,d){if(hr(d))switch(d.value){case SV:return r=0,!1;case NV:return r=1,!1;case TV:case CV:return n=0,!1;case _V:return n=1,!1;case jV:return n=2,!1;case kV:case EV:return n=3,!1}else if(Gl(d)||rn(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return A},c)),c){var u=Fb(t,o);a.push(u)}}),{size:n,shape:r,stops:a,position:i,type:2}},mpe=function(t){return t.type===1},ppe=function(t){return t.type===2},oN={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=IV[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function gpe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!IV[t.name])}var IV={"linear-gradient":dpe,"-moz-linear-gradient":g0,"-ms-linear-gradient":g0,"-o-linear-gradient":g0,"-webkit-linear-gradient":g0,"radial-gradient":fpe,"-moz-radial-gradient":x0,"-ms-radial-gradient":x0,"-o-radial-gradient":x0,"-webkit-radial-gradient":x0,"-webkit-gradient":hpe},xpe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return jd(n)&&gpe(n)}).map(function(n){return oN.parse(t,n)})}},vpe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(hr(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ype={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Oi(e).map(function(r){return r.filter(rn)}).map(gV)}},bpe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Oi(e).map(function(r){return r.filter(hr).map(function(n){return n.value}).join(" ")}).map(wpe)}},wpe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},RA;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(RA||(RA={}));var Bpe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Oi(e).map(function(r){return r.filter(Cpe)})}},Cpe=function(t){return hr(t)||rn(t)},Db=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_pe=Db("top"),jpe=Db("right"),Epe=Db("bottom"),Spe=Db("left"),Ob=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return gV(r.filter(rn))}}},Npe=Ob("top-left"),kpe=Ob("top-right"),Tpe=Ob("bottom-right"),Ipe=Ob("bottom-left"),Rb=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Ppe=Rb("top"),Fpe=Rb("right"),Dpe=Rb("bottom"),Ope=Rb("left"),Ub=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return tg(r)?r.number:0}}},Rpe=Ub("top"),Upe=Ub("right"),Mpe=Ub("bottom"),Qpe=Ub("left"),Lpe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},$pe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Hpe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(hr).reduce(function(r,n){return r|Vpe(n.value)},0)}},Vpe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Kpe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},zpe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},lv;(function(t){t.NORMAL="normal",t.STRICT="strict"})(lv||(lv={}));var Gpe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return lv.STRICT;case"normal":default:return lv.NORMAL}}},Wpe={name:"line-height",initialValue:"normal",prefix:!1,type:4},vF=function(t,e){return hr(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:rn(t)?jr(t,e):e},qpe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:oN.parse(t,e)}},Xpe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},vj={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Mb=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ype=Mb("top"),Jpe=Mb("right"),Zpe=Mb("bottom"),ege=Mb("left"),tge={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(hr).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},rge={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},Qb=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},nge=Qb("top"),age=Qb("right"),sge=Qb("bottom"),ige=Qb("left"),oge={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lge={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cge={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&xj(e[0],"none")?[]:Oi(e).map(function(r){for(var n={color:co.TRANSPARENT,offsetX:Mn,offsetY:Mn,blur:Mn},a=0,i=0;i<r.length;i++){var o=r[i];Gl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:n.blur=o,a++):n.color=Pl.parse(t,o)}return n})}},uge={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Age={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=fge[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},dge=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},hge=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var a=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,a,i,o,l]:null},fge={matrix:dge,matrix3d:hge},yF={type:16,number:50,flags:eg},mge=[yF,yF],pge={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(rn);return r.length!==2?mge:[r[0],r[1]]}},gge={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},em;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(em||(em={}));var xge={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return em.BREAK_ALL;case"keep-all":return em.KEEP_ALL;case"normal":default:return em.NORMAL}}},vge={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(xh(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},PV={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},yge={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return xh(e)?e.number:1}},bge={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wge={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(hr).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},Bge={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(a){switch(a.type){case 20:case 0:r.push(a.value);break;case 17:r.push(a.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(a){return a.indexOf(" ")===-1?a:"'"+a+"'"})}},Cge={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_ge={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(xh(e))return e.number;if(hr(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},jge={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(hr).map(function(r){return r.value})}},Ege={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},un=function(t,e){return(t&e)!==0},Sge={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},Nge={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],a=e.filter(pV),i=0;i<a.length;i++){var o=a[i],l=a[i+1];if(o.type===20){var c=l&&xh(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},kge={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(pV),a=0;a<n.length;a++){var i=n[a],o=n[a+1];if(hr(i)&&i.value!=="none"){var l=o&&xh(o)?o.number:0;r.push({counter:i.value,reset:l})}}return r}},Tge={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(tg).map(function(r){return PV.parse(t,r)})}},Ige={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],a=e.filter(ape);if(a.length%2!==0)return null;for(var i=0;i<a.length;i+=2){var o=a[i].value,l=a[i+1].value;n.push({open:o,close:l})}return n}},bF=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},Pge={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&xj(e[0],"none")?[]:Oi(e).map(function(r){for(var n={color:255,offsetX:Mn,offsetY:Mn,blur:Mn,spread:Mn,inset:!1},a=0,i=0;i<r.length;i++){var o=r[i];xj(o,"inset")?n.inset=!0:Gl(o)?(a===0?n.offsetX=o:a===1?n.offsetY=o:a===2?n.blur=o:n.spread=o,a++):n.color=Pl.parse(t,o)}return n})}},Fge={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(hr).forEach(function(a){switch(a.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(a){n.indexOf(a)===-1&&n.push(a)}),n}},Dge={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Oge={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return tg(e)?e.number:0}},Rge=function(){function t(e,r){var n,a;this.animationDuration=ze(e,Tge,r.animationDuration),this.backgroundClip=ze(e,ope,r.backgroundClip),this.backgroundColor=ze(e,lpe,r.backgroundColor),this.backgroundImage=ze(e,xpe,r.backgroundImage),this.backgroundOrigin=ze(e,vpe,r.backgroundOrigin),this.backgroundPosition=ze(e,ype,r.backgroundPosition),this.backgroundRepeat=ze(e,bpe,r.backgroundRepeat),this.backgroundSize=ze(e,Bpe,r.backgroundSize),this.borderTopColor=ze(e,_pe,r.borderTopColor),this.borderRightColor=ze(e,jpe,r.borderRightColor),this.borderBottomColor=ze(e,Epe,r.borderBottomColor),this.borderLeftColor=ze(e,Spe,r.borderLeftColor),this.borderTopLeftRadius=ze(e,Npe,r.borderTopLeftRadius),this.borderTopRightRadius=ze(e,kpe,r.borderTopRightRadius),this.borderBottomRightRadius=ze(e,Tpe,r.borderBottomRightRadius),this.borderBottomLeftRadius=ze(e,Ipe,r.borderBottomLeftRadius),this.borderTopStyle=ze(e,Ppe,r.borderTopStyle),this.borderRightStyle=ze(e,Fpe,r.borderRightStyle),this.borderBottomStyle=ze(e,Dpe,r.borderBottomStyle),this.borderLeftStyle=ze(e,Ope,r.borderLeftStyle),this.borderTopWidth=ze(e,Rpe,r.borderTopWidth),this.borderRightWidth=ze(e,Upe,r.borderRightWidth),this.borderBottomWidth=ze(e,Mpe,r.borderBottomWidth),this.borderLeftWidth=ze(e,Qpe,r.borderLeftWidth),this.boxShadow=ze(e,Pge,r.boxShadow),this.color=ze(e,Lpe,r.color),this.direction=ze(e,$pe,r.direction),this.display=ze(e,Hpe,r.display),this.float=ze(e,Kpe,r.cssFloat),this.fontFamily=ze(e,Bge,r.fontFamily),this.fontSize=ze(e,Cge,r.fontSize),this.fontStyle=ze(e,Ege,r.fontStyle),this.fontVariant=ze(e,jge,r.fontVariant),this.fontWeight=ze(e,_ge,r.fontWeight),this.letterSpacing=ze(e,zpe,r.letterSpacing),this.lineBreak=ze(e,Gpe,r.lineBreak),this.lineHeight=ze(e,Wpe,r.lineHeight),this.listStyleImage=ze(e,qpe,r.listStyleImage),this.listStylePosition=ze(e,Xpe,r.listStylePosition),this.listStyleType=ze(e,vj,r.listStyleType),this.marginTop=ze(e,Ype,r.marginTop),this.marginRight=ze(e,Jpe,r.marginRight),this.marginBottom=ze(e,Zpe,r.marginBottom),this.marginLeft=ze(e,ege,r.marginLeft),this.opacity=ze(e,yge,r.opacity);var i=ze(e,tge,r.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=ze(e,rge,r.overflowWrap),this.paddingTop=ze(e,nge,r.paddingTop),this.paddingRight=ze(e,age,r.paddingRight),this.paddingBottom=ze(e,sge,r.paddingBottom),this.paddingLeft=ze(e,ige,r.paddingLeft),this.paintOrder=ze(e,Fge,r.paintOrder),this.position=ze(e,lge,r.position),this.textAlign=ze(e,oge,r.textAlign),this.textDecorationColor=ze(e,bge,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=ze(e,wge,(a=r.textDecorationLine)!==null&&a!==void 0?a:r.textDecoration),this.textShadow=ze(e,cge,r.textShadow),this.textTransform=ze(e,uge,r.textTransform),this.transform=ze(e,Age,r.transform),this.transformOrigin=ze(e,pge,r.transformOrigin),this.visibility=ze(e,gge,r.visibility),this.webkitTextStrokeColor=ze(e,Dge,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=ze(e,Oge,r.webkitTextStrokeWidth),this.wordBreak=ze(e,xge,r.wordBreak),this.zIndex=ze(e,vge,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Fl(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return un(this.display,4)||un(this.display,33554432)||un(this.display,268435456)||un(this.display,536870912)||un(this.display,67108864)||un(this.display,134217728)},t}(),Uge=function(){function t(e,r){this.content=ze(e,Sge,r.content),this.quotes=ze(e,Ige,r.quotes)}return t}(),wF=function(){function t(e,r){this.counterIncrement=ze(e,Nge,r.counterIncrement),this.counterReset=ze(e,kge,r.counterReset)}return t}(),ze=function(t,e,r){var n=new fV,a=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(a);var i=new mV(n.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,hr(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return Pb.parse(t,i.parseComponentValue());case"color":return Pl.parse(t,i.parseComponentValue());case"image":return oN.parse(t,i.parseComponentValue());case"length":var l=i.parseComponentValue();return Gl(l)?l:Mn;case"length-percentage":var c=i.parseComponentValue();return rn(c)?c:Mn;case"time":return PV.parse(t,i.parseComponentValue())}break}},Mge="data-html2canvas-debug",Qge=function(t){var e=t.getAttribute(Mge);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yj=function(t,e){var r=Qge(t);return r===1||e===r},Ri=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,yj(r,3))debugger;this.styles=new Rge(e,window.getComputedStyle(r,null)),Bj(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=Tb(this.context,r),yj(r,4)&&(this.flags|=16)}return t}(),Lge="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",BF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ff=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var v0=0;v0<BF.length;v0++)Ff[BF.charCodeAt(v0)]=v0;var $ge=function(t){var e=t.length*.75,r=t.length,n,a=0,i,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),A=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)i=Ff[t.charCodeAt(n)],o=Ff[t.charCodeAt(n+1)],l=Ff[t.charCodeAt(n+2)],c=Ff[t.charCodeAt(n+3)],A[a++]=i<<2|o>>4,A[a++]=(o&15)<<4|l>>2,A[a++]=(l&3)<<6|c&63;return u},Hge=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},Vge=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},su=5,lN=11,X1=2,Kge=lN-su,FV=65536>>su,zge=1<<su,Y1=zge-1,Gge=1024>>su,Wge=FV+Gge,qge=Wge,Xge=32,Yge=qge+Xge,Jge=65536>>lN,Zge=1<<Kge,e0e=Zge-1,CF=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},t0e=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},r0e=function(t,e){var r=$ge(t),n=Array.isArray(r)?Vge(r):new Uint32Array(r),a=Array.isArray(r)?Hge(r):new Uint16Array(r),i=24,o=CF(a,i/2,n[4]/2),l=n[5]===2?CF(a,(i+n[4])/2):t0e(n,Math.ceil((i+n[4])/4));return new n0e(n[0],n[1],n[2],n[3],o,l)},n0e=function(){function t(e,r,n,a,i,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>su],r=(r<<X1)+(e&Y1),this.data[r];if(e<=65535)return r=this.index[FV+(e-55296>>su)],r=(r<<X1)+(e&Y1),this.data[r];if(e<this.highStart)return r=Yge-Jge+(e>>lN),r=this.index[r],r+=e>>su&e0e,r=this.index[r],r=(r<<X1)+(e&Y1),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),_F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a0e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var y0=0;y0<_F.length;y0++)a0e[_F.charCodeAt(y0)]=y0;var s0e=1,J1=2,Z1=3,jF=4,EF=5,i0e=7,SF=8,eB=9,tB=10,NF=11,kF=12,TF=13,IF=14,rB=15,o0e=function(t){for(var e=[],r=0,n=t.length;r<n;){var a=t.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){var i=t.charCodeAt(r++);(i&64512)===56320?e.push(((a&1023)<<10)+(i&1023)+65536):(e.push(a),r--)}else e.push(a)}return e},l0e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],a=-1,i="";++a<r;){var o=t[a];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(a+1===r||n.length>16384)&&(i+=String.fromCharCode.apply(String,n),n.length=0)}return i},c0e=r0e(Lge),ls="×",nB="÷",u0e=function(t){return c0e.get(t)},A0e=function(t,e,r){var n=r-2,a=e[n],i=e[r-1],o=e[r];if(i===J1&&o===Z1)return ls;if(i===J1||i===Z1||i===jF||o===J1||o===Z1||o===jF)return nB;if(i===SF&&[SF,eB,NF,kF].indexOf(o)!==-1||(i===NF||i===eB)&&(o===eB||o===tB)||(i===kF||i===tB)&&o===tB||o===TF||o===EF||o===i0e||i===s0e)return ls;if(i===TF&&o===IF){for(;a===EF;)a=e[--n];if(a===IF)return ls}if(i===rB&&o===rB){for(var l=0;a===rB;)l++,a=e[--n];if(l%2===0)return ls}return nB},d0e=function(t){var e=o0e(t),r=e.length,n=0,a=0,i=e.map(u0e);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=ls;n<r&&(o=A0e(e,i,++n))===ls;);if(o!==ls||n===r){var l=l0e.apply(null,e.slice(a,n));return a=n,{value:l,done:!1}}return{done:!0,value:null}}}},h0e=function(t){for(var e=d0e(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},f0e=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var a=r.getBoundingClientRect(),i=Math.round(a.height);if(t.body.removeChild(n),i===e)return!0}}return!1},m0e=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,a=Ib(n.data).map(function(c){return zr(c)}),i=0,o={},l=a.every(function(c,u){r.setStart(n,i),r.setEnd(n,i+c.length);var A=r.getBoundingClientRect();i+=c.length;var d=A.x>o.x||A.y>o.y;return o=A,u===0?!0:d});return t.body.removeChild(e),l},p0e=function(){return typeof new Image().crossOrigin<"u"},g0e=function(){return typeof new XMLHttpRequest().responseType=="string"},x0e=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},PF=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},v0e=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var a=new Image,i=e.toDataURL();a.src=i;var o=bj(r,r,0,0,a);return n.fillStyle="red",n.fillRect(0,0,r,r),FF(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+i+")",u.style.height=r+"px",PF(c)?FF(bj(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),PF(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},bj=function(t,e,r,n,a){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(a),o},FF=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Tn={get SUPPORT_RANGE_BOUNDS(){var t=f0e(document);return Object.defineProperty(Tn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Tn.SUPPORT_RANGE_BOUNDS&&m0e(document);return Object.defineProperty(Tn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=x0e(document);return Object.defineProperty(Tn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?v0e(document):Promise.resolve(!1);return Object.defineProperty(Tn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=p0e();return Object.defineProperty(Tn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=g0e();return Object.defineProperty(Tn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Tn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Tn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},tm=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),y0e=function(t,e,r,n){var a=B0e(e,r),i=[],o=0;return a.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(Tn.SUPPORT_RANGE_BOUNDS){var c=DF(n,o,l.length).getClientRects();if(c.length>1){var u=cN(l),A=0;u.forEach(function(h){i.push(new tm(h,bo.fromDOMRectList(t,DF(n,A+o,h.length).getClientRects()))),A+=h.length})}else i.push(new tm(l,bo.fromDOMRectList(t,c)))}else{var d=n.splitText(l.length);i.push(new tm(l,b0e(t,n))),n=d}else Tn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),i},b0e=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var a=e.parentNode;if(a){a.replaceChild(n,e);var i=Tb(t,n);return n.firstChild&&a.replaceChild(n.firstChild,n),i}}return bo.EMPTY},DF=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var a=n.createRange();return a.setStart(t,e),a.setEnd(t,e+r),a},cN=function(t){if(Tn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return h0e(t)},w0e=function(t,e){if(Tn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return _0e(t,e)},B0e=function(t,e){return e.letterSpacing!==0?cN(t):w0e(t,e)},C0e=[32,160,4961,65792,65793,4153,4241],_0e=function(t,e){for(var r=Jfe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],a,i=function(){if(a.value){var o=a.value.slice(),l=Ib(o),c="";l.forEach(function(u){C0e.indexOf(u)===-1?c+=zr(u):(c.length&&n.push(c),n.push(zr(u)),c="")}),c.length&&n.push(c)}};!(a=r.next()).done;)i();return n},j0e=function(){function t(e,r,n){this.text=E0e(r.data,n.textTransform),this.textBounds=y0e(e,this.text,n,r)}return t}(),E0e=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(S0e,N0e);case 2:return t.toUpperCase();default:return t}},S0e=/(^|\s|:|-|\(|\))([a-z])/g,N0e=function(t,e,r){return t.length>0?e+r.toUpperCase():t},DV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return e}(Ri),OV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return e}(Ri),RV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=new XMLSerializer,o=Tb(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return e}(Ri),UV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(Ri),wj=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.start=n.start,a.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,a}return e}(Ri),k0e=[{type:15,flags:0,unit:"px",number:3}],T0e=[{type:16,flags:0,number:50}],I0e=function(t){return t.width>t.height?new bo(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new bo(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},P0e=function(t){var e=t.type===F0e?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},cv="checkbox",uv="radio",F0e="password",OF=707406591,uN=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;switch(a.type=n.type.toLowerCase(),a.checked=n.checked,a.value=P0e(n),(a.type===cv||a.type===uv)&&(a.styles.backgroundColor=3739148031,a.styles.borderTopColor=a.styles.borderRightColor=a.styles.borderBottomColor=a.styles.borderLeftColor=2779096575,a.styles.borderTopWidth=a.styles.borderRightWidth=a.styles.borderBottomWidth=a.styles.borderLeftWidth=1,a.styles.borderTopStyle=a.styles.borderRightStyle=a.styles.borderBottomStyle=a.styles.borderLeftStyle=1,a.styles.backgroundClip=[0],a.styles.backgroundOrigin=[0],a.bounds=I0e(a.bounds)),a.type){case cv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=k0e;break;case uv:a.styles.borderTopRightRadius=a.styles.borderTopLeftRadius=a.styles.borderBottomRightRadius=a.styles.borderBottomLeftRadius=T0e;break}return a}return e}(Ri),MV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return e}(Ri),QV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.value=n.value,a}return e}(Ri),LV=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=HV(r,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?Zf(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):co.TRANSPARENT,o=n.contentWindow.document.body?Zf(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):co.TRANSPARENT;a.backgroundColor=Fl(i)?Fl(o)?a.styles.backgroundColor:o:i}}catch{}return a}return e}(Ri),D0e=["OL","UL","MENU"],ux=function(t,e,r,n){for(var a=e.firstChild,i=void 0;a;a=i)if(i=a.nextSibling,VV(a)&&a.data.trim().length>0)r.textNodes.push(new j0e(t,a,r.styles));else if(SA(a))if(WV(a)&&a.assignedNodes)a.assignedNodes().forEach(function(l){return ux(t,l,r,n)});else{var o=$V(t,a);o.styles.isVisible()&&(O0e(a,o,n)?o.flags|=4:R0e(o.styles)&&(o.flags|=2),D0e.indexOf(a.tagName)!==-1&&(o.flags|=8),r.elements.push(o),a.slot,a.shadowRoot?ux(t,a.shadowRoot,o,n):!Av(a)&&!KV(a)&&!dv(a)&&ux(t,a,o,n))}},$V=function(t,e){return Cj(e)?new DV(t,e):zV(e)?new OV(t,e):KV(e)?new RV(t,e):U0e(e)?new UV(t,e):M0e(e)?new wj(t,e):Q0e(e)?new uN(t,e):dv(e)?new MV(t,e):Av(e)?new QV(t,e):GV(e)?new LV(t,e):new Ri(t,e)},HV=function(t,e){var r=$V(t,e);return r.flags|=4,ux(t,e,r,r),r},O0e=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||AN(t)&&r.styles.isTransparent()},R0e=function(t){return t.isPositioned()||t.isFloating()},VV=function(t){return t.nodeType===Node.TEXT_NODE},SA=function(t){return t.nodeType===Node.ELEMENT_NODE},Bj=function(t){return SA(t)&&typeof t.style<"u"&&!Ax(t)},Ax=function(t){return typeof t.className=="object"},U0e=function(t){return t.tagName==="LI"},M0e=function(t){return t.tagName==="OL"},Q0e=function(t){return t.tagName==="INPUT"},L0e=function(t){return t.tagName==="HTML"},KV=function(t){return t.tagName==="svg"},AN=function(t){return t.tagName==="BODY"},zV=function(t){return t.tagName==="CANVAS"},RF=function(t){return t.tagName==="VIDEO"},Cj=function(t){return t.tagName==="IMG"},GV=function(t){return t.tagName==="IFRAME"},UF=function(t){return t.tagName==="STYLE"},$0e=function(t){return t.tagName==="SCRIPT"},Av=function(t){return t.tagName==="TEXTAREA"},dv=function(t){return t.tagName==="SELECT"},WV=function(t){return t.tagName==="SLOT"},MF=function(t){return t.tagName.indexOf("-")>0},H0e=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,a=e.counterReset,i=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(i=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return i&&a.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),QF={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},LF={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},V0e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},K0e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},cA=function(t,e,r,n,a,i){return t<e||t>r?$m(t,a,i.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+i},qV=function(t,e,r,n){var a="";do r||t--,a=n(t)+a,t/=e;while(t*e>=e);return a},Kr=function(t,e,r,n,a){var i=r-e+1;return(t<0?"-":"")+(qV(Math.abs(t),i,n,function(o){return zr(Math.floor(o%i)+e)})+a)},xc=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return qV(Math.abs(t),n,!1,function(a){return e[Math.floor(a%n)]})+r},_A=1,Wo=2,qo=4,Df=8,zi=function(t,e,r,n,a,i){if(t<-9999||t>9999)return $m(t,4,a.length>0);var o=Math.abs(t),l=a;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&un(i,_A)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&un(i,Wo)||u===1&&c===1&&un(i,qo)&&t>100||u===1&&c>1&&un(i,Df)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},$F="十百千萬",HF="拾佰仟萬",VF="マイナス",aB="마이너스",$m=function(t,e,r){var n=r?". ":"",a=r?"、":"",i=r?", ":"",o=r?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=Kr(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return xc(t,"〇一二三四五六七八九",a);case 6:return cA(t,1,3999,QF,3,n).toLowerCase();case 7:return cA(t,1,3999,QF,3,n);case 8:return Kr(t,945,969,!1,n);case 9:return Kr(t,97,122,!1,n);case 10:return Kr(t,65,90,!1,n);case 11:return Kr(t,1632,1641,!0,n);case 12:case 49:return cA(t,1,9999,LF,3,n);case 35:return cA(t,1,9999,LF,3,n).toLowerCase();case 13:return Kr(t,2534,2543,!0,n);case 14:case 30:return Kr(t,6112,6121,!0,n);case 15:return xc(t,"子丑寅卯辰巳午未申酉戌亥",a);case 16:return xc(t,"甲乙丙丁戊己庚辛壬癸",a);case 17:case 48:return zi(t,"零一二三四五六七八九",$F,"負",a,Wo|qo|Df);case 47:return zi(t,"零壹貳參肆伍陸柒捌玖",HF,"負",a,_A|Wo|qo|Df);case 42:return zi(t,"零一二三四五六七八九",$F,"负",a,Wo|qo|Df);case 41:return zi(t,"零壹贰叁肆伍陆柒捌玖",HF,"负",a,_A|Wo|qo|Df);case 26:return zi(t,"〇一二三四五六七八九","十百千万",VF,a,0);case 25:return zi(t,"零壱弐参四伍六七八九","拾百千万",VF,a,_A|Wo|qo);case 31:return zi(t,"영일이삼사오육칠팔구","십백천만",aB,i,_A|Wo|qo);case 33:return zi(t,"零一二三四五六七八九","十百千萬",aB,i,0);case 32:return zi(t,"零壹貳參四五六七八九","拾百千",aB,i,_A|Wo|qo);case 18:return Kr(t,2406,2415,!0,n);case 20:return cA(t,1,19999,K0e,3,n);case 21:return Kr(t,2790,2799,!0,n);case 22:return Kr(t,2662,2671,!0,n);case 22:return cA(t,1,10999,V0e,3,n);case 23:return xc(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return xc(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Kr(t,3302,3311,!0,n);case 28:return xc(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",a);case 29:return xc(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",a);case 34:return Kr(t,3792,3801,!0,n);case 37:return Kr(t,6160,6169,!0,n);case 38:return Kr(t,4160,4169,!0,n);case 39:return Kr(t,2918,2927,!0,n);case 40:return Kr(t,1776,1785,!0,n);case 43:return Kr(t,3046,3055,!0,n);case 44:return Kr(t,3174,3183,!0,n);case 45:return Kr(t,3664,3673,!0,n);case 46:return Kr(t,3872,3881,!0,n);case 3:default:return Kr(t,48,57,!0,n)}},XV="data-html2canvas-ignore",KF=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new H0e,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,a=z0e(e,r);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,u=q0e(a).then(function(){return Aa(n,void 0,void 0,function(){var A,d;return Wn(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(Z0e),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),A=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,W0e(c)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof A=="function"?[2,Promise.resolve().then(function(){return A(c,d)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(Y0e(document.doctype)+"<html></html>"),J0e(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(yj(e,2))debugger;if(zV(e))return this.createCanvasClone(e);if(RF(e))return this.createVideoClone(e);if(UF(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return Cj(r)&&(Cj(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),MF(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return sB(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(i,o){return o&&typeof o.cssText=="string"?i+o.cssText:i},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),o=a.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return a}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},t.prototype.appendChildNode=function(e,r,n){(!SA(r)||!$0e(r)&&!r.hasAttribute(XV)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!SA(r)||!UF(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(SA(i)&&WV(i)&&typeof i.assignedNodes=="function"){var o=i.assignedNodes();o.length&&o.forEach(function(l){return a.appendChildNode(r,l,n)})}else this.appendChildNode(r,i,n)},t.prototype.cloneNode=function(e,r){if(VV(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&SA(e)&&(Bj(e)||Ax(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&Bj(a)&&(this.clonedReferenceElement=a),AN(a)&&rxe(a);var c=this.counters.parse(new wF(this.context,i)),u=this.resolvePseudoContent(e,a,o,rm.BEFORE);MF(e)&&(r=!0),RF(e)||this.cloneChildNodes(e,a,r),u&&a.insertBefore(u,a.firstChild);var A=this.resolvePseudoContent(e,a,l,rm.AFTER);return A&&a.appendChild(A),this.counters.pop(c),(i&&(this.options.copyStyles||Ax(e))&&!GV(e)||r)&&sB(i,a),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(Av(e)||dv(e))&&(Av(a)||dv(a))&&(a.value=e.value),a}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,a){var i=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new wF(this.context,n));var c=new Uge(this.context,n),u=l.createElement("html2canvaspseudoelement");sB(n,u),c.content.forEach(function(d){if(d.type===0)u.appendChild(l.createTextNode(d.value));else if(d.type===22){var h=l.createElement("img");h.src=d.value,h.style.opacity="1",u.appendChild(h)}else if(d.type===18){if(d.name==="attr"){var f=d.values.filter(hr);f.length&&u.appendChild(l.createTextNode(e.getAttribute(f[0].value)||""))}else if(d.name==="counter"){var g=d.values.filter(jd),p=g[0],m=g[1];if(p&&hr(p)){var y=i.counters.getCounterValue(p.value),b=m&&hr(m)?vj.parse(i.context,m.value):3;u.appendChild(l.createTextNode($m(y,b,!1)))}}else if(d.name==="counters"){var v=d.values.filter(jd),p=v[0],B=v[1],m=v[2];if(p&&hr(p)){var _=i.counters.getCounterValues(p.value),j=m&&hr(m)?vj.parse(i.context,m.value):3,C=B&&B.type===0?B.value:"",E=_.map(function(k){return $m(k,j,!1)}).join(C);u.appendChild(l.createTextNode(E))}}}else if(d.type===20)switch(d.value){case"open-quote":u.appendChild(l.createTextNode(bF(c.quotes,i.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(bF(c.quotes,--i.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(d.value))}}),u.className=_j+" "+jj;var A=a===rm.BEFORE?" "+_j:" "+jj;return Ax(r)?r.className.baseValue+=A:r.className+=A,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),rm;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(rm||(rm={}));var z0e=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(XV,"true"),t.body.appendChild(r),r},G0e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},W0e=function(t){return Promise.all([].slice.call(t.images,0).map(G0e))},q0e=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var a=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var i=setInterval(function(){a.body.childNodes.length>0&&a.readyState==="complete"&&(clearInterval(i),e(t))},50)}})},X0e=["all","d","content"],sB=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);X0e.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},Y0e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},J0e=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},Z0e=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},exe=":before",txe=":after",_j="___html2canvas___pseudoelement_before",jj="___html2canvas___pseudoelement_after",zF=`{
    content: "" !important;
    display: none !important;
}`,rxe=function(t){nxe(t,"."+_j+exe+zF+`
         .`+jj+txe+zF)},nxe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},YV=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),axe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(oB(e)||lxe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Aa(this,void 0,void 0,function(){var r,n,a,i,o=this;return Wn(this,function(l){switch(l.label){case 0:return r=YV.isSameOrigin(e),n=!iB(e)&&this._options.useCORS===!0&&Tn.SUPPORT_CORS_IMAGES&&!r,a=!iB(e)&&!r&&!oB(e)&&typeof this._options.proxy=="string"&&Tn.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!iB(e)&&!oB(e)&&!a&&!n?[2]:(i=e,a?[4,this.proxy(i)]:[3,2]);case 1:i=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var A=new Image;A.onload=function(){return c(A)},A.onerror=u,(cxe(i)||n)&&(A.crossOrigin="anonymous"),A.src=i,A.complete===!0&&setTimeout(function(){return c(A)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,o){var l=Tn.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")i(c.response);else{var d=new FileReader;d.addEventListener("load",function(){return i(d.result)},!1),d.addEventListener("error",function(h){return o(h)},!1),d.readAsDataURL(c.response)}else o("Failed to proxy resource "+a+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var A=r._options.imageTimeout;c.timeout=A,c.ontimeout=function(){return o("Timed out ("+A+"ms) proxying "+a)}}c.send()})},t}(),sxe=/^data:image\/svg\+xml/i,ixe=/^data:image\/.*;base64,/i,oxe=/^data:image\/.*/i,lxe=function(t){return Tn.SUPPORT_SVG_DRAWING||!uxe(t)},iB=function(t){return oxe.test(t)},cxe=function(t){return ixe.test(t)},oB=function(t){return t.substr(0,4)==="blob"},uxe=function(t){return t.substr(-3).toLowerCase()==="svg"||sxe.test(t)},Me=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),uA=function(t,e,r){return new Me(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},b0=function(){function t(e,r,n,a){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=a}return t.prototype.subdivide=function(e,r){var n=uA(this.start,this.startControl,e),a=uA(this.startControl,this.endControl,e),i=uA(this.endControl,this.end,e),o=uA(n,a,e),l=uA(a,i,e),c=uA(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,i,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),us=function(t){return t.type===1},Axe=function(){function t(e){var r=e.styles,n=e.bounds,a=Pf(r.borderTopLeftRadius,n.width,n.height),i=a[0],o=a[1],l=Pf(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],A=Pf(r.borderBottomRightRadius,n.width,n.height),d=A[0],h=A[1],f=Pf(r.borderBottomLeftRadius,n.width,n.height),g=f[0],p=f[1],m=[];m.push((i+c)/n.width),m.push((g+d)/n.width),m.push((o+p)/n.height),m.push((u+h)/n.height);var y=Math.max.apply(Math,m);y>1&&(i/=y,o/=y,c/=y,u/=y,d/=y,h/=y,g/=y,p/=y);var b=n.width-c,v=n.height-h,B=n.width-d,_=n.height-p,j=r.borderTopWidth,C=r.borderRightWidth,E=r.borderBottomWidth,N=r.borderLeftWidth,S=jr(r.paddingTop,e.bounds.width),k=jr(r.paddingRight,e.bounds.width),I=jr(r.paddingBottom,e.bounds.width),T=jr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?Fr(n.left+N/3,n.top+j/3,i-N/3,o-j/3,nr.TOP_LEFT):new Me(n.left+N/3,n.top+j/3),this.topRightBorderDoubleOuterBox=i>0||o>0?Fr(n.left+b,n.top+j/3,c-C/3,u-j/3,nr.TOP_RIGHT):new Me(n.left+n.width-C/3,n.top+j/3),this.bottomRightBorderDoubleOuterBox=d>0||h>0?Fr(n.left+B,n.top+v,d-C/3,h-E/3,nr.BOTTOM_RIGHT):new Me(n.left+n.width-C/3,n.top+n.height-E/3),this.bottomLeftBorderDoubleOuterBox=g>0||p>0?Fr(n.left+N/3,n.top+_,g-N/3,p-E/3,nr.BOTTOM_LEFT):new Me(n.left+N/3,n.top+n.height-E/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?Fr(n.left+N*2/3,n.top+j*2/3,i-N*2/3,o-j*2/3,nr.TOP_LEFT):new Me(n.left+N*2/3,n.top+j*2/3),this.topRightBorderDoubleInnerBox=i>0||o>0?Fr(n.left+b,n.top+j*2/3,c-C*2/3,u-j*2/3,nr.TOP_RIGHT):new Me(n.left+n.width-C*2/3,n.top+j*2/3),this.bottomRightBorderDoubleInnerBox=d>0||h>0?Fr(n.left+B,n.top+v,d-C*2/3,h-E*2/3,nr.BOTTOM_RIGHT):new Me(n.left+n.width-C*2/3,n.top+n.height-E*2/3),this.bottomLeftBorderDoubleInnerBox=g>0||p>0?Fr(n.left+N*2/3,n.top+_,g-N*2/3,p-E*2/3,nr.BOTTOM_LEFT):new Me(n.left+N*2/3,n.top+n.height-E*2/3),this.topLeftBorderStroke=i>0||o>0?Fr(n.left+N/2,n.top+j/2,i-N/2,o-j/2,nr.TOP_LEFT):new Me(n.left+N/2,n.top+j/2),this.topRightBorderStroke=i>0||o>0?Fr(n.left+b,n.top+j/2,c-C/2,u-j/2,nr.TOP_RIGHT):new Me(n.left+n.width-C/2,n.top+j/2),this.bottomRightBorderStroke=d>0||h>0?Fr(n.left+B,n.top+v,d-C/2,h-E/2,nr.BOTTOM_RIGHT):new Me(n.left+n.width-C/2,n.top+n.height-E/2),this.bottomLeftBorderStroke=g>0||p>0?Fr(n.left+N/2,n.top+_,g-N/2,p-E/2,nr.BOTTOM_LEFT):new Me(n.left+N/2,n.top+n.height-E/2),this.topLeftBorderBox=i>0||o>0?Fr(n.left,n.top,i,o,nr.TOP_LEFT):new Me(n.left,n.top),this.topRightBorderBox=c>0||u>0?Fr(n.left+b,n.top,c,u,nr.TOP_RIGHT):new Me(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||h>0?Fr(n.left+B,n.top+v,d,h,nr.BOTTOM_RIGHT):new Me(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=g>0||p>0?Fr(n.left,n.top+_,g,p,nr.BOTTOM_LEFT):new Me(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?Fr(n.left+N,n.top+j,Math.max(0,i-N),Math.max(0,o-j),nr.TOP_LEFT):new Me(n.left+N,n.top+j),this.topRightPaddingBox=c>0||u>0?Fr(n.left+Math.min(b,n.width-C),n.top+j,b>n.width+C?0:Math.max(0,c-C),Math.max(0,u-j),nr.TOP_RIGHT):new Me(n.left+n.width-C,n.top+j),this.bottomRightPaddingBox=d>0||h>0?Fr(n.left+Math.min(B,n.width-N),n.top+Math.min(v,n.height-E),Math.max(0,d-C),Math.max(0,h-E),nr.BOTTOM_RIGHT):new Me(n.left+n.width-C,n.top+n.height-E),this.bottomLeftPaddingBox=g>0||p>0?Fr(n.left+N,n.top+Math.min(_,n.height-E),Math.max(0,g-N),Math.max(0,p-E),nr.BOTTOM_LEFT):new Me(n.left+N,n.top+n.height-E),this.topLeftContentBox=i>0||o>0?Fr(n.left+N+T,n.top+j+S,Math.max(0,i-(N+T)),Math.max(0,o-(j+S)),nr.TOP_LEFT):new Me(n.left+N+T,n.top+j+S),this.topRightContentBox=c>0||u>0?Fr(n.left+Math.min(b,n.width+N+T),n.top+j+S,b>n.width+N+T?0:c-N+T,u-(j+S),nr.TOP_RIGHT):new Me(n.left+n.width-(C+k),n.top+j+S),this.bottomRightContentBox=d>0||h>0?Fr(n.left+Math.min(B,n.width-(N+T)),n.top+Math.min(v,n.height+j+S),Math.max(0,d-(C+k)),h-(E+I),nr.BOTTOM_RIGHT):new Me(n.left+n.width-(C+k),n.top+n.height-(E+I)),this.bottomLeftContentBox=g>0||p>0?Fr(n.left+N+T,n.top+_,Math.max(0,g-(N+T)),p-(E+I),nr.BOTTOM_LEFT):new Me(n.left+N+T,n.top+n.height-(E+I))}return t}(),nr;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(nr||(nr={}));var Fr=function(t,e,r,n,a){var i=4*((Math.sqrt(2)-1)/3),o=r*i,l=n*i,c=t+r,u=e+n;switch(a){case nr.TOP_LEFT:return new b0(new Me(t,u),new Me(t,u-l),new Me(c-o,e),new Me(c,e));case nr.TOP_RIGHT:return new b0(new Me(t,e),new Me(t+o,e),new Me(c,u-l),new Me(c,u));case nr.BOTTOM_RIGHT:return new b0(new Me(c,e),new Me(c,e+l),new Me(t+o,u),new Me(t,u));case nr.BOTTOM_LEFT:default:return new b0(new Me(c,u),new Me(c-o,u),new Me(t,e+l),new Me(t,e))}},hv=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},dxe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},fv=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},hxe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),w0=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),fxe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),mxe=function(t){return t.type===0},JV=function(t){return t.type===1},pxe=function(t){return t.type===2},GF=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},gxe=function(t,e,r,n,a){return t.map(function(i,o){switch(o){case 0:return i.add(e,r);case 1:return i.add(e+n,r);case 2:return i.add(e+n,r+a);case 3:return i.add(e,r+a)}return i})},ZV=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),e9=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new Axe(this.container),this.container.styles.opacity<1&&this.effects.push(new fxe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new hxe(n,a,i))}if(this.container.styles.overflowX!==0){var o=hv(this.curves),l=fv(this.curves);GF(o,l)?this.effects.push(new w0(o,6)):(this.effects.push(new w0(o,2)),this.effects.push(new w0(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(c){return!JV(c)});if(r||n.container.styles.position!==0||!n.parent){if(a.unshift.apply(a,i),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=hv(n.curves),l=fv(n.curves);GF(o,l)||a.unshift(new w0(l,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(c){return un(c.target,e)})},t}(),Ej=function(t,e,r,n){t.container.elements.forEach(function(a){var i=un(a.flags,4),o=un(a.flags,2),l=new e9(a,t);un(a.styles.display,2048)&&n.push(l);var c=un(a.flags,8)?[]:n;if(i||o){var u=i||a.styles.isPositioned()?r:e,A=new ZV(l);if(a.styles.isPositioned()||a.styles.opacity<1||a.styles.isTransformed()){var d=a.styles.zIndex.order;if(d<0){var h=0;u.negativeZIndex.some(function(g,p){return d>g.element.container.styles.zIndex.order?(h=p,!1):h>0}),u.negativeZIndex.splice(h,0,A)}else if(d>0){var f=0;u.positiveZIndex.some(function(g,p){return d>=g.element.container.styles.zIndex.order?(f=p+1,!1):f>0}),u.positiveZIndex.splice(f,0,A)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else a.styles.isFloating()?u.nonPositionedFloats.push(A):u.nonPositionedInlineLevel.push(A);Ej(l,A,i?A:r,c)}else a.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),Ej(l,e,r,c);un(a.flags,8)&&t9(a,c)})},t9=function(t,e){for(var r=t instanceof wj?t.start:1,n=t instanceof wj?t.reversed:!1,a=0;a<e.length;a++){var i=e[a];i.container instanceof UV&&typeof i.container.value=="number"&&i.container.value!==0&&(r=i.container.value),i.listValue=$m(r,i.container.styles.listStyleType,!0),r+=n?-1:1}},xxe=function(t){var e=new e9(t,null),r=new ZV(e),n=[];return Ej(e,r,r,n),t9(e.container,n),r},WF=function(t,e){switch(e){case 0:return hs(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return hs(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return hs(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return hs(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},vxe=function(t,e){switch(e){case 0:return hs(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return hs(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return hs(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return hs(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},yxe=function(t,e){switch(e){case 0:return hs(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return hs(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return hs(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return hs(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},bxe=function(t,e){switch(e){case 0:return B0(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return B0(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return B0(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return B0(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},B0=function(t,e){var r=[];return us(t)?r.push(t.subdivide(.5,!1)):r.push(t),us(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},hs=function(t,e,r,n){var a=[];return us(t)?a.push(t.subdivide(.5,!1)):a.push(t),us(r)?a.push(r.subdivide(.5,!0)):a.push(r),us(n)?a.push(n.subdivide(.5,!0).reverse()):a.push(n),us(e)?a.push(e.subdivide(.5,!1).reverse()):a.push(e),a},r9=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},mv=function(t){var e=t.styles,r=t.bounds,n=jr(e.paddingLeft,r.width),a=jr(e.paddingRight,r.width),i=jr(e.paddingTop,r.width),o=jr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+a),-(e.borderTopWidth+e.borderBottomWidth+i+o))},wxe=function(t,e){return t===0?e.bounds:t===2?mv(e):r9(e)},Bxe=function(t,e){return t===0?e.bounds:t===2?mv(e):r9(e)},lB=function(t,e,r){var n=wxe(jA(t.styles.backgroundOrigin,e),t),a=Bxe(jA(t.styles.backgroundClip,e),t),i=Cxe(jA(t.styles.backgroundSize,e),r,n),o=i[0],l=i[1],c=Pf(jA(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=_xe(jA(t.styles.backgroundRepeat,e),c,i,n,a),A=Math.round(n.left+c[0]),d=Math.round(n.top+c[1]);return[u,A,d,o,l]},AA=function(t){return hr(t)&&t.value===RA.AUTO},C0=function(t){return typeof t=="number"},Cxe=function(t,e,r){var n=e[0],a=e[1],i=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(rn(o)&&l&&rn(l))return[jr(o,r.width),jr(l,r.height)];var c=C0(i);if(hr(o)&&(o.value===RA.CONTAIN||o.value===RA.COVER)){if(C0(i)){var u=r.width/r.height;return u<i!=(o.value===RA.COVER)?[r.width,r.width/i]:[r.height*i,r.height]}return[r.width,r.height]}var A=C0(n),d=C0(a),h=A||d;if(AA(o)&&(!l||AA(l))){if(A&&d)return[n,a];if(!c&&!h)return[r.width,r.height];if(h&&c){var f=A?n:a*i,g=d?a:n/i;return[f,g]}var p=A?n:r.width,m=d?a:r.height;return[p,m]}if(c){var y=0,b=0;return rn(o)?y=jr(o,r.width):rn(l)&&(b=jr(l,r.height)),AA(o)?y=b*i:(!l||AA(l))&&(b=y/i),[y,b]}var v=null,B=null;if(rn(o)?v=jr(o,r.width):l&&rn(l)&&(B=jr(l,r.height)),v!==null&&(!l||AA(l))&&(B=A&&d?v/n*a:r.height),B!==null&&AA(o)&&(v=A&&d?B/a*n:r.width),v!==null&&B!==null)return[v,B];throw new Error("Unable to calculate background-size for element")},jA=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},_xe=function(t,e,r,n,a){var i=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Me(Math.round(n.left),Math.round(n.top+o)),new Me(Math.round(n.left+n.width),Math.round(n.top+o)),new Me(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Me(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Me(Math.round(n.left+i),Math.round(n.top)),new Me(Math.round(n.left+i+l),Math.round(n.top)),new Me(Math.round(n.left+i+l),Math.round(n.height+n.top)),new Me(Math.round(n.left+i),Math.round(n.height+n.top))];case 1:return[new Me(Math.round(n.left+i),Math.round(n.top+o)),new Me(Math.round(n.left+i+l),Math.round(n.top+o)),new Me(Math.round(n.left+i+l),Math.round(n.top+o+c)),new Me(Math.round(n.left+i),Math.round(n.top+o+c))];default:return[new Me(Math.round(a.left),Math.round(a.top)),new Me(Math.round(a.left+a.width),Math.round(a.top)),new Me(Math.round(a.left+a.width),Math.round(a.height+a.top)),new Me(Math.round(a.left),Math.round(a.height+a.top))]}},jxe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",qF="Hidden Text",Exe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),a.src=jxe,a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=r,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(qF)),n.appendChild(i),n.appendChild(a);var l=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(qF)),n.style.lineHeight="normal",a.style.verticalAlign="super";var c=a.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),n9=function(){function t(e,r){this.context=e,this.options=r}return t}(),Sxe=1e4,Nxe=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Exe(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(a){return n.applyEffect(a)})},e.prototype.applyEffect=function(r){this.ctx.save(),pxe(r)&&(this.ctx.globalAlpha=r.opacity),mxe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),JV(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Aa(this,void 0,void 0,function(){var n;return Wn(this,function(a){switch(a.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Aa(this,void 0,void 0,function(){return Wn(this,function(n){switch(n.label){case 0:if(un(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,a){var i=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+a);else{var o=cN(r.text);o.reduce(function(l,c){return i.ctx.fillText(c,l,r.bounds.top+a),l+i.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),a=Fxe(r.fontFamily).join(", "),i=tg(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,i,a].join(" "),a,i]},e.prototype.renderTextNode=function(r,n){return Aa(this,void 0,void 0,function(){var a,i,o,l,c,u,A,d,h=this;return Wn(this,function(f){return a=this.createFontStyle(n),i=a[0],o=a[1],l=a[2],this.ctx.font=i,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,A=c.middle,d=n.paintOrder,r.textBounds.forEach(function(g){d.forEach(function(p){switch(p){case 0:h.ctx.fillStyle=fn(n.color),h.renderTextWithLetterSpacing(g,n.letterSpacing,u);var m=n.textShadow;m.length&&g.text.trim().length&&(m.slice(0).reverse().forEach(function(y){h.ctx.shadowColor=fn(y.color),h.ctx.shadowOffsetX=y.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=y.offsetY.number*h.options.scale,h.ctx.shadowBlur=y.blur.number,h.renderTextWithLetterSpacing(g,n.letterSpacing,u)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),n.textDecorationLine.length&&(h.ctx.fillStyle=fn(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(y){switch(y){case 1:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top+u),g.bounds.width,1);break;case 2:h.ctx.fillRect(g.bounds.left,Math.round(g.bounds.top),g.bounds.width,1);break;case 3:h.ctx.fillRect(g.bounds.left,Math.ceil(g.bounds.top+A),g.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&g.text.trim().length&&(h.ctx.strokeStyle=fn(n.webkitTextStrokeColor),h.ctx.lineWidth=n.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(g.text,g.bounds.left,g.bounds.top+u)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,a){if(a&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var i=mv(r),o=fv(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(a,0,0,r.intrinsicWidth,r.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Aa(this,void 0,void 0,function(){var n,a,i,o,l,c,b,b,u,A,d,h,B,f,g,_,p,m,y,b,v,B,_;return Wn(this,function(j){switch(j.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,a=r.curves,i=n.styles,o=0,l=n.textNodes,j.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,i)]):[3,4];case 2:j.sent(),j.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof DV))return[3,8];j.label=5;case 5:return j.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return b=j.sent(),this.renderReplacedElement(n,a,b),[3,8];case 7:return j.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof OV&&this.renderReplacedElement(n,a,n.canvas),!(n instanceof RV))return[3,12];j.label=9;case 9:return j.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return b=j.sent(),this.renderReplacedElement(n,a,b),[3,12];case 11:return j.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof LV&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:A=j.sent(),n.width&&n.height&&this.ctx.drawImage(A,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),j.label=14;case 14:if(n instanceof uN&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===cv?n.checked&&(this.ctx.save(),this.path([new Me(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Me(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Me(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Me(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Me(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Me(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Me(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=fn(OF),this.ctx.fill(),this.ctx.restore()):n.type===uv&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=fn(OF),this.ctx.fill(),this.ctx.restore())),kxe(n)&&n.value.length){switch(h=this.createFontStyle(i),B=h[0],f=h[1],g=this.fontMetrics.getMetrics(B,f).baseline,this.ctx.font=B,this.ctx.fillStyle=fn(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ixe(n.styles.textAlign),_=mv(n),p=0,n.styles.textAlign){case 1:p+=_.width/2;break;case 2:p+=_.width;break}m=_.add(p,0,0,-_.height/2+1),this.ctx.save(),this.path([new Me(_.left,_.top),new Me(_.left+_.width,_.top),new Me(_.left+_.width,_.top+_.height),new Me(_.left,_.top+_.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tm(n.value,m),i.letterSpacing,g),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!un(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(y=n.styles.listStyleImage,y.type!==0)return[3,18];b=void 0,v=y.url,j.label=15;case 15:return j.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return b=j.sent(),this.ctx.drawImage(b,n.bounds.left-(b.width+10),n.bounds.top),[3,18];case 17:return j.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(B=this.createFontStyle(i)[0],this.ctx.font=B,this.ctx.fillStyle=fn(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",_=new bo(n.bounds.left,n.bounds.top+jr(n.styles.paddingTop,n.bounds.width),n.bounds.width,vF(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tm(r.listValue,_),i.letterSpacing,vF(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),j.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Aa(this,void 0,void 0,function(){var n,a,y,i,o,y,l,c,y,u,A,y,d,h,y,f,g,y,p,m,y;return Wn(this,function(b){switch(b.label){case 0:if(un(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:b.sent(),n=0,a=r.negativeZIndex,b.label=2;case 2:return n<a.length?(y=a[n],[4,this.renderStack(y)]):[3,5];case 3:b.sent(),b.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:b.sent(),i=0,o=r.nonInlineLevel,b.label=7;case 7:return i<o.length?(y=o[i],[4,this.renderNode(y)]):[3,10];case 8:b.sent(),b.label=9;case 9:return i++,[3,7];case 10:l=0,c=r.nonPositionedFloats,b.label=11;case 11:return l<c.length?(y=c[l],[4,this.renderStack(y)]):[3,14];case 12:b.sent(),b.label=13;case 13:return l++,[3,11];case 14:u=0,A=r.nonPositionedInlineLevel,b.label=15;case 15:return u<A.length?(y=A[u],[4,this.renderStack(y)]):[3,18];case 16:b.sent(),b.label=17;case 17:return u++,[3,15];case 18:d=0,h=r.inlineLevel,b.label=19;case 19:return d<h.length?(y=h[d],[4,this.renderNode(y)]):[3,22];case 20:b.sent(),b.label=21;case 21:return d++,[3,19];case 22:f=0,g=r.zeroOrAutoZIndexOrTransformedOrOpacity,b.label=23;case 23:return f<g.length?(y=g[f],[4,this.renderStack(y)]):[3,26];case 24:b.sent(),b.label=25;case 25:return f++,[3,23];case 26:p=0,m=r.positiveZIndex,b.label=27;case 27:return p<m.length?(y=m[p],[4,this.renderStack(y)]):[3,30];case 28:b.sent(),b.label=29;case 29:return p++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(a,i){var o=us(a)?a.start:a;i===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),us(a)&&n.ctx.bezierCurveTo(a.startControl.x,a.startControl.y,a.endControl.x,a.endControl.y,a.end.x,a.end.y)})},e.prototype.renderRepeat=function(r,n,a,i){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(a,i),this.ctx.fill(),this.ctx.translate(-a,-i)},e.prototype.resizeImage=function(r,n,a){var i;if(r.width===n&&r.height===a)return r;var o=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,a);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,a),l},e.prototype.renderBackgroundImage=function(r){return Aa(this,void 0,void 0,function(){var n,a,i,o,l,c;return Wn(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,a=function(A){var d,h,f,S,L,O,T,U,E,g,S,L,O,T,U,p,m,y,b,v,B,_,j,C,E,N,S,k,I,T,U,M,L,O,D,R,Q,K,$,q,z,W;return Wn(this,function(ne){switch(ne.label){case 0:if(A.type!==0)return[3,5];d=void 0,h=A.url,ne.label=1;case 1:return ne.trys.push([1,3,,4]),[4,i.context.cache.match(h)];case 2:return d=ne.sent(),[3,4];case 3:return ne.sent(),i.context.logger.error("Error loading background-image "+h),[3,4];case 4:return d&&(f=lB(r,n,[d.width,d.height,d.width/d.height]),S=f[0],L=f[1],O=f[2],T=f[3],U=f[4],E=i.ctx.createPattern(i.resizeImage(d,T,U),"repeat"),i.renderRepeat(S,E,L,O)),[3,6];case 5:mpe(A)?(g=lB(r,n,[null,null,null]),S=g[0],L=g[1],O=g[2],T=g[3],U=g[4],p=upe(A.angle,T,U),m=p[0],y=p[1],b=p[2],v=p[3],B=p[4],_=document.createElement("canvas"),_.width=T,_.height=U,j=_.getContext("2d"),C=j.createLinearGradient(y,v,b,B),gF(A.stops,m).forEach(function(oe){return C.addColorStop(oe.stop,fn(oe.color))}),j.fillStyle=C,j.fillRect(0,0,T,U),T>0&&U>0&&(E=i.ctx.createPattern(_,"repeat"),i.renderRepeat(S,E,L,O))):ppe(A)&&(N=lB(r,n,[null,null,null]),S=N[0],k=N[1],I=N[2],T=N[3],U=N[4],M=A.position.length===0?[iN]:A.position,L=jr(M[0],T),O=jr(M[M.length-1],U),D=Ape(A,L,O,T,U),R=D[0],Q=D[1],R>0&&Q>0&&(K=i.ctx.createRadialGradient(k+L,I+O,0,k+L,I+O,R),gF(A.stops,R*2).forEach(function(oe){return K.addColorStop(oe.stop,fn(oe.color))}),i.path(S),i.ctx.fillStyle=K,R!==Q?($=r.bounds.left+.5*r.bounds.width,q=r.bounds.top+.5*r.bounds.height,z=Q/R,W=1/z,i.ctx.save(),i.ctx.translate($,q),i.ctx.transform(1,0,0,z,0,0),i.ctx.translate(-$,-q),i.ctx.fillRect(k,W*(I-q)+q,T,U*W),i.ctx.restore()):i.ctx.fill())),ne.label=6;case 6:return n--,[2]}})},i=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,a(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,a){return Aa(this,void 0,void 0,function(){return Wn(this,function(i){return this.path(WF(a,n)),this.ctx.fillStyle=fn(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,a,i){return Aa(this,void 0,void 0,function(){var o,l;return Wn(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,a,i)]:[3,2];case 1:return c.sent(),[2];case 2:return o=vxe(i,a),this.path(o),this.ctx.fillStyle=fn(r),this.ctx.fill(),l=yxe(i,a),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Aa(this,void 0,void 0,function(){var n,a,i,o,l,c,u,A,d=this;return Wn(this,function(h){switch(h.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,a=!Fl(n.backgroundColor)||n.backgroundImage.length,i=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=Txe(jA(n.backgroundClip,0),r.curves),a||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Fl(n.backgroundColor)||(this.ctx.fillStyle=fn(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(f){d.ctx.save();var g=hv(r.curves),p=f.inset?0:Sxe,m=gxe(g,-p+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(d.path(g),d.ctx.clip(),d.mask(m)):(d.mask(g),d.ctx.clip(),d.path(m)),d.ctx.shadowOffsetX=f.offsetX.number+p,d.ctx.shadowOffsetY=f.offsetY.number,d.ctx.shadowColor=fn(f.color),d.ctx.shadowBlur=f.blur.number,d.ctx.fillStyle=f.inset?fn(f.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),h.label=2;case 2:l=0,c=0,u=i,h.label=3;case 3:return c<u.length?(A=u[c],A.style!==0&&!Fl(A.color)&&A.width>0?A.style!==2?[3,5]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return A.style!==3?[3,7]:[4,this.renderDashedDottedBorder(A.color,A.width,l,r.curves,3)];case 6:return h.sent(),[3,11];case 7:return A.style!==4?[3,9]:[4,this.renderDoubleBorder(A.color,A.width,l,r.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(A.color,l,r.curves)];case 10:h.sent(),h.label=11;case 11:l++,h.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,a,i,o){return Aa(this,void 0,void 0,function(){var l,c,u,A,d,h,f,g,p,m,y,b,v,B,_,j,_,j;return Wn(this,function(C){return this.ctx.save(),l=bxe(i,a),c=WF(i,a),o===2&&(this.path(c),this.ctx.clip()),us(c[0])?(u=c[0].start.x,A=c[0].start.y):(u=c[0].x,A=c[0].y),us(c[1])?(d=c[1].end.x,h=c[1].end.y):(d=c[1].x,h=c[1].y),a===0||a===2?f=Math.abs(u-d):f=Math.abs(A-h),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),g=n<3?n*3:n*2,p=n<3?n*2:n,o===3&&(g=n,p=n),m=!0,f<=g*2?m=!1:f<=g*2+p?(y=f/(2*g+p),g*=y,p*=y):(b=Math.floor((f+p)/(g+p)),v=(f-b*g)/(b-1),B=(f-(b+1)*g)/b,p=B<=0||Math.abs(p-v)<Math.abs(p-B)?v:B),m&&(o===3?this.ctx.setLineDash([0,g+p]):this.ctx.setLineDash([g,p])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=fn(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(us(c[0])&&(_=c[3],j=c[0],this.ctx.beginPath(),this.formatPath([new Me(_.end.x,_.end.y),new Me(j.start.x,j.start.y)]),this.ctx.stroke()),us(c[1])&&(_=c[1],j=c[2],this.ctx.beginPath(),this.formatPath([new Me(_.end.x,_.end.y),new Me(j.start.x,j.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Aa(this,void 0,void 0,function(){var n;return Wn(this,function(a){switch(a.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=xxe(r),[4,this.renderStack(n)];case 1:return a.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(n9),kxe=function(t){return t instanceof QV||t instanceof MV?!0:t instanceof uN&&t.type!==uv&&t.type!==cv},Txe=function(t,e){switch(t){case 0:return hv(e);case 2:return dxe(e);case 1:default:return fv(e)}},Ixe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Pxe=["-apple-system","system-ui"],Fxe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return Pxe.indexOf(e)===-1}):t},Dxe=function(t){si(e,t);function e(r,n){var a=t.call(this,r,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return e.prototype.render=function(r){return Aa(this,void 0,void 0,function(){var n,a;return Wn(this,function(i){switch(i.label){case 0:return n=bj(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Oxe(n)];case 1:return a=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=fn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(a,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(n9),Oxe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Rxe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,r0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,r0([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,r0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,r0([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),Uxe=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new Rxe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new axe(this,e)}return t.instanceCount=1,t}(),dN=function(t,e){return e===void 0&&(e={}),Mxe(t,e)};typeof window<"u"&&YV.setContext(window);var Mxe=function(t,e){return Aa(void 0,void 0,void 0,function(){var r,n,a,i,o,l,c,u,A,d,h,f,g,p,m,y,b,v,B,_,C,j,C,E,N,S,k,I,T,U,M,L,O,D,R,Q,K,$,q,z;return Wn(this,function(W){switch(W.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return a={allowTaint:(E=e.allowTaint)!==null&&E!==void 0?E:!1,imageTimeout:(N=e.imageTimeout)!==null&&N!==void 0?N:15e3,proxy:e.proxy,useCORS:(S=e.useCORS)!==null&&S!==void 0?S:!1},i=ij({logging:(k=e.logging)!==null&&k!==void 0?k:!0,cache:e.cache},a),o={windowWidth:(I=e.windowWidth)!==null&&I!==void 0?I:n.innerWidth,windowHeight:(T=e.windowHeight)!==null&&T!==void 0?T:n.innerHeight,scrollX:(U=e.scrollX)!==null&&U!==void 0?U:n.pageXOffset,scrollY:(M=e.scrollY)!==null&&M!==void 0?M:n.pageYOffset},l=new bo(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new Uxe(i,l),u=(L=e.foreignObjectRendering)!==null&&L!==void 0?L:!1,A={allowTaint:(O=e.allowTaint)!==null&&O!==void 0?O:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),d=new KF(c,t,A),h=d.clonedReferenceElement,h?[4,d.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=W.sent(),g=AN(h)||L0e(h)?gfe(h.ownerDocument):Tb(c,h),p=g.width,m=g.height,y=g.left,b=g.top,v=Qxe(c,h,e.backgroundColor),B={canvas:e.canvas,backgroundColor:v,scale:(R=(D=e.scale)!==null&&D!==void 0?D:n.devicePixelRatio)!==null&&R!==void 0?R:1,x:((Q=e.x)!==null&&Q!==void 0?Q:0)+y,y:((K=e.y)!==null&&K!==void 0?K:0)+b,width:($=e.width)!==null&&$!==void 0?$:Math.ceil(p),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(m)},u?(c.logger.debug("Document cloned, using foreign object rendering"),C=new Dxe(c,B),[4,C.render(h)]):[3,3];case 2:return _=W.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+y+","+b+" with size "+p+"x"+m+" using computed rendering"),c.logger.debug("Starting DOM parsing"),j=HV(c,h),v===j.styles.backgroundColor&&(j.styles.backgroundColor=co.TRANSPARENT),c.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),C=new Nxe(c,B),[4,C.render(j)];case 4:_=W.sent(),W.label=5;case 5:return(!((z=e.removeContainer)!==null&&z!==void 0)||z)&&(KF.destroy(f)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,_]}})})},Qxe=function(t,e,r){var n=e.ownerDocument,a=n.documentElement?Zf(t,getComputedStyle(n.documentElement).backgroundColor):co.TRANSPARENT,i=n.body?Zf(t,getComputedStyle(n.body).backgroundColor):co.TRANSPARENT,o=typeof r=="string"?Zf(t,r):r===null?co.TRANSPARENT:4294967295;return e===n.documentElement?Fl(a)?Fl(i)?o:i:a:o};const Lxe=th("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function _t({className:t,variant:e,...r}){return s.jsx("div",{className:fe(Lxe({variant:e}),t),...r})}const br=K2,pv=z2,$xe=G2,a9=x.forwardRef(({className:t,...e},r)=>s.jsx(Wp,{ref:r,className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));a9.displayName=Wp.displayName;const mr=x.forwardRef(({className:t,children:e,...r},n)=>{const a=`${r.id}-description`;return s.jsxs($xe,{children:[s.jsx(a9,{}),s.jsx(qp,{ref:n,"aria-describedby":a,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:s.jsxs(Er,{children:[e,s.jsxs(Bb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ny,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});mr.displayName=qp.displayName;const Er=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Er.displayName="DialogHeader";const wn=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});wn.displayName="DialogFooter";const Sr=x.forwardRef(({className:t,...e},r)=>s.jsx(Xp,{ref:r,className:fe("text-lg font-semibold leading-none tracking-tight",t),...e}));Sr.displayName=Xp.displayName;const $n=x.forwardRef(({className:t,...e},r)=>s.jsx(Yp,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));$n.displayName=Yp.displayName;const XF=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],Hxe=()=>{const{id:t}=Up(),e=Ot(),{toast:r}=ni(),{user:n}=Hr(),a=x.useRef(null),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,A]=x.useState(!0),[d,h]=x.useState(null),[f,g]=x.useState(!1),[p,m]=x.useState(null),[y,b]=x.useState(!1),[v,B]=x.useState(null);x.useEffect(()=>{const N=async()=>{if(!(!n||!t))try{A(!0);const{data:I,error:T}=await Z.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(T)throw T;let U=null;if(I.shipping_address_id&&I.shipping_address_id!=="undefined"){const{data:M,error:L}=await Z.from("addresses").select("*").eq("id",I.shipping_address_id).single();L||(U={id:M.id,name:M.name,street:M.street,city:M.city,state:M.state,zip:M.zip,country:M.country,isDefault:M.is_default,user_id:M.user_id,created_at:M.created_at})}if(I.shipping_method_id){const{data:M,error:L}=await Z.from("shipping_methods").select("*").eq("id",I.shipping_method_id).single();!L&&M&&m(M)}else{const{data:M,error:L}=await Z.from("shipping_methods").select("*").limit(1).single();!L&&M&&m(M)}if(I){const M=I.order_items.map(R=>({id:R.id,productId:R.product_id,productName:R.product_name,quantity:R.quantity,price:R.price}));let L=I.payment_method;k(L)||(L="bank-transfer");let O=I.status;S(O)||(O="pending");const D={id:I.id,userId:I.user_id,date:I.date,status:O,paymentMethod:L,total:I.total,trackingNumber:I.tracking_number||"",items:M,shippingAddressId:I.shipping_address_id,shippingMethodId:I.shipping_method_id,voucher_id:I.voucher_id,discount_amount:I.discount_amount||0};if(o(D),c(U),I.voucher_id){const{data:R,error:Q}=await Z.from("vouchers").select("*").eq("id",I.voucher_id).single();!Q&&R&&B({code:R.code,discount_type:R.discount_type})}if(D.paymentMethod==="bank-transfer"){const R=Math.floor(Math.random()*XF.length);h(XF[R])}}}catch(I){console.error("Error fetching order details:",I),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{A(!1)}},S=I=>["pending","processing","shipped","delivered","cancelled"].includes(I),k=I=>["bank-transfer","credit-card","cod","qris"].includes(I);N()},[t,n,r]);const _=N=>{switch(N){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},j=N=>{switch(N){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return N.charAt(0).toUpperCase()+N.slice(1)}},C=async()=>{if(a.current)try{b(!0),f||(g(!0),await new Promise(M=>setTimeout(M,500)));const N=a.current,S=N.querySelector(".hidden-on-print");let k="";S&&(k=S.style.display,S.style.display="none"),await new Promise(M=>setTimeout(M,100));const I=await dN(N,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});S&&(S.style.display=k);const T=I.toDataURL("image/png"),U=document.createElement("a");U.href=T,U.download=`Struk-Pesanan-${i==null?void 0:i.id.substring(0,8)}.png`,U.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(N){console.error("Error saving receipt as image:",N),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{b(!1)}},E=()=>{a.current&&(g(!0),setTimeout(()=>{const N=a.current;if(!N)return;const S=window.open("","_blank");if(!S){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}S.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${i==null?void 0:i.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${N.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),S.document.close(),S.focus()},500))};return u?s.jsx(Jt,{children:s.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:s.jsx("p",{children:"Tunggu Sebentar..."})})}):i?s.jsxs(Jt,{children:[s.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[s.jsx(G,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),s.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",i.id.substring(0,8),"..."]}),s.jsx(_t,{className:_(i.status),children:j(i.status)})]}),s.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(i.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),i.trackingNumber&&s.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[s.jsx(FC,{className:"h-5 w-5 mr-2 text-flame-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),s.jsx("p",{className:"text-xs",children:i.trackingNumber})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3",children:[s.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),s.jsxs(G,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:E,children:[s.jsx(PC,{className:"h-4 w-4"}),s.jsx("span",{children:"Cetak Struk"})]})]}),s.jsx("div",{className:"space-y-3",children:i.items.map(N=>s.jsx(_e,{className:"overflow-hidden shadow-sm",children:s.jsx(je,{className:"p-3",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:s.jsx(fo,{className:"h-8 w-8 text-charcoal-400"})}),s.jsx("div",{className:"flex-grow",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx(mt,{to:`/product/${N.productId}`,children:s.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:N.productName})}),s.jsx("div",{className:"flex justify-between items-center mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",N.quantity," × ",xe(N.price)]})})]}),s.jsx("div",{className:"text-right",children:s.jsx("div",{className:"font-medium",children:xe(N.price*N.quantity)})})]})})]})})},N.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:xe(i.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),i.discount_amount>0&&s.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[s.jsxs("span",{children:["Diskon Voucher ",v!=null&&v.code?`(${v.code})`:""]}),s.jsxs("span",{children:["-",xe(i.discount_amount)]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsxs("span",{children:["Pengiriman (",p==null?void 0:p.name,")"]}),s.jsx("span",{children:xe((p==null?void 0:p.cost)||0)})]}),s.jsx(sa,{className:"my-2"}),s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:xe(i.total)})]})]})]}),l&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),s.jsx(_e,{children:s.jsxs(je,{className:"p-3",children:[s.jsx("p",{className:"font-medium",children:l.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),s.jsx(_e,{children:s.jsxs(je,{className:"p-3 flex items-center",children:[i.paymentMethod==="bank-transfer"&&s.jsxs(s.Fragment,{children:[s.jsx(LM,{className:"h-5 w-5 mr-3 text-flame-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Transfer Bank"}),d&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.bank," - ",d.accountNumber]})]})]}),i.paymentMethod==="credit-card"&&s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[s.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),s.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),i.paymentMethod==="cod"&&s.jsxs(s.Fragment,{children:[s.jsx(FC,{className:"h-5 w-5 mr-3 text-flame-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),i.paymentMethod==="qris"&&s.jsxs(s.Fragment,{children:[s.jsx(xS,{className:"h-5 w-5 mr-3 text-flame-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"QRIS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),s.jsx("div",{className:"flex space-x-3 mb-6",children:s.jsxs(G,{onClick:()=>g(!0),className:"flex-1",children:[s.jsx(PC,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),s.jsx(br,{open:f,onOpenChange:g,children:s.jsxs(mr,{className:"max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{children:"Struk Pesanan"})}),s.jsxs("div",{ref:a,className:"receipt-container",children:[s.jsxs("div",{className:"receipt-header",children:[s.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),s.jsxs("div",{className:"receipt-store-info",children:[s.jsx("p",{className:"receipt-store-name",children:s.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),s.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),s.jsx("p",{children:"Telp: 0813-9458-6882"})]}),s.jsx("div",{className:"receipt-border"}),s.jsx("p",{className:"mt-3 mb-1",children:s.jsxs("strong",{children:["Pesanan #",i.id.substring(0,8)]})}),s.jsx("p",{children:new Date(i.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&s.jsxs("div",{className:"receipt-customer-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),s.jsx("p",{children:l.street}),s.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),s.jsx("div",{className:"receipt-border"}),s.jsx("div",{className:"receipt-items",children:i.items.map((N,S)=>s.jsxs("div",{className:"receipt-item",children:[s.jsxs("div",{children:[s.jsx("p",{children:N.productName}),s.jsxs("p",{children:["Jml: ",N.quantity," × ",xe(N.price)]})]}),s.jsx("span",{children:xe(N.quantity*N.price)})]},S))}),s.jsx("div",{className:"receipt-border"}),s.jsxs("div",{children:[s.jsxs("div",{className:"receipt-item",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:xe(i.items.reduce((N,S)=>N+S.price*S.quantity,0))})]}),i.discount_amount>0&&s.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[s.jsxs("span",{children:["Diskon Voucher ",v!=null&&v.code?`(${v.code})`:""]}),s.jsxs("span",{children:["-",xe(i.discount_amount)]})]}),p&&s.jsxs("div",{className:"receipt-item",children:[s.jsxs("span",{children:["Pengiriman (",p.name,")"]}),s.jsx("span",{children:xe(p.cost)})]}),s.jsxs("div",{className:"receipt-total",children:[s.jsx("span",{children:"Total"}),s.jsx("span",{children:xe(i.total)})]})]}),s.jsxs("div",{className:"receipt-payment-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Metode Pembayaran:"})," ",i.paymentMethod==="bank-transfer"?"Transfer Bank":i.paymentMethod==="qris"?"QRIS":i.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),i.paymentMethod==="bank-transfer"&&d&&s.jsxs("p",{children:["Bank: ",d.bank," - ",d.accountNumber]})]}),s.jsx("div",{className:"receipt-barcode",children:s.jsxs("p",{children:["*******",i.id.substring(0,8),"*******"]})}),s.jsx("div",{className:"receipt-thank-you",children:s.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),s.jsxs("div",{className:"receipt-footer",children:[s.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),s.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),s.jsx("p",{children:"Terima kasih"})]}),s.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[s.jsx(G,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),s.jsx(G,{onClick:C,className:"w-full bg-green-600 hover:bg-green-700",disabled:y,children:y?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):s.jsx(Jt,{children:s.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[s.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),s.jsx(G,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function Vxe(){const{user:t}=Hr(),[e,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{async function c(){if(t){a(!0);try{const{data:u,error:A}=await Z.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(A)throw A;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{a(!1)}}}c()},[t]);const i=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return s.jsx(_t,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return s.jsx(_t,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return s.jsx(_t,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return s.jsx(_t,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return s.jsx(_t,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return s.jsx(_t,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return s.jsx(_t,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return s.jsxs(Jt,{children:[s.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[s.jsx(mt,{to:"/",className:"text-charcoal-600 mr-2",children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),s.jsx("div",{className:"p-4",children:n?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[s.jsx(rr,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[s.jsx(fo,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),s.jsx(G,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:s.jsx(mt,{to:"/",children:"Mulai Belanja"})})]}):s.jsx("div",{className:"space-y-4",children:e.map(c=>s.jsx(mt,{to:`/order/${c.id}`,children:s.jsx(_e,{className:"hover:border-flame-200 transition-colors",children:s.jsxs(je,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(fo,{className:"h-5 w-5 text-flame-500 mr-2"}),s.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[s.jsx($M,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),s.jsx("div",{className:"text-sm",children:i(c.created_at)})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),s.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),s.jsx("div",{className:"font-medium text-flame-700",children:xe(c.total)})]})]})})},c.id))})})]})}const Kxe=ya({email:St().email({message:"Silakan masukkan alamat email yang valid"}),password:St().min(1,{message:"Kata sandi wajib diisi"})}),zxe=ya({email:St().email({message:"Silakan masukkan alamat email yang valid"})}),Gxe=()=>{const t=Ot(),{toast:e}=ni(),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(!1),c=fa({resolver:ma(Kxe),defaultValues:{email:"",password:""}}),u=fa({resolver:ma(zxe),defaultValues:{email:""}}),A=async h=>{i(!0);try{const{error:f}=await Z.auth.resetPasswordForEmail(h.email,{redirectTo:`${window.location.origin}/reset-password`});if(f)throw f;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(f){e({title:"Gagal mengirimkan reset password",description:f.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{i(!1)}},d=async h=>{n(!0);try{const{error:f}=await Z.auth.signInWithPassword({email:h.email,password:h.password});if(f)throw f;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(f){console.error("Login error:",f),e({title:"Login gagal",description:f.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return s.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),s.jsx(ia,{...c,children:s.jsxs("form",{onSubmit:c.handleSubmit(d),className:"space-y-4",children:[s.jsx(Ve,{control:c.control,name:"email",render:({field:h})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",placeholder:"namaemailmu@email.com",...h})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:c.control,name:"password",render:({field:h})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kata Sandi"}),s.jsx($e,{children:s.jsx(he,{type:"password",placeholder:"••••••••",...h})}),s.jsx(Ge,{})]})}),s.jsx("div",{className:"text-right",children:s.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),s.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",s.jsx(mt,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),s.jsx(br,{open:o,onOpenChange:l,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Reset Password"}),s.jsx($n,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),s.jsx(ia,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(A),className:"space-y-4 py-4",children:[s.jsx(Ve,{control:u.control,name:"email",render:({field:h})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...h})}),s.jsx(Ge,{})]})}),s.jsxs(wn,{className:"sm:justify-between mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),s.jsx(G,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},s9=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},Wxe=ya({name:St().min(2,{message:"Nama harus minimal 2 karakter"}),email:St().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:St().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:St().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:St()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),qxe=()=>{const t=Ot(),{toast:e}=ni(),{register:r}=Hr(),[n,a]=x.useState(!1),i=fa({resolver:ma(Wxe),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;a(!0);try{const u=s9(l.whatsapp);await r(l.name,l.email,l.password);const{data:A,error:d}=await Z.auth.getSession();if(d)throw d;if((c=A==null?void 0:A.session)!=null&&c.user){const{error:h}=await Z.from("profiles").update({phone:u}).eq("id",A.session.user.id);h&&(console.error("Error saving WhatsApp number to profile:",h),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{a(!1)}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),s.jsx(ia,{...i,children:s.jsxs("form",{onSubmit:i.handleSubmit(o),className:"space-y-4",children:[s.jsx(Ve,{control:i.control,name:"name",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama"}),s.jsx($e,{children:s.jsx(he,{placeholder:"Nama Anda",...l})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:i.control,name:"email",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:i.control,name:"whatsapp",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nomor WhatsApp"}),s.jsx($e,{children:s.jsx(he,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:i.control,name:"password",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kata Sandi"}),s.jsx($e,{children:s.jsx(he,{type:"password",placeholder:"••••••••",...l})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:i.control,name:"confirmPassword",render:({field:l})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Konfirmasi Kata Sandi"}),s.jsx($e,{children:s.jsx(he,{type:"password",placeholder:"••••••••",...l})}),s.jsx(Ge,{})]})}),s.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",s.jsx(mt,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},Xxe=ya({email:St().email({message:"Please enter a valid email address"}),password:St().min(1,{message:"Password is required"})}),Yxe=()=>{const t=Ot(),{toast:e}=ni(),{user:r,profile:n}=Hr(),[a,i]=x.useState(!1);x.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=fa({resolver:ma(Xxe),defaultValues:{email:"",password:""}}),l=async c=>{i(!0);try{const{error:u}=await Z.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{i(!1)}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),s.jsx(ia,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[s.jsx(Ve,{control:o.control,name:"email",render:({field:c})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",placeholder:"Your email",...c})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:o.control,name:"password",render:({field:c})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Password"}),s.jsx($e,{children:s.jsx(he,{type:"password",placeholder:"Your password",...c})}),s.jsx(Ge,{})]})}),s.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:a,children:a?"Logging in...":"Login"})]})})]})})},Jxe=ya({name:St().min(2,{message:"Name must be at least 2 characters"}),email:St().email({message:"Please enter a valid email address"}),password:St().min(8,{message:"Password must be at least 8 characters"}),role:_d(["admin","manager"],{required_error:"Please select a role"})}),Zxe=()=>{const t=Ot(),{toast:e}=ni(),[r,n]=x.useState(!1),a=fa({resolver:ma(Jxe),defaultValues:{name:"",email:"",password:"",role:"manager"}}),i=async o=>{n(!0);try{const{error:l,data:c}=await Z.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await Z.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return s.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),s.jsx(ia,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(i),className:"space-y-4",children:[s.jsx(Ve,{control:a.control,name:"name",render:({field:o})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Name"}),s.jsx($e,{children:s.jsx(he,{placeholder:"Your name",...o})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:a.control,name:"email",render:({field:o})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",placeholder:"Your email",...o})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:a.control,name:"password",render:({field:o})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Password"}),s.jsx($e,{children:s.jsx(he,{type:"password",placeholder:"Your password",...o})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:a.control,name:"role",render:({field:o})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Role"}),s.jsxs(Rn,{onValueChange:o.onChange,defaultValue:o.value,children:[s.jsx($e,{children:s.jsx(vn,{children:s.jsx(Un,{placeholder:"Select a role"})})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"admin",children:"Admin"}),s.jsx(vt,{value:"manager",children:"Manager"})]})]}),s.jsx(Ge,{})]})}),s.jsx(G,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",s.jsx(mt,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function sr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function wo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function eve(t,e){const r=sr(t);return isNaN(e)?wo(t,NaN):(r.setDate(r.getDate()+e),r)}const i9=6048e5,tve=864e5,_0=43200,YF=1440;let rve={};function rg(){return rve}function _u(t,e){var l,c,u,A;const r=rg(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.weekStartsOn)??0,a=sr(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function gv(t){return _u(t,{weekStartsOn:1})}function o9(t){const e=sr(t),r=e.getFullYear(),n=wo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=gv(n),i=wo(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=gv(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function xv(t){const e=sr(t);return e.setHours(0,0,0,0),e}function vv(t){const e=sr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function nve(t,e){const r=xv(t),n=xv(e),a=+r-vv(r),i=+n-vv(n);return Math.round((a-i)/tve)}function ave(t){const e=o9(t),r=wo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),gv(r)}function dx(t,e){const r=sr(t),n=sr(e),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}function ng(t){return wo(t,Date.now())}function l9(t,e){const r=xv(t),n=xv(e);return+r==+n}function sve(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ive(t){if(!sve(t)&&typeof t!="number")return!1;const e=sr(t);return!isNaN(Number(e))}function ove(t,e){const r=sr(t),n=sr(e),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function lve(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function cve(t,e){return+sr(t)-+sr(e)}function uve(t){const e=sr(t);return e.setHours(23,59,59,999),e}function Ave(t){const e=sr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function dve(t){const e=sr(t);return+uve(e)==+Ave(e)}function hve(t,e){const r=sr(t),n=sr(e),a=dx(r,n),i=Math.abs(ove(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);let l=dx(r,n)===-a;dve(sr(t))&&i===1&&dx(t,n)===1&&(l=!1),o=a*(i-Number(l))}return o===0?0:o}function fve(t,e,r){const n=cve(t,e)/1e3;return lve(r==null?void 0:r.roundingMethod)(n)}function mve(t){const e=sr(t),r=wo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const pve={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gve=(t,e,r)=>{let n;const a=pve[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function UA(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const xve={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yve={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bve={date:UA({formats:xve,defaultWidth:"full"}),time:UA({formats:vve,defaultWidth:"full"}),dateTime:UA({formats:yve,defaultWidth:"full"})},wve={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bve=(t,e,r,n)=>wve[t];function fi(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Cve={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_ve={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jve={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Eve={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nve={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kve=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tve={ordinalNumber:kve,era:fi({values:Cve,defaultWidth:"wide"}),quarter:fi({values:_ve,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fi({values:jve,defaultWidth:"wide"}),day:fi({values:Eve,defaultWidth:"wide"}),dayPeriod:fi({values:Sve,defaultWidth:"wide",formattingValues:Nve,defaultFormattingWidth:"wide"})};function mi(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Pve(l,d=>d.test(o)):Ive(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const A=e.slice(o.length);return{value:u,rest:A}}}function Ive(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Pve(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function c9(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const Fve=/^(\d+)(th|st|nd|rd)?/i,Dve=/\d+/i,Ove={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rve={any:[/^b/i,/^(a|c)/i]},Uve={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mve={any:[/1/i,/2/i,/3/i,/4/i]},Qve={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ve={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hve={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Vve={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kve={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zve={ordinalNumber:c9({matchPattern:Fve,parsePattern:Dve,valueCallback:t=>parseInt(t,10)}),era:mi({matchPatterns:Ove,defaultMatchWidth:"wide",parsePatterns:Rve,defaultParseWidth:"any"}),quarter:mi({matchPatterns:Uve,defaultMatchWidth:"wide",parsePatterns:Mve,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mi({matchPatterns:Qve,defaultMatchWidth:"wide",parsePatterns:Lve,defaultParseWidth:"any"}),day:mi({matchPatterns:$ve,defaultMatchWidth:"wide",parsePatterns:Hve,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:Vve,defaultMatchWidth:"any",parsePatterns:Kve,defaultParseWidth:"any"})},u9={code:"en-US",formatDistance:gve,formatLong:bve,formatRelative:Bve,localize:Tve,match:zve,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Gve(t){const e=sr(t);return nve(e,mve(e))+1}function Wve(t){const e=sr(t),r=+gv(e)-+ave(e);return Math.round(r/i9)+1}function A9(t,e){var A,d,h,f;const r=sr(t),n=r.getFullYear(),a=rg(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(A=e==null?void 0:e.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(h=a.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=wo(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=_u(o,e),c=wo(t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=_u(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function qve(t,e){var l,c,u,A;const r=rg(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(u=r.locale)==null?void 0:u.options)==null?void 0:A.firstWeekContainsDate)??1,a=A9(t,e),i=wo(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),_u(i,e)}function Xve(t,e){const r=sr(t),n=+_u(r,e)-+qve(r,e);return Math.round(n/i9)+1}function cr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ho={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return cr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):cr(r+1,2)},d(t,e){return cr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return cr(t.getHours()%12||12,e.length)},H(t,e){return cr(t.getHours(),e.length)},m(t,e){return cr(t.getMinutes(),e.length)},s(t,e){return cr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return cr(a,e.length)}},dA={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},JF={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Ho.y(t,e)},Y:function(t,e,r,n){const a=A9(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return cr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):cr(i,e.length)},R:function(t,e){const r=o9(t);return cr(r,e.length)},u:function(t,e){const r=t.getFullYear();return cr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return cr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return cr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ho.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return cr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Xve(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):cr(a,e.length)},I:function(t,e,r){const n=Wve(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):cr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ho.d(t,e)},D:function(t,e,r){const n=Gve(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):cr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return cr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return cr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return cr(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=dA.noon:n===0?a=dA.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=dA.evening:n>=12?a=dA.afternoon:n>=4?a=dA.morning:a=dA.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ho.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ho.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):cr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ho.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ho.s(t,e)},S:function(t,e){return Ho.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return eD(n);case"XXXX":case"XX":return Nc(n);case"XXXXX":case"XXX":default:return Nc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return eD(n);case"xxxx":case"xx":return Nc(n);case"xxxxx":case"xxx":default:return Nc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ZF(n,":");case"OOOO":default:return"GMT"+Nc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ZF(n,":");case"zzzz":default:return"GMT"+Nc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return cr(n,e.length)},T:function(t,e,r){const n=t.getTime();return cr(n,e.length)}};function ZF(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+cr(i,2)}function eD(t,e){return t%60===0?(t>0?"-":"+")+cr(Math.abs(t)/60,2):Nc(t,e)}function Nc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=cr(Math.trunc(n/60),2),i=cr(n%60,2);return r+a+e+i}const tD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},d9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Yve=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return tD(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",tD(n,e)).replace("{{time}}",d9(a,e))},Jve={p:d9,P:Yve},Zve=/^D+$/,eye=/^Y+$/,tye=["D","DD","YY","YYYY"];function rye(t){return Zve.test(t)}function nye(t){return eye.test(t)}function aye(t,e,r){const n=sye(t,e,r);if(console.warn(n),tye.includes(t))throw new RangeError(n)}function sye(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iye=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oye=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lye=/^'([^]*?)'?$/,cye=/''/g,uye=/[a-zA-Z]/;function bn(t,e,r){var A,d,h,f,g,p,m,y;const n=rg(),a=(r==null?void 0:r.locale)??n.locale??u9,i=(r==null?void 0:r.firstWeekContainsDate)??((d=(A=r==null?void 0:r.locale)==null?void 0:A.options)==null?void 0:d.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(h=n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((p=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,l=sr(t);if(!ive(l))throw new RangeError("Invalid time value");let c=e.match(oye).map(b=>{const v=b[0];if(v==="p"||v==="P"){const B=Jve[v];return B(b,a.formatLong)}return b}).join("").match(iye).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const v=b[0];if(v==="'")return{isToken:!1,value:Aye(b)};if(JF[v])return{isToken:!0,value:b};if(v.match(uye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(b=>{if(!b.isToken)return b.value;const v=b.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&nye(v)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&rye(v))&&aye(v,e,String(t));const B=JF[v[0]];return B(l,v,a.localize,u)}).join("")}function Aye(t){const e=t.match(lye);return e?e[1].replace(cye,"'"):t}function dye(t,e,r){const n=rg(),a=(r==null?void 0:r.locale)??n.locale??u9,i=2520,o=dx(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=sr(e),u=sr(t)):(c=sr(t),u=sr(e));const A=fve(u,c),d=(vv(u)-vv(c))/1e3,h=Math.round((A-d)/60);let f;if(h<2)return r!=null&&r.includeSeconds?A<5?a.formatDistance("lessThanXSeconds",5,l):A<10?a.formatDistance("lessThanXSeconds",10,l):A<20?a.formatDistance("lessThanXSeconds",20,l):A<40?a.formatDistance("halfAMinute",0,l):A<60?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",1,l):h===0?a.formatDistance("lessThanXMinutes",1,l):a.formatDistance("xMinutes",h,l);if(h<45)return a.formatDistance("xMinutes",h,l);if(h<90)return a.formatDistance("aboutXHours",1,l);if(h<YF){const g=Math.round(h/60);return a.formatDistance("aboutXHours",g,l)}else{if(h<i)return a.formatDistance("xDays",1,l);if(h<_0){const g=Math.round(h/YF);return a.formatDistance("xDays",g,l)}else if(h<_0*2)return f=Math.round(h/_0),a.formatDistance("aboutXMonths",f,l)}if(f=hve(u,c),f<12){const g=Math.round(h/_0);return a.formatDistance("xMonths",g,l)}else{const g=f%12,p=Math.trunc(f/12);return g<3?a.formatDistance("aboutXYears",p,l):g<9?a.formatDistance("overXYears",p,l):a.formatDistance("almostXYears",p+1,l)}}function hye(t,e){return dye(t,ng(t),e)}function fye(t,e,r){const n=_u(t,r),a=_u(e,r);return+n==+a}function mye(t,e){const r=sr(t),n=sr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function pye(t){return mye(t,ng(t))}function gye(t,e){return fye(t,ng(t),e)}function xye(t){return l9(t,ng(t))}function vye(t,e){return eve(t,-1)}function yye(t){return l9(t,vye(ng(t)))}const bye={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},wye=(t,e,r)=>{let n;const a=bye[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},Bye={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},Cye={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},_ye={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jye={date:UA({formats:Bye,defaultWidth:"full"}),time:UA({formats:Cye,defaultWidth:"full"}),dateTime:UA({formats:_ye,defaultWidth:"full"})},Eye={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},Sye=(t,e,r,n)=>Eye[t],Nye={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},kye={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},Tye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},Iye={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},Pye={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Fye={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Dye=(t,e)=>"ke-"+Number(t),Oye={ordinalNumber:Dye,era:fi({values:Nye,defaultWidth:"wide"}),quarter:fi({values:kye,defaultWidth:"wide",argumentCallback:t=>t-1}),month:fi({values:Tye,defaultWidth:"wide"}),day:fi({values:Iye,defaultWidth:"wide"}),dayPeriod:fi({values:Pye,defaultWidth:"wide",formattingValues:Fye,defaultFormattingWidth:"wide"})},Rye=/^ke-(\d+)?/i,Uye=/\d+/i,Mye={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},Qye={any:[/^s/i,/^(m|e)/i]},Lye={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},$ye={any:[/1/i,/2/i,/3/i,/4/i]},Hye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},Vye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kye={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},zye={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},Gye={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Wye={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},qye={ordinalNumber:c9({matchPattern:Rye,parsePattern:Uye,valueCallback:t=>parseInt(t,10)}),era:mi({matchPatterns:Mye,defaultMatchWidth:"wide",parsePatterns:Qye,defaultParseWidth:"any"}),quarter:mi({matchPatterns:Lye,defaultMatchWidth:"wide",parsePatterns:$ye,defaultParseWidth:"any",valueCallback:t=>t+1}),month:mi({matchPatterns:Hye,defaultMatchWidth:"wide",parsePatterns:Vye,defaultParseWidth:"any"}),day:mi({matchPatterns:Kye,defaultMatchWidth:"wide",parsePatterns:zye,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:Gye,defaultMatchWidth:"any",parsePatterns:Wye,defaultParseWidth:"any"})},ps={code:"id",formatDistance:wye,formatLong:jye,formatRelative:Sye,localize:Oye,match:qye,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Xye({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:a}){const{profile:i}=Hr(),o=(i==null?void 0:i.role)==="admin"?r:!r;return s.jsx("div",{className:fe("flex mb-4",o?"justify-end":"justify-start"),children:s.jsxs("div",{className:fe("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:fe("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),s.jsx("span",{className:fe("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:hye(new Date(e),{addSuffix:!0,locale:ps})})]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),a&&s.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:s.jsx("div",{className:fe("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:s.jsxs("div",{className:fe("font-medium",o?"text-white":"text-flame-600"),children:["📌 Pesanan Disematkan: #",a.orderId.substring(0,8)]})})})]})})}const Wl=x.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Wl.displayName="Textarea";var Lb="Popover",[h9,FKe]=Hn(Lb,[ih]),ag=ih(),[Yye,nc]=h9(Lb),f9=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=t,l=ag(e),c=x.useRef(null),[u,A]=x.useState(!1),[d,h]=ys({prop:n,defaultProp:a??!1,onChange:i,caller:Lb});return s.jsx(TS,{...l,children:s.jsx(Yye,{scope:e,contentId:Bi(),triggerRef:c,open:d,onOpenChange:h,onOpenToggle:x.useCallback(()=>h(f=>!f),[h]),hasCustomAnchor:u,onCustomAnchorAdd:x.useCallback(()=>A(!0),[]),onCustomAnchorRemove:x.useCallback(()=>A(!1),[]),modal:o,children:r})})};f9.displayName=Lb;var m9="PopoverAnchor",Jye=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nc(m9,r),i=ag(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=a;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Py,{...i,...n,ref:e})});Jye.displayName=m9;var p9="PopoverTrigger",g9=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nc(p9,r),i=ag(r),o=dt(e,a.triggerRef),l=s.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":w9(a.open),...n,ref:o,onClick:Re(t.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:s.jsx(Py,{asChild:!0,...i,children:l})});g9.displayName=p9;var hN="PopoverPortal",[Zye,ebe]=h9(hN,{forceMount:void 0}),x9=t=>{const{__scopePopover:e,forceMount:r,children:n,container:a}=t,i=nc(hN,e);return s.jsx(Zye,{scope:e,forceMount:r,children:s.jsx(xa,{present:r||i.open,children:s.jsx(Np,{asChild:!0,container:a,children:n})})})};x9.displayName=hN;var Ed="PopoverContent",v9=x.forwardRef((t,e)=>{const r=ebe(Ed,t.__scopePopover),{forceMount:n=r.forceMount,...a}=t,i=nc(Ed,t.__scopePopover);return s.jsx(xa,{present:n||i.open,children:i.modal?s.jsx(rbe,{...a,ref:e}):s.jsx(nbe,{...a,ref:e})})});v9.displayName=Ed;var tbe=cu("PopoverContent.RemoveScroll"),rbe=x.forwardRef((t,e)=>{const r=nc(Ed,t.__scopePopover),n=x.useRef(null),a=dt(e,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return M2(o)},[]),s.jsx(gb,{as:tbe,allowPinchZoom:!0,children:s.jsx(y9,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Re(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Re(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Re(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),nbe=x.forwardRef((t,e)=>{const r=nc(Ed,t.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(y9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),y9=x.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:A,...d}=t,h=nc(Ed,r),f=ag(r);return U2(),s.jsx(mb,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(eh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:A,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:s.jsx(IS,{"data-state":w9(h.open),role:"dialog",id:h.contentId,...f,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),b9="PopoverClose",abe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=nc(b9,r);return s.jsx(Ye.button,{type:"button",...n,ref:e,onClick:Re(t.onClick,()=>a.onOpenChange(!1))})});abe.displayName=b9;var sbe="PopoverArrow",ibe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,a=ag(r);return s.jsx(PS,{...a,...n,ref:e})});ibe.displayName=sbe;function w9(t){return t?"open":"closed"}var obe=f9,lbe=g9,cbe=x9,B9=v9;const ube=obe,Abe=lbe,C9=x.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},a)=>s.jsx(cbe,{children:s.jsx(B9,{ref:a,align:e,sideOffset:r,className:fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));C9.displayName=B9.displayName;function dbe(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var fN="ScrollArea",[_9,DKe]=Hn(fN),[hbe,Bs]=_9(fN),j9=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=t,[l,c]=x.useState(null),[u,A]=x.useState(null),[d,h]=x.useState(null),[f,g]=x.useState(null),[p,m]=x.useState(null),[y,b]=x.useState(0),[v,B]=x.useState(0),[_,j]=x.useState(!1),[C,E]=x.useState(!1),N=dt(e,k=>c(k)),S=mh(a);return s.jsx(hbe,{scope:r,type:n,dir:S,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:A,content:d,onContentChange:h,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:_,onScrollbarXEnabledChange:j,scrollbarY:p,onScrollbarYChange:m,scrollbarYEnabled:C,onScrollbarYEnabledChange:E,onCornerWidthChange:b,onCornerHeightChange:B,children:s.jsx(Ye.div,{dir:S,...o,ref:N,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":v+"px",...t.style}})})});j9.displayName=fN;var E9="ScrollAreaViewport",S9=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=t,o=Bs(E9,r),l=x.useRef(null),c=dt(e,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});S9.displayName=E9;var Ui="ScrollAreaScrollbar",mN=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Bs(Ui,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=t.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(fbe,{...n,ref:e,forceMount:r}):a.type==="scroll"?s.jsx(mbe,{...n,ref:e,forceMount:r}):a.type==="auto"?s.jsx(N9,{...n,ref:e,forceMount:r}):a.type==="always"?s.jsx(pN,{...n,ref:e}):null});mN.displayName=Ui;var fbe=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Bs(Ui,t.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},A=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",A),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",A)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(xa,{present:r||i,children:s.jsx(N9,{"data-state":i?"visible":"hidden",...n,ref:e})})}),mbe=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=Bs(Ui,t.__scopeScrollArea),i=t.orientation==="horizontal",o=Hb(()=>c("SCROLL_END"),100),[l,c]=dbe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),x.useEffect(()=>{const u=a.viewport,A=i?"scrollLeft":"scrollTop";if(u){let d=u[A];const h=()=>{const f=u[A];d!==f&&(c("SCROLL"),o()),d=f};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(xa,{present:r||l!=="hidden",children:s.jsx(pN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Re(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Re(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),N9=x.forwardRef((t,e)=>{const r=Bs(Ui,t.__scopeScrollArea),{forceMount:n,...a}=t,[i,o]=x.useState(!1),l=t.orientation==="horizontal",c=Hb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,A=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:A)}},10);return Sd(r.viewport,c),Sd(r.content,c),s.jsx(xa,{present:n||i,children:s.jsx(pN,{"data-state":i?"visible":"hidden",...a,ref:e})})}),pN=x.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,a=Bs(Ui,t.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=F9(l.viewport,l.content),A={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,f){return bbe(h,o.current,l,f)}return r==="horizontal"?s.jsx(pbe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,f=rD(h,l,a.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=d(h,a.dir))}}):r==="vertical"?s.jsx(gbe,{...A,ref:e,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,f=rD(h,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=d(h))}}):null}),pbe=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Bs(Ui,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(e,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(T9,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":$b(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.x),onDragScroll:A=>t.onDragScroll(A.x),onWheelScroll:(A,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+A.deltaX;t.onWheelScroll(h),O9(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:bv(o.paddingLeft),paddingEnd:bv(o.paddingRight)}})}})}),gbe=x.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...a}=t,i=Bs(Ui,t.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=dt(e,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(T9,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":$b(r)+"px",...t.style},onThumbPointerDown:A=>t.onThumbPointerDown(A.y),onDragScroll:A=>t.onDragScroll(A.y),onWheelScroll:(A,d)=>{if(i.viewport){const h=i.viewport.scrollTop+A.deltaY;t.onWheelScroll(h),O9(h,d)&&A.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:bv(o.paddingTop),paddingEnd:bv(o.paddingBottom)}})}})}),[xbe,k9]=_9(Ui),T9=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:A,onResize:d,...h}=t,f=Bs(Ui,r),[g,p]=x.useState(null),m=dt(e,N=>p(N)),y=x.useRef(null),b=x.useRef(""),v=f.viewport,B=n.content-n.viewport,_=nn(A),j=nn(c),C=Hb(d,10);function E(N){if(y.current){const S=N.clientX-y.current.left,k=N.clientY-y.current.top;u({x:S,y:k})}}return x.useEffect(()=>{const N=S=>{const k=S.target;(g==null?void 0:g.contains(k))&&_(S,B)};return document.addEventListener("wheel",N,{passive:!1}),()=>document.removeEventListener("wheel",N,{passive:!1})},[v,g,B,_]),x.useEffect(j,[n,j]),Sd(g,C),Sd(f.content,C),s.jsx(xbe,{scope:r,scrollbar:g,hasThumb:a,onThumbChange:nn(i),onThumbPointerUp:nn(o),onThumbPositionChange:j,onThumbPointerDown:nn(l),children:s.jsx(Ye.div,{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Re(t.onPointerDown,N=>{N.button===0&&(N.target.setPointerCapture(N.pointerId),y.current=g.getBoundingClientRect(),b.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),E(N))}),onPointerMove:Re(t.onPointerMove,E),onPointerUp:Re(t.onPointerUp,N=>{const S=N.target;S.hasPointerCapture(N.pointerId)&&S.releasePointerCapture(N.pointerId),document.body.style.webkitUserSelect=b.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),yv="ScrollAreaThumb",I9=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,a=k9(yv,t.__scopeScrollArea);return s.jsx(xa,{present:r||a.hasThumb,children:s.jsx(vbe,{ref:e,...n})})}),vbe=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...a}=t,i=Bs(yv,r),o=k9(yv,r),{onThumbPositionChange:l}=o,c=dt(e,d=>o.onThumbChange(d)),u=x.useRef(void 0),A=Hb(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(A(),!u.current){const f=wbe(d,l);u.current=f,l()}};return l(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,A,l]),s.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Re(t.onPointerDownCapture,d=>{const f=d.target.getBoundingClientRect(),g=d.clientX-f.left,p=d.clientY-f.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Re(t.onPointerUp,o.onThumbPointerUp)})});I9.displayName=yv;var gN="ScrollAreaCorner",P9=x.forwardRef((t,e)=>{const r=Bs(gN,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(ybe,{...t,ref:e}):null});P9.displayName=gN;var ybe=x.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,a=Bs(gN,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return Sd(a.scrollbarX,()=>{var d;const A=((d=a.scrollbarX)==null?void 0:d.offsetHeight)||0;a.onCornerHeightChange(A),c(A)}),Sd(a.scrollbarY,()=>{var d;const A=((d=a.scrollbarY)==null?void 0:d.offsetWidth)||0;a.onCornerWidthChange(A),o(A)}),u?s.jsx(Ye.div,{...n,ref:e,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bv(t){return t?parseInt(t,10):0}function F9(t,e){const r=t/e;return isNaN(r)?0:r}function $b(t){const e=F9(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function bbe(t,e,r,n="ltr"){const a=$b(r),i=a/2,o=e||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,A=r.content-r.viewport,d=n==="ltr"?[0,A]:[A*-1,0];return D9([c,u],d)(t)}function rD(t,e,r="ltr"){const n=$b(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-a,o=e.content-e.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Om(t,c);return D9([0,o],[0,l])(u)}function D9(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function O9(t,e){return t>0&&t<e}var wbe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function a(){const i={left:t.scrollLeft,top:t.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&e(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Hb(t,e){const r=nn(t),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Sd(t,e){const r=nn(e);Yr(()=>{let n=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(t),()=>{window.cancelAnimationFrame(n),a.unobserve(t)}}},[t,r])}var R9=j9,Bbe=S9,Cbe=P9;const ju=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(R9,{ref:n,className:fe("relative overflow-hidden",t),...r,children:[s.jsx(Bbe,{className:"h-full w-full rounded-[inherit]",children:e}),s.jsx(U9,{}),s.jsx(Cbe,{})]}));ju.displayName=R9.displayName;const U9=x.forwardRef(({className:t,orientation:e="vertical",...r},n)=>s.jsx(mN,{ref:n,orientation:e,className:fe("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:s.jsx(I9,{className:"relative flex-1 rounded-full bg-border"})}));U9.displayName=mN.displayName;function _be({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:a}){const[i,o]=x.useState(""),[l,c]=x.useState(null),u=()=>{i.trim()&&!a&&(t(i.trim(),l),o(""),c(null))},A=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),u())};return s.jsxs("div",{className:`border-t p-3 bg-background ${n} ${a?"opacity-50 pointer-events-none":""}`,children:[l&&s.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[s.jsxs("span",{children:["📌 Pesanan #",l.substring(0,8)," disematkan"]}),s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:a,children:"Hapus"})]}),s.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&s.jsxs(ube,{children:[s.jsx(Abe,{asChild:!0,children:s.jsx(G,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:a,children:s.jsx(HX,{className:"h-5 w-5"})})}),s.jsxs(C9,{className:"w-64 p-2",align:"start",side:"top",children:[s.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),s.jsx(ju,{className:"h-64",children:s.jsx("div",{className:"space-y-1 mt-1",children:r.map(d=>s.jsx(G,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(d.id),children:s.jsxs("div",{className:"text-xs",children:[s.jsxs("div",{className:"font-medium",children:["Pesanan #",d.id.substring(0,8)]}),s.jsx("div",{className:"text-muted-foreground",children:new Date(d.date).toLocaleDateString()})]})},d.id))})})]})]}),s.jsx(Wl,{placeholder:"Ketik pesan...",value:i,onChange:d=>o(d.target.value),onKeyDown:A,className:"min-h-[44px] resize-none",rows:1,disabled:a}),s.jsx(G,{onClick:u,disabled:!i.trim()||e||a,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:s.jsx(XM,{className:"h-5 w-5"})})]})]})}function Sj(t){const e=x.useRef(null);return x.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const nD=N2(fh),jbe=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await Z.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:a}=await Z.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(a)throw console.error("Error fetching session data:",a),a;const i={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:A}=await Z.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(A)throw console.error("Error fetching admin data:",A),A;if(u!=null&&u.fcm_token)return await tP(Y4(nD,"notifications"),{...i,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",i),!0}const{data:o,error:l}=await Z.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(tP(Y4(nD,"notifications"),{...i,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await yue();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const d=`${window.location.origin}/admin/chat?session=${t.session_id}`,h=`📨 Pesan baru dari ${i.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${d}`,f=u.map(g=>fL(g,h));await Promise.all(f),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",i),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},aD=(t,e,r,n)=>{const a=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:a?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:a,orderInfo:t.order_info}};function M9({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:a}=Hr(),i=Ot();XQ();const o=x.useRef(null),[l,c]=x.useState([]),[u,A]=x.useState(null),[d,h]=x.useState(!0),[f,g]=x.useState(!1),[p,m]=x.useState(e),y=Sj("/sounds/new_chat_message_sound.mp3"),{data:b}=_ee({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:_,error:j}=await Z.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(j)throw j;return _},enabled:!!n&&!r});x.useEffect(()=>{if(!n||!a){h(!1);return}(async()=>{h(!0);try{let j=null;if(r){if(!t){me({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),i("/admin/chats");return}const{data:C,error:E}=await Z.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(E)throw E;if(C&&C.length>0){if(j=C[0],j.admin_id!==n.id&&j.status==="open"){const{data:N,error:S}=await Z.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",j.id).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to retrieve session after admin assignment update for session ID:",j.id),new Error("Failed to retrieve session after admin assignment.");j=N}}else{me({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),A(null),c([]),h(!1);return}}else{const{data:C,error:E}=await Z.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(E)throw E;if(C&&C.length>0)j=C[0];else{const{data:N,error:S}=await Z.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(S)throw S;if(!N)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");j=N}}A(j)}catch(j){console.error("Error managing session:",j),me({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${j.message}`,variant:"destructive"}),A(null)}finally{h(!1)}})()},[n,a,r,t,i]),x.useEffect(()=>{if(!u||!n||!a){c([]);return}(async()=>{try{const{data:j,error:C}=await Z.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(C)throw C;const E=r?p:a.name,N=r?a.name:"Dukungan",S=j.map(k=>aD(k,n.id,N||"Support",E||"Customer"));c(S)}catch(j){console.error("Error fetching messages:",j),me({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,a,r,p]),x.useEffect(()=>{if(!u||!n||!a)return;const _=Z.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},j=>{const C=j.new;if(C.sender_id===n.id&&l.some(S=>S.id===C.id||S.content===C.content&&S.senderId===C.sender_id&&Math.abs(new Date(S.timestamp).getTime()-new Date(C.created_at).getTime())<2e3))return;const E=r?p:a.name,N=r?a.name:"Support";c(S=>S.some(k=>k.id===C.id)?S:[...S,aD(C,n.id,N||"Support",E||"Customer")]),C.sender_id!==n.id&&(!r&&C.sender_type==="admin"||r&&C.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",C),y())}).subscribe((j,C)=>{j==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(j==="CHANNEL_ERROR"||j==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,C),me({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{Z.removeChannel(_)}},[u,n,a,r,p,l,y]),x.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const v=async(_,j=null)=>{if(!(!n||!a||!u||!_.trim())){g(!0);try{let C=null;if(j){const M=b==null?void 0:b.find(L=>L.id===j);M&&(C={orderId:M.id,orderTotal:M.total,orderStatus:M.status,orderDate:M.date})}const E=xn(),N=r?"admin":"customer",S=a.name||(r?"Admin":"User"),k={id:E,senderId:n.id,senderName:S,content:_,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:C||null};c(M=>[...M,k]);const{data:I,error:T}=await Z.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:N,content:_.trim(),order_info:C}).select().single();if(T)throw c(M=>M.filter(L=>L.id!==E)),T;const U=I;c(M=>M.map(L=>L.id===E?{...L,id:U.id,timestamp:U.created_at}:L)),N==="customer"&&jbe(U).then(M=>{M?console.log("Notificación FCM enviada a los administradores"):console.warn("No se pudo enviar la notificación FCM a los administradores")}).catch(M=>{console.error("Error al enviar notificación FCM:",M)}),await Z.from("chat_sessions").update({last_message_at:U.created_at,status:"active"}).eq("id",u.id),A(M=>M?{...M,last_message_at:U.created_at,status:"active"}:null)}catch(C){console.error("Error sending message:",C),me({title:"Failed to send message",description:C.message,variant:"destructive"})}finally{g(!1)}}},B=r?p||"Customer":(a==null?void 0:a.role)==="admin"?e||"Support":"Customer Support";return!n||!a?s.jsxs("div",{className:"flex items-center justify-center h-screen",children:[s.jsx(rr,{className:"animate-spin h-8 w-8 text-flame-500"}),s.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):d?s.jsxs("div",{className:"flex items-center justify-center h-screen",children:[s.jsx(rr,{className:"animate-spin h-8 w-8 text-flame-500"}),s.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):s.jsxs("div",{className:"flex flex-col h-full relative",children:[s.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[s.jsx(G,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>i(r?"/admin/chats":"/"),children:s.jsx(Ys,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:s.jsx(sd,{className:"h-5 w-5 text-charcoal-500"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:B}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),s.jsx("div",{className:"h-16 pt-3"}),s.jsxs(ju,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!d&&!r&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!d&&r&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!d&&s.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:s.jsxs("div",{className:"mb-4 text-charcoal-400",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:s.jsx(sd,{className:"h-8 w-8 text-flame-500"})}),s.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${p}`:"Dukungan Pelanggan"}),s.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(_=>s.jsx(Xye,{id:_.id,senderId:_.senderId,senderName:_.senderName,content:_.content,timestamp:_.timestamp,isAdmin:_.isAdmin,orderInfo:_.orderInfo},_.id))]}),s.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:s.jsx(_be,{onSendMessage:v,isLoading:f||d,userOrders:r?void 0:b,disabled:!u||r&&!t||!d&&!u&&!r})}),s.jsx("div",{className:"h-24"})]})}function Ebe(){const{user:t}=Hr();return t?s.jsx(Jt,{children:s.jsx(M9,{})}):s.jsx(jx,{to:"/login",replace:!0})}const Sbe=6,Q9=5,Nbe=3,kbe=60,Tbe=(t=Sbe)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),Ibe=async(t,e)=>{const r=s9(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${Q9} menit.
Jangan bagikan kode ini dengan siapapun.`,a=await fL(r,n);return console.log("WhatsApp OTP sent successfully:",a),a}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},Pbe=async(t,e)=>{try{const r=Tbe(),n=new Date;n.setMinutes(n.getMinutes()+Q9);const{error:a}=await Z.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return a?(console.error("Error storing OTP:",a),!1):await Ibe(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},Fbe=async(t,e)=>{try{const{data:r,error:n}=await Z.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const a=new Date,i=new Date(r.expires_at);if(a>i)return console.log("OTP has expired"),!1;if(r.attempts>=Nbe)return console.log("Max OTP attempts reached"),!1;const{error:o}=await Z.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await Z.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await Z.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},Dbe=async t=>{try{const{data:e,error:r}=await Z.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),a=new Date(n.getTime()+kbe*1e3),i=new Date;return i>a?0:Math.ceil((a.getTime()-i.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},Obe=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=Hr(),{toast:n}=ni(),[a,i]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(0),[A,d]=x.useState("");x.useEffect(()=>{if(c>0){const p=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(p)}},[c]),x.useEffect(()=>{(async()=>{if(r){const m=await Dbe(r.id);m>0?u(m):h()}})()},[r]);const h=async()=>{if(r){l(!0),d("");try{await Pbe(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):d("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(p){console.error("Error sending OTP:",p),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},f=async()=>{if(!(!r||!a)){l(!0),d("");try{if(await Fbe(r.id,a))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const m="Kode OTP tidak valid atau sudah kedaluwarsa";d(m),n({variant:"destructive",title:"Verifikasi Gagal",description:m})}}catch(p){console.error("Error verifying OTP:",p),d("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},g=()=>{c>0||h()};return s.jsxs(_e,{className:"w-full max-w-md mx-auto",children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Verifikasi WhatsApp"}),s.jsxs(dr,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(he,{type:"text",placeholder:"Masukkan kode OTP",value:a,onChange:p=>i(p.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),A&&s.jsx("p",{className:"text-red-500 text-sm",children:A}),s.jsx("div",{className:"text-center text-sm",children:c>0?s.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):s.jsx("button",{onClick:g,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),s.jsx(ms,{children:s.jsx(G,{onClick:f,className:"w-full",disabled:a.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function Rbe(){const{user:t,isPhoneVerified:e}=Hr(),r=Ot();va();const[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(!1),u=x.useRef(!1),A=x.useRef(!1);x.useEffect(()=>{A.current||(d(),A.current=!0);const f=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",f),()=>{document.removeEventListener("visibilitychange",f)}},[l]);const d=async()=>{if(!t){a(!1);return}a(!0);try{if(e){c(!0),a(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:f,error:g}=await Z.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(g){console.error("Error fetching profile:",g),a(!1);return}if(c((f==null?void 0:f.is_phone_verified)===!0),f!=null&&f.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(f!=null&&f.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((f==null?void 0:f.phone)||"")}catch(f){console.error("Error checking verification status:",f)}finally{a(!1)}},h=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx(rr,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),s.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),s.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),i?s.jsx(Obe,{phoneNumber:i,onVerificationSuccess:h}):s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),s.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}const J={activity:hX,alertTriangle:Sy,arrowDownCircle:wX,arrowLeft:Ys,arrowRight:fX,arrowUpCircle:BX,barChart:SC,bell:dS,chartBar:SC,arrowUpFromLine:pX,filter:zM,gamepad:OX,lightbulb:QX,shield:JM,shopping:jy,sort:gX,check:hS,chevronDown:fS,chevronLeft:HM,chevronRight:VM,chevronsDown:bX,clock:ad,copy:SX,creditCard:mS,download:Bl,droplet:kX,file:PX,fileSearch:IX,filterX:FX,flame:DX,heart:RX,history:UX,home:GM,inbox:MX,info:NC,layers:WM,link:LX,logOut:pS,megaphone:gx,menu:$X,messageSquare:gS,mail:TC,package:fo,phone:IC,plus:rh,qrCode:xS,repeat:VX,refreshCw:cm,undo:cm,search:Yl,settings:YM,share:zX,shoppingCart:Ey,smartphone:GX,spinner:rr,ticket:vS,trash:um,truck:FC,tv:YX,users:yS,wallet:ZX,wifi:eY,zap:tY};function Ube({transaction:t,onClose:e}){const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(""),[c,u]=x.useState(!1),[A,d]=x.useState(!1),h=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(v),f=v=>{const B=new Date(v);return bn(B,"d MMMM yyyy, HH:mm",{locale:ps})},g=()=>{switch(t.status){case"success":return s.jsx(_t,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return s.jsx(_t,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return s.jsx(_t,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return s.jsx(_t,{children:"Unknown"})}},p=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},m=()=>{switch(t.type){case"payment":return s.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return s.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return s.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return s.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return s.jsx(J.activity,{className:"h-5 w-5"})}},y=()=>{const v=`
      ID Transaksi: ${t.id}
      Jenis: ${p()}
      Produk: ${t.productName}
      Total: ${h(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${f(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(v).then(()=>{d(!0),setTimeout(()=>d(!1),2e3)})},b=async()=>{o.trim()&&(u(!0),await new Promise(v=>setTimeout(v,1500)),u(!1),n(!1),l(""))};return s.jsxs(_e,{className:"border shadow-md max-w-md w-full mx-auto",children:[s.jsx(lt,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[m(),s.jsxs("div",{children:[s.jsx(ct,{className:"text-lg",children:p()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[g(),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f(t.createdAt)})]})]})}),s.jsx(je,{className:"pb-0",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),s.jsx("p",{className:"text-2xl font-bold",children:h(t.totalAmount)})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),s.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),s.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),s.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),s.jsx("p",{className:"text-sm font-medium",children:h(t.amount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),s.jsx("p",{className:"text-sm font-medium",children:h(t.fee)})]}),t.paymentMethod&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),s.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),s.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),s.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&s.jsxs(s.Fragment,{children:[s.jsx(sa,{}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),s.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),s.jsxs(ms,{className:"flex flex-col gap-3 pt-6",children:[s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsxs(G,{variant:"outline",className:"flex-1",onClick:y,children:[A?s.jsx(J.activity,{className:"mr-2 h-4 w-4 text-green-500"}):s.jsx(J.file,{className:"mr-2 h-4 w-4"}),A?"Disalin!":"Salin"]}),s.jsxs(br,{open:a,onOpenChange:i,children:[s.jsx(pv,{asChild:!0,children:s.jsxs(G,{variant:"outline",className:"flex-1",children:[s.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Bagikan Bukti Transaksi"}),s.jsx($n,{children:"Bagikan bukti transaksi ini melalui:"})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[s.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[s.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),s.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),s.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[s.jsx(J.smartphone,{className:"h-8 w-8 mb-1"}),s.jsx("span",{className:"text-xs",children:"Email"})]}),s.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[s.jsx(J.download,{className:"h-8 w-8 mb-1"}),s.jsx("span",{className:"text-xs",children:"Simpan"})]}),s.jsxs(G,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[s.jsx(J.activity,{className:"h-8 w-8 mb-1"}),s.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),s.jsx(wn,{className:"sm:justify-start",children:s.jsx(G,{type:"button",variant:"secondary",onClick:()=>i(!1),children:"Tutup"})})]})]})]}),s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx(G,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),s.jsxs(br,{open:r,onOpenChange:n,children:[s.jsx(pv,{asChild:!0,children:s.jsxs(G,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[s.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),s.jsxs(mr,{children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Laporkan Masalah Transaksi"}),s.jsx($n,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),s.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:v=>l(v.target.value),children:[s.jsx("option",{value:"",children:"Pilih alasan"}),s.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),s.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),s.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),s.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),s.jsx("option",{value:"other",children:"Lainnya"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),s.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),s.jsxs(wn,{children:[s.jsx(G,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),s.jsx(G,{type:"button",onClick:b,disabled:!o||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const L9=({className:t,...e})=>s.jsx("nav",{role:"navigation","aria-label":"pagination",className:fe("mx-auto flex w-full justify-center",t),...e});L9.displayName="Pagination";const $9=x.forwardRef(({className:t,...e},r)=>s.jsx("ul",{ref:r,className:fe("flex flex-row items-center gap-1",t),...e}));$9.displayName="PaginationContent";const hx=x.forwardRef(({className:t,...e},r)=>s.jsx("li",{ref:r,className:fe("",t),...e}));hx.displayName="PaginationItem";const Vb=({className:t,isActive:e,size:r="icon",...n})=>s.jsx("a",{"aria-current":e?"page":void 0,className:fe(Hy({variant:e?"outline":"ghost",size:r}),t),...n});Vb.displayName="PaginationLink";const H9=({className:t,...e})=>s.jsxs(Vb,{"aria-label":"Go to previous page",size:"default",className:fe("gap-1 pl-2.5",t),...e,children:[s.jsx(HM,{className:"h-4 w-4"}),s.jsx("span",{children:"Previous"})]});H9.displayName="PaginationPrevious";const V9=({className:t,...e})=>s.jsxs(Vb,{"aria-label":"Go to next page",size:"default",className:fe("gap-1 pr-2.5",t),...e,children:[s.jsx("span",{children:"Next"}),s.jsx(VM,{className:"h-4 w-4"})]});V9.displayName="PaginationNext";function of({className:t,...e}){return s.jsx("div",{className:fe("animate-pulse rounded-md bg-muted",t),...e})}const Mbe=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function Qbe(){const t=Ot(),[e,r]=x.useState("all"),[n,a]=x.useState(!1),[i,o]=x.useState("all"),[l,c]=x.useState("all"),[u,A]=x.useState("all"),[d,h]=x.useState(1),[f,g]=x.useState(""),[p,m]=x.useState(!1),[y,b]=x.useState(!1),B=new URLSearchParams(window.location.search).get("filter");x.useEffect(()=>{B==="in"?c("topup"):B==="out"&&c("payment")},[B]);const[_,j]=x.useState(null),[C,E]=x.useState(!1),N=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],S=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],k=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],I=Mbe.filter($=>{if(!(f===""||$.id.toLowerCase().includes(f.toLowerCase())||$.productName.toLowerCase().includes(f.toLowerCase())||$.customerId&&$.customerId.toLowerCase().includes(f.toLowerCase())))return!1;let z=!0;if(i!=="all"){const oe=new Date($.createdAt),re=new Date,ce=re.getDate(),Ae=re.getMonth(),ge=re.getFullYear();if(i==="today")z=oe.getDate()===ce&&oe.getMonth()===Ae&&oe.getFullYear()===ge;else if(i==="week"){const Y=new Date(re);Y.setDate(re.getDate()-re.getDay()),Y.setHours(0,0,0,0),z=oe>=Y}else i==="month"&&(z=oe.getMonth()===Ae&&oe.getFullYear()===ge)}return!z||!(l==="all"||$.type===l)||!(u==="all"||$.status===u)?!1:y?$.type==="topup"||$.type==="withdraw"||$.paymentMethod==="wallet"||$.productName.toLowerCase().includes("wallet")||$.description&&$.description.toLowerCase().includes("wallet"):!0}),T=5,U=Math.ceil(I.length/T),M=I.slice((d-1)*T,d*T),L=$=>{j($),E(!0)},O=$=>{const q=k.find(z=>z.value===$);return q?s.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${q.color}-100 text-${q.color}-800`,children:q.label}):null},D=$=>{switch($){case"payment":return s.jsx(J.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return s.jsx(J.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return s.jsx(J.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return s.jsx(J.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return s.jsx(J.activity,{className:"h-5 w-5"})}},R=()=>{m(!0),setTimeout(()=>{m(!1)},1e3)};x.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const Q=()=>{a(!1),m(!0)},K=$=>$.reduce((q,z)=>{const W=new Date(z.createdAt);let ne;return xye(W)?ne="Hari Ini":yye(W)?ne="Kemarin":gye(W)?ne=bn(W,"EEEE",{locale:ps}):pye(W)?ne=bn(W,"d MMMM",{locale:ps}):ne=bn(W,"d MMMM yyyy",{locale:ps}),q[ne]||(q[ne]=[]),q[ne].push(z),q},{});return s.jsxs(Jt,{children:[s.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),s.jsx("button",{onClick:R,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:s.jsx(J.refreshCw,{className:"h-4 w-4"})}),s.jsxs(Ti,{open:n,onOpenChange:a,children:[s.jsx(Xx,{asChild:!0,children:s.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:s.jsx(J.filter,{className:"h-4 w-4"})})}),s.jsxs(ri,{side:"right",className:"w-[300px] sm:w-[400px]",children:[s.jsx(Ii,{children:s.jsx(Pi,{children:"Filter Transaksi"})}),s.jsxs("div",{className:"py-6 space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),s.jsxs(Rn,{value:i,onValueChange:o,children:[s.jsx(vn,{className:"w-full",children:s.jsx(Un,{placeholder:"Pilih periode"})}),s.jsx(yn,{children:N.map($=>s.jsx(vt,{value:$.value,children:$.label},$.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),s.jsxs(Rn,{value:l,onValueChange:c,children:[s.jsx(vn,{className:"w-full",children:s.jsx(Un,{placeholder:"Pilih jenis transaksi"})}),s.jsx(yn,{children:S.map($=>s.jsx(vt,{value:$.value,children:$.label},$.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"text-sm font-medium",children:"Status"}),s.jsxs(Rn,{value:u,onValueChange:A,children:[s.jsx(vn,{className:"w-full",children:s.jsx(Un,{placeholder:"Pilih status"})}),s.jsx(yn,{children:k.map($=>s.jsx(vt,{value:$.value,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full bg-${$.color}-500 mr-2`}),$.label]})},$.value))})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"walletOnly",checked:y,onChange:$=>b($.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),s.jsx(vo,{children:s.jsx(G,{onClick:Q,className:"w-full",children:"Terapkan Filter"})})]})]})]}),s.jsx(Pa,{defaultValue:"all",value:e,onValueChange:$=>r($),className:"w-full",children:s.jsxs(ga,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[s.jsx(Nt,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),s.jsxs(Nt,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[s.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),s.jsxs(Nt,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[s.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),s.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:s.jsxs("div",{className:"relative",children:[s.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(he,{value:f,onChange:$=>g($.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),s.jsx(he,{placeholder:"Cari transaksi...",value:f,onChange:$=>g($.target.value),className:"w-full"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),s.jsxs(Rn,{value:i,onValueChange:o,children:[s.jsx(vn,{children:s.jsx(Un,{placeholder:"Pilih periode"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"all",children:"Semua Waktu"}),s.jsx(vt,{value:"today",children:"Hari Ini"}),s.jsx(vt,{value:"week",children:"Minggu Ini"}),s.jsx(vt,{value:"month",children:"Bulan Ini"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),s.jsxs(Rn,{value:l,onValueChange:c,children:[s.jsx(vn,{children:s.jsx(Un,{placeholder:"Pilih jenis transaksi"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"all",children:"Semua Jenis"}),s.jsx(vt,{value:"payment",children:"Pembayaran"}),s.jsx(vt,{value:"topup",children:"Top Up"}),s.jsx(vt,{value:"transfer",children:"Transfer"}),s.jsx(vt,{value:"refund",children:"Refund"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),s.jsxs(Rn,{value:u,onValueChange:A,children:[s.jsx(vn,{children:s.jsx(Un,{placeholder:"Pilih status"})}),s.jsx(yn,{children:k.map($=>s.jsx(vt,{value:$.value,children:$.label},$.value))})]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[s.jsxs(G,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[s.jsx(J.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),s.jsxs(G,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[s.jsx(J.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),s.jsxs(G,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[s.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),s.jsxs(G,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[s.jsx(J.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),s.jsxs(G,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[s.jsx(J.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),s.jsxs(G,{variant:y?"default":"outline",size:"sm",onClick:()=>b(!y),title:y?"Semua Transaksi":"Hanya Transaksi Wallet",children:[s.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),y?"Semua Transaksi":"Transaksi Wallet"]})]})]}),s.jsx(ju,{className:"flex-1 h-[calc(100vh-180px)]",children:p?s.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map($=>s.jsx(_e,{className:"overflow-hidden",children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(of,{className:"h-10 w-10 rounded-full"}),s.jsxs("div",{className:"space-y-2 flex-1",children:[s.jsx(of,{className:"h-4 w-3/4"}),s.jsx(of,{className:"h-3 w-1/2"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(of,{className:"h-4 w-20 ml-auto"}),s.jsx(of,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},$))}):M.length>0?s.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries(K(M)).map(([$,q])=>s.jsxs("div",{className:"bg-white",children:[s.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:$}),s.jsx("div",{className:"divide-y divide-gray-100",children:q.map(z=>s.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>L(z),children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:D(z.type)}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:z.productName}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:z.id}),s.jsx("div",{className:"mt-1",children:O(z.status)})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-medium ${z.type==="topup"||z.type==="refund"?"text-green-600":"text-red-600"}`,children:[z.type==="topup"||z.type==="refund"?"+":"-",xe(z.totalAmount)]}),s.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:bn(new Date(z.createdAt),"HH:mm")})]})]})},z.id))})]},$))}):s.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[s.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:s.jsx(J.fileSearch,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>{c("all"),A("all"),o("all"),g(""),b(!1),r("all")},className:"mt-4",children:[s.jsx(J.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),M.length>0&&U>1&&s.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:s.jsx(L9,{children:s.jsxs($9,{children:[s.jsx(hx,{children:s.jsx(H9,{onClick:()=>h(Math.max(1,d-1)),"aria-disabled":d===1,className:d===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(U,5)}).map(($,q)=>{let z=q+1;return U>5&&d>3&&(z=d-3+q,z>U)?null:s.jsx(hx,{children:s.jsx(Vb,{onClick:()=>h(z),isActive:d===z,children:z})},q)}),s.jsx(hx,{children:s.jsx(V9,{onClick:()=>h(Math.min(U,d+1)),"aria-disabled":d===U,className:d===U?"pointer-events-none opacity-50":""})})]})})}),s.jsx(br,{open:C,onOpenChange:E,children:s.jsx(mr,{className:"sm:max-w-md p-0",children:_&&s.jsx(Ube,{transaction:_,onClose:()=>E(!1)})})})]})}var K9={exports:{}},Lbe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$be=Lbe,Hbe=$be;function z9(){}function G9(){}G9.resetWarningCache=z9;var Vbe=function(){function t(n,a,i,o,l,c){if(c!==Hbe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:G9,resetWarningCache:z9};return r.PropTypes=r,r};K9.exports=Vbe();var xN=K9.exports;const it=or(xN);function Kbe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var W9=x,zbe=Kbe(W9);function sD(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gbe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Wbe=!!(typeof window<"u"&&window.document&&window.document.createElement);function qbe(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function c(){l=t(o.map(function(A){return A.props})),u.canUseDOM?e(l):r&&(l=r(l))}var u=function(A){Gbe(d,A);function d(){return A.apply(this,arguments)||this}d.peek=function(){return l},d.rewind=function(){if(d.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=l;return l=void 0,o=[],g};var h=d.prototype;return h.UNSAFE_componentWillMount=function(){o.push(this),c()},h.componentDidUpdate=function(){c()},h.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),c()},h.render=function(){return zbe.createElement(i,this.props)},d}(W9.PureComponent);return sD(u,"displayName","SideEffect("+n(i)+")"),sD(u,"canUseDOM",Wbe),u}}var Xbe=qbe;const Ybe=or(Xbe);var Jbe=typeof Element<"u",Zbe=typeof Map=="function",ewe=typeof Set=="function",twe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function fx(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!fx(t[n],e[n]))return!1;return!0}var i;if(Zbe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;for(i=t.entries();!(n=i.next()).done;)if(!fx(n.value[1],e.get(n.value[0])))return!1;return!0}if(ewe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(n=i.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(twe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[n]))return!1;if(Jbe&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!fx(t[a[n]],e[a[n]]))return!1;return!0}return t!==t&&e!==e}var rwe=function(e,r){try{return fx(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const nwe=or(rwe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iD=Object.getOwnPropertySymbols,awe=Object.prototype.hasOwnProperty,swe=Object.prototype.propertyIsEnumerable;function iwe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function owe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(i){a[i]=i}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var lwe=owe()?Object.assign:function(t,e){for(var r,n=iwe(t),a,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)awe.call(r,o)&&(n[o]=r[o]);if(iD){a=iD(r);for(var l=0;l<a.length;l++)swe.call(r,a[l])&&(n[a[l]]=r[a[l]])}}return n};const cwe=or(lwe);var iu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},wt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(wt).map(function(t){return wt[t]});var Dr={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},wv={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Hm={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},uwe=Object.keys(wv).reduce(function(t,e){return t[wv[e]]=e,t},{}),Awe=[wt.NOSCRIPT,wt.SCRIPT,wt.STYLE],qs="data-react-helmet",dwe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hwe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},fwe=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Ca=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mwe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oD=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},pwe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Nj=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},gwe=function(e){var r=MA(e,wt.TITLE),n=MA(e,Hm.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=MA(e,Hm.DEFAULT_TITLE);return r||a||void 0},xwe=function(e){return MA(e,Hm.ON_CHANGE_CLIENT_STATE)||function(){}},cB=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return Ca({},n,a)},{})},vwe=function(e,r){return r.filter(function(n){return typeof n[wt.BASE]<"u"}).map(function(n){return n[wt.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var i=Object.keys(a),o=0;o<i.length;o++){var l=i[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&a[c])return n.concat(a)}return n},[])},lf=function(e,r,n){var a={};return n.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&Bwe("Helmet: "+e+' should be of type "Array". Instead found type "'+dwe(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var l={};o.filter(function(h){for(var f=void 0,g=Object.keys(h),p=0;p<g.length;p++){var m=g[p],y=m.toLowerCase();r.indexOf(y)!==-1&&!(f===Dr.REL&&h[f].toLowerCase()==="canonical")&&!(y===Dr.REL&&h[y].toLowerCase()==="stylesheet")&&(f=y),r.indexOf(m)!==-1&&(m===Dr.INNER_HTML||m===Dr.CSS_TEXT||m===Dr.ITEM_PROP)&&(f=m)}if(!f||!h[f])return!1;var b=h[f].toLowerCase();return a[f]||(a[f]={}),l[f]||(l[f]={}),a[f][b]?!1:(l[f][b]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var c=Object.keys(l),u=0;u<c.length;u++){var A=c[u],d=cwe({},a[A],l[A]);a[A]=d}return i},[]).reverse()},MA=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},ywe=function(e){return{baseTag:vwe([Dr.HREF,Dr.TARGET],e),bodyAttributes:cB(iu.BODY,e),defer:MA(e,Hm.DEFER),encode:MA(e,Hm.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:cB(iu.HTML,e),linkTags:lf(wt.LINK,[Dr.REL,Dr.HREF],e),metaTags:lf(wt.META,[Dr.NAME,Dr.CHARSET,Dr.HTTPEQUIV,Dr.PROPERTY,Dr.ITEM_PROP],e),noscriptTags:lf(wt.NOSCRIPT,[Dr.INNER_HTML],e),onChangeClientState:xwe(e),scriptTags:lf(wt.SCRIPT,[Dr.SRC,Dr.INNER_HTML],e),styleTags:lf(wt.STYLE,[Dr.CSS_TEXT],e),title:gwe(e),titleAttributes:cB(iu.TITLE,e)}},kj=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){kj(e)},0)}}(),lD=function(e){return clearTimeout(e)},bwe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||kj:global.requestAnimationFrame||kj,wwe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||lD:global.cancelAnimationFrame||lD,Bwe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},cf=null,Cwe=function(e){cf&&wwe(cf),e.defer?cf=bwe(function(){cD(e,function(){cf=null})}):(cD(e),cf=null)},cD=function(e,r){var n=e.baseTag,a=e.bodyAttributes,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,A=e.scriptTags,d=e.styleTags,h=e.title,f=e.titleAttributes;Tj(wt.BODY,a),Tj(wt.HTML,i),_we(h,f);var g={baseTag:hA(wt.BASE,n),linkTags:hA(wt.LINK,o),metaTags:hA(wt.META,l),noscriptTags:hA(wt.NOSCRIPT,c),scriptTags:hA(wt.SCRIPT,A),styleTags:hA(wt.STYLE,d)},p={},m={};Object.keys(g).forEach(function(y){var b=g[y],v=b.newTags,B=b.oldTags;v.length&&(p[y]=v),B.length&&(m[y]=g[y].oldTags)}),r&&r(),u(e,p,m)},q9=function(e){return Array.isArray(e)?e.join(""):e},_we=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=q9(e)),Tj(wt.TITLE,r)},Tj=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(qs),i=a?a.split(","):[],o=[].concat(i),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],A=r[u]||"";n.getAttribute(u)!==A&&n.setAttribute(u,A),i.indexOf(u)===-1&&i.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h--)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute(qs):n.getAttribute(qs)!==l.join(",")&&n.setAttribute(qs,l.join(","))}},hA=function(e,r){var n=document.head||document.querySelector(wt.HEAD),a=n.querySelectorAll(e+"["+qs+"]"),i=Array.prototype.slice.call(a),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var A in c)if(c.hasOwnProperty(A))if(A===Dr.INNER_HTML)u.innerHTML=c.innerHTML;else if(A===Dr.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var d=typeof c[A]>"u"?"":c[A];u.setAttribute(A,d)}u.setAttribute(qs,"true"),i.some(function(h,f){return l=f,u.isEqualNode(h)})?i.splice(l,1):o.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:i,newTags:o}},X9=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},jwe=function(e,r,n,a){var i=X9(n),o=q9(r);return i?"<"+e+" "+qs+'="true" '+i+">"+Nj(o,a)+"</"+e+">":"<"+e+" "+qs+'="true">'+Nj(o,a)+"</"+e+">"},Ewe=function(e,r,n){return r.reduce(function(a,i){var o=Object.keys(i).filter(function(u){return!(u===Dr.INNER_HTML||u===Dr.CSS_TEXT)}).reduce(function(u,A){var d=typeof i[A]>"u"?A:A+'="'+Nj(i[A],n)+'"';return u?u+" "+d:d},""),l=i.innerHTML||i.cssText||"",c=Awe.indexOf(e)===-1;return a+"<"+e+" "+qs+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},Y9=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[wv[a]||a]=e[a],n},r)},Swe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[uwe[a]||a]=e[a],n},r)},Nwe=function(e,r,n){var a,i=(a={key:r},a[qs]=!0,a),o=Y9(n,i);return[V.createElement(wt.TITLE,o,r)]},kwe=function(e,r){return r.map(function(n,a){var i,o=(i={key:a},i[qs]=!0,i);return Object.keys(n).forEach(function(l){var c=wv[l]||l;if(c===Dr.INNER_HTML||c===Dr.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),V.createElement(e,o)})},Gi=function(e,r,n){switch(e){case wt.TITLE:return{toComponent:function(){return Nwe(e,r.title,r.titleAttributes)},toString:function(){return jwe(e,r.title,r.titleAttributes,n)}};case iu.BODY:case iu.HTML:return{toComponent:function(){return Y9(r)},toString:function(){return X9(r)}};default:return{toComponent:function(){return kwe(e,r)},toString:function(){return Ewe(e,r,n)}}}},J9=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,i=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,A=e.styleTags,d=e.title,h=d===void 0?"":d,f=e.titleAttributes;return{base:Gi(wt.BASE,r,a),bodyAttributes:Gi(iu.BODY,n,a),htmlAttributes:Gi(iu.HTML,i,a),link:Gi(wt.LINK,o,a),meta:Gi(wt.META,l,a),noscript:Gi(wt.NOSCRIPT,c,a),script:Gi(wt.SCRIPT,u,a),style:Gi(wt.STYLE,A,a),title:Gi(wt.TITLE,{title:h,titleAttributes:f},a)}},Twe=function(e){var r,n;return n=r=function(a){mwe(i,a);function i(){return hwe(this,i),pwe(this,a.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!nwe(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case wt.SCRIPT:case wt.NOSCRIPT:return{innerHTML:c};case wt.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,A=l.arrayTypeChildren,d=l.newChildProps,h=l.nestedChildren;return Ca({},A,(c={},c[u.type]=[].concat(A[u.type]||[],[Ca({},d,this.mapNestedChildrenToProps(u,h))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,A=l.child,d=l.newProps,h=l.newChildProps,f=l.nestedChildren;switch(A.type){case wt.TITLE:return Ca({},d,(c={},c[A.type]=f,c.titleAttributes=Ca({},h),c));case wt.BODY:return Ca({},d,{bodyAttributes:Ca({},h)});case wt.HTML:return Ca({},d,{htmlAttributes:Ca({},h)})}return Ca({},d,(u={},u[A.type]=Ca({},h),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=Ca({},c);return Object.keys(l).forEach(function(A){var d;u=Ca({},u,(d={},d[A]=l[A],d))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,A={};return V.Children.forEach(l,function(d){if(!(!d||!d.props)){var h=d.props,f=h.children,g=oD(h,["children"]),p=Swe(g);switch(u.warnOnInvalidChildren(d,f),d.type){case wt.LINK:case wt.META:case wt.NOSCRIPT:case wt.SCRIPT:case wt.STYLE:A=u.flattenArrayTypeChildren({child:d,arrayTypeChildren:A,newChildProps:p,nestedChildren:f});break;default:c=u.mapObjectTypeChildren({child:d,newProps:c,newChildProps:p,nestedChildren:f});break}}}),c=this.mapArrayTypeChildrenToProps(A,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=oD(l,["children"]),A=Ca({},u);return c&&(A=this.mapChildrenToProps(c,A)),V.createElement(e,A)},fwe(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(V.Component),r.propTypes={base:it.object,bodyAttributes:it.object,children:it.oneOfType([it.arrayOf(it.node),it.node]),defaultTitle:it.string,defer:it.bool,encodeSpecialCharacters:it.bool,htmlAttributes:it.object,link:it.arrayOf(it.object),meta:it.arrayOf(it.object),noscript:it.arrayOf(it.object),onChangeClientState:it.func,script:it.arrayOf(it.object),style:it.arrayOf(it.object),title:it.string,titleAttributes:it.object,titleTemplate:it.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=J9({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},Iwe=function(){return null},Pwe=Ybe(ywe,Cwe,J9)(Iwe),Zs=Twe(Pwe);Zs.renderStatic=Zs.rewind;function Fwe({children:t}){const{user:e}=Hr();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm",children:s.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[s.jsx(mt,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),s.jsxs("nav",{className:"hidden md:flex space-x-6",children:[s.jsx(mt,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),s.jsx(mt,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),s.jsx(mt,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),s.jsx(mt,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(mt,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[s.jsx("span",{className:"sr-only",children:"Keranjang"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),s.jsxs(mt,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[s.jsx("span",{className:"sr-only",children:"Profil"}),s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:s.jsxs("div",{className:"grid grid-cols-5",children:[s.jsxs(mt,{to:"/",className:"flex flex-col items-center py-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),s.jsx("span",{className:"text-xs",children:"Beranda"})]}),s.jsxs(mt,{to:"/search",className:"flex flex-col items-center py-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("span",{className:"text-xs",children:"Produk"})]}),s.jsxs(mt,{to:"/ppob",className:"flex flex-col items-center py-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-xs",children:"PPOB"})]}),s.jsxs(mt,{to:"/cart",className:"flex flex-col items-center py-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),s.jsx("span",{className:"text-xs",children:"Keranjang"})]}),s.jsxs(mt,{to:"/profile",className:"flex flex-col items-center py-2",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),s.jsx("main",{className:"pb-20 md:pb-0",children:t}),s.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),s.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"Email: support@jpcdigi.com"}),s.jsx("li",{children:"Telepon: (021) 1234-5678"}),s.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[s.jsx("span",{className:"sr-only",children:"Facebook"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[s.jsx("span",{className:"sr-only",children:"Instagram"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),s.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),s.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:s.jsxs("p",{children:["© ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function Dwe(){const[t,e]=x.useState("identity"),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),A=Ot(),[d,h]=x.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),f=y=>{const{name:b,value:v}=y.target;h(B=>({...B,[b]:v}))},g=y=>{y.target.files&&y.target.files[0]&&(n(!0),setTimeout(()=>{const b=new FileReader;b.onload=v=>{v.target&&l(v.target.result)},b.readAsDataURL(y.target.files[0]),n(!1)},1500))},p=y=>{y.target.files&&y.target.files[0]&&(n(!0),setTimeout(()=>{const b=new FileReader;b.onload=v=>{v.target&&u(v.target.result)},b.readAsDataURL(y.target.files[0]),n(!1)},1500))},m=y=>{y.preventDefault(),i(!0),setTimeout(()=>{i(!1),A("/ppob")},2e3)};return s.jsxs(Fwe,{children:[s.jsxs(Zs,{children:[s.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),s.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),s.jsx("div",{className:"container py-8",children:s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),s.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),s.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[s.jsxs(G,{variant:"outline",onClick:()=>A("/ppob/wallet"),children:[s.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),s.jsx(G,{variant:"outline",onClick:()=>A("/ppob"),children:"Kembali ke PPOB"})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Lengkapi Verifikasi"}),s.jsx(dr,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),s.jsx(je,{children:s.jsxs(Pa,{value:t,onValueChange:e,children:[s.jsxs(ga,{className:"grid grid-cols-2 mb-6",children:[s.jsx(Nt,{value:"identity",children:"Data Diri"}),s.jsx(Nt,{value:"documents",children:"Dokumen"})]}),s.jsx(Xt,{value:"identity",children:s.jsxs("form",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),s.jsx(he,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:d.nik,onChange:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"fullName",children:"Nama Lengkap"}),s.jsx(he,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:d.fullName,onChange:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"birthPlace",children:"Tempat Lahir"}),s.jsx(he,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:d.birthPlace,onChange:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"birthDate",children:"Tanggal Lahir"}),s.jsx(he,{id:"birthDate",name:"birthDate",type:"date",value:d.birthDate,onChange:f})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"address",children:"Alamat"}),s.jsx(he,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:d.address,onChange:f})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"rt",children:"RT"}),s.jsx(he,{id:"rt",name:"rt",placeholder:"RT",value:d.rt,onChange:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"rw",children:"RW"}),s.jsx(he,{id:"rw",name:"rw",placeholder:"RW",value:d.rw,onChange:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"village",children:"Kelurahan/Desa"}),s.jsx(he,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:d.village,onChange:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"district",children:"Kecamatan"}),s.jsx(he,{id:"district",name:"district",placeholder:"Kecamatan",value:d.district,onChange:f})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"city",children:"Kota/Kabupaten"}),s.jsx(he,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:d.city,onChange:f})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"province",children:"Provinsi"}),s.jsx(he,{id:"province",name:"province",placeholder:"Provinsi",value:d.province,onChange:f})]})]}),s.jsx(G,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),s.jsx(Xt,{value:"documents",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):s.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[s.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:g,disabled:r}),s.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),s.jsx("p",{children:"Mengunggah..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),s.jsx(sa,{className:"my-6"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),s.jsx(G,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):s.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[s.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:p,disabled:r}),s.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),s.jsx("p",{children:"Mengunggah..."})]}):s.jsxs(s.Fragment,{children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),s.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),s.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),s.jsx(G,{type:"submit",disabled:!o||!c||a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),s.jsxs(ms,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[s.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),s.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var Kb={},Z9={L:1,M:0,Q:3,H:2},e7={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Owe=e7;function t7(t){this.mode=Owe.MODE_8BIT_BYTE,this.data=t}t7.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}};var Rwe=t7,j0=Z9;function pi(t,e){this.totalCount=t,this.dataCount=e}pi.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];pi.getRSBlocks=function(t,e){var r=pi.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,a=new Array,i=0;i<n;i++)for(var o=r[i*3+0],l=r[i*3+1],c=r[i*3+2],u=0;u<o;u++)a.push(new pi(l,c));return a};pi.getRsBlockTable=function(t,e){switch(e){case j0.L:return pi.RS_BLOCK_TABLE[(t-1)*4+0];case j0.M:return pi.RS_BLOCK_TABLE[(t-1)*4+1];case j0.Q:return pi.RS_BLOCK_TABLE[(t-1)*4+2];case j0.H:return pi.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};var Uwe=pi;function r7(){this.buffer=new Array,this.length=0}r7.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Mwe=r7,zs={glog:function(t){if(t<1)throw new Error("glog("+t+")");return zs.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return zs.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var Fn=0;Fn<8;Fn++)zs.EXP_TABLE[Fn]=1<<Fn;for(var Fn=8;Fn<256;Fn++)zs.EXP_TABLE[Fn]=zs.EXP_TABLE[Fn-4]^zs.EXP_TABLE[Fn-5]^zs.EXP_TABLE[Fn-6]^zs.EXP_TABLE[Fn-8];for(var Fn=0;Fn<255;Fn++)zs.LOG_TABLE[zs.EXP_TABLE[Fn]]=Fn;var n7=zs,vc=n7;function mx(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}mx.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=vc.gexp(vc.glog(this.get(r))+vc.glog(t.get(n)));return new mx(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=vc.glog(this.get(0))-vc.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=vc.gexp(vc.glog(t.get(n))+e);return new mx(r,0).mod(t)}};var a7=mx,ns=e7,uD=a7,Qwe=n7,Vo={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Sn={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;Sn.getBCHDigit(e)-Sn.getBCHDigit(Sn.G15)>=0;)e^=Sn.G15<<Sn.getBCHDigit(e)-Sn.getBCHDigit(Sn.G15);return(t<<10|e)^Sn.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Sn.getBCHDigit(e)-Sn.getBCHDigit(Sn.G18)>=0;)e^=Sn.G18<<Sn.getBCHDigit(e)-Sn.getBCHDigit(Sn.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Sn.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case Vo.PATTERN000:return(e+r)%2==0;case Vo.PATTERN001:return e%2==0;case Vo.PATTERN010:return r%3==0;case Vo.PATTERN011:return(e+r)%3==0;case Vo.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case Vo.PATTERN101:return e*r%2+e*r%3==0;case Vo.PATTERN110:return(e*r%2+e*r%3)%2==0;case Vo.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new uD([1],0),r=0;r<t;r++)e=e.multiply(new uD([1,Qwe.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case ns.MODE_NUMBER:return 10;case ns.MODE_ALPHA_NUM:return 9;case ns.MODE_8BIT_BYTE:return 8;case ns.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case ns.MODE_NUMBER:return 12;case ns.MODE_ALPHA_NUM:return 11;case ns.MODE_8BIT_BYTE:return 16;case ns.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case ns.MODE_NUMBER:return 14;case ns.MODE_ALPHA_NUM:return 13;case ns.MODE_8BIT_BYTE:return 16;case ns.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var a=0;a<e;a++){for(var i=0,o=t.isDark(n,a),l=-1;l<=1;l++)if(!(n+l<0||e<=n+l))for(var c=-1;c<=1;c++)a+c<0||e<=a+c||l==0&&c==0||o==t.isDark(n+l,a+c)&&i++;i>5&&(r+=3+i-5)}for(var n=0;n<e-1;n++)for(var a=0;a<e-1;a++){var u=0;t.isDark(n,a)&&u++,t.isDark(n+1,a)&&u++,t.isDark(n,a+1)&&u++,t.isDark(n+1,a+1)&&u++,(u==0||u==4)&&(r+=3)}for(var n=0;n<e;n++)for(var a=0;a<e-6;a++)t.isDark(n,a)&&!t.isDark(n,a+1)&&t.isDark(n,a+2)&&t.isDark(n,a+3)&&t.isDark(n,a+4)&&!t.isDark(n,a+5)&&t.isDark(n,a+6)&&(r+=40);for(var a=0;a<e;a++)for(var n=0;n<e-6;n++)t.isDark(n,a)&&!t.isDark(n+1,a)&&t.isDark(n+2,a)&&t.isDark(n+3,a)&&t.isDark(n+4,a)&&!t.isDark(n+5,a)&&t.isDark(n+6,a)&&(r+=40);for(var A=0,a=0;a<e;a++)for(var n=0;n<e;n++)t.isDark(n,a)&&A++;var d=Math.abs(100*A/e/e-50)/5;return r+=d*10,r}},Lwe=Sn,$we=Rwe,s7=Uwe,i7=Mwe,ac=Lwe,Hwe=a7;function bi(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var ts=bi.prototype;ts.addData=function(t){var e=new $we(t);this.dataList.push(e),this.dataCache=null};ts.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]};ts.getModuleCount=function(){return this.moduleCount};ts.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=s7.getRSBlocks(t,this.errorCorrectLevel),r=new i7,n=0,a=0;a<e.length;a++)n+=e[a].dataCount;for(var a=0;a<this.dataList.length;a++){var i=this.dataList[a];r.put(i.mode,4),r.put(i.getLength(),ac.getLengthInBits(i.mode,t)),i.write(r)}if(r.getLengthInBits()<=n*8)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())};ts.makeImpl=function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=bi.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)};ts.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)};ts.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=ac.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e};ts.createMovieClip=function(t,e,r){var n=t.createEmptyMovieClip(e,r),a=1;this.make();for(var i=0;i<this.modules.length;i++)for(var o=i*a,l=0;l<this.modules[i].length;l++){var c=l*a,u=this.modules[i][l];u&&(n.beginFill(0,100),n.moveTo(c,o),n.lineTo(c+a,o),n.lineTo(c+a,o+a),n.lineTo(c,o+a),n.endFill())}return n};ts.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)};ts.setupPositionAdjustPattern=function(){for(var t=ac.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],a=t[r];if(this.modules[n][a]==null)for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)i==-2||i==2||o==-2||o==2||i==0&&o==0?this.modules[n+i][a+o]=!0:this.modules[n+i][a+o]=!1}};ts.setupTypeNumber=function(t){for(var e=ac.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}};ts.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=ac.getBCHTypeInfo(r),a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<6?this.modules[a][8]=i:a<8?this.modules[a+1][8]=i:this.modules[this.moduleCount-15+a][8]=i}for(var a=0;a<15;a++){var i=!t&&(n>>a&1)==1;a<8?this.modules[8][this.moduleCount-a-1]=i:a<9?this.modules[8][15-a-1+1]=i:this.modules[8][15-a-1]=i}this.modules[this.moduleCount-8][8]=!t};ts.mapData=function(t,e){for(var r=-1,n=this.moduleCount-1,a=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var l=0;l<2;l++)if(this.modules[n][o-l]==null){var c=!1;i<t.length&&(c=(t[i]>>>a&1)==1);var u=ac.getMask(e,n,o-l);u&&(c=!c),this.modules[n][o-l]=c,a--,a==-1&&(i++,a=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}};bi.PAD0=236;bi.PAD1=17;bi.createData=function(t,e,r){for(var n=s7.getRSBlocks(t,e),a=new i7,i=0;i<r.length;i++){var o=r[i];a.put(o.mode,4),a.put(o.getLength(),ac.getLengthInBits(o.mode,t)),o.write(a)}for(var l=0,i=0;i<n.length;i++)l+=n[i].dataCount;if(a.getLengthInBits()>l*8)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+l*8+")");for(a.getLengthInBits()+4<=l*8&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;!(a.getLengthInBits()>=l*8||(a.put(bi.PAD0,8),a.getLengthInBits()>=l*8));)a.put(bi.PAD1,8);return bi.createBytes(a,n)};bi.createBytes=function(t,e){for(var r=0,n=0,a=0,i=new Array(e.length),o=new Array(e.length),l=0;l<e.length;l++){var c=e[l].dataCount,u=e[l].totalCount-c;n=Math.max(n,c),a=Math.max(a,u),i[l]=new Array(c);for(var A=0;A<i[l].length;A++)i[l][A]=255&t.buffer[A+r];r+=c;var d=ac.getErrorCorrectPolynomial(u),h=new Hwe(i[l],d.getLength()-1),f=h.mod(d);o[l]=new Array(d.getLength()-1);for(var A=0;A<o[l].length;A++){var g=A+f.getLength()-o[l].length;o[l][A]=g>=0?f.get(g):0}}for(var p=0,A=0;A<e.length;A++)p+=e[A].totalCount;for(var m=new Array(p),y=0,A=0;A<n;A++)for(var l=0;l<e.length;l++)A<i[l].length&&(m[y++]=i[l][A]);for(var A=0;A<a;A++)for(var l=0;l<e.length;l++)A<o[l].length&&(m[y++]=o[l][A]);return m};var Vwe=bi,vN={};Object.defineProperty(vN,"__esModule",{value:!0});var Kwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zwe=xN,as=l7(zwe),o7=x,E0=l7(o7);function l7(t){return t&&t.__esModule?t:{default:t}}function Gwe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Wwe={bgColor:as.default.oneOfType([as.default.object,as.default.string]).isRequired,bgD:as.default.string.isRequired,fgColor:as.default.oneOfType([as.default.object,as.default.string]).isRequired,fgD:as.default.string.isRequired,size:as.default.number.isRequired,title:as.default.string,viewBoxSize:as.default.number.isRequired,xmlns:as.default.string},yN=(0,o7.forwardRef)(function(t,e){var r=t.bgColor,n=t.bgD,a=t.fgD,i=t.fgColor,o=t.size,l=t.title,c=t.viewBoxSize,u=t.xmlns,A=u===void 0?"http://www.w3.org/2000/svg":u,d=Gwe(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return E0.default.createElement("svg",Kwe({},d,{height:o,ref:e,viewBox:"0 0 "+c+" "+c,width:o,xmlns:A}),l?E0.default.createElement("title",null,l):null,E0.default.createElement("path",{d:n,fill:r}),E0.default.createElement("path",{d:a,fill:i}))});yN.displayName="QRCodeSvg";yN.propTypes=Wwe;vN.default=yN;Object.defineProperty(Kb,"__esModule",{value:!0});Kb.QRCode=void 0;var qwe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xwe=xN,Wi=sg(Xwe),Ywe=Z9,Jwe=sg(Ywe),Zwe=Vwe,e1e=sg(Zwe),c7=x,t1e=sg(c7),r1e=vN,n1e=sg(r1e);function sg(t){return t&&t.__esModule?t:{default:t}}function a1e(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var s1e={bgColor:Wi.default.oneOfType([Wi.default.object,Wi.default.string]),fgColor:Wi.default.oneOfType([Wi.default.object,Wi.default.string]),level:Wi.default.string,size:Wi.default.number,value:Wi.default.string.isRequired},zb=(0,c7.forwardRef)(function(t,e){var r=t.bgColor,n=r===void 0?"#FFFFFF":r,a=t.fgColor,i=a===void 0?"#000000":a,o=t.level,l=o===void 0?"L":o,c=t.size,u=c===void 0?256:c,A=t.value,d=a1e(t,["bgColor","fgColor","level","size","value"]),h=new e1e.default(-1,Jwe.default[l]);h.addData(A),h.make();var f=h.modules;return t1e.default.createElement(n1e.default,qwe({},d,{bgColor:n,bgD:f.map(function(g,p){return g.map(function(m,y){return m?"":"M "+y+" "+p+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:i,fgD:f.map(function(g,p){return g.map(function(m,y){return m?"M "+y+" "+p+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:e,size:u,viewBoxSize:f.length}))});Kb.QRCode=zb;zb.displayName="QRCode";zb.propTypes=s1e;var u7=Kb.default=zb;const ea=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:fe("w-full caption-bottom text-sm",t),...e})}));ea.displayName="Table";const ta=x.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:fe("[&_tr]:border-b",t),...e}));ta.displayName="TableHeader";const ra=x.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:fe("[&_tr:last-child]:border-0",t),...e}));ra.displayName="TableBody";const i1e=x.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));i1e.displayName="TableFooter";const xt=x.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));xt.displayName="TableRow";const Pe=x.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Pe.displayName="TableHead";const be=x.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));be.displayName="TableCell";const o1e=x.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:fe("mt-4 text-sm text-muted-foreground",t),...e}));o1e.displayName="TableCaption";const AD=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function l1e({className:t}){const[e,r]=x.useState("all"),[n,a]=x.useState([]),[i,o]=x.useState([]),[l,c]=x.useState(!0),[u,A]=x.useState("this-month"),[d,h]=x.useState("");x.useEffect(()=>{(async()=>{c(!0),await new Promise(_=>setTimeout(_,1e3)),a(AD),o(AD),c(!1)})()},[]),x.useEffect(()=>{f()},[e,u,d,n]);const f=()=>{let B=[...n];e==="topup"?B=B.filter(I=>I.type==="topup"):e==="payment"&&(B=B.filter(I=>I.type==="payment"));const _=new Date,j=new Date(_.getFullYear(),_.getMonth(),_.getDate()),C=new Date(j);C.setDate(C.getDate()-1);const E=new Date(j);E.setDate(E.getDate()-j.getDay());const N=new Date(_.getFullYear(),_.getMonth(),1),S=new Date(_.getFullYear(),_.getMonth()-1,1),k=new Date(_.getFullYear(),_.getMonth(),0);switch(u){case"today":B=B.filter(I=>new Date(I.date)>=j);break;case"yesterday":B=B.filter(I=>{const T=new Date(I.date);return T>=C&&T<j});break;case"this-week":B=B.filter(I=>new Date(I.date)>=E);break;case"this-month":B=B.filter(I=>new Date(I.date)>=N);break;case"last-month":B=B.filter(I=>{const T=new Date(I.date);return T>=S&&T<=k});break}if(d.trim()!==""){const I=d.toLowerCase();B=B.filter(T=>T.id.toLowerCase().includes(I)||T.description.toLowerCase().includes(I)||T.source.toLowerCase().includes(I))}B.sort((I,T)=>new Date(T.date).getTime()-new Date(I.date).getTime()),o(B)},g=B=>{const _=new Date(B);return bn(_,"d MMMM yyyy, HH:mm",{locale:ps})},p=B=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(B)),m=()=>i.filter(B=>B.amount>0&&B.status==="success").reduce((B,_)=>B+_.amount,0),y=()=>i.filter(B=>B.amount<0&&B.status==="success").reduce((B,_)=>B+Math.abs(_.amount),0),b=B=>{switch(B){case"topup":return s.jsx(J.plus,{className:"h-4 w-4 text-green-500"});case"payment":return s.jsx(J.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return s.jsx(J.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return s.jsx(J.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return s.jsx(J.activity,{className:"h-4 w-4"})}},v=B=>{switch(B){case"success":return s.jsx(_t,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return s.jsx(_t,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return s.jsx(_t,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return s.jsx(_t,{children:"Unknown"})}};return s.jsxs(_e,{className:t,children:[s.jsxs(lt,{className:"pb-3",children:[s.jsx(ct,{children:"Mutasi Dompet PPOB"}),s.jsx(dr,{children:"Riwayat transaksi dompet PPOB Anda"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[s.jsx(Pa,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:s.jsxs(ga,{className:"grid grid-cols-3 w-full sm:w-auto",children:[s.jsx(Nt,{value:"all",children:"Semua"}),s.jsx(Nt,{value:"topup",children:"Top Up"}),s.jsx(Nt,{value:"payment",children:"Pembayaran"})]})}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(Rn,{value:u,onValueChange:A,children:[s.jsx(vn,{className:"w-full sm:w-[180px]",children:s.jsx(Un,{placeholder:"Pilih Periode"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"all",children:"Semua Waktu"}),s.jsx(vt,{value:"today",children:"Hari Ini"}),s.jsx(vt,{value:"yesterday",children:"Kemarin"}),s.jsx(vt,{value:"this-week",children:"Minggu Ini"}),s.jsx(vt,{value:"this-month",children:"Bulan Ini"}),s.jsx(vt,{value:"last-month",children:"Bulan Lalu"})]})]}),s.jsx(he,{placeholder:"Cari transaksi...",value:d,onChange:B=>h(B.target.value),className:"w-full sm:w-[200px]"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[s.jsx(_e,{children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),s.jsx("p",{className:"text-2xl font-bold",children:n.length>0?p(n[0].balance):"Rp 0"})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:p(m())})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:p(y())})]})})})]}),s.jsx(sa,{}),l?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):i.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Tanggal"}),s.jsx(Pe,{children:"ID Transaksi"}),s.jsx(Pe,{children:"Keterangan"}),s.jsx(Pe,{children:"Jumlah"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{children:"Saldo"})]})}),s.jsx(ra,{children:i.map(B=>s.jsxs(xt,{children:[s.jsx(be,{className:"whitespace-nowrap",children:g(B.date)}),s.jsx(be,{className:"font-medium",children:B.id}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center space-x-2",children:[b(B.type),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:B.description}),s.jsx("p",{className:"text-xs text-muted-foreground",children:B.source})]})]})}),s.jsxs(be,{className:B.amount>0?"text-green-600":"text-red-600",children:[B.amount>0?"+":"-",p(B.amount)]}),s.jsx(be,{children:v(B.status)}),s.jsx(be,{className:"font-medium",children:p(B.balance)})]},B.id))})]})})]}),s.jsxs(ms,{className:"flex justify-between",children:[s.jsxs(G,{variant:"outline",children:[s.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),s.jsxs(G,{variant:"outline",children:[s.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const c1e=()=>{const t=Ot(),[e,r]=x.useState("overview"),[n,a]=x.useState(75e4),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,A]=x.useState(""),[d,h]=x.useState(""),[f,g]=x.useState("88750012345678"),[p,m]=x.useState(!1),[y,b]=x.useState(!1),[v,B]=x.useState(!1),[_,j]=x.useState(!1),[C,E]=x.useState(null),[N,S]=x.useState("transfer"),[k,I]=x.useState(!1),[T,U]=x.useState("all"),[M,L]=x.useState(null),O=K=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(K),D=K=>{K.preventDefault(),B(!0),E("topup"),setTimeout(()=>{const $=parseInt(i.replace(/\D/g,""));a(z=>z+$),B(!1),j(!0);const q=`TP${Date.now().toString().slice(-8)}`;L({id:q,amount:$,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),j(!1)},2e3)},1500)},R=K=>{K.preventDefault(),B(!0),E("withdraw"),setTimeout(()=>{const $=parseInt(l.replace(/\D/g,""));a(z=>z-$),B(!1),j(!0);const q=`WD${Date.now().toString().slice(-8)}`;L({id:q,amount:$,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{b(!1),c(""),A(""),h(""),j(!1)},2e3)},1500)},Q=(K,$)=>{const q=K.target.value.replace(/\D/g,"");if(q===""){$("");return}$(new Intl.NumberFormat("id-ID").format(parseInt(q)))};return s.jsxs(Jt,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[s.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:s.jsxs(Pa,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[s.jsxs(ga,{className:"grid w-full grid-cols-2",children:[s.jsx(Nt,{value:"overview",children:"Saldo"}),s.jsx(Nt,{value:"history",children:"Riwayat"})]}),s.jsxs(Xt,{value:"overview",className:"space-y-4",children:[s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),s.jsxs(G,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[s.jsx(J.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),s.jsx(_e,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:s.jsx(je,{className:"p-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),s.jsx("h3",{className:"text-3xl font-bold",children:O(n)}),s.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs(G,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>m(!0),children:[s.jsx(J.plus,{className:"h-6 w-6 mb-1"}),s.jsx("span",{children:"Top Up"})]}),s.jsxs(G,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>b(!0),children:[s.jsx(J.arrowRight,{className:"h-6 w-6 mb-1"}),s.jsx("span",{children:"Tarik Dana"})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),M?s.jsx(_e,{className:"border",children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(_t,{variant:M.type==="topup"?"success":"destructive",children:M.type==="topup"?"Top Up":"Tarik Dana"}),s.jsxs("p",{className:"text-sm font-semibold mt-1",children:[M.type==="topup"?"+":"-",O(M.amount)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M.timestamp.toLocaleString("id-ID")})]}),s.jsx(_t,{variant:M.status==="success"?"outline":"secondary",children:M.status==="success"?"Berhasil":M.status==="pending"?"Diproses":"Gagal"})]})})}):s.jsx("div",{className:"text-center py-6 text-muted-foreground",children:s.jsx("p",{children:"Belum ada transaksi"})}),s.jsx("div",{className:"mt-4",children:s.jsxs(G,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",s.jsx(J.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),s.jsx(Xt,{value:"history",className:"space-y-4",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[s.jsxs(_e,{className:"bg-blue-50",children:[s.jsx(lt,{className:"pb-2",children:s.jsxs(ct,{className:"text-sm font-medium flex items-center",children:[s.jsx(J.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),s.jsx(je,{children:s.jsxs(G,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",s.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),s.jsxs(_e,{className:"bg-blue-50",children:[s.jsx(lt,{className:"pb-2",children:s.jsxs(ct,{className:"text-sm font-medium flex items-center",children:[s.jsx(J.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),s.jsx(je,{children:s.jsxs(G,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",s.jsx(J.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),s.jsx("div",{className:"space-y-2",children:s.jsx(l1e,{})}),s.jsxs("div",{className:"mt-4 text-center",children:[s.jsxs(G,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[s.jsx(J.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),s.jsxs(G,{variant:"link",onClick:()=>t("/ppob/history"),children:[s.jsx(J.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),s.jsx(br,{open:p,onOpenChange:m,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Top Up Saldo"}),s.jsx($n,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),_&&C==="topup"?s.jsxs("div",{className:"py-6 text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),s.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),s.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",M&&s.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:O(M.amount)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M&&s.jsxs(s.Fragment,{children:["ID Transaksi: ",M.id,s.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):s.jsxs("form",{onSubmit:D,children:[s.jsxs(Pa,{defaultValue:"transfer",className:"w-full",onValueChange:K=>S(K),children:[s.jsxs(ga,{className:"grid w-full grid-cols-2",children:[s.jsx(Nt,{value:"transfer",children:"Transfer Bank"}),s.jsx(Nt,{value:"qrcode",children:"QR Code"})]}),s.jsxs(Xt,{value:"transfer",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"amount",children:"Jumlah"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),s.jsx(he,{id:"amount",placeholder:"0",className:"pl-9",value:i,onChange:K=>Q(K,o),required:!0})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),s.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(K=>s.jsx(G,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(K)),children:O(K)},K))})]}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx(Ie,{children:"Metode Pembayaran"}),s.jsx(_e,{children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(J.creditCard,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:"Virtual Account"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),s.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(f),alert("Nomor Virtual Account disalin!")},children:s.jsx(J.copy,{className:"h-4 w-4"})})]})})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),s.jsxs(Xt,{value:"qrcode",className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"qr-amount",children:"Jumlah"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),s.jsx(he,{id:"qr-amount",placeholder:"0",className:"pl-9",value:i,onChange:K=>Q(K,o),required:!0})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),s.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map(K=>s.jsx(G,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format(K)),children:O(K)},K))})]}),s.jsx("div",{className:"flex justify-center mt-4",children:k?s.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[s.jsx("div",{className:"bg-white p-2 rounded-md",children:s.jsx(u7,{value:`JPC:TOPUP:${i.replace(/\D/g,"")}:${Date.now()}`,size:180})}),s.jsx(G,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>I(!1),children:"Ubah Nominal"})]}):s.jsxs(G,{type:"button",variant:"outline",onClick:()=>{const K=parseInt(i.replace(/\D/g,""))||0;if(K<1e4){alert("Minimal top up adalah Rp10.000");return}if(K>1e7){alert("Maksimal top up adalah Rp10.000.000");return}I(!0)},disabled:!i,className:"w-full py-8",children:[s.jsx(J.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),k&&s.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),s.jsxs(wn,{className:"mt-4",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{m(!1),I(!1),o("")},disabled:v,children:"Batal"}),N==="transfer"?s.jsx(G,{type:"submit",disabled:!i||v||parseInt(i.replace(/\D/g,""))<1e4,children:v?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):s.jsx(G,{type:"button",onClick:()=>{B(!0),E("topup"),setTimeout(()=>{const K=parseInt(i.replace(/\D/g,""));a(q=>q+K),B(!1),j(!0);const $=`TP${Date.now().toString().slice(-8)}`;L({id:$,amount:K,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{m(!1),o(""),I(!1),j(!1)},2e3)},1500)},disabled:!i||!k||v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),s.jsx(br,{open:y,onOpenChange:b,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Tarik Dana"}),s.jsx($n,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),_&&C==="withdraw"?s.jsxs("div",{className:"py-6 text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),s.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),s.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",M&&s.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:O(M.amount)})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:M&&s.jsxs(s.Fragment,{children:["ID Transaksi: ",M.id,s.jsx("br",{}),"Waktu: ",M.timestamp.toLocaleString("id-ID")]})})]}):s.jsxs("form",{onSubmit:R,children:[s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"withdraw-amount",children:"Jumlah"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),s.jsx(he,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:K=>Q(K,c),required:!0})]}),s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),s.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",O(n)]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),s.jsxs(Rn,{value:u,onValueChange:A,required:!0,children:[s.jsx(vn,{id:"withdraw-bank",children:s.jsx(Un,{placeholder:"Pilih bank tujuan"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"bca",children:"Bank BCA"}),s.jsx(vt,{value:"bni",children:"Bank BNI"}),s.jsx(vt,{value:"mandiri",children:"Bank Mandiri"}),s.jsx(vt,{value:"bri",children:"Bank BRI"}),s.jsx(vt,{value:"permata",children:"Bank Permata"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"account-number",children:"Nomor Rekening"}),s.jsx(he,{id:"account-number",placeholder:"Contoh: 1234567890",value:d,onChange:K=>h(K.target.value.replace(/\D/g,"")),required:!0})]})]}),s.jsxs(wn,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:v,children:"Batal"}),s.jsx(G,{type:"submit",disabled:!l||!u||!d||v||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:v?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},u1e=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function A1e({onClose:t}){const[e,r]=x.useState([]),[n,a]=x.useState(!0);x.useEffect(()=>{(async()=>{a(!0),await new Promise(d=>setTimeout(d,1e3)),r(u1e),a(!1)})()},[]);const i=e.filter(A=>!A.read).length,o=()=>{r(e.map(A=>({...A,read:!0})))},l=A=>{r(e.map(d=>d.id===A?{...d,read:!0}:d))},c=A=>{const d=new Date(A),f=Math.abs(new Date().getTime()-d.getTime()),g=Math.floor(f/(1e3*60*60*24));return g===0?`Hari ini, ${d.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:g===1?"Kemarin":g<7?d.toLocaleDateString("id-ID",{weekday:"long"}):d.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=A=>{switch(A){case"success":return s.jsx(J.check,{className:"h-4 w-4 text-green-500"});case"error":return s.jsx(J.flame,{className:"h-4 w-4 text-red-500"});case"pending":return s.jsx(J.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return s.jsx(J.ticket,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(J.bell,{className:"h-4 w-4"})}};return s.jsxs(_e,{className:"w-full max-w-md mx-auto border shadow-md",children:[s.jsxs(lt,{className:"pb-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(ct,{className:"text-xl",children:"Notifikasi"}),i>0&&s.jsx(G,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(_t,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),i>0&&s.jsxs(_t,{className:"text-xs bg-primary",children:["Belum Dibaca (",i,")"]})]})]}),s.jsx(je,{className:"px-0",children:n?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:s.jsx("p",{children:"Tidak ada notifikasi"})}):s.jsx("div",{className:"divide-y",children:e.map(A=>s.jsx("div",{className:fe("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!A.read&&"bg-muted/30"),onClick:()=>l(A.id),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-1",children:u(A.type)}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:fe("text-sm font-medium",!A.read&&"font-semibold"),children:A.title}),s.jsx("span",{className:"text-xs text-muted-foreground",children:c(A.date)})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:A.message}),!A.read&&s.jsx(_t,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},A.id))})})]})}function uB(){const t=Ot(),[e,r]=x.useState(null),[n,a]=x.useState(0),[i,o]=x.useState(0),[l,c]=x.useState(new Date),[u,A]=x.useState(!0);return x.useEffect(()=>{(async()=>{A(!0);try{const{data:{session:f},error:g}=await Z.auth.getSession();if(g)throw g;if(f!=null&&f.user){const{data:p,error:m}=await Z.from("profiles").select("*").eq("id",f.user.id).single();if(m)throw m;r(p),p&&typeof p.balance=="number"&&a(p.balance);const{count:y,error:b}=await Z.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",f.user.id).eq("read_status",!1);if(b)throw b;y!==null&&o(y)}else t("/login")}catch(f){console.error("Error fetching data:",f)}finally{A(!1)}})();const h=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(h)}},[t]),s.jsxs(Jt,{children:[s.jsxs(Zs,{children:[s.jsx("title",{children:"JPC Digi - Layanan PPOB"}),s.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[s.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(J.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",s.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),s.jsxs("div",{className:"flex justify-between items-center p-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:s.jsx(J.wallet,{className:"h-7 w-7 text-indigo-600"})}),s.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-2xl font-bold sparkle",children:xe(n)}),s.jsx("div",{children:s.jsx(G,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:s.jsx(J.refreshCw,{className:"h-3 w-3"})})})]})]})]}),s.jsxs(br,{children:[s.jsx(pv,{asChild:!0,children:s.jsxs(G,{variant:"ghost",size:"icon",className:"relative text-white",children:[s.jsx(J.bell,{className:"h-6 w-6"}),i>0&&s.jsx(_t,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:i})]})}),s.jsxs(mr,{className:"max-w-md p-0",children:[s.jsx(Er,{className:"sr-only",children:s.jsx(Sr,{children:"Notifikasi"})}),s.jsx(A1e,{onClose:()=>o(0)})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[s.jsx("div",{children:s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:s.jsx(J.qrCode,{className:"h-8 w-8"})}),s.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),s.jsx(J.plus,{className:"h-5 w-5 absolute pulse"})]})}),s.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),s.jsx(J.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),s.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:s.jsxs("div",{className:"relative flex items-center justify-center",children:[s.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),s.jsx(J.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),s.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),s.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[s.jsx("div",{className:"mt-2 mb-6",children:s.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex p-3",children:[s.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:s.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:"🔥"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),s.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),s.jsx(G,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),s.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[s.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(J.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),s.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),s.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(J.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),s.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),s.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(J.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),s.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),s.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(J.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),s.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),s.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[s.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(J.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),s.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),s.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:s.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),s.jsx("div",{className:"text-xs text-gray-500",children:bn(new Date,"HH:mm",{locale:ps})})]}),s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:s.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),s.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:s.jsx(J.messageSquare,{className:"h-5 w-5 text-white"})}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),s.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),s.jsx("div",{className:"px-4 mb-4",children:s.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:s.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),s.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(J.check,{className:"h-5 w-5 text-primary mr-2"}),s.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),s.jsx(G,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),s.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(J.shield,{className:"h-5 w-5 text-primary mr-1"}),s.jsx("span",{className:"text-xl font-bold",children:"7"})]}),s.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsxs("div",{className:"flex items-center mb-1",children:[s.jsx(J.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),s.jsx("span",{className:"text-xl font-bold",children:"2"})]}),s.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[s.jsx(J.home,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Beranda"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[s.jsx(J.activity,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[s.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),s.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[s.jsx("div",{className:"h-2 w-2 bg-white rounded"}),s.jsx("div",{className:"h-2 w-2 bg-white rounded"}),s.jsx("div",{className:"h-2 w-2 bg-white rounded"}),s.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),s.jsx("div",{className:"h-6"}),s.jsx("span",{className:"text-xs"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[s.jsx(J.inbox,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Dompet"})]}),s.jsxs(G,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[s.jsx(J.users,{className:"h-6 w-6"}),s.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function d1e({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return bn(c,"dd MMM yyyy • HH:mm",{locale:ps})},a=()=>{const l=bn(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},i=()=>{const l=bn(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`• • • ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[s.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[s.jsx("div",{className:"w-16 h-16 mb-2",children:s.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(J.wallet,{className:"h-8 w-8 text-blue-500"})})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),s.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),s.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[s.jsx(J.check,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),s.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:s.jsxs(je,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?s.jsx(J.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?s.jsx(J.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):s.jsx(J.creditCard,{className:"h-6 w-6 text-blue-500"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),s.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),s.jsxs(_t,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?s.jsx(J.check,{className:"h-4 w-4"}):t.status==="pending"?s.jsx(J.clock,{className:"h-4 w-4"}):s.jsx(J.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),s.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&s.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:s.jsxs(je,{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Nama"}),s.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),s.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Bank"}),s.jsx("span",{children:t.recipient.bankName})]})]})]})}),s.jsx(_e,{className:"mx-4 my-4 shadow-sm",children:s.jsxs(je,{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-right",children:a()}),s.jsx(G,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:s.jsx(J.copy,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),s.jsx("span",{children:t.merchantOrderId||o()})]}),s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),s.jsx("div",{className:"text-right",children:s.jsx("span",{children:t.externalSerialNumber||i()})})]})]})]})})]}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:s.jsxs(G,{className:"w-full",size:"lg",children:[s.jsx(J.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const dD=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function h1e(){Ot();const[t,e]=x.useState(""),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[c,u]=x.useState(null),[A,d]=x.useState(!1),h=V.useMemo(()=>{const g={};return a.forEach(p=>{const m=new Date(p.date),y=`${m.getFullYear()}-${m.getMonth()}`;g[y]||(g[y]=[]),g[y].push(p)}),Object.entries(g).map(([p,m])=>{const[y,b]=p.split("-").map(Number),v=new Date(y,b),B=m.filter(_=>_.type==="send"||_.type==="payment"||_.type==="withdrawal").reduce((_,j)=>_+j.amount,0);return{monthName:bn(v,"MMMM yyyy",{locale:ps}),transactions:m,totalOut:B}}).sort((p,m)=>{const y=new Date(p.transactions[0].date);return new Date(m.transactions[0].date).getTime()-y.getTime()})},[a]);x.useEffect(()=>{(async()=>{l(!0),await new Promise(p=>setTimeout(p,1e3)),n(dD),i(dD),l(!1)})()},[]),x.useEffect(()=>{if(t.trim()==="")i(r);else{const g=t.toLowerCase(),p=r.filter(m=>{var y;return m.id.toLowerCase().includes(g)||m.description.toLowerCase().includes(g)||((y=m.recipient)==null?void 0:y.name)&&m.recipient.name.toLowerCase().includes(g)});i(p)}},[t,r]);const f=g=>{const p=new Date(g);return bn(p,"dd MMM yyyy • HH:mm",{locale:ps})};return s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),s.jsxs("div",{className:"bg-primary text-white p-4",children:[s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),s.jsxs("div",{className:"relative mb-2",children:[s.jsx(he,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:g=>e(g.target.value)}),s.jsx(J.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:s.jsx(J.sort,{className:"h-4 w-4"})}),s.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:s.jsx(J.filter,{className:"h-4 w-4"})})]})]})]}),s.jsx("div",{className:"p-0",children:o?s.jsx("div",{className:"flex justify-center items-center py-20",children:s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?s.jsx("div",{className:"text-center py-12 text-muted-foreground",children:s.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):s.jsx("div",{children:h.map((g,p)=>s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[s.jsx("h2",{className:"font-medium",children:g.monthName}),s.jsxs("div",{className:"text-right",children:[s.jsxs("span",{className:"text-red-500",children:["-",xe(g.totalOut)]}),s.jsx(J.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),s.jsx("div",{children:g.transactions.map(m=>{const y=m.type==="send"||m.type==="payment"||m.type==="withdrawal";return s.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(m),d(!0)},children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-3",children:m.type==="send"?s.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(J.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):m.type==="topup"?s.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.plus,{className:"h-5 w-5 text-green-500"})}):s.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(J.shopping,{className:"h-5 w-5 text-red-500"})})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:m.description}),s.jsx("p",{className:"text-sm text-gray-500",children:f(m.date)})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:`font-medium ${y?"text-red-500":"text-green-500"}`,children:[y?"-":"+",xe(m.amount)]}),s.jsx("div",{className:"mt-1",children:s.jsx(G,{variant:"ghost",size:"sm",className:"h-6 p-0",children:s.jsx(J.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},m.id)})})]},p))})}),s.jsx(br,{open:A,onOpenChange:g=>d(g),children:s.jsxs(mr,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[s.jsx(Er,{className:"sr-only",children:s.jsx(Sr,{children:"Detail Transaksi"})}),c&&s.jsx(d1e,{transaction:c,onClose:()=>d(!1)})]})})]})}const px={digiflazz:{useTestMode:!1},app:{transactionPrefix:"JPC-DIGI"}},fA="http://202.10.44.157:5173/netlify/functions/digiflazz-proxy",f1e=px.app.transactionPrefix,Ij=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${f1e}-${t}-${e}`};class m1e{async checkBalance(){try{return(await Xo.post(`${fA}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await Xo.post(`${fA}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(a=>a.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const a=Ij(),i={buyer_sku_code:r,customer_no:e,ref_id:a,testing:n};return(await Xo.post(`${fA}/v1/transaction`,i)).data}catch(a){throw console.error("Error processing prepaid transaction:",a),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const a=Ij(),i={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:a,testing:n};return(await Xo.post(`${fA}/v1/transaction`,i)).data}catch(a){throw console.error("Error processing postpaid inquiry:",a),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,a=!1){try{const i={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:a};return(await Xo.post(`${fA}/v1/transaction`,i)).data}catch(i){throw console.error("Error processing postpaid payment:",i),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await Xo.post(`${fA}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const yc=new m1e;function p1e(){const[t,e]=x.useState([]),[r,n]=x.useState(!1),[a,i]=x.useState(null),[o,l]=x.useState(0),[c,u]=x.useState(null),A=x.useCallback(async b=>{try{n(!0),i(null);const v=await yc.getPriceList(b);return e(v),v}catch(v){const B=v instanceof Error?v.message:"Failed to fetch products";return i(B),[]}finally{n(!1)}},[]),d=x.useCallback(async()=>{try{n(!0),i(null);const b=await yc.checkBalance();return l(b),b}catch(b){const v=b instanceof Error?b.message:"Failed to fetch balance";return i(v),0}finally{n(!1)}},[]),h=x.useCallback(async(b,v,B=px.digiflazz.useTestMode)=>{try{n(!0),i(null);const _=await yc.topupPrepaid(b,v,B);return u(_),_}catch(_){const j=_ instanceof Error?_.message:"Failed to process transaction";throw i(j),new Error(j)}finally{n(!1)}},[]),f=x.useCallback(async(b,v,B=px.digiflazz.useTestMode)=>{try{n(!0),i(null);const _=await yc.inquiryPostpaid(b,v,B);return u(_),_}catch(_){const j=_ instanceof Error?_.message:"Failed to process inquiry";throw i(j),new Error(j)}finally{n(!1)}},[]),g=x.useCallback(async(b,v,B,_=px.digiflazz.useTestMode)=>{try{n(!0),i(null);const j=await yc.payPostpaid(b,v,B,_);return u(j),j}catch(j){const C=j instanceof Error?j.message:"Failed to process payment";throw i(C),new Error(C)}finally{n(!1)}},[]),p=x.useCallback(async(b,v=!0)=>{try{n(!0),i(null);const B=await yc.checkTransactionStatus(b,v);return u(B),B}catch(B){const _=B instanceof Error?B.message:"Failed to check transaction status";throw i(_),new Error(_)}finally{n(!1)}},[]),m=x.useCallback(b=>yc.getOperatorFromPhoneNumber(b),[]),y=x.useCallback(()=>Ij(),[]);return{products:t,loading:r,error:a,balance:o,currentTransaction:c,fetchProducts:A,fetchBalance:d,processPrepaidTransaction:h,processPostpaidInquiry:f,processPostpaidPayment:g,checkTransactionStatus:p,getOperatorFromPhoneNumber:m,getNewRefId:y}}const A7=x.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),g1e=({children:t})=>{const[e,r]=x.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},a=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},i=o=>e.find(l=>l.id===o);return V.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),s.jsx(A7.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:a,getTransactionById:i},children:t})},x1e=()=>x.useContext(A7),v1e=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),a=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",i=Math.ceil(t.price*1.05),o=t.price<i;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?i:void 0,validity:a,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},hD=[];function y1e(){const t=Ot(),e=va(),[r,n]=x.useState(""),[a,i]=x.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=x.useState("pulsa"),[c,u]=x.useState(null),[A,d]=x.useState(!1),[h,f]=x.useState(!1),[g,p]=x.useState(!1),[m,y]=x.useState("Telkomsel"),[b,v]=x.useState(hD),[B,_]=x.useState(hD),[j,C]=x.useState(null),E=p1e(),{addTransaction:N}=x1e(),S=()=>s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[s.jsx(rr,{className:"h-8 w-8 animate-spin text-primary mb-2"}),s.jsx("p",{children:"Memproses pembayaran..."})]})}),k=O=>{const D=O.replace(/\D/g,"");let R="";for(let Q=0;Q<D.length;Q++)(Q===4||Q===8)&&(R+=" "),R+=D[Q];return R},I=O=>{const D=k(O.target.value);n(D);const R=D.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(R)?y("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(R)?y("XL Axiata"):["0851","0852","0853","0815","0816"].includes(R)?y("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(R)?y("Smartfren"):["0896","0897","0898","0899"].includes(R)?y("Tri Indonesia"):y("Unknown")},T=O=>{n(O)},U=O=>{u(O),d(!0)},M=async()=>{try{f(!0),C(null);const O=o==="pulsa"?"Pulsa":"Data",R=(await E.fetchProducts(O)).filter(Q=>{const K=r.replace(/\D/g,"");return m==="Telkomsel"?Q.brand.toLowerCase().includes("telkomsel"):m==="XL Axiata"?Q.brand.toLowerCase().includes("xl"):m==="Indosat Ooredoo"?Q.brand.toLowerCase().includes("indosat"):m==="Smartfren"?Q.brand.toLowerCase().includes("smartfren"):m==="Tri Indonesia"?Q.brand.toLowerCase().includes("tri")||Q.brand.toLowerCase().includes("3"):!0}).map(v1e);R.sort((Q,K)=>Q.price-K.price),o==="pulsa"?v(R):_(R)}catch(O){C(O instanceof Error?O.message:"Failed to fetch products"),me({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{f(!1)}},L=async()=>{var O;if(!(!c||!r))try{f(!0),C(null);const D=r.replace(/\D/g,""),R=await E.processPrepaidTransaction(D,c.id,!0);if(R&&R.data&&R.data.status==="success")N({id:R.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),p(!0),me({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((O=R.data)==null?void 0:O.message)||"Transaction failed")}catch(D){C(D instanceof Error?D.message:"Failed to process payment"),me({variant:"destructive",title:"Pembayaran Gagal",description:D instanceof Error?D.message:"Gagal memproses pembayaran. Silakan coba lagi."}),d(!1)}finally{f(!1)}};return x.useEffect(()=>{const D=new URLSearchParams(e.search).get("tab");if((D==="pulsa"||D==="data")&&l(D),r){const R=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(R)?y("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(R)?y("XL Axiata"):["0851","0852","0853","0815","0816"].includes(R)?y("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(R)?y("Smartfren"):["0896","0897","0898","0899"].includes(R)?y("Tri Indonesia"):y("Unknown")}},[e.search,r]),x.useEffect(()=>{r&&r.length>=4&&M()},[r,o]),x.useEffect(()=>{const O=new URLSearchParams(e.search);O.set("tab",o),t(`${e.pathname}?${O.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),s.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:s.jsx(J.chevronLeft,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),s.jsx("button",{children:s.jsx(J.file,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 bg-white",children:[s.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[s.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[s.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),s.jsx(he,{type:"tel",value:r,onChange:I,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&s.jsxs("div",{className:"py-2 px-1 flex items-center",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:s.jsx(J.smartphone,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),s.jsx("p",{className:"font-medium",children:m})]})]}),a.length>0&&s.jsxs("div",{className:"pt-2 pb-3",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),s.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:a.map((O,D)=>s.jsx("button",{onClick:()=>T(O),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:O},D))})]})]}),s.jsxs("div",{className:"flex space-x-4 mb-4",children:[s.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),s.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),E.loading?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx(rr,{className:"h-8 w-8 animate-spin text-primary"})}):j?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(J.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),s.jsx("h3",{className:"font-medium",children:"Error"}),s.jsx("p",{className:"text-sm text-gray-500",children:j}),s.jsx(G,{onClick:M,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):s.jsx(s.Fragment,{children:o==="pulsa"?s.jsx("div",{className:"grid grid-cols-2 gap-4",children:b.length===0&&!E.loading?s.jsx("div",{className:"col-span-2 text-center p-4",children:s.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):b.map(O=>s.jsx(_e,{className:`cursor-pointer hover:border-primary transition-colors ${O.isPopular?"border-amber-400":""}`,onClick:()=>U(O),children:s.jsxs(je,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"font-semibold text-xl",children:O.nominal}),O.isPopular&&s.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:O.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:O.validity}),s.jsxs("div",{className:"mt-3",children:[O.originalPrice&&s.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:xe(O.originalPrice)}),s.jsx("span",{className:"text-primary font-medium",children:xe(O.price)})]})]})},O.id))}):s.jsx("div",{className:"space-y-4",children:B.length===0&&!E.loading?s.jsx("div",{className:"text-center p-4",children:s.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):B.map(O=>s.jsx(_e,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>U(O),children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:O.description}),s.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:O.validity})]}),s.jsx("div",{className:"text-primary font-medium",children:xe(O.price)})]})})},O.id))})})]})]}),s.jsx(br,{open:A,onOpenChange:d,children:s.jsx(mr,{className:"sm:max-w-md",children:g?s.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),s.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),s.jsx(G,{className:"mt-4 w-full",onClick:()=>{d(!1),p(!1)},children:"Kembali"})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Konfirmasi Pembayaran"}),s.jsx($n,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),s.jsx("span",{className:"font-medium",children:r})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Provider"}),s.jsx("span",{children:m})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-500",children:"Produk"}),s.jsx("span",{children:c==null?void 0:c.description})]})]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsxs("div",{className:"flex justify-between font-medium",children:[s.jsx("span",{children:"Total Harga"}),s.jsx("span",{className:"text-amber-500",children:xe(c==null?void 0:c.price)})]})})]}),s.jsxs(wn,{className:"sm:justify-between",children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:h,children:"Batal"}),s.jsx(G,{type:"button",onClick:L,disabled:h,children:h?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),h&&s.jsx(S,{})]})}const fD=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],b1e=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function w1e(){const t=Ot(),[e,r]=x.useState("transfer"),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(""),[u,A]=x.useState(""),[d,h]=x.useState(!1),[f,g]=x.useState(!1),[p,m]=x.useState(!1),y=C=>{const E=C.target.value.replace(/\D/g,"");a(E)},b=C=>{o(C.accountNumber),c(C.bank),A(C.name)},v=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!i||!l){alert("Mohon lengkapi data rekening tujuan");return}h(!0)},B=()=>{h(!1),m(!0),setTimeout(()=>{m(!1),g(!0)},2e3)},_=()=>n?xe(parseInt(n)):"",j=()=>{g(!1),t("/ppob/activity")};return s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("title",{children:"Kirim Uang - JPC Digi"})}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"bg-primary text-white p-4",children:s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(G,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:s.jsx(J.chevronLeft,{className:"h-6 w-6"})}),s.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),s.jsxs(Pa,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[s.jsx("div",{className:"px-4 pt-2",children:s.jsxs(ga,{className:"grid w-full grid-cols-2",children:[s.jsx(Nt,{value:"transfer",children:"Transfer Bank"}),s.jsx(Nt,{value:"ewallet",children:"E-Wallet"})]})}),s.jsx(Xt,{value:"transfer",className:"p-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"amount",children:"Jumlah"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),s.jsx(he,{id:"amount",type:"text",className:"pl-10",value:n,onChange:y,placeholder:"0"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"bank",children:"Bank Tujuan"}),s.jsxs(Rn,{value:l,onValueChange:c,children:[s.jsx(vn,{id:"bank",children:s.jsx(Un,{placeholder:"Pilih bank"})}),s.jsx(yn,{children:b1e.map(C=>s.jsx(vt,{value:C,children:C},C))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"accountNumber",children:"Nomor Rekening"}),s.jsx(he,{id:"accountNumber",value:i,onChange:C=>o(C.target.value),placeholder:"Masukkan nomor rekening"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"recipientName",children:"Nama Penerima"}),s.jsx(he,{id:"recipientName",value:u,onChange:C=>A(C.target.value),placeholder:"Nama akan terisi otomatis",disabled:!i||i.length<8})]}),fD.length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),s.jsx("div",{className:"space-y-2",children:fD.map(C=>s.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>b(C),children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:C.name}),s.jsxs("p",{className:"text-sm text-gray-500",children:[C.bank," • ",C.accountNumber]})]}),C.isRecent&&s.jsx(_t,{variant:"outline",className:"text-xs",children:"Baru"})]},C.id))})]})]})}),s.jsx(Xt,{value:"ewallet",className:"p-4",children:s.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[s.jsx(J.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),s.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),s.jsx("div",{className:"mt-auto p-4 border-t",children:s.jsx(G,{className:"w-full",size:"lg",disabled:!n||!i||!l||e!=="transfer",onClick:v,children:"Lanjutkan"})})]}),s.jsx(br,{open:d,onOpenChange:h,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{children:"Konfirmasi Transfer"})}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsx("p",{className:"text-center text-2xl font-bold",children:_()})}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-gray-500",children:"Bank"}),s.jsx("p",{className:"font-medium",children:l})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),s.jsx("p",{className:"font-medium",children:i})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),s.jsx("p",{className:"font-medium",children:u})]}),s.jsx(sa,{}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),s.jsx("p",{className:"font-medium",children:"Gratis"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"font-medium",children:"Total"}),s.jsx("p",{className:"font-bold",children:_()})]})]})]}),s.jsxs(wn,{children:[s.jsx(G,{variant:"outline",onClick:()=>h(!1),children:"Batal"}),s.jsx(G,{onClick:B,children:"Konfirmasi"})]})]})}),p&&s.jsx(br,{open:!0,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{children:"Memproses Transaksi"})}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(J.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),s.jsx(br,{open:f,onOpenChange:g,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{children:"Transfer Berhasil"})}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:s.jsx(J.check,{className:"h-8 w-8 text-green-500"})}),s.jsx("p",{className:"text-center text-2xl font-bold",children:_()}),s.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),s.jsx("p",{className:"font-medium",children:u}),s.jsxs("p",{className:"text-sm text-gray-500",children:[l," • ",i]})]})}),s.jsx(wn,{children:s.jsx(G,{className:"w-full",onClick:j,children:"Selesai"})})]})})]})}var d7={exports:{}},h7={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=x;function B1e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var C1e=typeof Object.is=="function"?Object.is:B1e,_1e=Nd.useState,j1e=Nd.useEffect,E1e=Nd.useLayoutEffect,S1e=Nd.useDebugValue;function N1e(t,e){var r=e(),n=_1e({inst:{value:r,getSnapshot:e}}),a=n[0].inst,i=n[1];return E1e(function(){a.value=r,a.getSnapshot=e,AB(a)&&i({inst:a})},[t,r,e]),j1e(function(){return AB(a)&&i({inst:a}),t(function(){AB(a)&&i({inst:a})})},[t]),S1e(r),r}function AB(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!C1e(t,r)}catch{return!0}}function k1e(t,e){return e()}var T1e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?k1e:N1e;h7.useSyncExternalStore=Nd.useSyncExternalStore!==void 0?Nd.useSyncExternalStore:T1e;d7.exports=h7;var I1e=d7.exports;function P1e(){return I1e.useSyncExternalStore(F1e,()=>!0,()=>!1)}function F1e(){return()=>{}}var bN="Avatar",[D1e,OKe]=Hn(bN),[O1e,f7]=D1e(bN),m7=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[a,i]=x.useState("idle");return s.jsx(O1e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ye.span,{...n,ref:e})})});m7.displayName=bN;var p7="AvatarImage",g7=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=t,o=f7(p7,r),l=R1e(n,i),c=nn(u=>{a(u),o.onImageLoadingStatusChange(u)});return Yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ye.img,{...i,ref:e,src:n}):null});g7.displayName=p7;var x7="AvatarFallback",v7=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...a}=t,i=f7(x7,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ye.span,{...a,ref:e}):null});v7.displayName=x7;function mD(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function R1e(t,{referrerPolicy:e,crossOrigin:r}){const n=P1e(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=x.useState(()=>mD(i,t));return Yr(()=>{l(mD(i,t))},[i,t]),Yr(()=>{const c=d=>()=>{l(d)};if(!i)return;const u=c("loaded"),A=c("error");return i.addEventListener("load",u),i.addEventListener("error",A),e&&(i.referrerPolicy=e),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",A)}},[i,r,e]),o}var y7=m7,b7=g7,w7=v7;const ql=x.forwardRef(({className:t,...e},r)=>s.jsx(y7,{ref:r,className:fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));ql.displayName=y7.displayName;const kd=x.forwardRef(({className:t,...e},r)=>s.jsx(b7,{ref:r,className:fe("aspect-square h-full w-full",t),...e}));kd.displayName=b7.displayName;const Xl=x.forwardRef(({className:t,...e},r)=>s.jsx(w7,{ref:r,className:fe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Xl.displayName=w7.displayName;const U1e=()=>{const t=Ot(),[e,r]=x.useState(""),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState("contacts"),[u,A]=x.useState(!1),[d,h]=x.useState(!1),[f,g]=x.useState(""),[p,m]=x.useState(!1),[y,b]=x.useState(""),v=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],B=j=>{const C=j.target.value.replace(/\D/g,"");if(C===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(C)))},_=j=>{j.preventDefault(),A(!0),setTimeout(()=>{const C=`REQ${Date.now().toString().slice(-8)}`;g(C),b(`https://jpcdigi.com/ppob/pay-request/${C}`),A(!1),h(!0),setTimeout(()=>{(l==="link"||l==="qr")&&m(!0)},1500)},1500)};return s.jsxs(Jt,{children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[s.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),s.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.file,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[d?s.jsx(_e,{className:"border-none shadow-sm mb-6",children:s.jsxs(je,{className:"p-6 text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-8 w-8 text-green-600"})})}),s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),s.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),s.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),s.jsx("span",{className:"font-semibold",children:f})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(G,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[s.jsx(J.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),s.jsxs(G,{className:"w-full flex justify-center items-center",onClick:()=>m(!0),children:[s.jsx(J.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx(_e,{className:"border-none shadow-sm mb-6",children:s.jsx(je,{className:"pt-6",children:s.jsx("form",{onSubmit:_,children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ie,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),s.jsx("div",{className:"relative mt-3 mb-2",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),s.jsx(he,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:B,required:!0})]})}),s.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[s.jsx(_t,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),s.jsx(_t,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"notes",children:"Catatan (Opsional)"}),s.jsx(he,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:i,onChange:j=>o(j.target.value)})]})]})})})}),s.jsxs(Pa,{value:l,onValueChange:j=>c(j),className:"w-full",children:[s.jsxs(ga,{className:"grid w-full grid-cols-3",children:[s.jsx(Nt,{value:"contacts",children:"Kontak"}),s.jsx(Nt,{value:"link",children:"Link"}),s.jsx(Nt,{value:"qr",children:"QR Code"})]}),s.jsxs(Xt,{value:"contacts",className:"space-y-4 pt-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ie,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),s.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:s.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(he,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:j=>a(j.target.value.replace(/\D/g,"")),required:!0})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),s.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:v.map(j=>s.jsxs("div",{onClick:()=>a(j.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[s.jsxs(ql,{className:"h-10 w-10 border",children:[s.jsx(kd,{src:j.image,alt:j.name}),s.jsx(Xl,{children:j.name.substring(0,2)})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:j.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j.phone})]}),s.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===j.phone&&s.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},j.id))})]}),s.jsx(G,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:_,children:u?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),s.jsx(Xt,{value:"link",className:"space-y-4 pt-4",children:s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[s.jsx(J.link,{className:"h-12 w-12 mx-auto text-primary/50"}),s.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),s.jsx(G,{className:"w-full",disabled:!e||u,onClick:_,children:u?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),s.jsx(Xt,{value:"qr",className:"space-y-4 pt-4",children:s.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[s.jsx(J.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),s.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),s.jsx(G,{className:"w-full",disabled:!e||u,onClick:_,children:u?s.jsxs(s.Fragment,{children:[s.jsx(J.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),s.jsx(br,{open:p,onOpenChange:m,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Bagikan Permintaan"}),s.jsx($n,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?s.jsx("div",{className:"flex justify-center",children:s.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[s.jsx(u7,{value:y,size:180}),s.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{children:"Link Permintaan"}),s.jsxs("div",{className:"flex",children:[s.jsx(he,{value:y,readOnly:!0,className:"rounded-r-none"}),s.jsx(G,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(y),alert("Link permintaan disalin!")},children:s.jsx(J.copy,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{children:"Bagikan ke"}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((j,C)=>{const E=J[j.icon];return s.jsxs(G,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[s.jsx(E,{className:`h-5 w-5 mb-1 ${j.color}`}),s.jsx("span",{className:"text-xs",children:j.name})]},C)})})]})]}),s.jsx(wn,{children:s.jsx(G,{variant:"outline",onClick:()=>{m(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},M1e=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],pD=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],Q1e=()=>{var m;const t=Ot(),[e,r]=x.useState(""),[n,a]=x.useState(""),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,A]=x.useState(!1),[d,h]=x.useState(""),f=y=>{r(y.toString()),a(new Intl.NumberFormat("id-ID").format(y))},g=y=>{const b=y.target.value.replace(/\D/g,"");if(b===""){r(""),a("");return}r(b),a(new Intl.NumberFormat("id-ID").format(parseInt(b)))},p=()=>{!e||!i||(c(!0),setTimeout(()=>{const y=`TX${Date.now().toString().slice(-8)}`;h(y),c(!1),A(!0)},1500))};return s.jsxs(Jt,{children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),s.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.file,{className:"h-5 w-5"})})]})}),s.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[s.jsx(_e,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),s.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),s.jsxs(Pa,{defaultValue:"amount",className:"mb-6",children:[s.jsxs(ga,{className:"grid grid-cols-2 mb-4",children:[s.jsx(Nt,{value:"amount",children:"Nominal"}),s.jsx(Nt,{value:"payment",children:"Metode Pembayaran"})]}),s.jsx(Xt,{value:"amount",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ie,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),s.jsx("div",{className:"relative mt-3 mb-2",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),s.jsx(he,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:g})]})}),s.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[s.jsx(_t,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),s.jsx(_t,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{className:"text-sm font-medium",children:"Pilih Nominal"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:M1e.map(y=>s.jsx(G,{type:"button",variant:e===y.amount.toString()?"default":"outline",className:fe("h-12 font-medium",e===y.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>f(y.amount),children:xe(y.amount)},y.id))})]}),s.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var y;(y=document.querySelector('[data-value="payment"]'))==null||y.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),s.jsx(Xt,{value:"payment",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(_e,{className:"border-none shadow-sm bg-muted/20 mb-4",children:s.jsx(je,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),s.jsx("p",{className:"font-bold text-lg",children:xe(parseInt(e||"0"))})]}),s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>{var y;(y=document.querySelector('[data-value="amount"]'))==null||y.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),s.jsx("div",{className:"grid gap-2",children:pD.map(y=>s.jsxs("div",{className:fe("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",i===y.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(y.id),children:[s.jsxs(ql,{className:"h-10 w-10 border",children:[s.jsx(kd,{src:y.logo,alt:y.name}),s.jsx(Xl,{children:y.fallback})]}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:y.name})}),s.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:i===y.id&&s.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},y.id))})]}),s.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!i||!e||l,onClick:p,children:l?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Memproses..."})]}):`Bayar ${xe(parseInt(e||"0"))}`})]})})]}),s.jsx(br,{open:u,onOpenChange:A,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{className:"text-center",children:"Top Up Berhasil!"}),s.jsx($n,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),s.jsx("div",{className:"flex justify-center py-6",children:s.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),s.jsx("span",{className:"font-semibold",children:xe(parseInt(e||"0"))})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Metode"}),s.jsx("span",{className:"font-semibold",children:((m=pD.find(y=>y.id===i))==null?void 0:m.name)||""})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),s.jsx("span",{className:"font-semibold",children:d})]})]}),s.jsx(wn,{children:s.jsx(G,{className:"w-full",onClick:()=>{A(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},L1e=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],gD=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],$1e=()=>{const t=Ot(),[e,r]=x.useState(""),[n,a]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(!1),[u,A]=x.useState(!1),[d,h]=x.useState(!1),[f,g]=x.useState(""),[p,m]=x.useState(""),y=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{a({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},b=()=>{!e||!i||(A(!0),setTimeout(()=>{const v=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");m(v);const B=`TX${Date.now().toString().slice(-8)}`;g(B),A(!1),h(!0)},1500))};return s.jsxs(Jt,{children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),s.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:s.jsx(J.file,{className:"h-5 w-5"})})]})}),s.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:s.jsx(_e,{className:"border-none shadow-sm mb-6",children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ie,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&s.jsx(G,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),a(null),o(null)},children:"Ubah"})]}),n?s.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(J.users,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:n.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e}),s.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:s.jsx(J.zap,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(he,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:v=>r(v.target.value.replace(/\D/g,"")),disabled:l})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),gD.length>0&&s.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[s.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:gD.map(v=>s.jsxs("div",{onClick:()=>r(v.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(J.zap,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:v.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v.number})]}),s.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===v.number&&s.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},v.id))})]}),s.jsx("div",{className:"mt-4",children:s.jsx(G,{className:"w-full",disabled:e.length<10||l,onClick:y,children:l?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&s.jsxs("div",{className:"border-t pt-4 mt-4",children:[s.jsx("div",{className:"mb-3",children:s.jsx(Ie,{className:"text-sm font-medium",children:"Pilih Nominal"})}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:L1e.map(v=>s.jsxs("div",{className:fe("border rounded-lg p-3 cursor-pointer transition-colors",i===v.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(v.value),children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("span",{className:"font-semibold",children:v.label}),i===v.value&&s.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:s.jsx(J.check,{className:"h-3 w-3 text-white"})})]}),s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:v.desc}),s.jsx("p",{className:"text-sm font-medium text-primary",children:xe(v.price)})]},v.value))}),s.jsx(G,{className:"w-full mt-6",size:"lg",disabled:!i||u,onClick:b,children:u?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),s.jsx(br,{open:d,onOpenChange:h,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{className:"text-center",children:"Pembelian Berhasil!"}),s.jsx($n,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),s.jsx("div",{className:"flex justify-center py-4",children:s.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(J.check,{className:"h-10 w-10 text-green-600"})})}),s.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),s.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:p})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),s.jsx("span",{className:"font-semibold",children:e})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Nama"}),s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),s.jsx("span",{className:"font-semibold",children:xe(parseInt(i||"0"))})]}),s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Admin"}),s.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),s.jsx("span",{className:"font-semibold",children:f})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(G,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(p),alert("Token berhasil disalin!")},children:[s.jsx(J.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),s.jsx(G,{className:"flex-1",onClick:()=>{h(!1),t("/ppob")},children:"Selesai"})]})]})})]})},xD=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],dB=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],H1e=()=>{var T,U,M,L,O,D;const t=Ot(),[e,r]=x.useState("transfer"),[n]=x.useState(75e4),[a,i]=x.useState(null),[o,l]=x.useState(""),[c,u]=x.useState(""),[A,d]=x.useState(!1),[h,f]=x.useState(!1),[g,p]=x.useState(""),[m,y]=x.useState(!1),[b,v]=x.useState(!1),[B,_]=x.useState(""),j=R=>{const Q=R.replace(/\D/g,"");return Q.length<=4?Q:Q.length<=7?`${Q.slice(0,4)}-${Q.slice(4)}`:Q.length<=10?`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7)}`:`${Q.slice(0,4)}-${Q.slice(4,7)}-${Q.slice(7,10)}-${Q.slice(10,13)}`},C=R=>{const Q=R.target.value.replace(/\D/g,"");l(Q),f(!1)},E=R=>{const Q=R.target.value.replace(/\D/g,"");u(Q)},N=()=>{o.length<10||!a||(d(!0),setTimeout(()=>{var R;p(((R=dB.find(Q=>Q.accountNumber.endsWith(o.slice(-8))&&Q.walletId===a))==null?void 0:R.name)||"User "+a.toUpperCase()),f(!0),d(!1)},1e3))},S=()=>{!h||!c||parseInt(c)<=0||(y(!0),setTimeout(()=>{const R=`EW${Date.now().toString().slice(-8)}`;_(R),y(!1),v(!0)},1500))},k=()=>{i(null),l(""),u(""),f(!1),p(""),v(!1)},I=R=>xD.find(Q=>Q.id===R);return s.jsxs(Jt,{children:[s.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),s.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),s.jsx("div",{className:"p-4",children:s.jsx(_e,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:s.jsxs(je,{className:"p-4",children:[s.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),s.jsx("h2",{className:"text-2xl font-bold",children:xe(n)}),s.jsx("p",{className:"text-xs text-white/70 mt-1",children:s.jsxs("span",{className:"inline-flex items-center",children:[s.jsx(J.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),s.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:s.jsxs(Pa,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[s.jsxs(ga,{className:"grid grid-cols-2 mb-4",children:[s.jsx(Nt,{value:"transfer",children:"Transfer"}),s.jsx(Nt,{value:"history",children:"Riwayat"})]}),s.jsx(Xt,{value:"transfer",className:"space-y-4",children:b?s.jsx(_e,{className:"border-none shadow-sm",children:s.jsxs(je,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[s.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:s.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(O=I(a))==null?void 0:O.name]}),s.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),s.jsx("span",{className:"text-sm font-medium",children:xe(parseInt(c))})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),s.jsx("span",{className:"text-sm font-medium",children:g})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),s.jsx("span",{className:"text-sm font-medium",children:(D=I(a))==null?void 0:D.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),s.jsx("span",{className:"text-sm font-medium",children:j(o)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),s.jsx("span",{className:"text-sm font-medium",children:B})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),s.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsxs(G,{variant:"outline",className:"flex-1",onClick:k,children:[s.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),s.jsx(G,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:xD.map(R=>s.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${a===R.id?`border-2 border-primary ${R.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>i(R.id),children:[s.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${a===R.id?R.bgColor:"bg-gray-100"}`,children:[a===R.id&&s.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:s.jsx(J.check,{className:"h-3 w-3 text-white"})}),s.jsx("img",{src:R.logo,alt:R.name,className:"w-6 h-6 object-contain"})]}),s.jsx("span",{className:"text-xs font-medium",children:R.name})]},R.id))})]}),a&&s.jsx(_e,{className:"border-none shadow-sm",children:s.jsx(je,{className:"p-4 space-y-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:s.jsx(J.phone,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(he,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:j(o),onChange:C,disabled:h||A})]}),dB.length>0&&!h&&s.jsxs("div",{className:"mt-4",children:[s.jsx(Ie,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),s.jsx("div",{className:"space-y-2",children:dB.filter(R=>R.walletId===a).map((R,Q)=>{var K,$,q,z;return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(R.accountNumber),N()},children:[s.jsx(ql,{className:"h-9 w-9",children:s.jsx(Xl,{className:`${(K=I(R.walletId))==null?void 0:K.textColor} ${($=I(R.walletId))==null?void 0:$.bgColor}`,children:R.name.substring(0,2).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:R.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:j(R.accountNumber)})]}),s.jsx(_t,{variant:"outline",className:`ml-auto ${(q=I(R.walletId))==null?void 0:q.textColor}`,children:(z=I(R.walletId))==null?void 0:z.name})]},Q)})})]}),!h&&o.length>=10&&s.jsx(G,{className:"w-full mt-2",onClick:N,disabled:A,children:A?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),h&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[s.jsx(ql,{className:"h-10 w-10",children:s.jsx(Xl,{className:`${(T=I(a))==null?void 0:T.textColor} ${(U=I(a))==null?void 0:U.bgColor}`,children:g.substring(0,2).toUpperCase()})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:g}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:j(o)}),s.jsx(_t,{variant:"outline",className:`${(M=I(a))==null?void 0:M.textColor} text-xs`,children:(L=I(a))==null?void 0:L.name})]})]}),s.jsx(G,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{f(!1),l("")},children:"Ubah"})]}),s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx(Ie,{htmlFor:"amount",children:"Nominal Transfer"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),s.jsx(he,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:E})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(R=>s.jsx(G,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(R.toString()),children:xe(R)},R))})]}),s.jsx(G,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||m,onClick:S,children:m?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(rr,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),s.jsx(Xt,{value:"history",className:"space-y-4",children:s.jsx(_e,{className:"border-none shadow-sm",children:s.jsxs(je,{className:"p-4",children:[s.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),s.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((R,Q)=>{var K,$,q,z,W;return s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${(K=I(R.wallet))==null?void 0:K.bgColor}`,children:s.jsx("img",{src:($=I(R.wallet))==null?void 0:$.logo,alt:(q=I(R.wallet))==null?void 0:q.name,className:"w-6 h-6 object-contain"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-sm font-medium",children:R.name}),s.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",xe(R.amount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:j(R.phone)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:R.date.toLocaleDateString("id-ID")})]})]})]}),s.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",R.id]}),s.jsx(_t,{variant:"outline",className:(z=I(R.wallet))==null?void 0:z.textColor,children:(W=I(R.wallet))==null?void 0:W.name})]})]},Q)})})]})})})]})})]})},vD=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],V1e=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],K1e=()=>{const t=Ot(),[e,r]=x.useState(null),[n,a]=x.useState(""),[i,o]=x.useState(null),[l,c]=x.useState("popular"),[u,A]=x.useState("all"),[d,h]=x.useState(""),[f,g]=x.useState(!1),[p,m]=x.useState(!1),[y,b]=x.useState(!1),[v,B]=x.useState(""),_=e?vD.find(k=>k.id===e):null,j=vD.filter(k=>{const I=d===""||k.name.toLowerCase().includes(d.toLowerCase())||k.publisher.toLowerCase().includes(d.toLowerCase()),T=u==="all"||k.category.toLowerCase()===u.toLowerCase();return I&&T}),C=k=>{r(k),a(""),o(null)},E=k=>{o(k),m(!0)},N=()=>{!i||!_||!n||(g(!0),setTimeout(()=>{const k=`GM${Date.now().toString().slice(-8)}`;B(k),g(!1),m(!1),b(!0)},2e3))},S=()=>s.jsxs("div",{className:"flex justify-center items-center py-4",children:[s.jsx(J.spinner,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return s.jsxs(Jt,{children:[s.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),s.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),s.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[s.jsxs("div",{className:"relative mb-4",children:[s.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:s.jsx(J.search,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(he,{type:"text",placeholder:"Cari game...",value:d,onChange:k=>h(k.target.value),className:"pl-10"})]}),e?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:s.jsx("img",{src:_==null?void 0:_.image,alt:_==null?void 0:_.name,className:"object-cover w-full h-full"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"font-semibold",children:_==null?void 0:_.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:_==null?void 0:_.publisher})]})]})]}),s.jsx(_e,{className:"mb-4",children:s.jsxs(je,{className:"p-4 space-y-3",children:[s.jsx(Ie,{htmlFor:"userId",children:"User ID"}),s.jsx(he,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:k=>a(k.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),s.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),s.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:_==null?void 0:_.items.map(k=>s.jsx(_e,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(i==null?void 0:i.id)===k.id?"border-primary border-2":""}`,onClick:()=>E(k),children:s.jsxs(je,{className:"p-3",children:[s.jsx("h4",{className:"font-medium text-sm",children:k.name}),s.jsxs("div",{className:"mt-1",children:[s.jsx("p",{className:"font-semibold text-primary",children:xe(k.price)}),k.discount&&s.jsx("p",{className:"text-xs text-muted-foreground line-through",children:xe(k.originalPrice)})]}),k.discount&&s.jsxs(_t,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",xe(k.originalPrice-k.price)]})]})},k.id))})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:s.jsx("div",{className:"flex space-x-2 pb-2",children:V1e.map(k=>s.jsx(G,{variant:u===k.id?"default":"outline",size:"sm",onClick:()=>A(k.id),className:"whitespace-nowrap",children:k.name},k.id))})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:j.map(k=>s.jsx(_e,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>C(k.id),children:s.jsxs(je,{className:"p-3",children:[s.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:s.jsx("img",{src:k.image,alt:k.name,className:"object-cover w-full h-full"})}),s.jsx("h3",{className:"font-medium text-sm truncate",children:k.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:k.publisher}),s.jsx(_t,{variant:"outline",className:"mt-1 text-xs",children:k.category})]})},k.id))})]})]})]}),s.jsx(br,{open:p,onOpenChange:m,children:s.jsxs(mr,{className:"sm:max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{children:"Konfirmasi Pembayaran"})}),s.jsx("div",{className:"space-y-4 py-2",children:s.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsxs(ql,{className:"h-10 w-10 rounded-lg",children:[s.jsx(kd,{src:_==null?void 0:_.image}),s.jsx(Xl,{className:"rounded-lg bg-primary/20",children:_==null?void 0:_.name.substring(0,2).toUpperCase()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:_==null?void 0:_.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),s.jsx("span",{className:"text-sm font-medium",children:i==null?void 0:i.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),s.jsx("span",{className:"text-sm font-medium",children:i?xe(i.price):"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),s.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),s.jsx("div",{className:"pt-2 border-t mt-2",children:s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Total"}),s.jsx("span",{className:"text-sm font-bold text-primary",children:i?xe(i.price):"-"})]})})]})]})}),s.jsx(wn,{className:"flex flex-col gap-2",children:f?s.jsx(S,{}):s.jsxs(s.Fragment,{children:[s.jsx(G,{className:"w-full",onClick:N,disabled:!n||!i,children:"Bayar Sekarang"}),s.jsx(G,{variant:"outline",className:"w-full",onClick:()=>m(!1),children:"Batal"})]})})]})}),s.jsx(br,{open:y,onOpenChange:b,children:s.jsx(mr,{className:"sm:max-w-md",children:s.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[s.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:s.jsx(J.check,{className:"h-10 w-10 text-green-600"})}),s.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),s.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),s.jsx("span",{className:"text-sm font-medium",children:_==null?void 0:_.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),s.jsx("span",{className:"text-sm font-medium",children:n})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),s.jsx("span",{className:"text-sm font-medium",children:i==null?void 0:i.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),s.jsx("span",{className:"text-sm font-medium",children:i?xe(i.price):"-"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),s.jsx("span",{className:"text-sm font-medium",children:v})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),s.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),s.jsxs("div",{className:"flex gap-3 w-full",children:[s.jsxs(G,{variant:"outline",className:"flex-1",onClick:()=>{b(!1),r(null)},children:[s.jsx(J.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),s.jsx(G,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},B7=async()=>{try{const{data:t,error:e}=await Z.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},yD={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},z1e=()=>{const t=Ot(),[e,r]=x.useState(!1),[n,a]=x.useState([]),[i,o]=x.useState(!0),[l,c]=x.useState(null);x.useEffect(()=>{r(!0),(async()=>{o(!0);try{const f=await B7();a(f),c(null)}catch(f){console.error("Error fetching PPOB services:",f),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((h,f)=>{const g=f.category||"Lainnya";return h[g]||(h[g]=[]),h[g].push(f),h},{}),A=(h,f)=>{switch(h){case"wallet":return s.jsx(J.wallet,{className:f});case"smartphone":return s.jsx(J.smartphone,{className:f});case"wifi":return s.jsx(J.wifi,{className:f});case"globe":return s.jsx(J.package,{className:f});case"zap":return s.jsx(J.zap,{className:f});case"creditCard":return s.jsx(J.creditCard,{className:f});case"tv":return s.jsx(J.tv,{className:f});case"shield":return s.jsx(J.shield,{className:f});case"droplet":return s.jsx(J.droplet,{className:f});case"calculator":return s.jsx(J.barChart,{className:f});case"home":return s.jsx(J.home,{className:f});case"phone":return s.jsx(J.phone,{className:f});case"receipt":return s.jsx(J.file,{className:f});case"graduationCap":return s.jsx(J.file,{className:f});case"heart":return s.jsx(J.heart,{className:f});case"gift":return s.jsx(J.package,{className:f});case"banknote":return s.jsx(J.creditCard,{className:f});case"plus":return s.jsx(J.plus,{className:f});case"users":return s.jsx(J.users,{className:f});default:return s.jsx(J.bell,{className:f})}},d=h=>{t(h)};return i?s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),s.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),s.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"flex justify-center items-center h-24",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),s.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),s.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:s.jsx("div",{className:"text-center text-red-500",children:l})})]}):s.jsxs(Jt,{children:[s.jsx(Zs,{children:s.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),s.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:s.jsxs("div",{className:"flex items-center px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),s.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([h,f])=>s.jsxs("div",{className:"mt-4 px-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:h}),s.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:s.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:f.map((g,p)=>{var m,y;return s.jsxs("div",{className:fe("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>d(g.route||"/ppob/generic"),style:{animationDelay:`${p*.07}s`},children:[s.jsxs("div",{className:fe("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",g.color||((m=yD[h])==null?void 0:m.bg)||"#F5F5F5",g.is_new&&"pulse-effect"),children:[s.jsx("div",{className:g.icon_color||((y=yD[h])==null?void 0:y.icon)||"#757575",children:A(g.icon||"Box","h-6 w-6")}),g.is_new&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),s.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:g.name})]},g.id)})})})]},h))})]})},G1e=()=>{const t=Ot();return s.jsxs(Jt,{children:[s.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:s.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[s.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:s.jsx(J.chevronLeft,{className:"h-5 w-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),s.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),s.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:s.jsx(J.wallet,{className:"h-6 w-6 text-blue-600"})}),s.jsx("span",{className:"text-xs",children:"wallet"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:s.jsx(J.smartphone,{className:"h-6 w-6 text-green-600"})}),s.jsx("span",{className:"text-xs",children:"smartphone"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:s.jsx(J.zap,{className:"h-6 w-6 text-amber-600"})}),s.jsx("span",{className:"text-xs",children:"zap"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:s.jsx(J.gamepad,{className:"h-6 w-6 text-blue-600"})}),s.jsx("span",{className:"text-xs",children:"gamepad"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:s.jsx(J.tv,{className:"h-6 w-6 text-red-600"})}),s.jsx("span",{className:"text-xs",children:"tv"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:s.jsx(J.shoppingCart,{className:"h-6 w-6 text-red-600"})}),s.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:s.jsx(J.menu,{className:"h-6 w-6 text-gray-600"})}),s.jsx("span",{className:"text-xs",children:"menu"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:s.jsx(J.arrowRight,{className:"h-6 w-6 text-blue-600"})}),s.jsx("span",{className:"text-xs",children:"arrowRight"})]}),s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:s.jsx(J.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),s.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),s.jsx("div",{className:"mt-8",children:s.jsx(G,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},li=()=>{const t=Ot(),e=va(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return s.jsxs(Jt,{children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[s.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:s.jsx(J.arrowLeft,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-lg font-medium",children:n}),s.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:s.jsx(J.bell,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[s.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:s.jsx(J.settings,{className:"w-10 h-10 text-blue-500"})}),s.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),s.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),s.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},W1e=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],q1e=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],bc=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),X1e=()=>{var p;const t=Ot(),[e,r]=x.useState("charcoalFund"),[n,a]=x.useState(null),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,A]=x.useState(!1),d=m=>{a(m)},h=m=>{const y=m.target.value.replace(/[^0-9]/g,"");o(y)},f=()=>{c(!1),A(!0)},g=()=>{a(null),o(""),A(!1)};return s.jsxs(Jt,{children:[s.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[s.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:s.jsx(J.arrowLeft,{className:"w-6 h-6"})}),s.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),s.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:s.jsx(J.bell,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),s.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(J.flame,{className:"w-5 h-5 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),s.jsxs(Pa,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[s.jsxs(ga,{className:"grid w-full grid-cols-2",children:[s.jsx(Nt,{value:"charcoalFund",children:"Dana Arang"}),s.jsx(Nt,{value:"charcoalBond",children:"Obligasi Arang"})]}),s.jsx(Xt,{value:"charcoalFund",children:s.jsxs("div",{className:"grid gap-4 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),s.jsx(ju,{className:"h-[450px] pr-3",children:W1e.map(m=>s.jsxs(_e,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[s.jsx(lt,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ct,{className:"text-base",children:m.name}),s.jsx(dr,{children:m.manager})]}),m.isPromoted&&s.jsx(_t,{className:"bg-amber-500",children:"Rekomendasi"})]})}),s.jsx(je,{className:"pb-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Bunga"}),s.jsx("p",{className:"font-semibold text-green-600",children:m.returnRate})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),s.jsx("p",{className:"font-semibold",children:m.riskLevel})]}),s.jsxs("div",{className:"col-span-2 mt-2",children:[s.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),s.jsx("p",{className:"font-semibold",children:bc(m.minAmount)})]})]})}),s.jsx(ms,{children:s.jsx(G,{variant:"outline",className:"w-full",onClick:y=>{y.stopPropagation(),d(m),c(!0)},children:"Pilih Dana Arang"})})]},m.id))})]})}),s.jsx(Xt,{value:"charcoalBond",children:s.jsxs("div",{className:"grid gap-4 mt-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),s.jsx(ju,{className:"h-[450px] pr-3",children:q1e.map(m=>s.jsxs(_e,{className:`mb-4 relative ${(n==null?void 0:n.id)===m.id?"border-2 border-primary":""}`,onClick:()=>d(m),children:[s.jsx(lt,{className:"pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ct,{className:"text-base",children:m.name}),s.jsx(dr,{children:m.issuer})]}),m.isPromoted&&s.jsx(_t,{className:"bg-amber-500",children:"Rekomendasi"})]})}),s.jsx(je,{className:"pb-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Bunga"}),s.jsxs("p",{className:"font-semibold text-green-600",children:[m.interestRate,"% p.a."]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),s.jsx("p",{className:"font-semibold",children:m.period})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Penerbit"}),s.jsx("p",{className:"font-semibold",children:m.issuer})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),s.jsx("p",{className:"font-semibold",children:bc(m.minAmount)})]})]})}),s.jsx(ms,{children:s.jsx(G,{variant:"outline",className:"w-full",onClick:y=>{y.stopPropagation(),d(m),c(!0)},children:"Pilih Obligasi Arang"})})]},m.id))})]})})]})]}),s.jsx(br,{open:l,onOpenChange:c,children:s.jsxs(mr,{className:"max-w-md p-6",children:[s.jsxs(Er,{children:[s.jsx(Sr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),s.jsxs($n,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),s.jsxs("div",{className:"space-y-4 py-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"amount",children:"Jumlah Investasi"}),s.jsx(he,{id:"amount",placeholder:`Min. ${bc((n==null?void 0:n.minAmount)||0)}`,value:i?bc(parseInt(i)):"",onChange:h,className:"text-right"}),parseInt(i)<((n==null?void 0:n.minAmount)||0)&&i!==""&&s.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",bc((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Jenis"}),s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Tingkat Risiko"}),s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Imbal Hasil"}),s.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),i&&parseInt(i)>=((n==null?void 0:n.minAmount)||0)&&s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Estimasi Bunga"}),s.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:bc(parseInt(i)*((n==null?void 0:n.interestRate)/100)*parseInt(((p=n==null?void 0:n.period)==null?void 0:p.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Bunga"}),s.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Jangka Waktu"}),s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Penerbit"}),s.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),s.jsxs(wn,{className:"flex-col gap-2 sm:flex-col",children:[s.jsx(G,{className:"w-full",onClick:f,disabled:!i||parseInt(i)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),s.jsx(G,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),s.jsx(br,{open:u,onOpenChange:A,children:s.jsx(mr,{className:"max-w-md p-6",children:s.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[s.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:s.jsx(J.check,{className:"h-8 w-8 text-green-600"})}),s.jsx(Sr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),s.jsxs($n,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",bc(parseInt(i))," telah berhasil dilakukan."]}),s.jsxs("div",{className:"mt-6 w-full space-y-3",children:[s.jsx(G,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),s.jsx(G,{variant:"outline",className:"w-full",onClick:g,children:"Investasi Lainnya"})]})]})})})]})};function Y1e({children:t}){const{user:e,profile:r}=Hr(),{toast:n}=ni(),a=Ot(),[i,o]=x.useState(null),[l,c]=x.useState([]);return x.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!dL()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(d){console.error("Error accessing Notification API:",d),o(!1);return}const A=await Q_(e.id);A?(console.log("FCM Token registered:",A),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(A){console.error("Error setting up notifications:",A),o(!1)}})()},[e,r]),x.useEffect(()=>{if(!e||!i)return;const u=AL(fh),A=hue(u,d=>{console.log("Foreground message received:",d);const h=d.data;h&&h.type==="order"&&(c(g=>[h,...g]),n({title:h.title||"Pesanan Baru",description:h.message||"Ada pesanan baru dari pelanggan",variant:"default",action:s.jsx("button",{onClick:()=>a(`/admin/orders/${h.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(g=>console.log("Error playing notification sound:",g)))});return()=>A()},[e,i,n,a]),s.jsx(s.Fragment,{children:t})}function Ln({children:t}){const e=va(),{user:r,profile:n,logout:a}=Hr(),i=Sj("/sounds/new_order_sound.mp3"),o=Sj("/sounds/new_chat_message_sound.mp3");if(x.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),i()}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),A&&console.error("Error subscribing to orders in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,i]),x.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=Z.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const A=u.new;if(A.sender_type==="customer"&&A.session_id){const{data:d,error:h}=await Z.from("chat_sessions").select("admin_id, customer_id").eq("id",A.session_id).single();if(h){console.error("Error fetching session for new message notification:",h);return}const f=e.pathname===`/admin/chat/${d==null?void 0:d.customer_id}`;d&&(d.admin_id===r.id||d.admin_id===null)&&!f&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,A)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),A&&console.error("Error subscribing to messages in AdminLayout:",A)});return()=>{Z.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return s.jsx(jx,{to:"/admin-login",replace:!0});const l=[{icon:s.jsx(KM,{}),label:"Dashboard",path:"/admin"},{icon:s.jsx(xX,{}),label:"Inventaris",path:"/admin/inventory"},{icon:s.jsx(fo,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:s.jsx(gS,{}),label:"Chat",path:"/admin/chats"},{icon:s.jsx(yS,{}),label:"Pengguna",path:"/admin/users"},{icon:s.jsx(jy,{}),label:"Pesanan",path:"/admin/orders"},{icon:s.jsx(vS,{}),label:"Voucher",path:"/admin/vouchers"},{icon:s.jsx(gx,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:s.jsx(SC,{}),label:"Analitik",path:"/admin/analytics"},{icon:s.jsx(YM,{}),label:"Pengaturan",path:"/admin/settings"},{icon:s.jsx(mS,{}),label:"PPOB",path:"/admin/ppob"}];return s.jsx(Y1e,{children:s.jsxs("div",{className:"flex h-screen bg-gray-100",children:[s.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[s.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:s.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),s.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:s.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>s.jsxs(mt,{to:c.path,className:fe("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[s.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),s.jsx("div",{className:"p-4 border-t",children:s.jsxs("button",{onClick:()=>a(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[s.jsx(pS,{className:"mr-3"}),"Keluar"]})})]}),s.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:s.jsxs("div",{className:"flex min-w-full",children:[s.jsxs("div",{className:"grid grid-cols-4 w-full",children:[s.jsxs(mt,{to:l[0].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,s.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),s.jsxs(mt,{to:l[1].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,s.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),s.jsxs(mt,{to:l[2].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,s.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),s.jsxs(mt,{to:l[3].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,s.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),s.jsxs("div",{className:"grid grid-cols-4 w-full",children:[s.jsxs(mt,{to:l[4].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,s.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),s.jsxs(mt,{to:l[5].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,s.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),s.jsxs(mt,{to:l[6].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,s.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),s.jsxs(mt,{to:l[7].path,className:fe("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,s.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),s.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var J1e=Array.isArray,Fa=J1e,Z1e=typeof st=="object"&&st&&st.Object===Object&&st,C7=Z1e,eBe=C7,tBe=typeof self=="object"&&self&&self.Object===Object&&self,rBe=eBe||tBe||Function("return this")(),Mi=rBe,nBe=Mi,aBe=nBe.Symbol,ig=aBe,bD=ig,_7=Object.prototype,sBe=_7.hasOwnProperty,iBe=_7.toString,uf=bD?bD.toStringTag:void 0;function oBe(t){var e=sBe.call(t,uf),r=t[uf];try{t[uf]=void 0;var n=!0}catch{}var a=iBe.call(t);return n&&(e?t[uf]=r:delete t[uf]),a}var lBe=oBe,cBe=Object.prototype,uBe=cBe.toString;function ABe(t){return uBe.call(t)}var dBe=ABe,wD=ig,hBe=lBe,fBe=dBe,mBe="[object Null]",pBe="[object Undefined]",BD=wD?wD.toStringTag:void 0;function gBe(t){return t==null?t===void 0?pBe:mBe:BD&&BD in Object(t)?hBe(t):fBe(t)}var ko=gBe;function xBe(t){return t!=null&&typeof t=="object"}var To=xBe,vBe=ko,yBe=To,bBe="[object Symbol]";function wBe(t){return typeof t=="symbol"||yBe(t)&&vBe(t)==bBe}var vh=wBe,BBe=Fa,CBe=vh,_Be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jBe=/^\w*$/;function EBe(t,e){if(BBe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||CBe(t)?!0:jBe.test(t)||!_Be.test(t)||e!=null&&t in Object(e)}var wN=EBe;function SBe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var sc=SBe;const yh=or(sc);var NBe=ko,kBe=sc,TBe="[object AsyncFunction]",IBe="[object Function]",PBe="[object GeneratorFunction]",FBe="[object Proxy]";function DBe(t){if(!kBe(t))return!1;var e=NBe(t);return e==IBe||e==PBe||e==TBe||e==FBe}var BN=DBe;const Et=or(BN);var OBe=Mi,RBe=OBe["__core-js_shared__"],UBe=RBe,hB=UBe,CD=function(){var t=/[^.]+$/.exec(hB&&hB.keys&&hB.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function MBe(t){return!!CD&&CD in t}var QBe=MBe,LBe=Function.prototype,$Be=LBe.toString;function HBe(t){if(t!=null){try{return $Be.call(t)}catch{}try{return t+""}catch{}}return""}var j7=HBe,VBe=BN,KBe=QBe,zBe=sc,GBe=j7,WBe=/[\\^$.*+?()[\]{}|]/g,qBe=/^\[object .+?Constructor\]$/,XBe=Function.prototype,YBe=Object.prototype,JBe=XBe.toString,ZBe=YBe.hasOwnProperty,eCe=RegExp("^"+JBe.call(ZBe).replace(WBe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tCe(t){if(!zBe(t)||KBe(t))return!1;var e=VBe(t)?eCe:qBe;return e.test(GBe(t))}var rCe=tCe;function nCe(t,e){return t==null?void 0:t[e]}var aCe=nCe,sCe=rCe,iCe=aCe;function oCe(t,e){var r=iCe(t,e);return sCe(r)?r:void 0}var Du=oCe,lCe=Du,cCe=lCe(Object,"create"),Gb=cCe,_D=Gb;function uCe(){this.__data__=_D?_D(null):{},this.size=0}var ACe=uCe;function dCe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hCe=dCe,fCe=Gb,mCe="__lodash_hash_undefined__",pCe=Object.prototype,gCe=pCe.hasOwnProperty;function xCe(t){var e=this.__data__;if(fCe){var r=e[t];return r===mCe?void 0:r}return gCe.call(e,t)?e[t]:void 0}var vCe=xCe,yCe=Gb,bCe=Object.prototype,wCe=bCe.hasOwnProperty;function BCe(t){var e=this.__data__;return yCe?e[t]!==void 0:wCe.call(e,t)}var CCe=BCe,_Ce=Gb,jCe="__lodash_hash_undefined__";function ECe(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=_Ce&&e===void 0?jCe:e,this}var SCe=ECe,NCe=ACe,kCe=hCe,TCe=vCe,ICe=CCe,PCe=SCe;function bh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}bh.prototype.clear=NCe;bh.prototype.delete=kCe;bh.prototype.get=TCe;bh.prototype.has=ICe;bh.prototype.set=PCe;var FCe=bh;function DCe(){this.__data__=[],this.size=0}var OCe=DCe;function RCe(t,e){return t===e||t!==t&&e!==e}var CN=RCe,UCe=CN;function MCe(t,e){for(var r=t.length;r--;)if(UCe(t[r][0],e))return r;return-1}var Wb=MCe,QCe=Wb,LCe=Array.prototype,$Ce=LCe.splice;function HCe(t){var e=this.__data__,r=QCe(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():$Ce.call(e,r,1),--this.size,!0}var VCe=HCe,KCe=Wb;function zCe(t){var e=this.__data__,r=KCe(e,t);return r<0?void 0:e[r][1]}var GCe=zCe,WCe=Wb;function qCe(t){return WCe(this.__data__,t)>-1}var XCe=qCe,YCe=Wb;function JCe(t,e){var r=this.__data__,n=YCe(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var ZCe=JCe,e_e=OCe,t_e=VCe,r_e=GCe,n_e=XCe,a_e=ZCe;function wh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}wh.prototype.clear=e_e;wh.prototype.delete=t_e;wh.prototype.get=r_e;wh.prototype.has=n_e;wh.prototype.set=a_e;var qb=wh,s_e=Du,i_e=Mi,o_e=s_e(i_e,"Map"),_N=o_e,jD=FCe,l_e=qb,c_e=_N;function u_e(){this.size=0,this.__data__={hash:new jD,map:new(c_e||l_e),string:new jD}}var A_e=u_e;function d_e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var h_e=d_e,f_e=h_e;function m_e(t,e){var r=t.__data__;return f_e(e)?r[typeof e=="string"?"string":"hash"]:r.map}var Xb=m_e,p_e=Xb;function g_e(t){var e=p_e(this,t).delete(t);return this.size-=e?1:0,e}var x_e=g_e,v_e=Xb;function y_e(t){return v_e(this,t).get(t)}var b_e=y_e,w_e=Xb;function B_e(t){return w_e(this,t).has(t)}var C_e=B_e,__e=Xb;function j_e(t,e){var r=__e(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var E_e=j_e,S_e=A_e,N_e=x_e,k_e=b_e,T_e=C_e,I_e=E_e;function Bh(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Bh.prototype.clear=S_e;Bh.prototype.delete=N_e;Bh.prototype.get=k_e;Bh.prototype.has=T_e;Bh.prototype.set=I_e;var jN=Bh,E7=jN,P_e="Expected a function";function EN(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(P_e);var r=function(){var n=arguments,a=e?e.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(EN.Cache||E7),r}EN.Cache=E7;var S7=EN;const F_e=or(S7);var D_e=S7,O_e=500;function R_e(t){var e=D_e(t,function(n){return r.size===O_e&&r.clear(),n}),r=e.cache;return e}var U_e=R_e,M_e=U_e,Q_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,L_e=/\\(\\)?/g,$_e=M_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Q_e,function(r,n,a,i){e.push(a?i.replace(L_e,"$1"):n||r)}),e}),H_e=$_e;function V_e(t,e){for(var r=-1,n=t==null?0:t.length,a=Array(n);++r<n;)a[r]=e(t[r],r,t);return a}var SN=V_e,ED=ig,K_e=SN,z_e=Fa,G_e=vh,SD=ED?ED.prototype:void 0,ND=SD?SD.toString:void 0;function N7(t){if(typeof t=="string")return t;if(z_e(t))return K_e(t,N7)+"";if(G_e(t))return ND?ND.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var W_e=N7,q_e=W_e;function X_e(t){return t==null?"":q_e(t)}var k7=X_e,Y_e=Fa,J_e=wN,Z_e=H_e,eje=k7;function tje(t,e){return Y_e(t)?t:J_e(t,e)?[t]:Z_e(eje(t))}var T7=tje,rje=vh;function nje(t){if(typeof t=="string"||rje(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yb=nje,aje=T7,sje=Yb;function ije(t,e){e=aje(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[sje(e[r++])];return r&&r==n?t:void 0}var NN=ije,oje=NN;function lje(t,e,r){var n=t==null?void 0:oje(t,e);return n===void 0?r:n}var I7=lje;const gs=or(I7);function cje(t){return t==null}var uje=cje;const Dt=or(uje);var Aje=ko,dje=Fa,hje=To,fje="[object String]";function mje(t){return typeof t=="string"||!dje(t)&&hje(t)&&Aje(t)==fje}var pje=mje;const Eu=or(pje);var P7={exports:{}},ur={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kN=Symbol.for("react.element"),TN=Symbol.for("react.portal"),Jb=Symbol.for("react.fragment"),Zb=Symbol.for("react.strict_mode"),ew=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),rw=Symbol.for("react.context"),gje=Symbol.for("react.server_context"),nw=Symbol.for("react.forward_ref"),aw=Symbol.for("react.suspense"),sw=Symbol.for("react.suspense_list"),iw=Symbol.for("react.memo"),ow=Symbol.for("react.lazy"),xje=Symbol.for("react.offscreen"),F7;F7=Symbol.for("react.module.reference");function Cs(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case kN:switch(t=t.type,t){case Jb:case ew:case Zb:case aw:case sw:return t;default:switch(t=t&&t.$$typeof,t){case gje:case rw:case nw:case ow:case iw:case tw:return t;default:return e}}case TN:return e}}}ur.ContextConsumer=rw;ur.ContextProvider=tw;ur.Element=kN;ur.ForwardRef=nw;ur.Fragment=Jb;ur.Lazy=ow;ur.Memo=iw;ur.Portal=TN;ur.Profiler=ew;ur.StrictMode=Zb;ur.Suspense=aw;ur.SuspenseList=sw;ur.isAsyncMode=function(){return!1};ur.isConcurrentMode=function(){return!1};ur.isContextConsumer=function(t){return Cs(t)===rw};ur.isContextProvider=function(t){return Cs(t)===tw};ur.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===kN};ur.isForwardRef=function(t){return Cs(t)===nw};ur.isFragment=function(t){return Cs(t)===Jb};ur.isLazy=function(t){return Cs(t)===ow};ur.isMemo=function(t){return Cs(t)===iw};ur.isPortal=function(t){return Cs(t)===TN};ur.isProfiler=function(t){return Cs(t)===ew};ur.isStrictMode=function(t){return Cs(t)===Zb};ur.isSuspense=function(t){return Cs(t)===aw};ur.isSuspenseList=function(t){return Cs(t)===sw};ur.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Jb||t===ew||t===Zb||t===aw||t===sw||t===xje||typeof t=="object"&&t!==null&&(t.$$typeof===ow||t.$$typeof===iw||t.$$typeof===tw||t.$$typeof===rw||t.$$typeof===nw||t.$$typeof===F7||t.getModuleId!==void 0)};ur.typeOf=Cs;P7.exports=ur;var vje=P7.exports,yje=ko,bje=To,wje="[object Number]";function Bje(t){return typeof t=="number"||bje(t)&&yje(t)==wje}var D7=Bje;const Cje=or(D7);var _je=D7;function jje(t){return _je(t)&&t!=+t}var Eje=jje;const og=or(Eje);var Xs=function(e){return e===0?0:e>0?1:-1},Vc=function(e){return Eu(e)&&e.indexOf("%")===e.length-1},De=function(e){return Cje(e)&&!og(e)},An=function(e){return De(e)||Eu(e)},Sje=0,lg=function(e){var r=++Sje;return"".concat(e||"").concat(r)},Su=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!De(e)&&!Eu(e))return n;var i;if(Vc(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return og(i)&&(i=n),a&&i>r&&(i=r),i},sl=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Nje=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Hs=function(e,r){return De(e)&&De(r)?function(n){return e+n*(r-e)}:function(){return r}};function Bv(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):gs(n,e))===r})}var kje=function(e,r){return De(e)&&De(r)?e-r:Eu(e)&&Eu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function QA(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function Pj(t){"@babel/helpers - typeof";return Pj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pj(t)}var Tje=["viewBox","children"],Ije=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],kD=["points","pathLength"],fB={svg:Tje,polygon:kD,polyline:kD},IN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!yh(n))return null;var a={};return Object.keys(n).forEach(function(i){IN.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Pje=function(e,r,n){return function(a){return e(r,n,a),null}},_v=function(e,r,n){if(!yh(e)||Pj(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var o=e[i];IN.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Pje(o,r,n))}),a},Fje=["children"],Dje=["children"];function TD(t,e){if(t==null)return{};var r=Oje(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Oje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Fj(t){"@babel/helpers - typeof";return Fj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fj(t)}var ID={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},uo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PD=null,mB=null,PN=function t(e){if(e===PD&&Array.isArray(mB))return mB;var r=[];return x.Children.forEach(e,function(n){Dt(n)||(vje.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),mB=r,PD=e,r};function xs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return uo(a)}):n=[uo(e)],PN(t).forEach(function(a){var i=gs(a,"type.displayName")||gs(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function $a(t,e){var r=xs(t,e);return r&&r[0]}var FD=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!De(n)||n<=0||!De(a)||a<=0)},Rje=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Uje=function(e){return e&&e.type&&Eu(e.type)&&Rje.indexOf(e.type)>=0},Mje=function(e){return e&&Fj(e)==="object"&&"clipDot"in e},Qje=function(e,r,n,a){var i,o=(i=fB==null?void 0:fB[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Et(e)&&(a&&o.includes(r)||Ije.includes(r))||n&&IN.includes(r)},Ht=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),!yh(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Qje((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},Dj=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return DD(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!DD(i,o))return!1}return!0},DD=function(e,r){if(Dt(e)&&Dt(r))return!0;if(!Dt(e)&&!Dt(r)){var n=e.props||{},a=n.children,i=TD(n,Fje),o=r.props||{},l=o.children,c=TD(o,Dje);return a&&l?QA(i,c)&&Dj(a,l):!a&&!l?QA(i,c):!1}return!1},OD=function(e,r){var n=[],a={};return PN(e).forEach(function(i,o){if(Uje(i))n.push(i);else if(i){var l=uo(i.type),c=r[l]||{},u=c.handler,A=c.once;if(u&&(!A||!a[l])){var d=u(i,l,o);n.push(d),a[l]=!0}}}),n},Lje=function(e){var r=e&&e.type;return r&&ID[r]?ID[r]:null},$je=function(e,r){return PN(r).indexOf(e)},Hje=["children","width","height","viewBox","className","style","title","desc"];function Oj(){return Oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oj.apply(this,arguments)}function Vje(t,e){if(t==null)return{};var r=Kje(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Rj(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=Vje(t,Hje),A=a||{width:r,height:n,x:0,y:0},d=Gt("recharts-surface",i);return V.createElement("svg",Oj({},Ht(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height)}),V.createElement("title",null,l),V.createElement("desc",null,c),e)}var zje=["children","className"];function Uj(){return Uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uj.apply(this,arguments)}function Gje(t,e){if(t==null)return{};var r=Wje(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wje(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Wr=V.forwardRef(function(t,e){var r=t.children,n=t.className,a=Gje(t,zje),i=Gt("recharts-layer",n);return V.createElement("g",Uj({className:i},Ht(a,!0),{ref:e}),r)}),Ao=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function qje(t,e,r){var n=-1,a=t.length;e<0&&(e=-e>a?0:a+e),r=r>a?a:r,r<0&&(r+=a),a=e>r?0:r-e>>>0,e>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+e];return i}var Xje=qje,Yje=Xje;function Jje(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:Yje(t,e,r)}var Zje=Jje,eEe="\\ud800-\\udfff",tEe="\\u0300-\\u036f",rEe="\\ufe20-\\ufe2f",nEe="\\u20d0-\\u20ff",aEe=tEe+rEe+nEe,sEe="\\ufe0e\\ufe0f",iEe="\\u200d",oEe=RegExp("["+iEe+eEe+aEe+sEe+"]");function lEe(t){return oEe.test(t)}var O7=lEe;function cEe(t){return t.split("")}var uEe=cEe,R7="\\ud800-\\udfff",AEe="\\u0300-\\u036f",dEe="\\ufe20-\\ufe2f",hEe="\\u20d0-\\u20ff",fEe=AEe+dEe+hEe,mEe="\\ufe0e\\ufe0f",pEe="["+R7+"]",Mj="["+fEe+"]",Qj="\\ud83c[\\udffb-\\udfff]",gEe="(?:"+Mj+"|"+Qj+")",U7="[^"+R7+"]",M7="(?:\\ud83c[\\udde6-\\uddff]){2}",Q7="[\\ud800-\\udbff][\\udc00-\\udfff]",xEe="\\u200d",L7=gEe+"?",$7="["+mEe+"]?",vEe="(?:"+xEe+"(?:"+[U7,M7,Q7].join("|")+")"+$7+L7+")*",yEe=$7+L7+vEe,bEe="(?:"+[U7+Mj+"?",Mj,M7,Q7,pEe].join("|")+")",wEe=RegExp(Qj+"(?="+Qj+")|"+bEe+yEe,"g");function BEe(t){return t.match(wEe)||[]}var CEe=BEe,_Ee=uEe,jEe=O7,EEe=CEe;function SEe(t){return jEe(t)?EEe(t):_Ee(t)}var NEe=SEe,kEe=Zje,TEe=O7,IEe=NEe,PEe=k7;function FEe(t){return function(e){e=PEe(e);var r=TEe(e)?IEe(e):void 0,n=r?r[0]:e.charAt(0),a=r?kEe(r,1).join(""):e.slice(1);return n[t]()+a}}var DEe=FEe,OEe=DEe,REe=OEe("toUpperCase"),UEe=REe;const lw=or(UEe);function _r(t){return function(){return t}}const H7=Math.cos,jv=Math.sin,ii=Math.sqrt,Ev=Math.PI,cw=2*Ev,Lj=Math.PI,$j=2*Lj,kc=1e-6,MEe=$j-kc;function V7(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function QEe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return V7;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class LEe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?V7:QEe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,A=o-e,d=l-r,h=A*A+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(h>kc)if(!(Math.abs(d*c-u*A)>kc)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let f=n-o,g=a-l,p=c*c+u*u,m=f*f+g*g,y=Math.sqrt(p),b=Math.sqrt(h),v=i*Math.tan((Lj-Math.acos((p+h-m)/(2*y*b)))/2),B=v/b,_=v/y;Math.abs(B-1)>kc&&this._append`L${e+B*A},${r+B*d}`,this._append`A${i},${i},0,0,${+(d*f>A*g)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,a,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,A=r+c,d=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${A}`:(Math.abs(this._x1-u)>kc||Math.abs(this._y1-A)>kc)&&this._append`L${u},${A}`,n&&(h<0&&(h=h%$j+$j),h>MEe?this._append`A${n},${n},0,1,${d},${e-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=A}`:h>kc&&this._append`A${n},${n},0,${+(h>=Lj)},${d},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function FN(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new LEe(e)}function DN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function K7(t){this._context=t}K7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function uw(t){return new K7(t)}function z7(t){return t[0]}function G7(t){return t[1]}function W7(t,e){var r=_r(!0),n=null,a=uw,i=null,o=FN(l);t=typeof t=="function"?t:t===void 0?z7:_r(t),e=typeof e=="function"?e:e===void 0?G7:_r(e);function l(c){var u,A=(c=DN(c)).length,d,h=!1,f;for(n==null&&(i=a(f=o())),u=0;u<=A;++u)!(u<A&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+t(d,u,c),+e(d,u,c));if(f)return i=null,f+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:_r(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:_r(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:_r(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function S0(t,e,r){var n=null,a=_r(!0),i=null,o=uw,l=null,c=FN(u);t=typeof t=="function"?t:t===void 0?z7:_r(+t),e=typeof e=="function"?e:_r(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?G7:_r(+r);function u(d){var h,f,g,p=(d=DN(d)).length,m,y=!1,b,v=new Array(p),B=new Array(p);for(i==null&&(l=o(b=c())),h=0;h<=p;++h){if(!(h<p&&a(m=d[h],h,d))===y)if(y=!y)f=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=f;--g)l.point(v[g],B[g]);l.lineEnd(),l.areaEnd()}y&&(v[h]=+t(m,h,d),B[h]=+e(m,h,d),l.point(n?+n(m,h,d):v[h],r?+r(m,h,d):B[h]))}if(b)return l=null,b+""||null}function A(){return W7().defined(a).curve(o).context(i)}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),n=null,u):t},u.x0=function(d){return arguments.length?(t=typeof d=="function"?d:_r(+d),u):t},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_r(+d),u):n},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),r=null,u):e},u.y0=function(d){return arguments.length?(e=typeof d=="function"?d:_r(+d),u):e},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_r(+d),u):r},u.lineX0=u.lineY0=function(){return A().x(t).y(e)},u.lineY1=function(){return A().x(t).y(r)},u.lineX1=function(){return A().x(n).y(e)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:_r(!!d),u):a},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class q7{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function $Ee(t){return new q7(t,!0)}function HEe(t){return new q7(t,!1)}const ON={draw(t,e){const r=ii(e/Ev);t.moveTo(r,0),t.arc(0,0,r,0,cw)}},VEe={draw(t,e){const r=ii(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},X7=ii(1/3),KEe=X7*2,zEe={draw(t,e){const r=ii(e/KEe),n=r*X7;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},GEe={draw(t,e){const r=ii(e),n=-r/2;t.rect(n,n,r,r)}},WEe=.8908130915292852,Y7=jv(Ev/10)/jv(7*Ev/10),qEe=jv(cw/10)*Y7,XEe=-H7(cw/10)*Y7,YEe={draw(t,e){const r=ii(e*WEe),n=qEe*r,a=XEe*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const o=cw*i/5,l=H7(o),c=jv(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},pB=ii(3),JEe={draw(t,e){const r=-ii(e/(pB*3));t.moveTo(0,r*2),t.lineTo(-pB*r,-r),t.lineTo(pB*r,-r),t.closePath()}},ss=-.5,is=ii(3)/2,Hj=1/ii(12),ZEe=(Hj/2+1)*3,eSe={draw(t,e){const r=ii(e/ZEe),n=r/2,a=r*Hj,i=n,o=r*Hj+r,l=-i,c=o;t.moveTo(n,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ss*n-is*a,is*n+ss*a),t.lineTo(ss*i-is*o,is*i+ss*o),t.lineTo(ss*l-is*c,is*l+ss*c),t.lineTo(ss*n+is*a,ss*a-is*n),t.lineTo(ss*i+is*o,ss*o-is*i),t.lineTo(ss*l+is*c,ss*c-is*l),t.closePath()}};function tSe(t,e){let r=null,n=FN(a);t=typeof t=="function"?t:_r(t||ON),e=typeof e=="function"?e:_r(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:_r(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:_r(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Sv(){}function Nv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function J7(t){this._context=t}J7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rSe(t){return new J7(t)}function Z7(t){this._context=t}Z7.prototype={areaStart:Sv,areaEnd:Sv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nSe(t){return new Z7(t)}function eK(t){this._context=t}eK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Nv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function aSe(t){return new eK(t)}function tK(t){this._context=t}tK.prototype={areaStart:Sv,areaEnd:Sv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sSe(t){return new tK(t)}function RD(t){return t<0?-1:1}function UD(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(RD(i)+RD(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function MD(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function gB(t,e,r){var n=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,o-l*r,i,o)}function kv(t){this._context=t}kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gB(this,this._t0,MD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,gB(this,MD(this,r=UD(this,t,e)),r);break;default:gB(this,this._t0,r=UD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function rK(t){this._context=new nK(t)}(rK.prototype=Object.create(kv.prototype)).point=function(t,e){kv.prototype.point.call(this,e,t)};function nK(t){this._context=t}nK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function iSe(t){return new kv(t)}function oSe(t){return new rK(t)}function aK(t){this._context=t}aK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=QD(t),a=QD(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function QD(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function lSe(t){return new aK(t)}function Aw(t,e){this._context=t,this._t=e}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function cSe(t){return new Aw(t,.5)}function uSe(t){return new Aw(t,0)}function ASe(t){return new Aw(t,1)}function Td(t,e){if((o=t.length)>1)for(var r=1,n,a,i=t[e[0]],o,l=i.length;r<o;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Vj(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function dSe(t,e){return t[e]}function hSe(t){const e=[];return e.key=t,e}function fSe(){var t=_r([]),e=Vj,r=Td,n=dSe;function a(i){var o=Array.from(t.apply(this,arguments),hSe),l,c=o.length,u=-1,A;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,A=DN(e(o));l<c;++l)o[A[l]].index=l;return r(o,A),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:_r(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:_r(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?Vj:typeof i=="function"?i:_r(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??Td,a):r},a}function mSe(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Td(t,e)}}function pSe(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Td(t,e)}}function gSe(t,e){if(!(!((o=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var A=t[e[l]],d=A[n][1]||0,h=A[n-1][1]||0,f=(d-h)/2,g=0;g<l;++g){var p=t[e[g]],m=p[n][1]||0,y=p[n-1][1]||0;f+=m-y}c+=d,u+=f*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Td(t,e)}}function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}var xSe=["type","size","sizeType"];function Kj(){return Kj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kj.apply(this,arguments)}function LD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $D(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(r),!0).forEach(function(n){vSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vSe(t,e,r){return e=ySe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ySe(t){var e=bSe(t,"string");return Vm(e)=="symbol"?e:e+""}function bSe(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t,e){if(t==null)return{};var r=BSe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var sK={symbolCircle:ON,symbolCross:VEe,symbolDiamond:zEe,symbolSquare:GEe,symbolStar:YEe,symbolTriangle:JEe,symbolWye:eSe},CSe=Math.PI/180,_Se=function(e){var r="symbol".concat(lw(e));return sK[r]||ON},jSe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*CSe;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ESe=function(e,r){sK["symbol".concat(lw(e))]=r},RN=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=wSe(e,xSe),u=$D($D({},c),{},{type:n,size:i,sizeType:l}),A=function(){var m=_Se(n),y=tSe().type(m).size(jSe(i,l,n));return y()},d=u.className,h=u.cx,f=u.cy,g=Ht(u,!0);return h===+h&&f===+f&&i===+i?V.createElement("path",Kj({},g,{className:Gt("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(f,")"),d:A()})):null};RN.registerSymbol=ESe;function Id(t){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Id(t)}function zj(){return zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zj.apply(this,arguments)}function HD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function SSe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(r),!0).forEach(function(n){Km(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kSe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oK(n.key),n)}}function TSe(t,e,r){return e&&kSe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ISe(t,e,r){return e=Tv(e),PSe(t,iK()?Reflect.construct(e,r||[],Tv(t).constructor):e.apply(t,r))}function PSe(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FSe(t)}function FSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tv(t)}function DSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gj(t,e)}function Gj(t,e){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Gj(t,e)}function Km(t,e,r){return e=oK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oK(t){var e=OSe(t,"string");return Id(e)=="symbol"?e:e+""}function OSe(t,e){if(Id(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var os=32,UN=function(t){function e(){return NSe(this,e),ISe(this,e,arguments)}return DSe(e,t),TSe(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=os/2,o=os/6,l=os/3,c=n.inactive?a:n.color;if(n.type==="plainline")return V.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:os,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return V.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(os,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return V.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(os/8,"h").concat(os,"v").concat(os*3/4,"h").concat(-os,"z"),className:"recharts-legend-icon"});if(V.isValidElement(n.legendIcon)){var u=SSe({},n);return delete u.legendIcon,V.cloneElement(n.legendIcon,u)}return V.createElement(RN,{fill:c,cx:i,cy:i,size:os,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,A={x:0,y:0,width:os,height:os},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(f,g){var p=f.formatter||c,m=Gt(Km(Km({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",f.inactive));if(f.type==="none")return null;var y=Et(f.value)?null:f.value;Ao(!Et(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=f.inactive?u:f.color;return V.createElement("li",zj({className:m,style:d,key:"legend-item-".concat(g)},_v(n.props,f,g)),V.createElement(Rj,{width:o,height:o,viewBox:A,style:h},n.renderIcon(f)),V.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,f,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return V.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);Km(UN,"displayName","Legend");Km(UN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var RSe=qb;function USe(){this.__data__=new RSe,this.size=0}var MSe=USe;function QSe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var LSe=QSe;function $Se(t){return this.__data__.get(t)}var HSe=$Se;function VSe(t){return this.__data__.has(t)}var KSe=VSe,zSe=qb,GSe=_N,WSe=jN,qSe=200;function XSe(t,e){var r=this.__data__;if(r instanceof zSe){var n=r.__data__;if(!GSe||n.length<qSe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new WSe(n)}return r.set(t,e),this.size=r.size,this}var YSe=XSe,JSe=qb,ZSe=MSe,e2e=LSe,t2e=HSe,r2e=KSe,n2e=YSe;function Ch(t){var e=this.__data__=new JSe(t);this.size=e.size}Ch.prototype.clear=ZSe;Ch.prototype.delete=e2e;Ch.prototype.get=t2e;Ch.prototype.has=r2e;Ch.prototype.set=n2e;var lK=Ch,a2e="__lodash_hash_undefined__";function s2e(t){return this.__data__.set(t,a2e),this}var i2e=s2e;function o2e(t){return this.__data__.has(t)}var l2e=o2e,c2e=jN,u2e=i2e,A2e=l2e;function Iv(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new c2e;++e<r;)this.add(t[e])}Iv.prototype.add=Iv.prototype.push=u2e;Iv.prototype.has=A2e;var cK=Iv;function d2e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var uK=d2e;function h2e(t,e){return t.has(e)}var AK=h2e,f2e=cK,m2e=uK,p2e=AK,g2e=1,x2e=2;function v2e(t,e,r,n,a,i){var o=r&g2e,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),A=i.get(e);if(u&&A)return u==e&&A==t;var d=-1,h=!0,f=r&x2e?new f2e:void 0;for(i.set(t,e),i.set(e,t);++d<l;){var g=t[d],p=e[d];if(n)var m=o?n(p,g,d,e,t,i):n(g,p,d,t,e,i);if(m!==void 0){if(m)continue;h=!1;break}if(f){if(!m2e(e,function(y,b){if(!p2e(f,b)&&(g===y||a(g,y,r,n,i)))return f.push(b)})){h=!1;break}}else if(!(g===p||a(g,p,r,n,i))){h=!1;break}}return i.delete(t),i.delete(e),h}var dK=v2e,y2e=Mi,b2e=y2e.Uint8Array,w2e=b2e;function B2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,a){r[++e]=[a,n]}),r}var C2e=B2e;function _2e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var MN=_2e,VD=ig,KD=w2e,j2e=CN,E2e=dK,S2e=C2e,N2e=MN,k2e=1,T2e=2,I2e="[object Boolean]",P2e="[object Date]",F2e="[object Error]",D2e="[object Map]",O2e="[object Number]",R2e="[object RegExp]",U2e="[object Set]",M2e="[object String]",Q2e="[object Symbol]",L2e="[object ArrayBuffer]",$2e="[object DataView]",zD=VD?VD.prototype:void 0,xB=zD?zD.valueOf:void 0;function H2e(t,e,r,n,a,i,o){switch(r){case $2e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case L2e:return!(t.byteLength!=e.byteLength||!i(new KD(t),new KD(e)));case I2e:case P2e:case O2e:return j2e(+t,+e);case F2e:return t.name==e.name&&t.message==e.message;case R2e:case M2e:return t==e+"";case D2e:var l=S2e;case U2e:var c=n&k2e;if(l||(l=N2e),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;n|=T2e,o.set(t,e);var A=E2e(l(t),l(e),n,a,i,o);return o.delete(t),A;case Q2e:if(xB)return xB.call(t)==xB.call(e)}return!1}var V2e=H2e;function K2e(t,e){for(var r=-1,n=e.length,a=t.length;++r<n;)t[a+r]=e[r];return t}var hK=K2e,z2e=hK,G2e=Fa;function W2e(t,e,r){var n=e(t);return G2e(t)?n:z2e(n,r(t))}var q2e=W2e;function X2e(t,e){for(var r=-1,n=t==null?0:t.length,a=0,i=[];++r<n;){var o=t[r];e(o,r,t)&&(i[a++]=o)}return i}var Y2e=X2e;function J2e(){return[]}var Z2e=J2e,eNe=Y2e,tNe=Z2e,rNe=Object.prototype,nNe=rNe.propertyIsEnumerable,GD=Object.getOwnPropertySymbols,aNe=GD?function(t){return t==null?[]:(t=Object(t),eNe(GD(t),function(e){return nNe.call(t,e)}))}:tNe,sNe=aNe;function iNe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var oNe=iNe,lNe=ko,cNe=To,uNe="[object Arguments]";function ANe(t){return cNe(t)&&lNe(t)==uNe}var dNe=ANe,WD=dNe,hNe=To,fK=Object.prototype,fNe=fK.hasOwnProperty,mNe=fK.propertyIsEnumerable,pNe=WD(function(){return arguments}())?WD:function(t){return hNe(t)&&fNe.call(t,"callee")&&!mNe.call(t,"callee")},QN=pNe,Pv={exports:{}};function gNe(){return!1}var xNe=gNe;Pv.exports;(function(t,e){var r=Mi,n=xNe,a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(Pv,Pv.exports);var mK=Pv.exports,vNe=9007199254740991,yNe=/^(?:0|[1-9]\d*)$/;function bNe(t,e){var r=typeof t;return e=e??vNe,!!e&&(r=="number"||r!="symbol"&&yNe.test(t))&&t>-1&&t%1==0&&t<e}var LN=bNe,wNe=9007199254740991;function BNe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=wNe}var $N=BNe,CNe=ko,_Ne=$N,jNe=To,ENe="[object Arguments]",SNe="[object Array]",NNe="[object Boolean]",kNe="[object Date]",TNe="[object Error]",INe="[object Function]",PNe="[object Map]",FNe="[object Number]",DNe="[object Object]",ONe="[object RegExp]",RNe="[object Set]",UNe="[object String]",MNe="[object WeakMap]",QNe="[object ArrayBuffer]",LNe="[object DataView]",$Ne="[object Float32Array]",HNe="[object Float64Array]",VNe="[object Int8Array]",KNe="[object Int16Array]",zNe="[object Int32Array]",GNe="[object Uint8Array]",WNe="[object Uint8ClampedArray]",qNe="[object Uint16Array]",XNe="[object Uint32Array]",Ir={};Ir[$Ne]=Ir[HNe]=Ir[VNe]=Ir[KNe]=Ir[zNe]=Ir[GNe]=Ir[WNe]=Ir[qNe]=Ir[XNe]=!0;Ir[ENe]=Ir[SNe]=Ir[QNe]=Ir[NNe]=Ir[LNe]=Ir[kNe]=Ir[TNe]=Ir[INe]=Ir[PNe]=Ir[FNe]=Ir[DNe]=Ir[ONe]=Ir[RNe]=Ir[UNe]=Ir[MNe]=!1;function YNe(t){return jNe(t)&&_Ne(t.length)&&!!Ir[CNe(t)]}var JNe=YNe;function ZNe(t){return function(e){return t(e)}}var pK=ZNe,Fv={exports:{}};Fv.exports;(function(t,e){var r=C7,n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(Fv,Fv.exports);var eke=Fv.exports,tke=JNe,rke=pK,qD=eke,XD=qD&&qD.isTypedArray,nke=XD?rke(XD):tke,gK=nke,ake=oNe,ske=QN,ike=Fa,oke=mK,lke=LN,cke=gK,uke=Object.prototype,Ake=uke.hasOwnProperty;function dke(t,e){var r=ike(t),n=!r&&ske(t),a=!r&&!n&&oke(t),i=!r&&!n&&!a&&cke(t),o=r||n||a||i,l=o?ake(t.length,String):[],c=l.length;for(var u in t)(e||Ake.call(t,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lke(u,c)))&&l.push(u);return l}var hke=dke,fke=Object.prototype;function mke(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||fke;return t===r}var pke=mke;function gke(t,e){return function(r){return t(e(r))}}var xK=gke,xke=xK,vke=xke(Object.keys,Object),yke=vke,bke=pke,wke=yke,Bke=Object.prototype,Cke=Bke.hasOwnProperty;function _ke(t){if(!bke(t))return wke(t);var e=[];for(var r in Object(t))Cke.call(t,r)&&r!="constructor"&&e.push(r);return e}var jke=_ke,Eke=BN,Ske=$N;function Nke(t){return t!=null&&Ske(t.length)&&!Eke(t)}var cg=Nke,kke=hke,Tke=jke,Ike=cg;function Pke(t){return Ike(t)?kke(t):Tke(t)}var dw=Pke,Fke=q2e,Dke=sNe,Oke=dw;function Rke(t){return Fke(t,Oke,Dke)}var Uke=Rke,YD=Uke,Mke=1,Qke=Object.prototype,Lke=Qke.hasOwnProperty;function $ke(t,e,r,n,a,i){var o=r&Mke,l=YD(t),c=l.length,u=YD(e),A=u.length;if(c!=A&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in e:Lke.call(e,h)))return!1}var f=i.get(t),g=i.get(e);if(f&&g)return f==e&&g==t;var p=!0;i.set(t,e),i.set(e,t);for(var m=o;++d<c;){h=l[d];var y=t[h],b=e[h];if(n)var v=o?n(b,y,h,e,t,i):n(y,b,h,t,e,i);if(!(v===void 0?y===b||a(y,b,r,n,i):v)){p=!1;break}m||(m=h=="constructor")}if(p&&!m){var B=t.constructor,_=e.constructor;B!=_&&"constructor"in t&&"constructor"in e&&!(typeof B=="function"&&B instanceof B&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return i.delete(t),i.delete(e),p}var Hke=$ke,Vke=Du,Kke=Mi,zke=Vke(Kke,"DataView"),Gke=zke,Wke=Du,qke=Mi,Xke=Wke(qke,"Promise"),Yke=Xke,Jke=Du,Zke=Mi,eTe=Jke(Zke,"Set"),vK=eTe,tTe=Du,rTe=Mi,nTe=tTe(rTe,"WeakMap"),aTe=nTe,Wj=Gke,qj=_N,Xj=Yke,Yj=vK,Jj=aTe,yK=ko,_h=j7,JD="[object Map]",sTe="[object Object]",ZD="[object Promise]",eO="[object Set]",tO="[object WeakMap]",rO="[object DataView]",iTe=_h(Wj),oTe=_h(qj),lTe=_h(Xj),cTe=_h(Yj),uTe=_h(Jj),Tc=yK;(Wj&&Tc(new Wj(new ArrayBuffer(1)))!=rO||qj&&Tc(new qj)!=JD||Xj&&Tc(Xj.resolve())!=ZD||Yj&&Tc(new Yj)!=eO||Jj&&Tc(new Jj)!=tO)&&(Tc=function(t){var e=yK(t),r=e==sTe?t.constructor:void 0,n=r?_h(r):"";if(n)switch(n){case iTe:return rO;case oTe:return JD;case lTe:return ZD;case cTe:return eO;case uTe:return tO}return e});var ATe=Tc,vB=lK,dTe=dK,hTe=V2e,fTe=Hke,nO=ATe,aO=Fa,sO=mK,mTe=gK,pTe=1,iO="[object Arguments]",oO="[object Array]",N0="[object Object]",gTe=Object.prototype,lO=gTe.hasOwnProperty;function xTe(t,e,r,n,a,i){var o=aO(t),l=aO(e),c=o?oO:nO(t),u=l?oO:nO(e);c=c==iO?N0:c,u=u==iO?N0:u;var A=c==N0,d=u==N0,h=c==u;if(h&&sO(t)){if(!sO(e))return!1;o=!0,A=!1}if(h&&!A)return i||(i=new vB),o||mTe(t)?dTe(t,e,r,n,a,i):hTe(t,e,c,r,n,a,i);if(!(r&pTe)){var f=A&&lO.call(t,"__wrapped__"),g=d&&lO.call(e,"__wrapped__");if(f||g){var p=f?t.value():t,m=g?e.value():e;return i||(i=new vB),a(p,m,r,n,i)}}return h?(i||(i=new vB),fTe(t,e,r,n,a,i)):!1}var vTe=xTe,yTe=vTe,cO=To;function bK(t,e,r,n,a){return t===e?!0:t==null||e==null||!cO(t)&&!cO(e)?t!==t&&e!==e:yTe(t,e,r,n,bK,a)}var HN=bK,bTe=lK,wTe=HN,BTe=1,CTe=2;function _Te(t,e,r,n){var a=r.length,i=a,o=!n;if(t==null)return!i;for(t=Object(t);a--;){var l=r[a];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++a<i;){l=r[a];var c=l[0],u=t[c],A=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var d=new bTe;if(n)var h=n(u,A,c,t,e,d);if(!(h===void 0?wTe(A,u,BTe|CTe,n,d):h))return!1}}return!0}var jTe=_Te,ETe=sc;function STe(t){return t===t&&!ETe(t)}var wK=STe,NTe=wK,kTe=dw;function TTe(t){for(var e=kTe(t),r=e.length;r--;){var n=e[r],a=t[n];e[r]=[n,a,NTe(a)]}return e}var ITe=TTe;function PTe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var BK=PTe,FTe=jTe,DTe=ITe,OTe=BK;function RTe(t){var e=DTe(t);return e.length==1&&e[0][2]?OTe(e[0][0],e[0][1]):function(r){return r===t||FTe(r,t,e)}}var UTe=RTe;function MTe(t,e){return t!=null&&e in Object(t)}var QTe=MTe,LTe=T7,$Te=QN,HTe=Fa,VTe=LN,KTe=$N,zTe=Yb;function GTe(t,e,r){e=LTe(e,t);for(var n=-1,a=e.length,i=!1;++n<a;){var o=zTe(e[n]);if(!(i=t!=null&&r(t,o)))break;t=t[o]}return i||++n!=a?i:(a=t==null?0:t.length,!!a&&KTe(a)&&VTe(o,a)&&(HTe(t)||$Te(t)))}var WTe=GTe,qTe=QTe,XTe=WTe;function YTe(t,e){return t!=null&&XTe(t,e,qTe)}var JTe=YTe,ZTe=HN,eIe=I7,tIe=JTe,rIe=wN,nIe=wK,aIe=BK,sIe=Yb,iIe=1,oIe=2;function lIe(t,e){return rIe(t)&&nIe(e)?aIe(sIe(t),e):function(r){var n=eIe(r,t);return n===void 0&&n===e?tIe(r,t):ZTe(e,n,iIe|oIe)}}var cIe=lIe;function uIe(t){return t}var jh=uIe;function AIe(t){return function(e){return e==null?void 0:e[t]}}var dIe=AIe,hIe=NN;function fIe(t){return function(e){return hIe(e,t)}}var mIe=fIe,pIe=dIe,gIe=mIe,xIe=wN,vIe=Yb;function yIe(t){return xIe(t)?pIe(vIe(t)):gIe(t)}var bIe=yIe,wIe=UTe,BIe=cIe,CIe=jh,_Ie=Fa,jIe=bIe;function EIe(t){return typeof t=="function"?t:t==null?CIe:typeof t=="object"?_Ie(t)?BIe(t[0],t[1]):wIe(t):jIe(t)}var ic=EIe;function SIe(t,e,r,n){for(var a=t.length,i=r+(n?1:-1);n?i--:++i<a;)if(e(t[i],i,t))return i;return-1}var CK=SIe;function NIe(t){return t!==t}var kIe=NIe;function TIe(t,e,r){for(var n=r-1,a=t.length;++n<a;)if(t[n]===e)return n;return-1}var IIe=TIe,PIe=CK,FIe=kIe,DIe=IIe;function OIe(t,e,r){return e===e?DIe(t,e,r):PIe(t,FIe,r)}var RIe=OIe,UIe=RIe;function MIe(t,e){var r=t==null?0:t.length;return!!r&&UIe(t,e,0)>-1}var QIe=MIe;function LIe(t,e,r){for(var n=-1,a=t==null?0:t.length;++n<a;)if(r(e,t[n]))return!0;return!1}var $Ie=LIe;function HIe(){}var VIe=HIe,yB=vK,KIe=VIe,zIe=MN,GIe=1/0,WIe=yB&&1/zIe(new yB([,-0]))[1]==GIe?function(t){return new yB(t)}:KIe,qIe=WIe,XIe=cK,YIe=QIe,JIe=$Ie,ZIe=AK,e4e=qIe,t4e=MN,r4e=200;function n4e(t,e,r){var n=-1,a=YIe,i=t.length,o=!0,l=[],c=l;if(r)o=!1,a=JIe;else if(i>=r4e){var u=e?null:e4e(t);if(u)return t4e(u);o=!1,a=ZIe,c=new XIe}else c=e?[]:l;e:for(;++n<i;){var A=t[n],d=e?e(A):A;if(A=r||A!==0?A:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;e&&c.push(d),l.push(A)}else a(c,d,r)||(c!==l&&c.push(d),l.push(A))}return l}var a4e=n4e,s4e=ic,i4e=a4e;function o4e(t,e){return t&&t.length?i4e(t,s4e(e)):[]}var l4e=o4e;const uO=or(l4e);function _K(t,e,r){return e===!0?uO(t,r):Et(e)?uO(t,e):t}function Pd(t){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pd(t)}var c4e=["ref"];function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){hw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EK(n.key),n)}}function A4e(t,e,r){return e&&dO(t.prototype,e),r&&dO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function d4e(t,e,r){return e=Dv(e),h4e(t,jK()?Reflect.construct(e,r||[],Dv(t).constructor):e.apply(t,r))}function h4e(t,e){if(e&&(Pd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f4e(t)}function f4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dv(t)}function m4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Zj(t,e)}function Zj(t,e){return Zj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Zj(t,e)}function hw(t,e,r){return e=EK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EK(t){var e=p4e(t,"string");return Pd(e)=="symbol"?e:e+""}function p4e(t,e){if(Pd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function g4e(t,e){if(t==null)return{};var r=x4e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function x4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v4e(t){return t.value}function y4e(t,e){if(V.isValidElement(t))return V.cloneElement(t,e);if(typeof t=="function")return V.createElement(t,e);e.ref;var r=g4e(e,c4e);return V.createElement(UN,r)}var hO=1,LA=function(t){function e(){var r;u4e(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=d4e(this,e,[].concat(a)),hw(r,"lastBoundingBox",{width:-1,height:-1}),r}return m4e(e,t),A4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>hO||Math.abs(a.height-this.lastBoundingBox.height)>hO)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,A=a.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var f=this.getBBoxSnapshot();d={left:((u||0)-f.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((A||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return qi(qi({},d),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,A=a.payload,d=qi(qi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return V.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){n.wrapperNode=f}},y4e(i,qi(qi({},this.props),{},{payload:_K(A,u,v4e)})))}}],[{key:"getWithHeight",value:function(n,a){var i=qi(qi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&De(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(x.PureComponent);hw(LA,"displayName","Legend");hw(LA,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var fO=ig,b4e=QN,w4e=Fa,mO=fO?fO.isConcatSpreadable:void 0;function B4e(t){return w4e(t)||b4e(t)||!!(mO&&t&&t[mO])}var C4e=B4e,_4e=hK,j4e=C4e;function SK(t,e,r,n,a){var i=-1,o=t.length;for(r||(r=j4e),a||(a=[]);++i<o;){var l=t[i];e>0&&r(l)?e>1?SK(l,e-1,r,n,a):_4e(a,l):n||(a[a.length]=l)}return a}var NK=SK;function E4e(t){return function(e,r,n){for(var a=-1,i=Object(e),o=n(e),l=o.length;l--;){var c=o[t?l:++a];if(r(i[c],c,i)===!1)break}return e}}var S4e=E4e,N4e=S4e,k4e=N4e(),T4e=k4e,I4e=T4e,P4e=dw;function F4e(t,e){return t&&I4e(t,e,P4e)}var kK=F4e,D4e=cg;function O4e(t,e){return function(r,n){if(r==null)return r;if(!D4e(r))return t(r,n);for(var a=r.length,i=e?a:-1,o=Object(r);(e?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var R4e=O4e,U4e=kK,M4e=R4e,Q4e=M4e(U4e),VN=Q4e,L4e=VN,$4e=cg;function H4e(t,e){var r=-1,n=$4e(t)?Array(t.length):[];return L4e(t,function(a,i,o){n[++r]=e(a,i,o)}),n}var TK=H4e;function V4e(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var K4e=V4e,pO=vh;function z4e(t,e){if(t!==e){var r=t!==void 0,n=t===null,a=t===t,i=pO(t),o=e!==void 0,l=e===null,c=e===e,u=pO(e);if(!l&&!u&&!i&&t>e||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&t<e||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var G4e=z4e,W4e=G4e;function q4e(t,e,r){for(var n=-1,a=t.criteria,i=e.criteria,o=a.length,l=r.length;++n<o;){var c=W4e(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return t.index-e.index}var X4e=q4e,bB=SN,Y4e=NN,J4e=ic,Z4e=TK,ePe=K4e,tPe=pK,rPe=X4e,nPe=jh,aPe=Fa;function sPe(t,e,r){e.length?e=bB(e,function(i){return aPe(i)?function(o){return Y4e(o,i.length===1?i[0]:i)}:i}):e=[nPe];var n=-1;e=bB(e,tPe(J4e));var a=Z4e(t,function(i,o,l){var c=bB(e,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return ePe(a,function(i,o){return rPe(i,o,r)})}var iPe=sPe;function oPe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var lPe=oPe,cPe=lPe,gO=Math.max;function uPe(t,e,r){return e=gO(e===void 0?t.length-1:e,0),function(){for(var n=arguments,a=-1,i=gO(n.length-e,0),o=Array(i);++a<i;)o[a]=n[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=n[a];return l[e]=r(o),cPe(t,this,l)}}var APe=uPe;function dPe(t){return function(){return t}}var hPe=dPe,fPe=Du,mPe=function(){try{var t=fPe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),IK=mPe,pPe=hPe,xO=IK,gPe=jh,xPe=xO?function(t,e){return xO(t,"toString",{configurable:!0,enumerable:!1,value:pPe(e),writable:!0})}:gPe,vPe=xPe,yPe=800,bPe=16,wPe=Date.now;function BPe(t){var e=0,r=0;return function(){var n=wPe(),a=bPe-(n-r);if(r=n,a>0){if(++e>=yPe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var CPe=BPe,_Pe=vPe,jPe=CPe,EPe=jPe(_Pe),SPe=EPe,NPe=jh,kPe=APe,TPe=SPe;function IPe(t,e){return TPe(kPe(t,e,NPe),t+"")}var PPe=IPe,FPe=CN,DPe=cg,OPe=LN,RPe=sc;function UPe(t,e,r){if(!RPe(r))return!1;var n=typeof e;return(n=="number"?DPe(r)&&OPe(e,r.length):n=="string"&&e in r)?FPe(r[e],t):!1}var fw=UPe,MPe=NK,QPe=iPe,LPe=PPe,vO=fw,$Pe=LPe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&vO(t,e[0],e[1])?e=[]:r>2&&vO(e[0],e[1],e[2])&&(e=[e[0]]),QPe(t,MPe(e,1),[])}),HPe=$Pe;const KN=or(HPe);function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function eE(){return eE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eE.apply(this,arguments)}function VPe(t,e){return WPe(t)||GPe(t,e)||zPe(t,e)||KPe()}function KPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(t,e){if(t){if(typeof t=="string")return yO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(t,e)}}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function WPe(t){if(Array.isArray(t))return t}function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){qPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qPe(t,e,r){return e=XPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XPe(t){var e=YPe(t,"string");return zm(e)=="symbol"?e:e+""}function YPe(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JPe(t){return Array.isArray(t)&&An(t[0])&&An(t[1])?t.join(" ~ "):t}var ZPe=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,A=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,g=e.labelClassName,p=e.label,m=e.labelFormatter,y=e.accessibilityLayer,b=y===void 0?!1:y,v=function(){if(A&&A.length){var I={padding:0,margin:0},T=(h?KN(A,h):A).map(function(U,M){if(U.type==="none")return null;var L=wB({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),O=U.formatter||d||JPe,D=U.value,R=U.name,Q=D,K=R;if(O&&Q!=null&&K!=null){var $=O(D,R,U,M,A);if(Array.isArray($)){var q=VPe($,2);Q=q[0],K=q[1]}else Q=$}return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:L},An(K)?V.createElement("span",{className:"recharts-tooltip-item-name"},K):null,An(K)?V.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,V.createElement("span",{className:"recharts-tooltip-item-value"},Q),V.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:I},T)}return null},B=wB({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=wB({margin:0},u),j=!Dt(p),C=j?p:"",E=Gt("recharts-default-tooltip",f),N=Gt("recharts-tooltip-label",g);j&&m&&A!==void 0&&A!==null&&(C=m(p,A));var S=b?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",eE({className:E,style:B},S),V.createElement("p",{className:N,style:_},V.isValidElement(C)?C:"".concat(C)),v())};function Gm(t){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gm(t)}function k0(t,e,r){return e=eFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eFe(t){var e=tFe(t,"string");return Gm(e)=="symbol"?e:e+""}function tFe(t,e){if(Gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Af="recharts-tooltip-wrapper",rFe={visibility:"hidden"};function nFe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Gt(Af,k0(k0(k0(k0({},"".concat(Af,"-right"),De(r)&&e&&De(e.x)&&r>=e.x),"".concat(Af,"-left"),De(r)&&e&&De(e.x)&&r<e.x),"".concat(Af,"-bottom"),De(n)&&e&&De(e.y)&&n>=e.y),"".concat(Af,"-top"),De(n)&&e&&De(e.y)&&n<e.y))}function wO(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&De(i[n]))return i[n];var A=r[n]-l-a,d=r[n]+a;if(e[n])return o[n]?A:d;if(o[n]){var h=A,f=c[n];return h<f?Math.max(d,c[n]):Math.max(A,c[n])}var g=d+l,p=c[n]+u;return g>p?Math.max(A,c[n]):Math.max(d,c[n])}function aFe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function sFe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,A,d;return o.height>0&&o.width>0&&r?(A=wO({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=wO({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=aFe({translateX:A,translateY:d,useTranslate3d:l})):u=rFe,{cssProperties:u,cssClasses:nFe({translateX:A,translateY:d,coordinate:r})}}function Fd(t){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fd(t)}function BO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(r),!0).forEach(function(n){rE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FK(n.key),n)}}function lFe(t,e,r){return e&&oFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cFe(t,e,r){return e=Ov(e),uFe(t,PK()?Reflect.construct(e,r||[],Ov(t).constructor):e.apply(t,r))}function uFe(t,e){if(e&&(Fd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AFe(t)}function AFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PK=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ov(t)}function dFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tE(t,e)}function tE(t,e){return tE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tE(t,e)}function rE(t,e,r){return e=FK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FK(t){var e=hFe(t,"string");return Fd(e)=="symbol"?e:e+""}function hFe(t,e){if(Fd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _O=1,fFe=function(t){function e(){var r;iFe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=cFe(this,e,[].concat(a)),rE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,A;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(A=r.props.coordinate)===null||A===void 0?void 0:A.y)!==null&&u!==void 0?u:0}})}}),r}return dFe(e,t),lFe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>_O||Math.abs(n.height-this.state.lastBoundingBox.height)>_O)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,A=a.coordinate,d=a.hasPayload,h=a.isAnimationActive,f=a.offset,g=a.position,p=a.reverseDirection,m=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,v=sFe({allowEscapeViewBox:o,coordinate:A,offsetTopLeft:f,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:y}),B=v.cssClasses,_=v.cssProperties,j=CO(CO({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},b);return V.createElement("div",{tabIndex:-1,className:B,style:j,ref:function(E){n.wrapperNode=E}},u)}}])}(x.PureComponent),mFe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Eh={isSsr:mFe()};function Dd(t){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dd(t)}function jO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(r),!0).forEach(function(n){zN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OK(n.key),n)}}function xFe(t,e,r){return e&&gFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vFe(t,e,r){return e=Rv(e),yFe(t,DK()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function yFe(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bFe(t)}function bFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DK=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function wFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nE(t,e)}function nE(t,e){return nE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nE(t,e)}function zN(t,e,r){return e=OK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OK(t){var e=BFe(t,"string");return Dd(e)=="symbol"?e:e+""}function BFe(t,e){if(Dd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CFe(t){return t.dataKey}function _Fe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(ZPe,e)}var Ms=function(t){function e(){return pFe(this,e),vFe(this,e,arguments)}return wFe(e,t),xFe(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,A=a.coordinate,d=a.filterNull,h=a.isAnimationActive,f=a.offset,g=a.payload,p=a.payloadUniqBy,m=a.position,y=a.reverseDirection,b=a.useTranslate3d,v=a.viewBox,B=a.wrapperStyle,_=g??[];d&&_.length&&(_=_K(g.filter(function(C){return C.value!=null&&(C.hide!==!0||n.props.includeHidden)}),p,CFe));var j=_.length>0;return V.createElement(fFe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:A,hasPayload:j,offset:f,position:m,reverseDirection:y,useTranslate3d:b,viewBox:v,wrapperStyle:B},_Fe(u,EO(EO({},this.props),{},{payload:_})))}}])}(x.PureComponent);zN(Ms,"displayName","Tooltip");zN(Ms,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Eh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jFe=Mi,EFe=function(){return jFe.Date.now()},SFe=EFe,NFe=/\s/;function kFe(t){for(var e=t.length;e--&&NFe.test(t.charAt(e)););return e}var TFe=kFe,IFe=TFe,PFe=/^\s+/;function FFe(t){return t&&t.slice(0,IFe(t)+1).replace(PFe,"")}var DFe=FFe,OFe=DFe,SO=sc,RFe=vh,NO=NaN,UFe=/^[-+]0x[0-9a-f]+$/i,MFe=/^0b[01]+$/i,QFe=/^0o[0-7]+$/i,LFe=parseInt;function $Fe(t){if(typeof t=="number")return t;if(RFe(t))return NO;if(SO(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=SO(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=OFe(t);var r=MFe.test(t);return r||QFe.test(t)?LFe(t.slice(2),r?2:8):UFe.test(t)?NO:+t}var RK=$Fe,HFe=sc,BB=SFe,kO=RK,VFe="Expected a function",KFe=Math.max,zFe=Math.min;function GFe(t,e,r){var n,a,i,o,l,c,u=0,A=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(VFe);e=kO(e)||0,HFe(r)&&(A=!!r.leading,d="maxWait"in r,i=d?KFe(kO(r.maxWait)||0,e):i,h="trailing"in r?!!r.trailing:h);function f(j){var C=n,E=a;return n=a=void 0,u=j,o=t.apply(E,C),o}function g(j){return u=j,l=setTimeout(y,e),A?f(j):o}function p(j){var C=j-c,E=j-u,N=e-C;return d?zFe(N,i-E):N}function m(j){var C=j-c,E=j-u;return c===void 0||C>=e||C<0||d&&E>=i}function y(){var j=BB();if(m(j))return b(j);l=setTimeout(y,p(j))}function b(j){return l=void 0,h&&n?f(j):(n=a=void 0,o)}function v(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function B(){return l===void 0?o:b(BB())}function _(){var j=BB(),C=m(j);if(n=arguments,a=this,c=j,C){if(l===void 0)return g(c);if(d)return clearTimeout(l),l=setTimeout(y,e),f(c)}return l===void 0&&(l=setTimeout(y,e)),o}return _.cancel=v,_.flush=B,_}var WFe=GFe,qFe=WFe,XFe=sc,YFe="Expected a function";function JFe(t,e,r){var n=!0,a=!0;if(typeof t!="function")throw new TypeError(YFe);return XFe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),qFe(t,e,{leading:n,maxWait:e,trailing:a})}var ZFe=JFe;const UK=or(ZFe);function Wm(t){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wm(t)}function TO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(r),!0).forEach(function(n){eDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eDe(t,e,r){return e=tDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tDe(t){var e=rDe(t,"string");return Wm(e)=="symbol"?e:e+""}function rDe(t,e){if(Wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nDe(t,e){return oDe(t)||iDe(t,e)||sDe(t,e)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(t,e){if(t){if(typeof t=="string")return IO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IO(t,e)}}function IO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oDe(t){if(Array.isArray(t))return t}var lDe=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,A=u===void 0?0:u,d=t.minHeight,h=t.maxHeight,f=t.children,g=t.debounce,p=g===void 0?0:g,m=t.id,y=t.className,b=t.onResize,v=t.style,B=v===void 0?{}:v,_=x.useRef(null),j=x.useRef();j.current=b,x.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var C=x.useState({containerWidth:a.width,containerHeight:a.height}),E=nDe(C,2),N=E[0],S=E[1],k=x.useCallback(function(T,U){S(function(M){var L=Math.round(T),O=Math.round(U);return M.containerWidth===L&&M.containerHeight===O?M:{containerWidth:L,containerHeight:O}})},[]);x.useEffect(function(){var T=function(R){var Q,K=R[0].contentRect,$=K.width,q=K.height;k($,q),(Q=j.current)===null||Q===void 0||Q.call(j,$,q)};p>0&&(T=UK(T,p,{trailing:!0,leading:!1}));var U=new ResizeObserver(T),M=_.current.getBoundingClientRect(),L=M.width,O=M.height;return k(L,O),U.observe(_.current),function(){U.disconnect()}},[k,p]);var I=x.useMemo(function(){var T=N.containerWidth,U=N.containerHeight;if(T<0||U<0)return null;Ao(Vc(o)||Vc(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ao(!r||r>0,"The aspect(%s) must be greater than zero.",r);var M=Vc(o)?T:o,L=Vc(c)?U:c;r&&r>0&&(M?L=M/r:L&&(M=L*r),h&&L>h&&(L=h)),Ao(M>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,M,L,o,c,A,d,r);var O=!Array.isArray(f)&&uo(f.type).endsWith("Chart");return V.Children.map(f,function(D){return V.isValidElement(D)?x.cloneElement(D,T0({width:M,height:L},O?{style:T0({height:"100%",width:"100%",maxHeight:L,maxWidth:M},D.props.style)}:{})):D})},[r,f,c,h,d,A,N,o]);return V.createElement("div",{id:m?"".concat(m):void 0,className:Gt("recharts-responsive-container",y),style:T0(T0({},B),{},{width:o,height:c,minWidth:A,minHeight:d,maxHeight:h}),ref:_},I)}),MK=function(e){return null};MK.displayName="Cell";function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){cDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cDe(t,e,r){return e=uDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uDe(t){var e=ADe(t,"string");return qm(e)=="symbol"?e:e+""}function ADe(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mA={widthCache:{},cacheCount:0},dDe=2e3,hDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},FO="recharts_measurement_span";function fDe(t){var e=aE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var nm=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Eh.isSsr)return{width:0,height:0};var n=fDe(r),a=JSON.stringify({text:e,copyStyle:n});if(mA.widthCache[a])return mA.widthCache[a];try{var i=document.getElementById(FO);i||(i=document.createElement("span"),i.setAttribute("id",FO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=aE(aE({},hDe),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return mA.widthCache[a]=c,++mA.cacheCount>dDe&&(mA.cacheCount=0,mA.widthCache={}),c}catch{return{width:0,height:0}}},mDe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function Uv(t,e){return vDe(t)||xDe(t,e)||gDe(t,e)||pDe()}function pDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function vDe(t){if(Array.isArray(t))return t}function yDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OO(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wDe(n.key),n)}}function bDe(t,e,r){return e&&OO(t.prototype,e),r&&OO(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wDe(t){var e=BDe(t,"string");return Xm(e)=="symbol"?e:e+""}function BDe(t,e){if(Xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var RO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,UO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_De=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QK={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jDe=Object.keys(QK),NA="NaN";function EDe(t,e){return t*QK[e]}var I0=function(){function t(e,r){yDe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!CDe.test(r)&&(this.num=NaN,this.unit=""),jDe.includes(r)&&(this.num=EDe(e,r),this.unit="px")}return bDe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=_De.exec(r))!==null&&n!==void 0?n:[],i=Uv(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])}();function LK(t){if(t.includes(NA))return NA;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=RO.exec(e))!==null&&r!==void 0?r:[],a=Uv(n,4),i=a[1],o=a[2],l=a[3],c=I0.parse(i??""),u=I0.parse(l??""),A=o==="*"?c.multiply(u):c.divide(u);if(A.isNaN())return NA;e=e.replace(RO,A.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=UO.exec(e))!==null&&d!==void 0?d:[],f=Uv(h,4),g=f[1],p=f[2],m=f[3],y=I0.parse(g??""),b=I0.parse(m??""),v=p==="+"?y.add(b):y.subtract(b);if(v.isNaN())return NA;e=e.replace(UO,v.toString())}return e}var MO=/\(([^()]*)\)/;function SDe(t){for(var e=t;e.includes("(");){var r=MO.exec(e),n=Uv(r,2),a=n[1];e=e.replace(MO,LK(a))}return e}function NDe(t){var e=t.replace(/\s+/g,"");return e=SDe(e),e=LK(e),e}function kDe(t){try{return NDe(t)}catch{return NA}}function CB(t){var e=kDe(t.slice(5,-1));return e===NA?"":e}var TDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IDe=["dx","dy","angle","className","breakAll"];function sE(){return sE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sE.apply(this,arguments)}function QO(t,e){if(t==null)return{};var r=PDe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function PDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function LO(t,e){return RDe(t)||ODe(t,e)||DDe(t,e)||FDe()}function FDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(t,e){if(t){if(typeof t=="string")return $O(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $O(t,e)}}function $O(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ODe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function RDe(t){if(Array.isArray(t))return t}var $K=/[ \f\n\r\t\v\u2028\u2029]+/,HK=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Dt(r)||(n?i=r.toString().split(""):i=r.toString().split($K));var o=i.map(function(c){return{word:c,width:nm(c,a).width}}),l=n?0:nm(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},UDe=function(e,r,n,a,i){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,A=De(o),d=l,h=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return M.reduce(function(L,O){var D=O.word,R=O.width,Q=L[L.length-1];if(Q&&(a==null||i||Q.width+R+n<Number(a)))Q.words.push(D),Q.width+=R+n;else{var K={words:[D],width:R};L.push(K)}return L},[])},f=h(r),g=function(M){return M.reduce(function(L,O){return L.width>O.width?L:O})};if(!A)return f;for(var p="…",m=function(M){var L=d.slice(0,M),O=HK({breakAll:u,style:c,children:L+p}).wordsWithComputedWidth,D=h(O),R=D.length>o||g(D).width>Number(a);return[R,D]},y=0,b=d.length-1,v=0,B;y<=b&&v<=d.length-1;){var _=Math.floor((y+b)/2),j=_-1,C=m(j),E=LO(C,2),N=E[0],S=E[1],k=m(_),I=LO(k,1),T=I[0];if(!N&&!T&&(y=_+1),N&&T&&(b=_-1),!N&&T){B=S;break}v++}return B||f},HO=function(e){var r=Dt(e)?[]:e.toString().split($K);return[{words:r}]},MDe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Eh.isSsr){var c,u,A=HK({breakAll:o,children:a,style:i});if(A){var d=A.wordsWithComputedWidth,h=A.spaceWidth;c=d,u=h}else return HO(a);return UDe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return HO(a)},VO="#808080",Mv=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,A=e.scaleToFit,d=A===void 0?!1:A,h=e.textAnchor,f=h===void 0?"start":h,g=e.verticalAnchor,p=g===void 0?"end":g,m=e.fill,y=m===void 0?VO:m,b=QO(e,TDe),v=x.useMemo(function(){return MDe({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:d,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,d,b.style,b.width]),B=b.dx,_=b.dy,j=b.angle,C=b.className,E=b.breakAll,N=QO(b,IDe);if(!An(n)||!An(i))return null;var S=n+(De(B)?B:0),k=i+(De(_)?_:0),I;switch(p){case"start":I=CB("calc(".concat(u,")"));break;case"middle":I=CB("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=CB("calc(".concat(v.length-1," * -").concat(l,")"));break}var T=[];if(d){var U=v[0].width,M=b.width;T.push("scale(".concat((De(M)?M/U:1)/U,")"))}return j&&T.push("rotate(".concat(j,", ").concat(S,", ").concat(k,")")),T.length&&(N.transform=T.join(" ")),V.createElement("text",sE({},Ht(N,!0),{x:S,y:k,className:Gt("recharts-text",C),textAnchor:f,fill:y.includes("url")?VO:y}),v.map(function(L,O){var D=L.words.join(E?"":" ");return V.createElement("tspan",{x:S,dy:O===0?I:l,key:"".concat(D,"-").concat(O)},D)}))};function Dl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QDe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function GN(t){let e,r,n;t.length!==2?(e=Dl,r=(l,c)=>Dl(t(l),c),n=(l,c)=>t(l)-c):(e=t===Dl||t===QDe?t:LDe,r=t,n=t);function a(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<0?u=d+1:A=d}while(u<A)}return u}function i(l,c,u=0,A=l.length){if(u<A){if(e(c,c)!==0)return A;do{const d=u+A>>>1;r(l[d],c)<=0?u=d+1:A=d}while(u<A)}return u}function o(l,c,u=0,A=l.length){const d=a(l,c,u,A-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:a,center:o,right:i}}function LDe(){return 0}function VK(t){return t===null?NaN:+t}function*$De(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const HDe=GN(Dl),ug=HDe.right;GN(VK).center;class KO extends Map{constructor(e,r=zDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(zO(this,e))}has(e){return super.has(zO(this,e))}set(e,r){return super.set(VDe(this,e),r)}delete(e){return super.delete(KDe(this,e))}}function zO({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function VDe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KDe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function zDe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function GDe(t=Dl){if(t===Dl)return KK;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function KK(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const WDe=Math.sqrt(50),qDe=Math.sqrt(10),XDe=Math.sqrt(2);function Qv(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=WDe?10:i>=qDe?5:i>=XDe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Qv(t,e,r*2):[l,c,u]}function iE(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,o]=n?Qv(e,t,r):Qv(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function oE(t,e,r){return e=+e,t=+t,r=+r,Qv(t,e,r)[2]}function lE(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?oE(e,t,r):oE(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function GO(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WO(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function zK(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?KK:GDe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,A=Math.log(c),d=.5*Math.exp(2*A/3),h=.5*Math.sqrt(A*d*(c-d)/c)*(u-c/2<0?-1:1),f=Math.max(r,Math.floor(e-u*d/c+h)),g=Math.min(n,Math.floor(e+(c-u)*d/c+h));zK(t,e,f,g,a)}const i=t[e];let o=r,l=n;for(df(t,r,e),a(t[n],i)>0&&df(t,r,n);o<l;){for(df(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?df(t,r,l):(++l,df(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function df(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function YDe(t,e,r){if(t=Float64Array.from($De(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return WO(t);if(e>=1)return GO(t);var n,a=(n-1)*e,i=Math.floor(a),o=GO(zK(t,i).subarray(0,i+1)),l=WO(t.subarray(i+1));return o+(l-o)*(a-i)}}function JDe(t,e,r=VK){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function ZDe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function _s(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const cE=Symbol("implicit");function WN(){var t=new KO,e=[],r=[],n=cE;function a(i){let o=t.get(i);if(o===void 0){if(n!==cE)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new KO;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WN(e,r).unknown(n)},_s.apply(a,arguments),a}function Ym(){var t=WN().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,o,l=!1,c=0,u=0,A=.5;delete t.unknown;function d(){var h=e().length,f=a<n,g=f?a:n,p=f?n:a;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*A,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var m=ZDe(h).map(function(y){return g+i*y});return r(f?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,d()):[n,a]},t.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,d()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(h){return arguments.length?(l=!!h,d()):l},t.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},t.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},t.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},t.align=function(h){return arguments.length?(A=Math.max(0,Math.min(1,h)),d()):A},t.copy=function(){return Ym(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(A)},_s.apply(d(),arguments)}function GK(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return GK(e())},t}function am(){return GK(Ym.apply(null,arguments).paddingInner(1))}function qN(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function WK(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ag(){}var Jm=.7,Lv=1/Jm,$A="\\s*([+-]?\\d+)\\s*",Zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eOe=/^#([0-9a-f]{3,8})$/,tOe=new RegExp(`^rgb\\(${$A},${$A},${$A}\\)$`),rOe=new RegExp(`^rgb\\(${Ei},${Ei},${Ei}\\)$`),nOe=new RegExp(`^rgba\\(${$A},${$A},${$A},${Zm}\\)$`),aOe=new RegExp(`^rgba\\(${Ei},${Ei},${Ei},${Zm}\\)$`),sOe=new RegExp(`^hsl\\(${Zm},${Ei},${Ei}\\)$`),iOe=new RegExp(`^hsla\\(${Zm},${Ei},${Ei},${Zm}\\)$`),qO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};qN(Ag,ep,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XO,formatHex:XO,formatHex8:oOe,formatHsl:lOe,formatRgb:YO,toString:YO});function XO(){return this.rgb().formatHex()}function oOe(){return this.rgb().formatHex8()}function lOe(){return qK(this).formatHsl()}function YO(){return this.rgb().formatRgb()}function ep(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eOe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?JO(e):r===3?new Ta(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?P0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?P0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=tOe.exec(t))?new Ta(e[1],e[2],e[3],1):(e=rOe.exec(t))?new Ta(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nOe.exec(t))?P0(e[1],e[2],e[3],e[4]):(e=aOe.exec(t))?P0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=sOe.exec(t))?tR(e[1],e[2]/100,e[3]/100,1):(e=iOe.exec(t))?tR(e[1],e[2]/100,e[3]/100,e[4]):qO.hasOwnProperty(t)?JO(qO[t]):t==="transparent"?new Ta(NaN,NaN,NaN,0):null}function JO(t){return new Ta(t>>16&255,t>>8&255,t&255,1)}function P0(t,e,r,n){return n<=0&&(t=e=r=NaN),new Ta(t,e,r,n)}function cOe(t){return t instanceof Ag||(t=ep(t)),t?(t=t.rgb(),new Ta(t.r,t.g,t.b,t.opacity)):new Ta}function uE(t,e,r,n){return arguments.length===1?cOe(t):new Ta(t,e,r,n??1)}function Ta(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}qN(Ta,uE,WK(Ag,{brighter(t){return t=t==null?Lv:Math.pow(Lv,t),new Ta(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Jm:Math.pow(Jm,t),new Ta(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ta(ou(this.r),ou(this.g),ou(this.b),$v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZO,formatHex:ZO,formatHex8:uOe,formatRgb:eR,toString:eR}));function ZO(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}`}function uOe(){return`#${Kc(this.r)}${Kc(this.g)}${Kc(this.b)}${Kc((isNaN(this.opacity)?1:this.opacity)*255)}`}function eR(){const t=$v(this.opacity);return`${t===1?"rgb(":"rgba("}${ou(this.r)}, ${ou(this.g)}, ${ou(this.b)}${t===1?")":`, ${t})`}`}function $v(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ou(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Kc(t){return t=ou(t),(t<16?"0":"")+t.toString(16)}function tR(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Gs(t,e,r,n)}function qK(t){if(t instanceof Gs)return new Gs(t.h,t.s,t.l,t.opacity);if(t instanceof Ag||(t=ep(t)),!t)return new Gs;if(t instanceof Gs)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Gs(o,l,c,t.opacity)}function AOe(t,e,r,n){return arguments.length===1?qK(t):new Gs(t,e,r,n??1)}function Gs(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}qN(Gs,AOe,WK(Ag,{brighter(t){return t=t==null?Lv:Math.pow(Lv,t),new Gs(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Jm:Math.pow(Jm,t),new Gs(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Ta(_B(t>=240?t-240:t+120,a,n),_B(t,a,n),_B(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new Gs(rR(this.h),F0(this.s),F0(this.l),$v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$v(this.opacity);return`${t===1?"hsl(":"hsla("}${rR(this.h)}, ${F0(this.s)*100}%, ${F0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function rR(t){return t=(t||0)%360,t<0?t+360:t}function F0(t){return Math.max(0,Math.min(1,t||0))}function _B(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const XN=t=>()=>t;function dOe(t,e){return function(r){return t+r*e}}function hOe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function fOe(t){return(t=+t)==1?XK:function(e,r){return r-e?hOe(e,r,t):XN(isNaN(e)?r:e)}}function XK(t,e){var r=e-t;return r?dOe(t,r):XN(isNaN(t)?e:t)}const nR=function t(e){var r=fOe(e);function n(a,i){var o=r((a=uE(a)).r,(i=uE(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=XK(a.opacity,i.opacity);return function(A){return a.r=o(A),a.g=l(A),a.b=c(A),a.opacity=u(A),a+""}}return n.gamma=t,n}(1);function mOe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function pOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gOe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Sh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function xOe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Hv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vOe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Sh(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var AE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jB=new RegExp(AE.source,"g");function yOe(t){return function(){return t}}function bOe(t){return function(e){return t(e)+""}}function wOe(t,e){var r=AE.lastIndex=jB.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=AE.exec(t))&&(a=jB.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Hv(n,a)})),r=jB.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?bOe(c[0].x):yOe(e):(e=c.length,function(u){for(var A=0,d;A<e;++A)l[(d=c[A]).i]=d.x(u);return l.join("")})}function Sh(t,e){var r=typeof e,n;return e==null||r==="boolean"?XN(e):(r==="number"?Hv:r==="string"?(n=ep(e))?(e=n,nR):wOe:e instanceof ep?nR:e instanceof Date?xOe:pOe(e)?mOe:Array.isArray(e)?gOe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vOe:Hv)(t,e)}function YN(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function BOe(t,e){e===void 0&&(e=t,t=Sh);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function COe(t){return function(){return t}}function Vv(t){return+t}var aR=[0,1];function ha(t){return t}function dE(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:COe(isNaN(e)?NaN:.5)}function _Oe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function jOe(t,e,r){var n=t[0],a=t[1],i=e[0],o=e[1];return a<n?(n=dE(a,n),i=r(o,i)):(n=dE(n,a),i=r(i,o)),function(l){return i(n(l))}}function EOe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=dE(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=ug(t,l,1,n)-1;return i[c](a[c](l))}}function dg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mw(){var t=aR,e=aR,r=Sh,n,a,i,o=ha,l,c,u;function A(){var h=Math.min(t.length,e.length);return o!==ha&&(o=_Oe(t[0],t[h-1])),l=h>2?EOe:jOe,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(t.map(n),e,r)))(n(o(h)))}return d.invert=function(h){return o(a((u||(u=l(e,t.map(n),Hv)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,Vv),A()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),A()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),r=YN,A()},d.clamp=function(h){return arguments.length?(o=h?!0:ha,A()):o!==ha},d.interpolate=function(h){return arguments.length?(r=h,A()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,f){return n=h,a=f,A()}}function JN(){return mw()(ha,ha)}function SOe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Kv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Od(t){return t=Kv(Math.abs(t)),t?t[1]:NaN}function NOe(t,e){return function(r,n){for(var a=r.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function kOe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var TOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tp(t){if(!(e=TOe.exec(t)))throw new Error("invalid format: "+t);var e;return new ZN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}tp.prototype=ZN.prototype;function ZN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ZN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IOe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var YK;function POe(t,e){var r=Kv(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(YK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Kv(t,Math.max(0,e+i-1))[0]}function sR(t,e){var r=Kv(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const iR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:SOe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>sR(t*100,e),r:sR,s:POe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function oR(t){return t}var lR=Array.prototype.map,cR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function FOe(t){var e=t.grouping===void 0||t.thousands===void 0?oR:NOe(lR.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?oR:kOe(lR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(d){d=tp(d);var h=d.fill,f=d.align,g=d.sign,p=d.symbol,m=d.zero,y=d.width,b=d.comma,v=d.precision,B=d.trim,_=d.type;_==="n"?(b=!0,_="g"):iR[_]||(v===void 0&&(v=12),B=!0,_="g"),(m||h==="0"&&f==="=")&&(m=!0,h="0",f="=");var j=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",C=p==="$"?n:/[%p]/.test(_)?o:"",E=iR[_],N=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function S(k){var I=j,T=C,U,M,L;if(_==="c")T=E(k)+T,k="";else{k=+k;var O=k<0||1/k<0;if(k=isNaN(k)?c:E(Math.abs(k),v),B&&(k=IOe(k)),O&&+k==0&&g!=="+"&&(O=!1),I=(O?g==="("?g:l:g==="-"||g==="("?"":g)+I,T=(_==="s"?cR[8+YK/3]:"")+T+(O&&g==="("?")":""),N){for(U=-1,M=k.length;++U<M;)if(L=k.charCodeAt(U),48>L||L>57){T=(L===46?a+k.slice(U+1):k.slice(U))+T,k=k.slice(0,U);break}}}b&&!m&&(k=e(k,1/0));var D=I.length+k.length+T.length,R=D<y?new Array(y-D+1).join(h):"";switch(b&&m&&(k=e(R+k,R.length?y-T.length:1/0),R=""),f){case"<":k=I+k+T+R;break;case"=":k=I+R+k+T;break;case"^":k=R.slice(0,D=R.length>>1)+I+k+T+R.slice(D);break;default:k=R+I+k+T;break}return i(k)}return S.toString=function(){return d+""},S}function A(d,h){var f=u((d=tp(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Od(h)/3)))*3,p=Math.pow(10,-g),m=cR[8+g/3];return function(y){return f(p*y)+m}}return{format:u,formatPrefix:A}}var D0,ek,JK;DOe({thousands:",",grouping:[3],currency:["$",""]});function DOe(t){return D0=FOe(t),ek=D0.format,JK=D0.formatPrefix,D0}function OOe(t){return Math.max(0,-Od(Math.abs(t)))}function ROe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Od(e)/3)))*3-Od(Math.abs(t)))}function UOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Od(e)-Od(t))+1}function ZK(t,e,r,n){var a=lE(t,e,r),i;switch(n=tp(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=ROe(a,o))&&(n.precision=i),JK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=UOe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=OOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return ek(n)}function oc(t){var e=t.domain;return t.ticks=function(r){var n=e();return iE(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return ZK(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,A=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);A-- >0;){if(u=oE(o,l,r),u===c)return n[a]=o,n[i]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function zv(){var t=JN();return t.copy=function(){return dg(t,zv())},_s.apply(t,arguments),oc(t)}function ez(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Vv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return ez(t).unknown(e)},t=arguments.length?Array.from(t,Vv):[0,1],oc(r)}function tz(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),t[r]=e.floor(a),t[n]=e.ceil(i),t}function uR(t){return Math.log(t)}function AR(t){return Math.exp(t)}function MOe(t){return-Math.log(-t)}function QOe(t){return-Math.exp(-t)}function LOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $Oe(t){return t===10?LOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function HOe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function dR(t){return(e,r)=>-t(-e,r)}function tk(t){const e=t(uR,AR),r=e.domain;let n=10,a,i;function o(){return a=HOe(n),i=$Oe(n),r()[0]<0?(a=dR(a),i=dR(i),t(MOe,QOe)):t(uR,AR),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],A=c[c.length-1];const d=A<u;d&&([u,A]=[A,u]);let h=a(u),f=a(A),g,p;const m=l==null?10:+l;let y=[];if(!(n%1)&&f-h<m){if(h=Math.floor(h),f=Math.ceil(f),u>0){for(;h<=f;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>A)break;y.push(p)}}else for(;h<=f;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>A)break;y.push(p)}y.length*2<m&&(y=iE(u,A,m))}else y=iE(h,f,Math.min(f-h,m)).map(i);return d?y.reverse():y},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=tp(c)).precision==null&&(c.trim=!0),c=ek(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return A=>{let d=A/i(Math.round(a(A)));return d*n<n-.5&&(d*=n),d<=u?c(A):""}},e.nice=()=>r(tz(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function rz(){const t=tk(mw()).domain([1,10]);return t.copy=()=>dg(t,rz()).base(t.base()),_s.apply(t,arguments),t}function hR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function fR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rk(t){var e=1,r=t(hR(e),fR(e));return r.constant=function(n){return arguments.length?t(hR(e=+n),fR(e)):e},oc(r)}function nz(){var t=rk(mw());return t.copy=function(){return dg(t,nz()).constant(t.constant())},_s.apply(t,arguments)}function mR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function VOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function KOe(t){return t<0?-t*t:t*t}function nk(t){var e=t(ha,ha),r=1;function n(){return r===1?t(ha,ha):r===.5?t(VOe,KOe):t(mR(r),mR(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},oc(e)}function ak(){var t=nk(mw());return t.copy=function(){return dg(t,ak()).exponent(t.exponent())},_s.apply(t,arguments),t}function zOe(){return ak.apply(null,arguments).exponent(.5)}function pR(t){return Math.sign(t)*t*t}function GOe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function az(){var t=JN(),e=[0,1],r=!1,n;function a(i){var o=GOe(t(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return t.invert(pR(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,Vv)).map(pR)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return az(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},_s.apply(a,arguments),oc(a)}function sz(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=JDe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[ug(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Dl),a()},i.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return sz().domain(t).range(e).unknown(n)},_s.apply(i,arguments)}function iz(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[ug(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return iz().domain([t,e]).range(a).unknown(i)},_s.apply(oc(o),arguments)}function oz(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[ug(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oz().domain(t).range(e).unknown(r)},_s.apply(a,arguments)}const EB=new Date,SB=new Date;function hn(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<o);return c},a.filter=i=>hn(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(a.count=(i,o)=>(EB.setTime(+i),SB.setTime(+o),t(EB),t(SB),Math.floor(r(EB,SB))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Gv=hn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?hn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gv);Gv.range;const ro=1e3,fs=ro*60,no=fs*60,Bo=no*24,sk=Bo*7,gR=Bo*30,NB=Bo*365,zc=hn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCSeconds());zc.range;const ik=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getMinutes());ik.range;const ok=hn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*fs)},(t,e)=>(e-t)/fs,t=>t.getUTCMinutes());ok.range;const lk=hn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ro-t.getMinutes()*fs)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getHours());lk.range;const ck=hn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCHours());ck.range;const hg=hn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*fs)/Bo,t=>t.getDate()-1);hg.range;const pw=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bo,t=>t.getUTCDate()-1);pw.range;const lz=hn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bo,t=>Math.floor(t/Bo));lz.range;function Ou(t){return hn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*fs)/sk)}const gw=Ou(0),Wv=Ou(1),WOe=Ou(2),qOe=Ou(3),Rd=Ou(4),XOe=Ou(5),YOe=Ou(6);gw.range;Wv.range;WOe.range;qOe.range;Rd.range;XOe.range;YOe.range;function Ru(t){return hn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/sk)}const xw=Ru(0),qv=Ru(1),JOe=Ru(2),ZOe=Ru(3),Ud=Ru(4),eRe=Ru(5),tRe=Ru(6);xw.range;qv.range;JOe.range;ZOe.range;Ud.range;eRe.range;tRe.range;const uk=hn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());uk.range;const Ak=hn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ak.range;const Co=hn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Co.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Co.range;const _o=hn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:hn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_o.range;function cz(t,e,r,n,a,i){const o=[[zc,1,ro],[zc,5,5*ro],[zc,15,15*ro],[zc,30,30*ro],[i,1,fs],[i,5,5*fs],[i,15,15*fs],[i,30,30*fs],[a,1,no],[a,3,3*no],[a,6,6*no],[a,12,12*no],[n,1,Bo],[n,2,2*Bo],[r,1,sk],[e,1,gR],[e,3,3*gR],[t,1,NB]];function l(u,A,d){const h=A<u;h&&([u,A]=[A,u]);const f=d&&typeof d.range=="function"?d:c(u,A,d),g=f?f.range(u,+A+1):[];return h?g.reverse():g}function c(u,A,d){const h=Math.abs(A-u)/d,f=GN(([,,m])=>m).right(o,h);if(f===o.length)return t.every(lE(u/NB,A/NB,d));if(f===0)return Gv.every(Math.max(lE(u,A,d),1));const[g,p]=o[h/o[f-1][2]<o[f][2]/h?f-1:f];return g.every(p)}return[l,c]}const[rRe,nRe]=cz(_o,Ak,xw,lz,ck,ok),[aRe,sRe]=cz(Co,uk,gw,hg,lk,ik);function kB(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function TB(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hf(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function iRe(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=ff(a),A=mf(a),d=ff(i),h=mf(i),f=ff(o),g=mf(o),p=ff(l),m=mf(l),y=ff(c),b=mf(c),v={a:O,A:D,b:R,B:Q,c:null,d:BR,e:BR,f:NRe,g:MRe,G:LRe,H:jRe,I:ERe,j:SRe,L:uz,m:kRe,M:TRe,p:K,q:$,Q:jR,s:ER,S:IRe,u:PRe,U:FRe,V:DRe,w:ORe,W:RRe,x:null,X:null,y:URe,Y:QRe,Z:$Re,"%":_R},B={a:q,A:z,b:W,B:ne,c:null,d:CR,e:CR,f:zRe,g:rUe,G:aUe,H:HRe,I:VRe,j:KRe,L:dz,m:GRe,M:WRe,p:oe,q:re,Q:jR,s:ER,S:qRe,u:XRe,U:YRe,V:JRe,w:ZRe,W:eUe,x:null,X:null,y:tUe,Y:nUe,Z:sUe,"%":_R},_={a:S,A:k,b:I,B:T,c:U,d:bR,e:bR,f:wRe,g:yR,G:vR,H:wR,I:wR,j:xRe,L:bRe,m:gRe,M:vRe,p:N,q:pRe,Q:CRe,s:_Re,S:yRe,u:ARe,U:dRe,V:hRe,w:uRe,W:fRe,x:M,X:L,y:yR,Y:vR,Z:mRe,"%":BRe};v.x=j(r,v),v.X=j(n,v),v.c=j(e,v),B.x=j(r,B),B.X=j(n,B),B.c=j(e,B);function j(ce,Ae){return function(ge){var Y=[],pe=-1,Se=0,Ue=ce.length,We,gt,Rt;for(ge instanceof Date||(ge=new Date(+ge));++pe<Ue;)ce.charCodeAt(pe)===37&&(Y.push(ce.slice(Se,pe)),(gt=xR[We=ce.charAt(++pe)])!=null?We=ce.charAt(++pe):gt=We==="e"?" ":"0",(Rt=Ae[We])&&(We=Rt(ge,gt)),Y.push(We),Se=pe+1);return Y.push(ce.slice(Se,pe)),Y.join("")}}function C(ce,Ae){return function(ge){var Y=hf(1900,void 0,1),pe=E(Y,ce,ge+="",0),Se,Ue;if(pe!=ge.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Ae&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Se=TB(hf(Y.y,0,1)),Ue=Se.getUTCDay(),Se=Ue>4||Ue===0?qv.ceil(Se):qv(Se),Se=pw.offset(Se,(Y.V-1)*7),Y.y=Se.getUTCFullYear(),Y.m=Se.getUTCMonth(),Y.d=Se.getUTCDate()+(Y.w+6)%7):(Se=kB(hf(Y.y,0,1)),Ue=Se.getDay(),Se=Ue>4||Ue===0?Wv.ceil(Se):Wv(Se),Se=hg.offset(Se,(Y.V-1)*7),Y.y=Se.getFullYear(),Y.m=Se.getMonth(),Y.d=Se.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Ue="Z"in Y?TB(hf(Y.y,0,1)).getUTCDay():kB(hf(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Ue+5)%7:Y.w+Y.U*7-(Ue+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,TB(Y)):kB(Y)}}function E(ce,Ae,ge,Y){for(var pe=0,Se=Ae.length,Ue=ge.length,We,gt;pe<Se;){if(Y>=Ue)return-1;if(We=Ae.charCodeAt(pe++),We===37){if(We=Ae.charAt(pe++),gt=_[We in xR?Ae.charAt(pe++):We],!gt||(Y=gt(ce,ge,Y))<0)return-1}else if(We!=ge.charCodeAt(Y++))return-1}return Y}function N(ce,Ae,ge){var Y=u.exec(Ae.slice(ge));return Y?(ce.p=A.get(Y[0].toLowerCase()),ge+Y[0].length):-1}function S(ce,Ae,ge){var Y=f.exec(Ae.slice(ge));return Y?(ce.w=g.get(Y[0].toLowerCase()),ge+Y[0].length):-1}function k(ce,Ae,ge){var Y=d.exec(Ae.slice(ge));return Y?(ce.w=h.get(Y[0].toLowerCase()),ge+Y[0].length):-1}function I(ce,Ae,ge){var Y=y.exec(Ae.slice(ge));return Y?(ce.m=b.get(Y[0].toLowerCase()),ge+Y[0].length):-1}function T(ce,Ae,ge){var Y=p.exec(Ae.slice(ge));return Y?(ce.m=m.get(Y[0].toLowerCase()),ge+Y[0].length):-1}function U(ce,Ae,ge){return E(ce,e,Ae,ge)}function M(ce,Ae,ge){return E(ce,r,Ae,ge)}function L(ce,Ae,ge){return E(ce,n,Ae,ge)}function O(ce){return o[ce.getDay()]}function D(ce){return i[ce.getDay()]}function R(ce){return c[ce.getMonth()]}function Q(ce){return l[ce.getMonth()]}function K(ce){return a[+(ce.getHours()>=12)]}function $(ce){return 1+~~(ce.getMonth()/3)}function q(ce){return o[ce.getUTCDay()]}function z(ce){return i[ce.getUTCDay()]}function W(ce){return c[ce.getUTCMonth()]}function ne(ce){return l[ce.getUTCMonth()]}function oe(ce){return a[+(ce.getUTCHours()>=12)]}function re(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ae=j(ce+="",v);return Ae.toString=function(){return ce},Ae},parse:function(ce){var Ae=C(ce+="",!1);return Ae.toString=function(){return ce},Ae},utcFormat:function(ce){var Ae=j(ce+="",B);return Ae.toString=function(){return ce},Ae},utcParse:function(ce){var Ae=C(ce+="",!0);return Ae.toString=function(){return ce},Ae}}}var xR={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,oRe=/^%/,lRe=/[\\^$*+?|[\]().{}]/g;function Zt(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function cRe(t){return t.replace(lRe,"\\$&")}function ff(t){return new RegExp("^(?:"+t.map(cRe).join("|")+")","i")}function mf(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function uRe(t,e,r){var n=Bn.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function ARe(t,e,r){var n=Bn.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function dRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function hRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function fRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function vR(t,e,r){var n=Bn.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function yR(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mRe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pRe(t,e,r){var n=Bn.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function gRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function bR(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function xRe(t,e,r){var n=Bn.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function wR(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function yRe(t,e,r){var n=Bn.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function bRe(t,e,r){var n=Bn.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function wRe(t,e,r){var n=Bn.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BRe(t,e,r){var n=oRe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function CRe(t,e,r){var n=Bn.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function _Re(t,e,r){var n=Bn.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function BR(t,e){return Zt(t.getDate(),e,2)}function jRe(t,e){return Zt(t.getHours(),e,2)}function ERe(t,e){return Zt(t.getHours()%12||12,e,2)}function SRe(t,e){return Zt(1+hg.count(Co(t),t),e,3)}function uz(t,e){return Zt(t.getMilliseconds(),e,3)}function NRe(t,e){return uz(t,e)+"000"}function kRe(t,e){return Zt(t.getMonth()+1,e,2)}function TRe(t,e){return Zt(t.getMinutes(),e,2)}function IRe(t,e){return Zt(t.getSeconds(),e,2)}function PRe(t){var e=t.getDay();return e===0?7:e}function FRe(t,e){return Zt(gw.count(Co(t)-1,t),e,2)}function Az(t){var e=t.getDay();return e>=4||e===0?Rd(t):Rd.ceil(t)}function DRe(t,e){return t=Az(t),Zt(Rd.count(Co(t),t)+(Co(t).getDay()===4),e,2)}function ORe(t){return t.getDay()}function RRe(t,e){return Zt(Wv.count(Co(t)-1,t),e,2)}function URe(t,e){return Zt(t.getFullYear()%100,e,2)}function MRe(t,e){return t=Az(t),Zt(t.getFullYear()%100,e,2)}function QRe(t,e){return Zt(t.getFullYear()%1e4,e,4)}function LRe(t,e){var r=t.getDay();return t=r>=4||r===0?Rd(t):Rd.ceil(t),Zt(t.getFullYear()%1e4,e,4)}function $Re(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Zt(e/60|0,"0",2)+Zt(e%60,"0",2)}function CR(t,e){return Zt(t.getUTCDate(),e,2)}function HRe(t,e){return Zt(t.getUTCHours(),e,2)}function VRe(t,e){return Zt(t.getUTCHours()%12||12,e,2)}function KRe(t,e){return Zt(1+pw.count(_o(t),t),e,3)}function dz(t,e){return Zt(t.getUTCMilliseconds(),e,3)}function zRe(t,e){return dz(t,e)+"000"}function GRe(t,e){return Zt(t.getUTCMonth()+1,e,2)}function WRe(t,e){return Zt(t.getUTCMinutes(),e,2)}function qRe(t,e){return Zt(t.getUTCSeconds(),e,2)}function XRe(t){var e=t.getUTCDay();return e===0?7:e}function YRe(t,e){return Zt(xw.count(_o(t)-1,t),e,2)}function hz(t){var e=t.getUTCDay();return e>=4||e===0?Ud(t):Ud.ceil(t)}function JRe(t,e){return t=hz(t),Zt(Ud.count(_o(t),t)+(_o(t).getUTCDay()===4),e,2)}function ZRe(t){return t.getUTCDay()}function eUe(t,e){return Zt(qv.count(_o(t)-1,t),e,2)}function tUe(t,e){return Zt(t.getUTCFullYear()%100,e,2)}function rUe(t,e){return t=hz(t),Zt(t.getUTCFullYear()%100,e,2)}function nUe(t,e){return Zt(t.getUTCFullYear()%1e4,e,4)}function aUe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Ud(t):Ud.ceil(t),Zt(t.getUTCFullYear()%1e4,e,4)}function sUe(){return"+0000"}function _R(){return"%"}function jR(t){return+t}function ER(t){return Math.floor(+t/1e3)}var pA,fz,mz;iUe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iUe(t){return pA=iRe(t),fz=pA.format,pA.parse,mz=pA.utcFormat,pA.utcParse,pA}function oUe(t){return new Date(t)}function lUe(t){return t instanceof Date?+t:+new Date(+t)}function dk(t,e,r,n,a,i,o,l,c,u){var A=JN(),d=A.invert,h=A.domain,f=u(".%L"),g=u(":%S"),p=u("%I:%M"),m=u("%I %p"),y=u("%a %d"),b=u("%b %d"),v=u("%B"),B=u("%Y");function _(j){return(c(j)<j?f:l(j)<j?g:o(j)<j?p:i(j)<j?m:n(j)<j?a(j)<j?y:b:r(j)<j?v:B)(j)}return A.invert=function(j){return new Date(d(j))},A.domain=function(j){return arguments.length?h(Array.from(j,lUe)):h().map(oUe)},A.ticks=function(j){var C=h();return t(C[0],C[C.length-1],j??10)},A.tickFormat=function(j,C){return C==null?_:u(C)},A.nice=function(j){var C=h();return(!j||typeof j.range!="function")&&(j=e(C[0],C[C.length-1],j??10)),j?h(tz(C,j)):A},A.copy=function(){return dg(A,dk(t,e,r,n,a,i,o,l,c,u))},A}function cUe(){return _s.apply(dk(aRe,sRe,Co,uk,gw,hg,lk,ik,zc,fz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uUe(){return _s.apply(dk(rRe,nRe,_o,Ak,xw,pw,ck,ok,zc,mz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vw(){var t=0,e=1,r,n,a,i,o=ha,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(a===0?.5:(d=(i(d)-r)*a,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([t,e]=d,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function A(d){return function(h){var f,g;return arguments.length?([f,g]=h,o=d(f,g),u):[o(0),o(1)]}}return u.range=A(Sh),u.rangeRound=A(YN),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(t),n=d(e),a=r===n?0:1/(n-r),u}}function lc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function pz(){var t=oc(vw()(ha));return t.copy=function(){return lc(t,pz())},Io.apply(t,arguments)}function gz(){var t=tk(vw()).domain([1,10]);return t.copy=function(){return lc(t,gz()).base(t.base())},Io.apply(t,arguments)}function xz(){var t=rk(vw());return t.copy=function(){return lc(t,xz()).constant(t.constant())},Io.apply(t,arguments)}function hk(){var t=nk(vw());return t.copy=function(){return lc(t,hk()).exponent(t.exponent())},Io.apply(t,arguments)}function AUe(){return hk.apply(null,arguments).exponent(.5)}function vz(){var t=[],e=ha;function r(n){if(n!=null&&!isNaN(n=+n))return e((ug(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Dl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>YDe(t,i/n))},r.copy=function(){return vz(e).domain(t)},Io.apply(r,arguments)}function yw(){var t=0,e=.5,r=1,n=1,a,i,o,l,c,u=ha,A,d=!1,h;function f(p){return isNaN(p=+p)?h:(p=.5+((p=+A(p))-i)*(n*p<n*i?l:c),u(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e,r]=p,a=A(t=+t),i=A(e=+e),o=A(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f):[t,e,r]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(u=p,f):u};function g(p){return function(m){var y,b,v;return arguments.length?([y,b,v]=m,u=BOe(p,[y,b,v]),f):[u(0),u(.5),u(1)]}}return f.range=g(Sh),f.rangeRound=g(YN),f.unknown=function(p){return arguments.length?(h=p,f):h},function(p){return A=p,a=p(t),i=p(e),o=p(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,f}}function yz(){var t=oc(yw()(ha));return t.copy=function(){return lc(t,yz())},Io.apply(t,arguments)}function bz(){var t=tk(yw()).domain([.1,1,10]);return t.copy=function(){return lc(t,bz()).base(t.base())},Io.apply(t,arguments)}function wz(){var t=rk(yw());return t.copy=function(){return lc(t,wz()).constant(t.constant())},Io.apply(t,arguments)}function fk(){var t=nk(yw());return t.copy=function(){return lc(t,fk()).exponent(t.exponent())},Io.apply(t,arguments)}function dUe(){return fk.apply(null,arguments).exponent(.5)}const SR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ym,scaleDiverging:yz,scaleDivergingLog:bz,scaleDivergingPow:fk,scaleDivergingSqrt:dUe,scaleDivergingSymlog:wz,scaleIdentity:ez,scaleImplicit:cE,scaleLinear:zv,scaleLog:rz,scaleOrdinal:WN,scalePoint:am,scalePow:ak,scaleQuantile:sz,scaleQuantize:iz,scaleRadial:az,scaleSequential:pz,scaleSequentialLog:gz,scaleSequentialPow:hk,scaleSequentialQuantile:vz,scaleSequentialSqrt:AUe,scaleSequentialSymlog:xz,scaleSqrt:zOe,scaleSymlog:nz,scaleThreshold:oz,scaleTime:cUe,scaleUtc:uUe,tickFormat:ZK},Symbol.toStringTag,{value:"Module"}));var hUe=vh;function fUe(t,e,r){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=e(i);if(o!=null&&(l===void 0?o===o&&!hUe(o):r(o,l)))var l=o,c=i}return c}var Bz=fUe;function mUe(t,e){return t>e}var pUe=mUe,gUe=Bz,xUe=pUe,vUe=jh;function yUe(t){return t&&t.length?gUe(t,vUe,xUe):void 0}var bUe=yUe;const bw=or(bUe);function wUe(t,e){return t<e}var BUe=wUe,CUe=Bz,_Ue=BUe,jUe=jh;function EUe(t){return t&&t.length?CUe(t,jUe,_Ue):void 0}var SUe=EUe;const ww=or(SUe);var NUe=SN,kUe=ic,TUe=TK,IUe=Fa;function PUe(t,e){var r=IUe(t)?NUe:TUe;return r(t,kUe(e))}var FUe=PUe,DUe=NK,OUe=FUe;function RUe(t,e){return DUe(OUe(t,e),1)}var UUe=RUe;const MUe=or(UUe);var QUe=HN;function LUe(t,e){return QUe(t,e)}var $Ue=LUe;const Bw=or($Ue);var Nh=1e9,HUe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pk,Or=!0,bs="[DecimalError] ",lu=bs+"Invalid argument: ",mk=bs+"Exponent out of range: ",kh=Math.floor,Ic=Math.pow,VUe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,gn=1e7,Pr=7,Cz=9007199254740991,Xv=kh(Cz/Pr),Xe={};Xe.absoluteValue=Xe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Xe.comparedTo=Xe.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Xe.decimalPlaces=Xe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Xe.dividedBy=Xe.div=function(t){return ho(this,new this.constructor(t))};Xe.dividedToIntegerBy=Xe.idiv=function(t){var e=this,r=e.constructor;return vr(ho(e,new r(t),0,1),r.precision)};Xe.equals=Xe.eq=function(t){return!this.cmp(t)};Xe.exponent=function(){return an(this)};Xe.greaterThan=Xe.gt=function(t){return this.cmp(t)>0};Xe.greaterThanOrEqualTo=Xe.gte=function(t){return this.cmp(t)>=0};Xe.isInteger=Xe.isint=function(){return this.e>this.d.length-2};Xe.isNegative=Xe.isneg=function(){return this.s<0};Xe.isPositive=Xe.ispos=function(){return this.s>0};Xe.isZero=function(){return this.s===0};Xe.lessThan=Xe.lt=function(t){return this.cmp(t)<0};Xe.lessThanOrEqualTo=Xe.lte=function(t){return this.cmp(t)<1};Xe.logarithm=Xe.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(qa))throw Error(bs+"NaN");if(r.s<1)throw Error(bs+(r.s?"NaN":"-Infinity"));return r.eq(qa)?new n(0):(Or=!1,e=ho(rp(r,i),rp(t,i),i),Or=!0,vr(e,a))};Xe.minus=Xe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ez(e,t):_z(e,(t.s=-t.s,t))};Xe.modulo=Xe.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(bs+"NaN");return r.s?(Or=!1,e=ho(r,t,0,1).times(t),Or=!0,r.minus(e)):vr(new n(r),a)};Xe.naturalExponential=Xe.exp=function(){return jz(this)};Xe.naturalLogarithm=Xe.ln=function(){return rp(this)};Xe.negated=Xe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Xe.plus=Xe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_z(e,t):Ez(e,(t.s=-t.s,t))};Xe.precision=Xe.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(lu+t);if(e=an(a)+1,n=a.d.length-1,r=n*Pr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Xe.squareRoot=Xe.sqrt=function(){var t,e,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(bs+"NaN")}for(t=an(l),Or=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=wi(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=kh((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ho(l,i,o+2)).times(.5),wi(i.d).slice(0,o)===(e=wi(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(vr(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return Or=!0,vr(n,r)};Xe.times=Xe.mul=function(t){var e,r,n,a,i,o,l,c,u,A=this,d=A.constructor,h=A.d,f=(t=new d(t)).d;if(!A.s||!t.s)return new d(0);for(t.s*=A.s,r=A.e+t.e,c=h.length,u=f.length,c<u&&(i=h,h=f,f=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+f[n]*h[a-n-1]+e,i[a--]=l%gn|0,e=l/gn|0;i[a]=(i[a]+e)%gn|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,Or?vr(t,d.precision):t};Xe.toDecimalPlaces=Xe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Fi(t,0,Nh),e===void 0?e=n.rounding:Fi(e,0,8),vr(r,t+an(r)+1,e))};Xe.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Nu(n,!0):(Fi(t,0,Nh),e===void 0?e=a.rounding:Fi(e,0,8),n=vr(new a(n),t+1,e),r=Nu(n,!0,t+1)),r};Xe.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Nu(a):(Fi(t,0,Nh),e===void 0?e=i.rounding:Fi(e,0,8),n=vr(new i(a),t+an(a)+1,e),r=Nu(n.abs(),!1,t+an(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Xe.toInteger=Xe.toint=function(){var t=this,e=t.constructor;return vr(new e(t),an(t)+1,e.rounding)};Xe.toNumber=function(){return+this};Xe.toPower=Xe.pow=function(t){var e,r,n,a,i,o,l=this,c=l.constructor,u=12,A=+(t=new c(t));if(!t.s)return new c(qa);if(l=new c(l),!l.s){if(t.s<1)throw Error(bs+"Infinity");return l}if(l.eq(qa))return l;if(n=c.precision,t.eq(qa))return vr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=A<0?-A:A)<=Cz){for(a=new c(qa),e=Math.ceil(n/Pr+4),Or=!1;r%2&&(a=a.times(l),kR(a.d,e)),r=kh(r/2),r!==0;)l=l.times(l),kR(l.d,e);return Or=!0,t.s<0?new c(qa).div(a):vr(a,n)}}else if(i<0)throw Error(bs+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Or=!1,a=t.times(rp(l,n+u)),Or=!0,a=jz(a),a.s=i,a};Xe.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=an(a),n=Nu(a,r<=i.toExpNeg||r>=i.toExpPos)):(Fi(t,1,Nh),e===void 0?e=i.rounding:Fi(e,0,8),a=vr(new i(a),t,e),r=an(a),n=Nu(a,t<=r||r<=i.toExpNeg,t)),n};Xe.toSignificantDigits=Xe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Fi(t,1,Nh),e===void 0?e=n.rounding:Fi(e,0,8)),vr(new n(r),t,e)};Xe.toString=Xe.valueOf=Xe.val=Xe.toJSON=Xe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=an(t),r=t.constructor;return Nu(t,e<=r.toExpNeg||e>=r.toExpPos)};function _z(t,e){var r,n,a,i,o,l,c,u,A=t.constructor,d=A.precision;if(!t.s||!e.s)return e.s||(e=new A(t)),Or?vr(e,d):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(d/Pr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/gn|0,c[i]%=gn;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,Or?vr(e,d):e}function Fi(t,e,r){if(t!==~~t||t<e||t>r)throw Error(lu+t)}function wi(t){var e,r,n,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,e=1;e<a;e++)n=t[e]+"",r=Pr-n.length,r&&(i+=el(r)),i+=n;o=t[e],n=o+"",r=Pr-n.length,r&&(i+=el(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ho=function(){function t(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%gn|0,o=i/gn|0;return o&&n.unshift(o),n}function e(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*gn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,A,d,h,f,g,p,m,y,b,v,B,_,j,C,E,N=n.constructor,S=n.s==a.s?1:-1,k=n.d,I=a.d;if(!n.s)return new N(n);if(!a.s)throw Error(bs+"Division by zero");for(c=n.e-a.e,C=I.length,_=k.length,f=new N(S),g=f.d=[],u=0;I[u]==(k[u]||0);)++u;if(I[u]>(k[u]||0)&&--c,i==null?b=i=N.precision:o?b=i+(an(n)-an(a))+1:b=i,b<0)return new N(0);if(b=b/Pr+2|0,u=0,C==1)for(A=0,I=I[0],b++;(u<_||A)&&b--;u++)v=A*gn+(k[u]||0),g[u]=v/I|0,A=v%I|0;else{for(A=gn/(I[0]+1)|0,A>1&&(I=t(I,A),k=t(k,A),C=I.length,_=k.length),B=C,p=k.slice(0,C),m=p.length;m<C;)p[m++]=0;E=I.slice(),E.unshift(0),j=I[0],I[1]>=gn/2&&++j;do A=0,l=e(I,p,C,m),l<0?(y=p[0],C!=m&&(y=y*gn+(p[1]||0)),A=y/j|0,A>1?(A>=gn&&(A=gn-1),d=t(I,A),h=d.length,m=p.length,l=e(d,p,h,m),l==1&&(A--,r(d,C<h?E:I,h))):(A==0&&(l=A=1),d=I.slice()),h=d.length,h<m&&d.unshift(0),r(p,d,m),l==-1&&(m=p.length,l=e(I,p,C,m),l<1&&(A++,r(p,C<m?E:I,m))),m=p.length):l===0&&(A++,p=[0]),g[u++]=A,l&&p[0]?p[m++]=k[B]||0:(p=[k[B]],m=1);while((B++<_||p[0]!==void 0)&&b--)}return g[0]||g.shift(),f.e=c,vr(f,o?i+an(f)+1:i)}}();function jz(t,e){var r,n,a,i,o,l,c=0,u=0,A=t.constructor,d=A.precision;if(an(t)>16)throw Error(mk+an(t));if(!t.s)return new A(qa);for(Or=!1,l=d,o=new A(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Ic(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new A(qa),A.precision=l;;){if(a=vr(a.times(t),l),r=r.times(++c),o=i.plus(ho(a,r,l)),wi(o.d).slice(0,l)===wi(i.d).slice(0,l)){for(;u--;)i=vr(i.times(i),l);return A.precision=d,e==null?(Or=!0,vr(i,d)):i}i=o}}function an(t){for(var e=t.e*Pr,r=t.d[0];r>=10;r/=10)e++;return e}function IB(t,e,r){if(e>t.LN10.sd())throw Or=!0,r&&(t.precision=r),Error(bs+"LN10 precision limit exceeded");return vr(new t(t.LN10),e)}function el(t){for(var e="";t--;)e+="0";return e}function rp(t,e){var r,n,a,i,o,l,c,u,A,d=1,h=10,f=t,g=f.d,p=f.constructor,m=p.precision;if(f.s<1)throw Error(bs+(f.s?"NaN":"-Infinity"));if(f.eq(qa))return new p(0);if(e==null?(Or=!1,u=m):u=e,f.eq(10))return e==null&&(Or=!0),IB(p,u);if(u+=h,p.precision=u,r=wi(g),n=r.charAt(0),i=an(f),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(t),r=wi(f.d),n=r.charAt(0),d++;i=an(f),n>1?(f=new p("0."+r),i++):f=new p(n+"."+r.slice(1))}else return c=IB(p,u+2,m).times(i+""),f=rp(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=m,e==null?(Or=!0,vr(f,m)):f;for(l=o=f=ho(f.minus(qa),f.plus(qa),u),A=vr(f.times(f),u),a=3;;){if(o=vr(o.times(A),u),c=l.plus(ho(o,new p(a),u)),wi(c.d).slice(0,u)===wi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(IB(p,u+2,m).times(i+""))),l=ho(l,new p(d),u),p.precision=m,e==null?(Or=!0,vr(l,m)):l;l=c,a+=2}}function NR(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=kh(r/Pr),t.d=[],n=(r+1)%Pr,r<0&&(n+=Pr),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=Pr;n<a;)t.d.push(+e.slice(n,n+=Pr));e=e.slice(n),n=Pr-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),Or&&(t.e>Xv||t.e<-Xv))throw Error(mk+r)}else t.s=0,t.e=0,t.d=[0];return t}function vr(t,e,r){var n,a,i,o,l,c,u,A,d=t.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Pr,a=e,u=d[A=0];else{if(A=Math.ceil((n+1)/Pr),i=d.length,A>=i)return t;for(u=i=d[A],o=1;i>=10;i/=10)o++;n%=Pr,a=n-Pr+o}if(r!==void 0&&(i=Ic(10,o-a-1),l=u/i%10|0,c=e<0||d[A+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Ic(10,o-a):0:d[A-1])%10&1||r==(t.s<0?8:7))),e<1||!d[0])return c?(i=an(t),d.length=1,e=e-i-1,d[0]=Ic(10,(Pr-e%Pr)%Pr),t.e=kh(-e/Pr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(n==0?(d.length=A,i=1,A--):(d.length=A+1,i=Ic(10,Pr-n),d[A]=a>0?(u/Ic(10,o-a)%Ic(10,a)|0)*i:0),c)for(;;)if(A==0){(d[0]+=i)==gn&&(d[0]=1,++t.e);break}else{if(d[A]+=i,d[A]!=gn)break;d[A--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Or&&(t.e>Xv||t.e<-Xv))throw Error(mk+an(t));return t}function Ez(t,e){var r,n,a,i,o,l,c,u,A,d,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Or?vr(e,f):e;if(c=t.d,d=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(A=o<0,A?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),a=Math.max(Math.ceil(f/Pr),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=d.length,A=a<l,A&&(l=a),a=0;a<l;a++)if(c[a]!=d[a]){A=c[a]<d[a];break}o=0}for(A&&(r=c,c=d,d=r,e.s=-e.s),l=c.length,a=d.length-l;a>0;--a)c[l++]=0;for(a=d.length;a>o;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=gn-1;--c[i],c[a]+=gn}c[a]-=d[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Or?vr(e,f):e):new h(0)}function Nu(t,e,r){var n,a=an(t),i=wi(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+el(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+el(-a-1)+i,r&&(n=r-o)>0&&(i+=el(n))):a>=o?(i+=el(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+el(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=el(n))),t.s<0?"-"+i:i}function kR(t,e){if(t.length>e)return t.length=e,!0}function Sz(t){var e,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(lu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return NR(o,i.toString())}else if(typeof i!="string")throw Error(lu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,VUe.test(i))NR(o,i);else throw Error(lu+i)}if(a.prototype=Xe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Sz,a.config=a.set=KUe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function KUe(t){if(!t||typeof t!="object")throw Error(bs+"Object expected");var e,r,n,a=["precision",1,Nh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(kh(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(lu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(lu+r+": "+n);return this}var pk=Sz(HUe);qa=new pk(1);const Ar=pk;function zUe(t){return XUe(t)||qUe(t)||WUe(t)||GUe()}function GUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WUe(t,e){if(t){if(typeof t=="string")return hE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hE(t,e)}}function qUe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function XUe(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var YUe=function(e){return e},Nz={},kz=function(e){return e===Nz},TR=function(e){return function r(){return arguments.length===0||arguments.length===1&&kz(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},JUe=function t(e,r){return e===1?r:TR(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==Nz}).length;return o>=e?r.apply(void 0,a):t(e-o,TR(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var A=a.map(function(d){return kz(d)?c.shift():d});return r.apply(void 0,zUe(A).concat(c))}))})},Cw=function(e){return JUe(e.length,e)},fE=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},ZUe=Cw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),e5e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return YUe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},mE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Tz=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function t5e(t){var e;return t===0?e=1:e=Math.floor(new Ar(t).abs().log(10).toNumber())+1,e}function r5e(t,e,r){for(var n=new Ar(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var n5e=Cw(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),a5e=Cw(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),s5e=Cw(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const _w={rangeStep:r5e,getDigitCount:t5e,interpolateNumber:n5e,uninterpolateNumber:a5e,uninterpolateTruncation:s5e};function pE(t){return l5e(t)||o5e(t)||Iz(t)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o5e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function l5e(t){if(Array.isArray(t))return gE(t)}function np(t,e){return A5e(t)||u5e(t,e)||Iz(t,e)||c5e()}function c5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iz(t,e){if(t){if(typeof t=="string")return gE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gE(t,e)}}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u5e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function A5e(t){if(Array.isArray(t))return t}function Pz(t){var e=np(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function Fz(t,e,r){if(t.lte(0))return new Ar(0);var n=_w.getDigitCount(t.toNumber()),a=new Ar(10).pow(n),i=t.div(a),o=n!==1?.05:.1,l=new Ar(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Ar(Math.ceil(c))}function d5e(t,e,r){var n=1,a=new Ar(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Ar(10).pow(_w.getDigitCount(t)-1),a=new Ar(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Ar(Math.floor(t)))}else t===0?a=new Ar(Math.floor((e-1)/2)):r||(a=new Ar(Math.floor(t)));var o=Math.floor((e-1)/2),l=e5e(ZUe(function(c){return a.add(new Ar(c-o).mul(n)).toNumber()}),fE);return l(0,e)}function Dz(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Ar(0),tickMin:new Ar(0),tickMax:new Ar(0)};var i=Fz(new Ar(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Ar(0):(o=new Ar(t).add(e).div(2),o=o.sub(new Ar(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Ar(e).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Dz(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ar(l).mul(i)),tickMax:o.add(new Ar(c).mul(i))})}function h5e(t){var e=np(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Pz([r,n]),c=np(l,2),u=c[0],A=c[1];if(u===-1/0||A===1/0){var d=A===1/0?[u].concat(pE(fE(0,a-1).map(function(){return 1/0}))):[].concat(pE(fE(0,a-1).map(function(){return-1/0})),[A]);return r>n?mE(d):d}if(u===A)return d5e(u,a,i);var h=Dz(u,A,o,i),f=h.step,g=h.tickMin,p=h.tickMax,m=_w.rangeStep(g,p.add(new Ar(.1).mul(f)),f);return r>n?mE(m):m}function f5e(t,e){var r=np(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Pz([n,a]),l=np(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var A=Math.max(e,2),d=Fz(new Ar(u).sub(c).div(A-1),i,0),h=[].concat(pE(_w.rangeStep(new Ar(c),new Ar(u).sub(new Ar(.99).mul(d)),d)),[u]);return n>a?mE(h):h}var m5e=Tz(h5e),p5e=Tz(f5e),g5e="Invariant failed";function ku(t,e){throw new Error(g5e)}var x5e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Md(t){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Md(t)}function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}function v5e(t,e){return B5e(t)||w5e(t,e)||b5e(t,e)||y5e()}function y5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5e(t,e){if(t){if(typeof t=="string")return IR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(t,e)}}function IR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function B5e(t){if(Array.isArray(t))return t}function C5e(t,e){if(t==null)return{};var r=_5e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function j5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uz(n.key),n)}}function S5e(t,e,r){return e&&E5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N5e(t,e,r){return e=Jv(e),k5e(t,Oz()?Reflect.construct(e,r||[],Jv(t).constructor):e.apply(t,r))}function k5e(t,e){if(e&&(Md(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5e(t)}function T5e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oz=function(){return!!t})()}function Jv(t){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(t)}function I5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xE(t,e)}function xE(t,e){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},xE(t,e)}function Rz(t,e,r){return e=Uz(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uz(t){var e=P5e(t,"string");return Md(e)=="symbol"?e:e+""}function P5e(t,e){if(Md(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fg=function(t){function e(){return j5e(this,e),N5e(this,e,arguments)}return I5e(e,t),S5e(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,A=n.xAxis,d=n.yAxis,h=C5e(n,x5e),f=Ht(h,!1);this.props.direction==="x"&&A.type!=="number"&&ku();var g=c.map(function(p){var m=u(p,l),y=m.x,b=m.y,v=m.value,B=m.errorVal;if(!B)return null;var _=[],j,C;if(Array.isArray(B)){var E=v5e(B,2);j=E[0],C=E[1]}else j=C=B;if(i==="vertical"){var N=A.scale,S=b+a,k=S+o,I=S-o,T=N(v-j),U=N(v+C);_.push({x1:U,y1:k,x2:U,y2:I}),_.push({x1:T,y1:S,x2:U,y2:S}),_.push({x1:T,y1:k,x2:T,y2:I})}else if(i==="horizontal"){var M=d.scale,L=y+a,O=L-o,D=L+o,R=M(v-j),Q=M(v+C);_.push({x1:O,y1:Q,x2:D,y2:Q}),_.push({x1:L,y1:R,x2:L,y2:Q}),_.push({x1:O,y1:R,x2:D,y2:R})}return V.createElement(Wr,Yv({className:"recharts-errorBar",key:"bar-".concat(_.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},f),_.map(function(K){return V.createElement("line",Yv({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return V.createElement(Wr,{className:"recharts-errorBars"},g)}}])}(V.Component);Rz(fg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Rz(fg,"displayName","ErrorBar");function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function PR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PR(Object(r),!0).forEach(function(n){F5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F5e(t,e,r){return e=D5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D5e(t){var e=O5e(t,"string");return ap(e)=="symbol"?e:e+""}function O5e(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mz=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,o=$a(r,LA);if(!o)return null;var l=LA.defaultProps,c=l!==void 0?wc(wc({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(A,d){var h=d.item,f=d.props,g=f.sectors||f.data||[];return A.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(A){var d=A.item,h=d.type.defaultProps,f=h!==void 0?wc(wc({},h),d.props):{},g=f.dataKey,p=f.name,m=f.legendType,y=f.hide;return{inactive:y,dataKey:g,type:c.iconType||m||"square",color:gk(d),value:p||g,payload:f}}),wc(wc(wc({},c),LA.getWithHeight(o,a)),{},{payload:u,item:o})};function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function FR(t){return Q5e(t)||M5e(t)||U5e(t)||R5e()}function R5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U5e(t,e){if(t){if(typeof t=="string")return vE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vE(t,e)}}function M5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Q5e(t){if(Array.isArray(t))return vE(t)}function vE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function DR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Lr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DR(Object(r),!0).forEach(function(n){HA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HA(t,e,r){return e=L5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L5e(t){var e=$5e(t,"string");return sp(e)=="symbol"?e:e+""}function $5e(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function es(t,e,r){return Dt(t)||Dt(e)?r:An(e)?gs(t,e,r):Et(e)?e(t):r}function sm(t,e,r,n){var a=MUe(t,function(l){return es(l,e)});if(r==="number"){var i=a.filter(function(l){return De(l)||parseFloat(l)});return i.length?[ww(i),bw(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!Dt(l)}):a;return o.map(function(l){return An(l)||l instanceof Date?l:""})}var H5e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var A=u>0?a[u-1].coordinate:a[l-1].coordinate,d=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,f=void 0;if(Xs(d-A)!==Xs(h-d)){var g=[];if(Xs(h-d)===Xs(c[1]-c[0])){f=h;var p=d+c[1]-c[0];g[0]=Math.min(p,(p+A)/2),g[1]=Math.max(p,(p+A)/2)}else{f=A;var m=h+c[1]-c[0];g[0]=Math.min(d,(m+d)/2),g[1]=Math.max(d,(m+d)/2)}var y=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(e>y[0]&&e<=y[1]||e>=g[0]&&e<=g[1]){o=a[u].index;break}}else{var b=Math.min(A,h),v=Math.max(A,h);if(e>(b+d)/2&&e<=(v+d)/2){o=a[u].index;break}}}else for(var B=0;B<l;B++)if(B===0&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B>0&&B<l-1&&e>(n[B].coordinate+n[B-1].coordinate)/2&&e<=(n[B].coordinate+n[B+1].coordinate)/2||B===l-1&&e>(n[B].coordinate+n[B-1].coordinate)/2){o=n[B].index;break}return o},gk=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},V5e=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var A=i[l[c]].stackGroups,d=Object.keys(A),h=0,f=d.length;h<f;h++){var g=A[d[h]],p=g.items,m=g.cateAxisId,y=p.filter(function(C){return uo(C.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,v=b!==void 0?Lr(Lr({},b),y[0].props):y[0].props,B=v.barSize,_=v[m];o[_]||(o[_]=[]);var j=Dt(B)?r:B;o[_].push({item:y[0],stackList:y.slice(1),barSize:Dt(j)?void 0:Su(j,n,0)})}}return o},K5e=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Su(r,a,0,!0),A,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,f=a/c,g=o.reduce(function(B,_){return B+_.barSize||0},0);g+=(c-1)*u,g>=a&&(g-=(c-1)*u,u=0),g>=a&&f>0&&(h=!0,f*=.9,g=c*f);var p=(a-g)/2>>0,m={offset:p-u,size:0};A=o.reduce(function(B,_){var j={item:_.item,position:{offset:m.offset+m.size+u,size:h?f:_.barSize}},C=[].concat(FR(B),[j]);return m=C[C.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(E){C.push({item:E,position:m})}),C},d)}else{var y=Su(n,a,0,!0);a-2*y-(c-1)*u<=0&&(u=0);var b=(a-2*y-(c-1)*u)/c;b>1&&(b>>=0);var v=l===+l?Math.min(b,l):b;A=o.reduce(function(B,_,j){var C=[].concat(FR(B),[{item:_.item,position:{offset:y+(b+u)*j+(b-v)/2,size:v}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(E){C.push({item:E,position:C[C.length-1].position})}),C},d)}return A},z5e=function(e,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Mz({children:i,legendWidth:c});if(u){var A=a||{},d=A.width,h=A.height,f=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&f!=="center"&&De(e[f]))return Lr(Lr({},e),{},HA({},f,e[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&g!=="middle"&&De(e[g]))return Lr(Lr({},e),{},HA({},g,e[g]+(h||0)))}return e},G5e=function(e,r,n){return Dt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Qz=function(e,r,n,a,i){var o=r.props.children,l=xs(o,fg).filter(function(u){return G5e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,A){var d=es(A,n);if(Dt(d))return u;var h=Array.isArray(d)?[ww(d),bw(d)]:[d,d],f=c.reduce(function(g,p){var m=es(A,p,0),y=h[0]-Math.abs(Array.isArray(m)?m[0]:m),b=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(f[0],u[0]),Math.max(f[1],u[1])]},[1/0,-1/0])}return null},W5e=function(e,r,n,a,i){var o=r.map(function(l){return Qz(e,l,n,i,a)}).filter(function(l){return!Dt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Lz=function(e,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Qz(e,c,u,a)||sm(e,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var A=0,d=u.length;A<d;A++)l[u[A]]||(l[u[A]]=!0,c.push(u[A]));return c},[])},$z=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Hz=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ao=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Xs(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var A=(e.ticks||e.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:a(h)+u,value:d,offset:u}});return A.filter(function(d){return!og(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:a(d)+u,value:d,index:h,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(d){return{coordinate:a(d)+u,value:d,offset:u}}):a.domain().map(function(d,h){return{coordinate:a(d)+u,value:i?i[d]:d,index:h,offset:u}})},PB=new WeakMap,O0=function(e,r){if(typeof r!="function")return e;PB.has(e)||PB.set(e,new WeakMap);var n=PB.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},q5e=function(e,r,n){var a=e.scale,i=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Ym(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:zv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:am(),realScaleType:"point"}:i==="category"?{scale:Ym(),realScaleType:"band"}:{scale:zv(),realScaleType:"linear"};if(Eu(a)){var c="scale".concat(lw(a));return{scale:(SR[c]||am)(),realScaleType:SR[c]?c:"point"}}return Et(a)?{scale:a}:{scale:am(),realScaleType:"point"}},OR=1e-4,X5e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-OR,o=Math.max(a[0],a[1])+OR,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},Y5e=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},J5e=function(e,r){if(!r||r.length!==2||!De(r[0])||!De(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!De(e[0])||e[0]<n)&&(i[0]=n),(!De(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},Z5e=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=og(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},eMe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=og(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},tMe={sign:Z5e,expand:mSe,none:Td,silhouette:pSe,wiggle:gSe,positive:eMe},rMe=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=tMe[n],o=fSe().keys(a).value(function(l,c){return+es(l,c,0)}).order(Vj).offset(i);return o(e)},nMe=function(e,r,n,a,i,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var f,g=(f=h.type)!==null&&f!==void 0&&f.defaultProps?Lr(Lr({},h.type.defaultProps),h.props):h.props,p=g.stackId,m=g.hide;if(m)return d;var y=g[n],b=d[y]||{hasStack:!1,stackGroups:{}};if(An(p)){var v=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};v.items.push(h),b.hasStack=!0,b.stackGroups[p]=v}else b.stackGroups[lg("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Lr(Lr({},d),{},HA({},y,b))},c),A={};return Object.keys(u).reduce(function(d,h){var f=u[h];if(f.hasStack){var g={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,m){var y=f.stackGroups[m];return Lr(Lr({},p),{},HA({},m,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:rMe(e,y.items,i)}))},g)}return Lr(Lr({},d),{},HA({},h,f))},A)},aMe=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var A=m5e(u,i,l);return e.domain([ww(A),bw(A)]),{niceTicks:A}}if(i&&a==="number"){var d=e.domain(),h=p5e(d,i,l);return{niceTicks:h}}return null};function RR(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Dt(a[e.dataKey])){var l=Bv(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=es(a,Dt(o)?e.dataKey:o);return Dt(c)?null:e.scale(c)}var UR=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=es(o,r.dataKey,r.domain[l]);return Dt(c)?null:r.scale(c)-i/2+a},sMe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},iMe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(An(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},oMe=function(e){return e.reduce(function(r,n){return[ww(n.concat([r[0]]).filter(De)),bw(n.concat([r[1]]).filter(De))]},[1/0,-1/0])},Vz=function(e,r,n){return Object.keys(e).reduce(function(a,i){var o=e[i],l=o.stackedData,c=l.reduce(function(u,A){var d=oMe(A.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},MR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,yE=function(e,r,n){if(Et(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(De(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(MR.test(e[0])){var i=+MR.exec(e[0])[1];a[0]=r[0]-i}else Et(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(De(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(QR.test(e[1])){var o=+QR.exec(e[1])[1];a[1]=r[1]+o}else Et(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},Zv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=KN(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],A=i[l-1];o=Math.min((u.coordinate||0)-(A.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},LR=function(e,r,n){return!e||!e.length||Bw(e,gs(n,"type.defaultProps.domain"))?r:e},Kz=function(e,r){var n=e.type.defaultProps?Lr(Lr({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,A=n.hide;return Lr(Lr({},Ht(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:gk(e),value:es(r,a),type:c,payload:r,chartType:u,hide:A})};function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){lMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lMe(t,e,r){return e=cMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cMe(t){var e=uMe(t,"string");return ip(e)=="symbol"?e:e+""}function uMe(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ey=Math.PI/180,AMe=function(e){return e*180/Math.PI},Qn=function(e,r,n,a){return{x:e+Math.cos(-ey*a)*n,y:r+Math.sin(-ey*a)*n}},dMe=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},hMe=function(e,r){var n=e.x,a=e.y,i=r.cx,o=r.cy,l=dMe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:AMe(u),angleInRadian:u}},fMe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},mMe=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return e+l*360},VR=function(e,r){var n=e.x,a=e.y,i=hMe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var A=fMe(r),d=A.startAngle,h=A.endAngle,f=l,g;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;g=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;g=f>=h&&f<=d}return g?HR(HR({},r),{},{radius:o,angle:mMe(f,r)}):null};function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}var pMe=["offset"];function gMe(t){return bMe(t)||yMe(t)||vMe(t)||xMe()}function xMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vMe(t,e){if(t){if(typeof t=="string")return bE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bE(t,e)}}function yMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function bMe(t){if(Array.isArray(t))return bE(t)}function bE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wMe(t,e){if(t==null)return{};var r=BMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KR(Object(r),!0).forEach(function(n){CMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CMe(t,e,r){return e=_Me(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Me(t){var e=jMe(t,"string");return op(e)=="symbol"?e:e+""}function jMe(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lp.apply(this,arguments)}var EMe=function(e){var r=e.value,n=e.formatter,a=Dt(e.children)?r:e.children;return Et(n)?n(a):a},SMe=function(e,r){var n=Xs(r-e),a=Math.min(Math.abs(r-e),360);return n*a},NMe=function(e,r,n){var a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,u=c.cx,A=c.cy,d=c.innerRadius,h=c.outerRadius,f=c.startAngle,g=c.endAngle,p=c.clockWise,m=(d+h)/2,y=SMe(f,g),b=y>=0?1:-1,v,B;a==="insideStart"?(v=f+b*o,B=p):a==="insideEnd"?(v=g-b*o,B=!p):a==="end"&&(v=g+b*o,B=p),B=y<=0?B:!B;var _=Qn(u,A,m,v),j=Qn(u,A,m,v+(B?1:-1)*359),C="M".concat(_.x,",").concat(_.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(B?0:1,`,
    `).concat(j.x,",").concat(j.y),E=Dt(e.id)?lg("recharts-radial-line-"):e.id;return V.createElement("text",lp({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:E,d:C})),V.createElement("textPath",{xlinkHref:"#".concat(E)},r))},kMe=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,A=i.startAngle,d=i.endAngle,h=(A+d)/2;if(a==="outside"){var f=Qn(o,l,u+n,h),g=f.x,p=f.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var m=(c+u)/2,y=Qn(o,l,m,h),b=y.x,v=y.y;return{x:b,y:v,textAnchor:"middle",verticalAnchor:"middle"}},TMe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,o=r,l=o.x,c=o.y,u=o.width,A=o.height,d=A>=0?1:-1,h=d*a,f=d>0?"end":"start",g=d>0?"start":"end",p=u>=0?1:-1,m=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var v={x:l+u/2,y:c-d*a,textAnchor:"middle",verticalAnchor:f};return on(on({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var B={x:l+u/2,y:c+A+h,textAnchor:"middle",verticalAnchor:g};return on(on({},B),n?{height:Math.max(n.y+n.height-(c+A),0),width:u}:{})}if(i==="left"){var _={x:l-m,y:c+A/2,textAnchor:y,verticalAnchor:"middle"};return on(on({},_),n?{width:Math.max(_.x-n.x,0),height:A}:{})}if(i==="right"){var j={x:l+u+m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"};return on(on({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:A}:{})}var C=n?{width:u,height:A}:{};return i==="insideLeft"?on({x:l+m,y:c+A/2,textAnchor:b,verticalAnchor:"middle"},C):i==="insideRight"?on({x:l+u-m,y:c+A/2,textAnchor:y,verticalAnchor:"middle"},C):i==="insideTop"?on({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},C):i==="insideBottom"?on({x:l+u/2,y:c+A-h,textAnchor:"middle",verticalAnchor:f},C):i==="insideTopLeft"?on({x:l+m,y:c+h,textAnchor:b,verticalAnchor:g},C):i==="insideTopRight"?on({x:l+u-m,y:c+h,textAnchor:y,verticalAnchor:g},C):i==="insideBottomLeft"?on({x:l+m,y:c+A-h,textAnchor:b,verticalAnchor:f},C):i==="insideBottomRight"?on({x:l+u-m,y:c+A-h,textAnchor:y,verticalAnchor:f},C):yh(i)&&(De(i.x)||Vc(i.x))&&(De(i.y)||Vc(i.y))?on({x:l+Su(i.x,u),y:c+Su(i.y,A),textAnchor:"end",verticalAnchor:"end"},C):on({x:l+u/2,y:c+A/2,textAnchor:"middle",verticalAnchor:"middle"},C)},IMe=function(e){return"cx"in e&&De(e.cx)};function Jn(t){var e=t.offset,r=e===void 0?5:e,n=wMe(t,pMe),a=on({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,A=a.className,d=A===void 0?"":A,h=a.textBreakAll;if(!i||Dt(l)&&Dt(c)&&!x.isValidElement(u)&&!Et(u))return null;if(x.isValidElement(u))return x.cloneElement(u,a);var f;if(Et(u)){if(f=x.createElement(u,a),x.isValidElement(f))return f}else f=EMe(a);var g=IMe(i),p=Ht(a,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NMe(a,f,p);var m=g?kMe(a):TMe(a);return V.createElement(Mv,lp({className:Gt("recharts-label",d)},p,m,{breakAll:h}),f)}Jn.displayName="Label";var zz=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,A=e.outerRadius,d=e.x,h=e.y,f=e.top,g=e.left,p=e.width,m=e.height,y=e.clockWise,b=e.labelViewBox;if(b)return b;if(De(p)&&De(m)){if(De(d)&&De(h))return{x:d,y:h,width:p,height:m};if(De(f)&&De(g))return{x:f,y:g,width:p,height:m}}return De(d)&&De(h)?{x:d,y:h,width:0,height:0}:De(r)&&De(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:A||c||l||0,clockWise:y}:e.viewBox?e.viewBox:{}},PMe=function(e,r){return e?e===!0?V.createElement(Jn,{key:"label-implicit",viewBox:r}):An(e)?V.createElement(Jn,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===Jn?x.cloneElement(e,{key:"label-implicit",viewBox:r}):V.createElement(Jn,{key:"label-implicit",content:e,viewBox:r}):Et(e)?V.createElement(Jn,{key:"label-implicit",content:e,viewBox:r}):yh(e)?V.createElement(Jn,lp({viewBox:r},e,{key:"label-implicit"})):null:null},FMe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=zz(e),o=xs(a,Jn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=PMe(e.label,r||i);return[l].concat(gMe(o))};Jn.parseViewBox=zz;Jn.renderCallByParent=FMe;function DMe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var OMe=DMe;const RMe=or(OMe);function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}var UMe=["valueAccessor"],MMe=["data","dataKey","clockWise","id","textBreakAll"];function QMe(t){return VMe(t)||HMe(t)||$Me(t)||LMe()}function LMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(t,e){if(t){if(typeof t=="string")return wE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wE(t,e)}}function HMe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function VMe(t){if(Array.isArray(t))return wE(t)}function wE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ty(){return ty=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ty.apply(this,arguments)}function zR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zR(Object(r),!0).forEach(function(n){KMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KMe(t,e,r){return e=zMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zMe(t){var e=GMe(t,"string");return cp(e)=="symbol"?e:e+""}function GMe(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WR(t,e){if(t==null)return{};var r=WMe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qMe=function(e){return Array.isArray(e.value)?RMe(e.value):e.value};function Ol(t){var e=t.valueAccessor,r=e===void 0?qMe:e,n=WR(t,UMe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=WR(n,MMe);return!a||!a.length?null:V.createElement(Wr,{className:"recharts-label-list"},a.map(function(A,d){var h=Dt(i)?r(A,d):es(A&&A.payload,i),f=Dt(l)?{}:{id:"".concat(l,"-").concat(d)};return V.createElement(Jn,ty({},Ht(A,!0),u,f,{parentViewBox:A.parentViewBox,value:h,textBreakAll:c,viewBox:Jn.parseViewBox(Dt(o)?A:GR(GR({},A),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Ol.displayName="LabelList";function XMe(t,e){return t?t===!0?V.createElement(Ol,{key:"labelList-implicit",data:e}):V.isValidElement(t)||Et(t)?V.createElement(Ol,{key:"labelList-implicit",data:e,content:t}):yh(t)?V.createElement(Ol,ty({data:e},t,{key:"labelList-implicit"})):null:null}function YMe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=xs(n,Ol).map(function(o,l){return x.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=XMe(t.label,e);return[i].concat(QMe(a))}Ol.renderCallByParent=YMe;function up(t){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},up(t)}function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function qR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function XR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(r),!0).forEach(function(n){JMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e,r){return e=ZMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZMe(t){var e=eQe(t,"string");return up(e)=="symbol"?e:e+""}function eQe(t,e){if(up(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tQe=function(e,r){var n=Xs(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},R0=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,A=c*(l?1:-1)+a,d=Math.asin(c/A)/ey,h=u?i:i+o*d,f=Qn(r,n,A,h),g=Qn(r,n,a,h),p=u?i-o*d:i,m=Qn(r,n,A*Math.cos(d*ey),p);return{center:f,circleTangency:g,lineTangency:m,theta:d}},Gz=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=tQe(o,l),u=o+c,A=Qn(r,n,i,o),d=Qn(r,n,i,u),h="M ".concat(A.x,",").concat(A.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(a>0){var f=Qn(r,n,a,o),g=Qn(r,n,a,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(f.x,",").concat(f.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rQe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,A=e.endAngle,d=Xs(A-u),h=R0({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),f=h.circleTangency,g=h.lineTangency,p=h.theta,m=R0({cx:r,cy:n,radius:i,angle:A,sign:-d,cornerRadius:o,cornerIsExternal:c}),y=m.circleTangency,b=m.lineTangency,v=m.theta,B=c?Math.abs(u-A):Math.abs(u-A)-p-v;if(B<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Gz({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:A});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var j=R0({cx:r,cy:n,radius:a,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=j.circleTangency,E=j.lineTangency,N=j.theta,S=R0({cx:r,cy:n,radius:a,angle:A,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),k=S.circleTangency,I=S.lineTangency,T=S.theta,U=c?Math.abs(u-A):Math.abs(u-A)-N-T;if(U<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(U>180),",").concat(+(d>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},nQe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Wz=function(e){var r=XR(XR({},nQe),e),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,A=r.startAngle,d=r.endAngle,h=r.className;if(o<i||A===d)return null;var f=Gt("recharts-sector",h),g=o-i,p=Su(l,g,0,!0),m;return p>0&&Math.abs(A-d)<360?m=rQe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:A,endAngle:d}):m=Gz({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:A,endAngle:d}),V.createElement("path",BE({},Ht(r,!0),{className:f,d:m,role:"img"}))};function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CE.apply(this,arguments)}function YR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(r),!0).forEach(function(n){aQe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aQe(t,e,r){return e=sQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sQe(t){var e=iQe(t,"string");return Ap(e)=="symbol"?e:e+""}function iQe(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZR={curveBasisClosed:nSe,curveBasisOpen:aSe,curveBasis:rSe,curveBumpX:$Ee,curveBumpY:HEe,curveLinearClosed:sSe,curveLinear:uw,curveMonotoneX:iSe,curveMonotoneY:oSe,curveNatural:lSe,curveStep:cSe,curveStepAfter:ASe,curveStepBefore:uSe},U0=function(e){return e.x===+e.x&&e.y===+e.y},pf=function(e){return e.x},gf=function(e){return e.y},oQe=function(e,r){if(Et(e))return e;var n="curve".concat(lw(e));return(n==="curveMonotone"||n==="curveBump")&&r?ZR["".concat(n).concat(r==="vertical"?"Y":"X")]:ZR[n]||uw},lQe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,A=oQe(n,l),d=u?i.filter(function(p){return U0(p)}):i,h;if(Array.isArray(o)){var f=u?o.filter(function(p){return U0(p)}):o,g=d.map(function(p,m){return JR(JR({},p),{},{base:f[m]})});return l==="vertical"?h=S0().y(gf).x1(pf).x0(function(p){return p.base.x}):h=S0().x(pf).y1(gf).y0(function(p){return p.base.y}),h.defined(U0).curve(A),h(g)}return l==="vertical"&&De(o)?h=S0().y(gf).x1(pf).x0(o):De(o)?h=S0().x(pf).y1(gf).y0(o):h=W7().x(pf).y(gf),h.defined(U0).curve(A),h(d)},_E=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?lQe(e):a;return V.createElement("path",CE({},Ht(e,!1),Cv(e),{className:Gt("recharts-curve",r),d:o,ref:i}))},cQe=Object.getOwnPropertyNames,uQe=Object.getOwnPropertySymbols,AQe=Object.prototype.hasOwnProperty;function eU(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function M0(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function tU(t){return cQe(t).concat(uQe(t))}var dQe=Object.hasOwn||function(t,e){return AQe.call(t,e)};function Uu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var hQe="__v",fQe="__o",mQe="_owner",rU=Object.getOwnPropertyDescriptor,nU=Object.keys;function pQe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function gQe(t,e){return Uu(t.getTime(),e.getTime())}function xQe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function vQe(t,e){return t===e}function aU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=e.entries(),A=!1,d=0;(l=u.next())&&!l.done;){if(a[d]){d++;continue}var h=o.value,f=l.value;if(r.equals(h[0],f[0],c,d,t,e,r)&&r.equals(h[1],f[1],h[0],f[0],t,e,r)){A=a[d]=!0;break}d++}if(!A)return!1;c++}return!0}var yQe=Uu;function bQe(t,e,r){var n=nU(t),a=n.length;if(nU(e).length!==a)return!1;for(;a-- >0;)if(!qz(t,e,r,n[a]))return!1;return!0}function xf(t,e,r){var n=tU(t),a=n.length;if(tU(e).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!qz(t,e,r,i)||(o=rU(t,i),l=rU(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function wQe(t,e){return Uu(t.valueOf(),e.valueOf())}function BQe(t,e){return t.source===e.source&&t.flags===e.flags}function sU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),u=!1,A=0;(l=c.next())&&!l.done;){if(!a[A]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[A]=!0;break}A++}if(!u)return!1}return!0}function CQe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function _Qe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function qz(t,e,r,n){return(n===mQe||n===fQe||n===hQe)&&(t.$$typeof||e.$$typeof)?!0:dQe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var jQe="[object Arguments]",EQe="[object Boolean]",SQe="[object Date]",NQe="[object Error]",kQe="[object Map]",TQe="[object Number]",IQe="[object Object]",PQe="[object RegExp]",FQe="[object Set]",DQe="[object String]",OQe="[object URL]",RQe=Array.isArray,iU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,oU=Object.assign,UQe=Object.prototype.toString.call.bind(Object.prototype.toString);function MQe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,A=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(g,p,m){if(g===p)return!0;if(g==null||p==null)return!1;var y=typeof g;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?o(g,p,m):y==="function"?a(g,p,m):!1;var b=g.constructor;if(b!==p.constructor)return!1;if(b===Object)return l(g,p,m);if(RQe(g))return e(g,p,m);if(iU!=null&&iU(g))return d(g,p,m);if(b===Date)return r(g,p,m);if(b===RegExp)return u(g,p,m);if(b===Map)return i(g,p,m);if(b===Set)return A(g,p,m);var v=UQe(g);return v===SQe?r(g,p,m):v===PQe?u(g,p,m):v===kQe?i(g,p,m):v===FQe?A(g,p,m):v===IQe?typeof g.then!="function"&&typeof p.then!="function"&&l(g,p,m):v===OQe?h(g,p,m):v===NQe?n(g,p,m):v===jQe?l(g,p,m):v===EQe||v===TQe||v===DQe?c(g,p,m):!1}}function QQe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?xf:pQe,areDatesEqual:gQe,areErrorsEqual:xQe,areFunctionsEqual:vQe,areMapsEqual:n?eU(aU,xf):aU,areNumbersEqual:yQe,areObjectsEqual:n?xf:bQe,arePrimitiveWrappersEqual:wQe,areRegExpsEqual:BQe,areSetsEqual:n?eU(sU,xf):sU,areTypedArraysEqual:n?xf:CQe,areUrlsEqual:_Qe};if(r&&(a=oU({},a,r(a))),e){var i=M0(a.areArraysEqual),o=M0(a.areMapsEqual),l=M0(a.areObjectsEqual),c=M0(a.areSetsEqual);a=oU({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function LQe(t){return function(e,r,n,a,i,o,l){return t(e,r,l)}}function $Qe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var A=n(),d=A.cache,h=d===void 0?e?new WeakMap:void 0:d,f=A.meta;return r(c,u,{cache:h,equals:a,meta:f,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var HQe=cc();cc({strict:!0});cc({circular:!0});cc({circular:!0,strict:!0});cc({createInternalComparator:function(){return Uu}});cc({strict:!0,createInternalComparator:function(){return Uu}});cc({circular:!0,createInternalComparator:function(){return Uu}});cc({circular:!0,createInternalComparator:function(){return Uu},strict:!0});function cc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,o=i===void 0?!1:i,l=QQe(t),c=MQe(l),u=n?n(c):LQe(c);return $Qe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function VQe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function lU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):VQe(a)};requestAnimationFrame(n)}function jE(t){"@babel/helpers - typeof";return jE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jE(t)}function KQe(t){return qQe(t)||WQe(t)||GQe(t)||zQe()}function zQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GQe(t,e){if(t){if(typeof t=="string")return cU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cU(t,e)}}function cU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WQe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qQe(t){if(Array.isArray(t))return t}function XQe(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=KQe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){lU(a.bind(null,u),c);return}a(c),lU(a.bind(null,u));return}jE(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function uU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uU(Object(r),!0).forEach(function(n){Xz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xz(t,e,r){return e=YQe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YQe(t){var e=JQe(t,"string");return dp(e)==="symbol"?e:String(e)}function JQe(t,e){if(dp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZQe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},e3e=function(e){return e},t3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},im=function(e,r){return Object.keys(r).reduce(function(n,a){return AU(AU({},n),{},Xz({},a,e(a,r[a])))},{})},dU=function(e,r,n){return e.map(function(a){return"".concat(t3e(a)," ").concat(r,"ms ").concat(n)}).join(",")};function r3e(t,e){return s3e(t)||a3e(t,e)||Yz(t,e)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function s3e(t){if(Array.isArray(t))return t}function i3e(t){return c3e(t)||l3e(t)||Yz(t)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yz(t,e){if(t){if(typeof t=="string")return EE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(t,e)}}function l3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c3e(t){if(Array.isArray(t))return EE(t)}function EE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ry=1e-4,Jz=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Zz=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},hU=function(e,r){return function(n){var a=Jz(e,r);return Zz(a,n)}},u3e=function(e,r){return function(n){var a=Jz(e,r),i=[].concat(i3e(a.map(function(o,l){return o*l}).slice(1)),[0]);return Zz(i,n)}},fU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),A=r3e(u,4);a=A[0],i=A[1],o=A[2],l=A[3]}}}var d=hU(a,o),h=hU(i,l),f=u3e(a,o),g=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,v=b,B=0;B<8;++B){var _=d(v)-b,j=f(v);if(Math.abs(_-b)<ry||j<ry)return h(v);v=g(v-_/j)}return h(v)};return p.isStepper=!1,p},A3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(A,d,h){var f=-(A-d)*n,g=h*i,p=h+(f-g)*l/1e3,m=h*l/1e3+A;return Math.abs(m-d)<ry&&Math.abs(p)<ry?[d,0]:[m,p]};return c.isStepper=!0,c.dt=l,c},d3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fU(a);case"spring":return A3e();default:if(a.split("(")[0]==="cubic-bezier")return fU(a)}return typeof a=="function"?a:null};function hp(t){"@babel/helpers - typeof";return hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hp(t)}function mU(t){return m3e(t)||f3e(t)||eG(t)||h3e()}function h3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m3e(t){if(Array.isArray(t))return NE(t)}function pU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(r),!0).forEach(function(n){SE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SE(t,e,r){return e=p3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p3e(t){var e=g3e(t,"string");return hp(e)==="symbol"?e:String(e)}function g3e(t,e){if(hp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3e(t,e){return b3e(t)||y3e(t,e)||eG(t,e)||v3e()}function v3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){if(t){if(typeof t=="string")return NE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NE(t,e)}}function NE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function b3e(t){if(Array.isArray(t))return t}var ny=function(e,r,n){return e+(r-e)*n},kE=function(e){var r=e.from,n=e.to;return r!==n},w3e=function t(e,r,n){var a=im(function(i,o){if(kE(o)){var l=e(o.from,o.to,o.velocity),c=x3e(l,2),u=c[0],A=c[1];return kn(kn({},o),{},{from:u,velocity:A})}return o},r);return n<1?im(function(i,o){return kE(o)?kn(kn({},o),{},{velocity:ny(o.velocity,a[i].velocity,n),from:ny(o.from,a[i].from,n)}):o},r):t(e,a,n-1)};const B3e=function(t,e,r,n,a){var i=ZQe(t,e),o=i.reduce(function(m,y){return kn(kn({},m),{},SE({},y,[t[y],e[y]]))},{}),l=i.reduce(function(m,y){return kn(kn({},m),{},SE({},y,{from:t[y],velocity:0,to:e[y]}))},{}),c=-1,u,A,d=function(){return null},h=function(){return im(function(y,b){return b.from},l)},f=function(){return!Object.values(l).filter(kE).length},g=function(y){u||(u=y);var b=y-u,v=b/r.dt;l=w3e(r,l,v),a(kn(kn(kn({},t),e),h())),u=y,f()||(c=requestAnimationFrame(d))},p=function(y){A||(A=y);var b=(y-A)/n,v=im(function(_,j){return ny.apply(void 0,mU(j).concat([r(b)]))},o);if(a(kn(kn(kn({},t),e),v)),b<1)c=requestAnimationFrame(d);else{var B=im(function(_,j){return ny.apply(void 0,mU(j).concat([r(1)]))},o);a(kn(kn(kn({},t),e),B))}};return d=r.isStepper?g:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function Qd(t){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qd(t)}var C3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _3e(t,e){if(t==null)return{};var r=j3e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function FB(t){return k3e(t)||N3e(t)||S3e(t)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(t,e){if(t){if(typeof t=="string")return TE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(t,e)}}function N3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k3e(t){if(Array.isArray(t))return TE(t)}function TE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(r),!0).forEach(function(n){Of(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Of(t,e,r){return e=tG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tG(n.key),n)}}function P3e(t,e,r){return e&&I3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tG(t){var e=F3e(t,"string");return Qd(e)==="symbol"?e:String(e)}function F3e(t,e){if(Qd(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IE(t,e)}function IE(t,e){return IE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IE(t,e)}function O3e(t){var e=R3e();return function(){var n=ay(t),a;if(e){var i=ay(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return PE(this,a)}}function PE(t,e){if(e&&(Qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FE(t)}function FE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ay(t){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ay(t)}var jo=function(t){D3e(r,t);var e=O3e(r);function r(n,a){var i;T3e(this,r),i=e.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,A=o.to,d=o.steps,h=o.children,f=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(FE(i)),i.changeStyle=i.changeStyle.bind(FE(i)),!l||f<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:A}),PE(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},PE(i);i.state={style:c?Of({},c,u):u}}else i.state={style:{}};return i}return P3e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,A=i.to,d=i.from,h=this.state.style;if(l){if(!o){var f={style:c?Of({},c,A):A};this.state&&h&&(c&&h[c]!==A||!c&&h!==A)&&this.setState(f);return}if(!(HQe(a.to,A)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?d:a.to;if(this.state&&h){var m={style:c?Of({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(m)}this.runAnimation(Ts(Ts({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,A=a.begin,d=a.onAnimationEnd,h=a.onAnimationStart,f=B3e(o,l,d3e(u),c,this.changeStyle),g=function(){i.stopJSAnimation=f()};this.manager.start([h,A,g,c,d])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],A=u.style,d=u.duration,h=d===void 0?0:d,f=function(p,m,y){if(y===0)return p;var b=m.duration,v=m.easing,B=v===void 0?"ease":v,_=m.style,j=m.properties,C=m.onAnimationEnd,E=y>0?o[y-1]:m,N=j||Object.keys(_);if(typeof B=="function"||B==="spring")return[].concat(FB(p),[i.runJSAnimation.bind(i,{from:E.style,to:_,duration:b,easing:B}),b]);var S=dU(N,b,B),k=Ts(Ts(Ts({},E.style),_),{},{transition:S});return[].concat(FB(p),[k,b,C]).filter(e3e)};return this.manager.start([c].concat(FB(o.reduce(f,[A,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=XQe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,A=a.onAnimationStart,d=a.onAnimationEnd,h=a.steps,f=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof f=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=l?Of({},l,c):c,m=dU(Object.keys(p),o,u);g.start([A,i,Ts(Ts({},p),{},{transition:m}),o,d])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=_3e(a,C3e),u=x.Children.count(i),A=this.state.style;if(typeof i=="function")return i(A);if(!l||u===0||o<=0)return i;var d=function(f){var g=f.props,p=g.style,m=p===void 0?{}:p,y=g.className,b=x.cloneElement(f,Ts(Ts({},c),{},{style:Ts(Ts({},m),A),className:y}));return b};return u===1?d(x.Children.only(i)):V.createElement("div",null,x.Children.map(i,function(h){return d(h)}))}}]),r}(x.PureComponent);jo.displayName="Animate";jo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jo.propTypes={from:it.oneOfType([it.object,it.string]),to:it.oneOfType([it.object,it.string]),attributeName:it.string,duration:it.number,begin:it.number,easing:it.oneOfType([it.string,it.func]),steps:it.arrayOf(it.shape({duration:it.number.isRequired,style:it.object.isRequired,easing:it.oneOfType([it.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),it.func]),properties:it.arrayOf("string"),onAnimationEnd:it.func})),children:it.oneOfType([it.node,it.func]),isActive:it.bool,canBegin:it.bool,onAnimationEnd:it.func,shouldReAnimate:it.bool,onAnimationStart:it.func,onAnimationReStart:it.func};function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}function sy(){return sy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sy.apply(this,arguments)}function U3e(t,e){return $3e(t)||L3e(t,e)||Q3e(t,e)||M3e()}function M3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q3e(t,e){if(t){if(typeof t=="string")return xU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xU(t,e)}}function xU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $3e(t){if(Array.isArray(t))return t}function vU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vU(Object(r),!0).forEach(function(n){H3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H3e(t,e,r){return e=V3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V3e(t){var e=K3e(t,"string");return fp(e)=="symbol"?e:e+""}function K3e(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bU=function(e,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,A;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,f=4;h<f;h++)d[h]=i[h]>o?o:i[h];A="M".concat(e,",").concat(r+l*d[0]),d[0]>0&&(A+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(e+c*d[0],",").concat(r)),A+="L ".concat(e+n-c*d[1],",").concat(r),d[1]>0&&(A+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*d[1])),A+="L ".concat(e+n,",").concat(r+a-l*d[2]),d[2]>0&&(A+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(e+n-c*d[2],",").concat(r+a)),A+="L ".concat(e+c*d[3],",").concat(r+a),d[3]>0&&(A+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*d[3])),A+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);A="M ".concat(e,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+c*g,",").concat(r,`
            L `).concat(e+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*g,`
            L `).concat(e+n,",").concat(r+a-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-c*g,",").concat(r+a,`
            L `).concat(e+c*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*g," Z")}else A="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return A},z3e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),A=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=A&&a>=d&&a<=h}return!1},G3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xk=function(e){var r=yU(yU({},G3e),e),n=x.useRef(),a=x.useState(-1),i=U3e(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&l(B)}catch{}},[]);var c=r.x,u=r.y,A=r.width,d=r.height,h=r.radius,f=r.className,g=r.animationEasing,p=r.animationDuration,m=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||A===0||d===0)return null;var v=Gt("recharts-rectangle",f);return b?V.createElement(jo,{canBegin:o>0,from:{width:A,height:d,x:c,y:u},to:{width:A,height:d,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(B){var _=B.width,j=B.height,C=B.x,E=B.y;return V.createElement(jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:y,easing:g},V.createElement("path",sy({},Ht(r,!0),{className:v,d:bU(C,E,_,j,h),ref:n})))}):V.createElement("path",sy({},Ht(r,!0),{className:v,d:bU(c,u,A,d,h)}))};function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DE.apply(this,arguments)}var vk=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,o=Gt("recharts-dot",i);return r===+r&&n===+n&&a===+a?V.createElement("circle",DE({},Ht(e,!1),Cv(e),{className:o,cx:r,cy:n,r:a})):null};function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}var W3e=["x","y","top","left","width","height","className"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OE.apply(this,arguments)}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function q3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){X3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X3e(t,e,r){return e=Y3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y3e(t){var e=J3e(t,"string");return mp(e)=="symbol"?e:e+""}function J3e(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z3e(t,e){if(t==null)return{};var r=e6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var t6e=function(e,r,n,a,i,o){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},r6e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,A=e.width,d=A===void 0?0:A,h=e.height,f=h===void 0?0:h,g=e.className,p=Z3e(e,W3e),m=q3e({x:n,y:i,top:l,left:u,width:d,height:f},p);return!De(n)||!De(i)||!De(d)||!De(f)||!De(l)||!De(u)?null:V.createElement("path",OE({},Ht(m,!0),{className:Gt("recharts-cross",g),d:t6e(n,i,d,f,l,u)}))},n6e=xK,a6e=n6e(Object.getPrototypeOf,Object),s6e=a6e,i6e=ko,o6e=s6e,l6e=To,c6e="[object Object]",u6e=Function.prototype,A6e=Object.prototype,rG=u6e.toString,d6e=A6e.hasOwnProperty,h6e=rG.call(Object);function f6e(t){if(!l6e(t)||i6e(t)!=c6e)return!1;var e=o6e(t);if(e===null)return!0;var r=d6e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&rG.call(r)==h6e}var m6e=f6e;const p6e=or(m6e);var g6e=ko,x6e=To,v6e="[object Boolean]";function y6e(t){return t===!0||t===!1||x6e(t)&&g6e(t)==v6e}var b6e=y6e;const w6e=or(b6e);function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iy.apply(this,arguments)}function B6e(t,e){return E6e(t)||j6e(t,e)||_6e(t,e)||C6e()}function C6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _6e(t,e){if(t){if(typeof t=="string")return BU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BU(t,e)}}function BU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function j6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function E6e(t){if(Array.isArray(t))return t}function CU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _U(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CU(Object(r),!0).forEach(function(n){S6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S6e(t,e,r){return e=N6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N6e(t){var e=k6e(t,"string");return pp(e)=="symbol"?e:e+""}function k6e(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jU=function(e,r,n,a,i){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},T6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},I6e=function(e){var r=_U(_U({},T6e),e),n=x.useRef(),a=x.useState(-1),i=B6e(a,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&l(v)}catch{}},[]);var c=r.x,u=r.y,A=r.upperWidth,d=r.lowerWidth,h=r.height,f=r.className,g=r.animationEasing,p=r.animationDuration,m=r.animationBegin,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||A!==+A||d!==+d||h!==+h||A===0&&d===0||h===0)return null;var b=Gt("recharts-trapezoid",f);return y?V.createElement(jo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:A,lowerWidth:d,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(v){var B=v.upperWidth,_=v.lowerWidth,j=v.height,C=v.x,E=v.y;return V.createElement(jo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:g},V.createElement("path",iy({},Ht(r,!0),{className:b,d:jU(C,E,B,_,j),ref:n})))}):V.createElement("g",null,V.createElement("path",iy({},Ht(r,!0),{className:b,d:jU(c,u,A,d,h)})))},P6e=["option","shapeType","propTransformer","activeClassName","isActive"];function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gp(t)}function F6e(t,e){if(t==null)return{};var r=D6e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){O6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O6e(t,e,r){return e=R6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R6e(t){var e=U6e(t,"string");return gp(e)=="symbol"?e:e+""}function U6e(t,e){if(gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M6e(t,e){return oy(oy({},e),t)}function Q6e(t,e){return t==="symbols"}function SU(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return V.createElement(xk,r);case"trapezoid":return V.createElement(I6e,r);case"sector":return V.createElement(Wz,r);case"symbols":if(Q6e(e))return V.createElement(RN,r);break;default:return null}}function L6e(t){return x.isValidElement(t)?t.props:t}function $6e(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?M6e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=F6e(t,P6e),u;if(x.isValidElement(e))u=x.cloneElement(e,oy(oy({},c),L6e(e)));else if(Et(e))u=e(c);else if(p6e(e)&&!w6e(e)){var A=a(e,c);u=V.createElement(SU,{shapeType:r,elementProps:A})}else{var d=c;u=V.createElement(SU,{shapeType:r,elementProps:d})}return l?V.createElement(Wr,{className:o},u):u}function jw(t,e){return e!=null&&"trapezoids"in t.props}function Ew(t,e){return e!=null&&"sectors"in t.props}function xp(t,e){return e!=null&&"points"in t.props}function H6e(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function V6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function K6e(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function z6e(t,e){var r;return jw(t,e)?r=H6e:Ew(t,e)?r=V6e:xp(t,e)&&(r=K6e),r}function G6e(t,e){var r;return jw(t,e)?r="trapezoids":Ew(t,e)?r="sectors":xp(t,e)&&(r="points"),r}function W6e(t,e){if(jw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ew(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return xp(t,e)?e.payload:{}}function q6e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=G6e(r,e),i=W6e(r,e),o=n.filter(function(c,u){var A=Bw(i,c),d=r.props[a].filter(function(g){var p=z6e(r,e);return p(g,e)}),h=r.props[a].indexOf(d[d.length-1]),f=u===h;return A&&f}),l=n.indexOf(o[o.length-1]);return l}var X6e=Math.ceil,Y6e=Math.max;function J6e(t,e,r,n){for(var a=-1,i=Y6e(X6e((e-t)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=r;return o}var Z6e=J6e,e8e=RK,NU=1/0,t8e=17976931348623157e292;function r8e(t){if(!t)return t===0?t:0;if(t=e8e(t),t===NU||t===-NU){var e=t<0?-1:1;return e*t8e}return t===t?t:0}var nG=r8e,n8e=Z6e,a8e=fw,DB=nG;function s8e(t){return function(e,r,n){return n&&typeof n!="number"&&a8e(e,r,n)&&(r=n=void 0),e=DB(e),r===void 0?(r=e,e=0):r=DB(r),n=n===void 0?e<r?1:-1:DB(n),n8e(e,r,n,t)}}var i8e=s8e,o8e=i8e,l8e=o8e(),c8e=l8e;const ly=or(c8e);function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function kU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function TU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(r),!0).forEach(function(n){aG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aG(t,e,r){return e=u8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u8e(t){var e=A8e(t,"string");return vp(e)=="symbol"?e:e+""}function A8e(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d8e=["Webkit","Moz","O","ms"],h8e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=d8e.reduce(function(i,o){return TU(TU({},i),{},aG({},o+n,r))},{});return a[e]=r,a};function Ld(t){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ld(t)}function cy(){return cy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cy.apply(this,arguments)}function IU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IU(Object(r),!0).forEach(function(n){La(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iG(n.key),n)}}function m8e(t,e,r){return e&&PU(t.prototype,e),r&&PU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p8e(t,e,r){return e=uy(e),g8e(t,sG()?Reflect.construct(e,r||[],uy(t).constructor):e.apply(t,r))}function g8e(t,e){if(e&&(Ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x8e(t)}function x8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sG=function(){return!!t})()}function uy(t){return uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uy(t)}function v8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RE(t,e)}function La(t,e,r){return e=iG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iG(t){var e=y8e(t,"string");return Ld(e)=="symbol"?e:e+""}function y8e(t,e){if(Ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var b8e=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=am().domain(ly(0,c)).range([i,i+o-l]),A=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:A}},FU=function(e){return e.changedTouches&&!!e.changedTouches.length},$d=function(t){function e(r){var n;return f8e(this,e),n=p8e(this,e,[r]),La(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),La(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),La(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),La(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),La(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),La(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),La(n,"handleSlideDragStart",function(a){var i=FU(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return v8e(e,t),m8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,A=u.length-1,d=Math.min(a,i),h=Math.max(a,i),f=e.getIndexInRange(o,d),g=e.getIndexInRange(o,h);return{startIndex:f-f%c,endIndex:g===A?A:g-g%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=es(i[n],l,n);return Et(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,A=c.width,d=c.travellerWidth,h=c.startIndex,f=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+A-d-l,u+A-d-o):p<0&&(p=Math.max(p,u-o,u-l));var m=this.getIndex({startX:o+p,endX:l+p});(m.startIndex!==h||m.endIndex!==f)&&g&&g(m),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=FU(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],A=this.props,d=A.x,h=A.width,f=A.travellerWidth,g=A.onChange,p=A.gap,m=A.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,d+h-f-u):b<0&&(b=Math.max(b,d-u)),y[o]=u+b;var v=this.getIndex(y),B=v.startIndex,_=v.endIndex,j=function(){var E=m.length-1;return o==="startX"&&(l>c?B%p===0:_%p===0)||l<c&&_===E||o==="endX"&&(l>c?_%p===0:B%p===0)||l>c&&_===E};this.setState(La(La({},o,u+b),"brushMoveStartX",n.pageX),function(){g&&j()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,A=this.state[a],d=l.indexOf(A);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var f=l[h];a==="startX"&&f>=u||a==="endX"&&f<=c||this.setState(La({},a,f),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return V.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,A=n.padding,d=x.Children.only(u);return d?V.cloneElement(d,{x:a,y:i,width:o,height:l,margin:A,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,A=c.travellerWidth,d=c.height,h=c.traveller,f=c.ariaLabel,g=c.data,p=c.startIndex,m=c.endIndex,y=Math.max(n,this.props.x),b=OB(OB({},Ht(this.props,!1)),{},{x:y,y:u,width:A,height:d}),v=f||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[m])===null||o===void 0?void 0:o.name);return V.createElement(Wr,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,A=Math.min(n,a)+u,d=Math.max(Math.abs(a-n)-u,0);return V.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:A,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,A=this.state,d=A.startX,h=A.endX,f=5,g={pointerEvents:"none",fill:u};return V.createElement(Wr,{className:"recharts-brush-texts"},V.createElement(Mv,cy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-f,y:o+l/2},g),this.getTextOfTick(a)),V.createElement(Mv,cy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+f,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,A=n.height,d=n.alwaysShowText,h=this.state,f=h.startX,g=h.endX,p=h.isTextActive,m=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!De(l)||!De(c)||!De(u)||!De(A)||u<=0||A<=0)return null;var v=Gt("recharts-brush",i),B=V.Children.count(o)===1,_=h8e("userSelect","none");return V.createElement(Wr,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),B&&this.renderPanorama(),this.renderSlide(f,g),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(g,"endX"),(p||m||y||b||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return V.createElement(V.Fragment,null,V.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),V.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),V.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return V.isValidElement(n)?i=V.cloneElement(n,a):Et(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,A=n.startIndex,d=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return OB({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?b8e({data:i,width:o,x:l,travellerWidth:c,startIndex:A,endIndex:d}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(f){return a.scale(f)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(x.PureComponent);La($d,"displayName","Brush");La($d,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var w8e=VN;function B8e(t,e){var r;return w8e(t,function(n,a,i){return r=e(n,a,i),!r}),!!r}var C8e=B8e,_8e=uK,j8e=ic,E8e=C8e,S8e=Fa,N8e=fw;function k8e(t,e,r){var n=S8e(t)?_8e:E8e;return r&&N8e(t,e,r)&&(e=void 0),n(t,j8e(e))}var T8e=k8e;const I8e=or(T8e);var Si=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},DU=IK;function P8e(t,e,r){e=="__proto__"&&DU?DU(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var F8e=P8e,D8e=F8e,O8e=kK,R8e=ic;function U8e(t,e){var r={};return e=R8e(e),O8e(t,function(n,a,i){D8e(r,a,e(n,a,i))}),r}var M8e=U8e;const Q8e=or(M8e);function L8e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var $8e=L8e,H8e=VN;function V8e(t,e){var r=!0;return H8e(t,function(n,a,i){return r=!!e(n,a,i),r}),r}var K8e=V8e,z8e=$8e,G8e=K8e,W8e=ic,q8e=Fa,X8e=fw;function Y8e(t,e,r){var n=q8e(t)?z8e:G8e;return r&&X8e(t,e,r)&&(e=void 0),n(t,W8e(e))}var J8e=Y8e;const oG=or(J8e);var Z8e=["x","y"];function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UE.apply(this,arguments)}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){eLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eLe(t,e,r){return e=tLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tLe(t){var e=rLe(t,"string");return yp(e)=="symbol"?e:e+""}function rLe(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nLe(t,e){if(t==null)return{};var r=aLe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function sLe(t,e){var r=t.x,n=t.y,a=nLe(t,Z8e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),A=parseInt(u,10),d="".concat(e.width||a.width),h=parseInt(d,10);return vf(vf(vf(vf(vf({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:A,width:h,name:e.name,radius:e.radius})}function RU(t){return V.createElement($6e,UE({shapeType:"rectangle",propTransformer:sLe,activeClassName:"recharts-active-bar"},t))}var iLe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||ku(),r)}},oLe=["value","background"],lG;function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function lLe(t,e){if(t==null)return{};var r=cLe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cLe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ay(){return Ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ay.apply(this,arguments)}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){wl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uG(n.key),n)}}function ALe(t,e,r){return e&&MU(t.prototype,e),r&&MU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dLe(t,e,r){return e=dy(e),hLe(t,cG()?Reflect.construct(e,r||[],dy(t).constructor):e.apply(t,r))}function hLe(t,e){if(e&&(Hd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fLe(t)}function fLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cG=function(){return!!t})()}function dy(t){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(t)}function mLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ME(t,e)}function wl(t,e,r){return e=uG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uG(t){var e=pLe(t,"string");return Hd(e)=="symbol"?e:e+""}function pLe(t,e){if(Hd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mu=function(t){function e(){var r;uLe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=dLe(this,e,[].concat(a)),wl(r,"state",{isAnimationFinished:!1}),wl(r,"id",lg("recharts-bar-")),wl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),wl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return mLe(e,t),ALe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,A=Ht(this.props,!1);return n&&n.map(function(d,h){var f=h===c,g=f?u:o,p=Zr(Zr(Zr({},A),d),{},{isActive:f,option:g,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return V.createElement(Wr,Ay({className:"recharts-bar-rectangle"},_v(a.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),V.createElement(RU,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,A=a.animationEasing,d=a.animationId,h=this.state.prevData;return V.createElement(jo,{begin:c,duration:u,isActive:l,easing:A,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var g=f.t,p=i.map(function(m,y){var b=h&&h[y];if(b){var v=Hs(b.x,m.x),B=Hs(b.y,m.y),_=Hs(b.width,m.width),j=Hs(b.height,m.height);return Zr(Zr({},m),{},{x:v(g),y:B(g),width:_(g),height:j(g)})}if(o==="horizontal"){var C=Hs(0,m.height),E=C(g);return Zr(Zr({},m),{},{y:m.y+m.height-E,height:E})}var N=Hs(0,m.width),S=N(g);return Zr(Zr({},m),{},{width:S})});return V.createElement(Wr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Bw(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Ht(this.props.background,!1);return i.map(function(u,A){u.value;var d=u.background,h=lLe(u,oLe);if(!d)return null;var f=Zr(Zr(Zr(Zr(Zr({},h),{},{fill:"#eee"},d),c),_v(n.props,u,A)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:A,className:"recharts-bar-background-rectangle"});return V.createElement(RU,Ay({key:"background-bar-".concat(A),option:n.props.background,isActive:A===l},f))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,A=i.children,d=xs(A,fg);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,f=function(m,y){var b=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:b,errorVal:es(m,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return V.createElement(Wr,g,d.map(function(p){return V.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:f})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,A=n.top,d=n.width,h=n.height,f=n.isAnimationActive,g=n.background,p=n.id;if(a||!i||!i.length)return null;var m=this.state.isAnimationFinished,y=Gt("recharts-bar",o),b=l&&l.allowDataOverflow,v=c&&c.allowDataOverflow,B=b||v,_=Dt(p)?this.id:p;return V.createElement(Wr,{className:y},b||v?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(_)},V.createElement("rect",{x:b?u:u-d/2,y:v?A:A-h/2,width:b?d:d*2,height:v?h:h*2}))):null,V.createElement(Wr,{className:"recharts-bar-rectangles",clipPath:B?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(B,_),(!f||m)&&Ol.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(x.PureComponent);lG=Mu;wl(Mu,"displayName","Bar");wl(Mu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Eh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});wl(Mu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,A=t.dataStartIndex,d=t.displayedData,h=t.offset,f=Y5e(n,r);if(!f)return null;var g=e.layout,p=r.type.defaultProps,m=p!==void 0?Zr(Zr({},p),r.props):r.props,y=m.dataKey,b=m.children,v=m.minPointSize,B=g==="horizontal"?o:i,_=u?B.scale.domain():null,j=sMe({numericAxis:B}),C=xs(b,MK),E=d.map(function(N,S){var k,I,T,U,M,L;u?k=J5e(u[A+S],_):(k=es(N,y),Array.isArray(k)||(k=[j,k]));var O=iLe(v,lG.defaultProps.minPointSize)(k[1],S);if(g==="horizontal"){var D,R=[o.scale(k[0]),o.scale(k[1])],Q=R[0],K=R[1];I=UR({axis:i,ticks:l,bandSize:a,offset:f.offset,entry:N,index:S}),T=(D=K??Q)!==null&&D!==void 0?D:void 0,U=f.size;var $=Q-K;if(M=Number.isNaN($)?0:$,L={x:I,y:o.y,width:U,height:o.height},Math.abs(O)>0&&Math.abs(M)<Math.abs(O)){var q=Xs(M||O)*(Math.abs(O)-Math.abs(M));T-=q,M+=q}}else{var z=[i.scale(k[0]),i.scale(k[1])],W=z[0],ne=z[1];if(I=W,T=UR({axis:o,ticks:c,bandSize:a,offset:f.offset,entry:N,index:S}),U=ne-W,M=f.size,L={x:i.x,y:T,width:i.width,height:M},Math.abs(O)>0&&Math.abs(U)<Math.abs(O)){var oe=Xs(U||O)*(Math.abs(O)-Math.abs(U));U+=oe}}return Zr(Zr(Zr({},N),{},{x:I,y:T,width:U,height:M,value:u?k:k[1],payload:N,background:L},C&&C[S]&&C[S].props),{},{tooltipPayload:[Kz(r,N)],tooltipPosition:{x:I+U/2,y:T+M/2}})});return Zr({data:E,layout:g},h)});function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function gLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AG(n.key),n)}}function xLe(t,e,r){return e&&QU(t.prototype,e),r&&QU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function LU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LU(Object(r),!0).forEach(function(n){Sw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sw(t,e,r){return e=AG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AG(t){var e=vLe(t,"string");return bp(e)=="symbol"?e:e+""}function vLe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dG=function(e,r,n,a,i){var o=e.width,l=e.height,c=e.layout,u=e.children,A=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!$a(u,Mu);return A.reduce(function(f,g){var p=r[g],m=p.orientation,y=p.domain,b=p.padding,v=b===void 0?{}:b,B=p.mirror,_=p.reversed,j="".concat(m).concat(B?"Mirror":""),C,E,N,S,k;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=y[1]-y[0],T=1/0,U=p.categoricalDomain.sort(kje);if(U.forEach(function(z,W){W>0&&(T=Math.min((z||0)-(U[W-1]||0),T))}),Number.isFinite(T)){var M=T/I,L=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(C=M*L/2),p.padding==="no-gap"){var O=Su(e.barCategoryGap,M*L),D=M*L/2;C=D-O-(D-O)/L*O}}}a==="xAxis"?E=[n.left+(v.left||0)+(C||0),n.left+n.width-(v.right||0)-(C||0)]:a==="yAxis"?E=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(C||0),n.top+n.height-(v.bottom||0)-(C||0)]:E=p.range,_&&(E=[E[1],E[0]]);var R=q5e(p,i,h),Q=R.scale,K=R.realScaleType;Q.domain(y).range(E),X5e(Q);var $=aMe(Q,Qs(Qs({},p),{},{realScaleType:K}));a==="xAxis"?(k=m==="top"&&!B||m==="bottom"&&B,N=n.left,S=d[j]-k*p.height):a==="yAxis"&&(k=m==="left"&&!B||m==="right"&&B,N=d[j]-k*p.width,S=n.top);var q=Qs(Qs(Qs({},p),$),{},{realScaleType:K,x:N,y:S,scale:Q,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return q.bandSize=Zv(q,$),!p.hide&&a==="xAxis"?d[j]+=(k?-1:1)*q.height:p.hide||(d[j]+=(k?-1:1)*q.width),Qs(Qs({},f),{},Sw({},g,q))},{})},hG=function(e,r){var n=e.x,a=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},yLe=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return hG({x:r,y:n},{x:a,y:i})},fG=function(){function t(e){gLe(this,t),this.scale=e}return xLe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Sw(fG,"EPS",1e-4);var yk=function(e){var r=Object.keys(e).reduce(function(n,a){return Qs(Qs({},n),{},Sw({},a,fG.create(e[a])))},{});return Qs(Qs({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Q8e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return oG(a,function(i,o){return r[o].isInRange(i)})}})};function bLe(t){return(t%180+180)%180}var wLe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=bLe(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},BLe=ic,CLe=cg,_Le=dw;function jLe(t){return function(e,r,n){var a=Object(e);if(!CLe(e)){var i=BLe(r);e=_Le(e),r=function(l){return i(a[l],l,a)}}var o=t(e,r,n);return o>-1?a[i?e[o]:o]:void 0}}var ELe=jLe,SLe=nG;function NLe(t){var e=SLe(t),r=e%1;return e===e?r?e-r:e:0}var kLe=NLe,TLe=CK,ILe=ic,PLe=kLe,FLe=Math.max;function DLe(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var a=r==null?0:PLe(r);return a<0&&(a=FLe(n+a,0)),TLe(t,ILe(e),a)}var OLe=DLe,RLe=ELe,ULe=OLe,MLe=RLe(ULe),QLe=MLe;const LLe=or(QLe);var $Le=F_e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bk=x.createContext(void 0),wk=x.createContext(void 0),mG=x.createContext(void 0),pG=x.createContext({}),gG=x.createContext(void 0),xG=x.createContext(0),vG=x.createContext(0),$U=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,A=$Le(i);return V.createElement(bk.Provider,{value:n},V.createElement(wk.Provider,{value:a},V.createElement(pG.Provider,{value:i},V.createElement(mG.Provider,{value:A},V.createElement(gG.Provider,{value:o},V.createElement(xG.Provider,{value:u},V.createElement(vG.Provider,{value:c},l)))))))},HLe=function(){return x.useContext(gG)},yG=function(e){var r=x.useContext(bk);r==null&&ku();var n=r[e];return n==null&&ku(),n},VLe=function(){var e=x.useContext(bk);return sl(e)},KLe=function(){var e=x.useContext(wk),r=LLe(e,function(n){return oG(n.domain,Number.isFinite)});return r||sl(e)},bG=function(e){var r=x.useContext(wk);r==null&&ku();var n=r[e];return n==null&&ku(),n},zLe=function(){var e=x.useContext(mG);return e},GLe=function(){return x.useContext(pG)},Bk=function(){return x.useContext(vG)},Ck=function(){return x.useContext(xG)};function Vd(t){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vd(t)}function WLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BG(n.key),n)}}function XLe(t,e,r){return e&&qLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YLe(t,e,r){return e=hy(e),JLe(t,wG()?Reflect.construct(e,r||[],hy(t).constructor):e.apply(t,r))}function JLe(t,e){if(e&&(Vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZLe(t)}function ZLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!t})()}function hy(t){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(t)}function e$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(t,e)}function HU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function VU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(r),!0).forEach(function(n){_k(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _k(t,e,r){return e=BG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BG(t){var e=t$e(t,"string");return Vd(e)=="symbol"?e:e+""}function t$e(t,e){if(Vd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function r$e(t,e){return i$e(t)||s$e(t,e)||a$e(t,e)||n$e()}function n$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a$e(t,e){if(t){if(typeof t=="string")return KU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KU(t,e)}}function KU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function i$e(t){if(Array.isArray(t))return t}function LE(){return LE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LE.apply(this,arguments)}var o$e=function(e,r){var n;return V.isValidElement(e)?n=V.cloneElement(e,r):Et(e)?n=e(r):n=V.createElement("line",LE({},r,{className:"recharts-reference-line-line"})),n},l$e=function(e,r,n,a,i,o,l,c,u){var A=i.x,d=i.y,h=i.width,f=i.height;if(n){var g=u.y,p=e.y.apply(g,{position:o});if(Si(u,"discard")&&!e.y.isInRange(p))return null;var m=[{x:A+h,y:p},{x:A,y:p}];return c==="left"?m.reverse():m}if(r){var y=u.x,b=e.x.apply(y,{position:o});if(Si(u,"discard")&&!e.x.isInRange(b))return null;var v=[{x:b,y:d+f},{x:b,y:d}];return l==="top"?v.reverse():v}if(a){var B=u.segment,_=B.map(function(j){return e.apply(j,{position:o})});return Si(u,"discard")&&I8e(_,function(j){return!e.isInRange(j)})?null:_}return null};function c$e(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=HLe(),A=yG(a),d=bG(i),h=zLe();if(!u||!h)return null;Ao(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=yk({x:A.scale,y:d.scale}),g=An(e),p=An(r),m=n&&n.length===2,y=l$e(f,g,p,m,h,t.position,A.orientation,d.orientation,t);if(!y)return null;var b=r$e(y,2),v=b[0],B=v.x,_=v.y,j=b[1],C=j.x,E=j.y,N=Si(t,"hidden")?"url(#".concat(u,")"):void 0,S=VU(VU({clipPath:N},Ht(t,!0)),{},{x1:B,y1:_,x2:C,y2:E});return V.createElement(Wr,{className:Gt("recharts-reference-line",l)},o$e(o,S),Jn.renderCallByParent(t,yLe({x1:B,y1:_,x2:C,y2:E})))}var jk=function(t){function e(){return WLe(this,e),YLe(this,e,arguments)}return e$e(e,t),XLe(e,[{key:"render",value:function(){return V.createElement(c$e,this.props)}}])}(V.Component);_k(jk,"displayName","ReferenceLine");_k(jk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function zU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(r),!0).forEach(function(n){Nw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_G(n.key),n)}}function d$e(t,e,r){return e&&A$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function h$e(t,e,r){return e=fy(e),f$e(t,CG()?Reflect.construct(e,r||[],fy(t).constructor):e.apply(t,r))}function f$e(t,e){if(e&&(Kd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m$e(t)}function m$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CG=function(){return!!t})()}function fy(t){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(t)}function p$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HE(t,e)}function HE(t,e){return HE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},HE(t,e)}function Nw(t,e,r){return e=_G(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _G(t){var e=g$e(t,"string");return Kd(e)=="symbol"?e:e+""}function g$e(t,e){if(Kd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x$e=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,o=yk({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Si(e,"discard")&&!o.isInRange(l)?null:l},kw=function(t){function e(){return u$e(this,e),h$e(this,e,arguments)}return p$e(e,t),d$e(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=An(a),A=An(i);if(Ao(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!A)return null;var d=x$e(this.props);if(!d)return null;var h=d.x,f=d.y,g=this.props,p=g.shape,m=g.className,y=Si(this.props,"hidden")?"url(#".concat(c,")"):void 0,b=GU(GU({clipPath:y},Ht(this.props,!0)),{},{cx:h,cy:f});return V.createElement(Wr,{className:Gt("recharts-reference-dot",m)},e.renderDot(p,b),Jn.renderCallByParent(this.props,{x:h-o,y:f-o,width:2*o,height:2*o}))}}])}(V.Component);Nw(kw,"displayName","ReferenceDot");Nw(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Nw(kw,"renderDot",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Et(t)?r=t(e):r=V.createElement(vk,$E({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VE.apply(this,arguments)}function zd(t){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zd(t)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){Tw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,EG(n.key),n)}}function b$e(t,e,r){return e&&y$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w$e(t,e,r){return e=my(e),B$e(t,jG()?Reflect.construct(e,r||[],my(t).constructor):e.apply(t,r))}function B$e(t,e){if(e&&(zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(t)}function C$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!t})()}function my(t){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(t)}function _$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KE(t,e)}function Tw(t,e,r){return e=EG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EG(t){var e=j$e(t,"string");return zd(e)=="symbol"?e:e+""}function j$e(t,e){if(zd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var E$e=function(e,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,A=i.xAxis,d=i.yAxis;if(!A||!d)return null;var h=yk({x:A.scale,y:d.scale}),f={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Si(i,"discard")&&(!h.isInRange(f)||!h.isInRange(g))?null:hG(f,g)},Iw=function(t){function e(){return v$e(this,e),w$e(this,e,arguments)}return _$e(e,t),b$e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,A=n.clipPathId;Ao(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=An(a),h=An(i),f=An(o),g=An(l),p=this.props.shape;if(!d&&!h&&!f&&!g&&!p)return null;var m=E$e(d,h,f,g,this.props);if(!m&&!p)return null;var y=Si(this.props,"hidden")?"url(#".concat(A,")"):void 0;return V.createElement(Wr,{className:Gt("recharts-reference-area",c)},e.renderRect(p,qU(qU({clipPath:y},Ht(this.props,!0)),m)),Jn.renderCallByParent(this.props,m))}}])}(V.Component);Tw(Iw,"displayName","ReferenceArea");Tw(Iw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Tw(Iw,"renderRect",function(t,e){var r;return V.isValidElement(t)?r=V.cloneElement(t,e):Et(t)?r=t(e):r=V.createElement(xk,VE({},e,{className:"recharts-reference-area-rect"})),r});function SG(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function S$e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return wLe(n,r)}function N$e(t,e,r){var n=r==="width",a=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function py(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function k$e(t,e){return SG(t,e+1)}function T$e(t,e,r,n,a){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,A=o,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:SG(n,u)};var p=c,m,y=function(){return m===void 0&&(m=r(g,p)),m},b=g.coordinate,v=c===0||py(t,b,y,A,l);v||(c=0,A=o,u+=1),v&&(A=b+t*(y()/2+a),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){I$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I$e(t,e,r){return e=P$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P$e(t){var e=F$e(t,"string");return wp(e)=="symbol"?e:e+""}function F$e(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D$e(t,e,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,u=function(h){var f=i[h],g,p=function(){return g===void 0&&(g=r(f,h)),g};if(h===o-1){var m=t*(f.coordinate+t*p()/2-c);i[h]=f=qn(qn({},f),{},{tickCoord:m>0?f.coordinate-m*t:f.coordinate})}else i[h]=f=qn(qn({},f),{},{tickCoord:f.coordinate});var y=py(t,f.tickCoord,p,l,c);y&&(c=f.tickCoord-t*(p()/2+a),i[h]=qn(qn({},f),{},{isShow:!0}))},A=o-1;A>=0;A--)u(A);return i}function O$e(t,e,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(i){var A=n[l-1],d=r(A,l-1),h=t*(A.coordinate+t*d/2-u);o[l-1]=A=qn(qn({},A),{},{tickCoord:h>0?A.coordinate-h*t:A.coordinate});var f=py(t,A.tickCoord,function(){return d},c,u);f&&(u=A.tickCoord-t*(d/2+a),o[l-1]=qn(qn({},A),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(b){var v=o[b],B,_=function(){return B===void 0&&(B=r(v,b)),B};if(b===0){var j=t*(v.coordinate-t*_()/2-c);o[b]=v=qn(qn({},v),{},{tickCoord:j<0?v.coordinate-j*t:v.coordinate})}else o[b]=v=qn(qn({},v),{},{tickCoord:v.coordinate});var C=py(t,v.tickCoord,_,c,u);C&&(c=v.tickCoord+t*(_()/2+a),o[b]=qn(qn({},v),{},{isShow:!0}))},m=0;m<g;m++)p(m);return o}function Ek(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,A=t.unit,d=t.angle;if(!a||!a.length||!n)return[];if(De(c)||Eh.isSsr)return k$e(a,typeof c=="number"&&De(c)?c:0);var h=[],f=l==="top"||l==="bottom"?"width":"height",g=A&&f==="width"?nm(A,{fontSize:e,letterSpacing:r}):{width:0,height:0},p=function(v,B){var _=Et(u)?u(v.value,B):v.value;return f==="width"?S$e(nm(_,{fontSize:e,letterSpacing:r}),g,d):nm(_,{fontSize:e,letterSpacing:r})[f]},m=a.length>=2?Xs(a[1].coordinate-a[0].coordinate):1,y=N$e(i,m,f);return c==="equidistantPreserveStart"?T$e(m,y,p,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=O$e(m,y,p,a,o,c==="preserveStartEnd"):h=D$e(m,y,p,a,o),h.filter(function(b){return b.isShow}))}var R$e=["viewBox"],U$e=["viewBox"],M$e=["ticks"];function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function kA(){return kA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kA.apply(this,arguments)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){Sk(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RB(t,e){if(t==null)return{};var r=Q$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function L$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kG(n.key),n)}}function $$e(t,e,r){return e&&JU(t.prototype,e),r&&JU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H$e(t,e,r){return e=gy(e),V$e(t,NG()?Reflect.construct(e,r||[],gy(t).constructor):e.apply(t,r))}function V$e(t,e){if(e&&(Gd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K$e(t)}function K$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!t})()}function gy(t){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gy(t)}function z$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zE(t,e)}function Sk(t,e,r){return e=kG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kG(t){var e=G$e(t,"string");return Gd(e)=="symbol"?e:e+""}function G$e(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Th=function(t){function e(r){var n;return L$e(this,e),n=H$e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return z$e(e,t),$$e(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=RB(n,R$e),l=this.props,c=l.viewBox,u=RB(l,U$e);return!QA(i,c)||!QA(o,u)||!QA(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,A=a.tickSize,d=a.mirror,h=a.tickMargin,f,g,p,m,y,b,v=d?-1:1,B=n.tickSize||A,_=De(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":f=g=n.coordinate,m=o+ +!d*c,p=m-v*B,b=p-v*h,y=_;break;case"left":p=m=n.coordinate,g=i+ +!d*l,f=g-v*B,y=f-v*h,b=_;break;case"right":p=m=n.coordinate,g=i+ +d*l,f=g+v*B,y=f+v*h,b=_;break;default:f=g=n.coordinate,m=o+ +d*c,p=m+v*B,b=p+v*h,y=_;break}return{line:{x1:f,y1:p,x2:g,y2:m},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,A=n.axisLine,d=oa(oa(oa({},Ht(this.props,!1)),Ht(A,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=oa(oa({},d),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var f=+(c==="left"&&!u||c==="right"&&u);d=oa(oa({},d),{},{x1:a+f*o,y1:i,x2:a+f*o,y2:i+l})}return V.createElement("line",kA({},d,{className:Gt("recharts-cartesian-axis-line",gs(A,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,A=l.tick,d=l.tickFormatter,h=l.unit,f=Ek(oa(oa({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=Ht(this.props,!1),y=Ht(A,!1),b=oa(oa({},m),{},{fill:"none"},Ht(c,!1)),v=f.map(function(B,_){var j=o.getTickLineCoord(B),C=j.line,E=j.tick,N=oa(oa(oa(oa({textAnchor:g,verticalAnchor:p},m),{},{stroke:"none",fill:u},y),E),{},{index:_,payload:B,visibleTicksCount:f.length,tickFormatter:d});return V.createElement(Wr,kA({className:"recharts-cartesian-axis-tick",key:"tick-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},_v(o.props,B,_)),c&&V.createElement("line",kA({},b,C,{className:Gt("recharts-cartesian-axis-tick-line",gs(c,"className"))})),A&&e.renderTickItem(A,N,"".concat(Et(d)?d(B.value,_):B.value).concat(h||"")))});return V.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,A=a.hide;if(A)return null;var d=this.props,h=d.ticks,f=RB(d,M$e),g=h;return Et(c)&&(g=h&&h.length>0?c(this.props):c(f)),o<=0||l<=0||!g||!g.length?null:V.createElement(Wr,{className:Gt("recharts-cartesian-axis",u),ref:function(m){n.layerReference=m}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Jn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return V.isValidElement(n)?o=V.cloneElement(n,a):Et(n)?o=n(a):o=V.createElement(Mv,kA({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);Sk(Th,"displayName","CartesianAxis");Sk(Th,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var W$e=["x1","y1","x2","y2","key"],q$e=["offset"];function Tu(t){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tu(t)}function ZU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZU(Object(r),!0).forEach(function(n){X$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X$e(t,e,r){return e=Y$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y$e(t){var e=J$e(t,"string");return Tu(e)=="symbol"?e:e+""}function J$e(t,e){if(Tu(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gc.apply(this,arguments)}function e5(t,e){if(t==null)return{};var r=Z$e(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var eHe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return V.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function TG(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(Et(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,o=e.y2,l=e.key,c=e5(e,W$e),u=Ht(c,!1);u.offset;var A=e5(u,q$e);r=V.createElement("line",Gc({},A,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function tHe(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Zn(Zn({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return TG(a,u)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function rHe(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=Zn(Zn({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return TG(a,u)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function nHe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var A=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,f){return h-f});a!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var g=!A[f+1],p=g?a+o-h:A[f+1]-h;if(p<=0)return null;var m=f%e.length;return V.createElement("rect",{key:"react-".concat(f),y:h,x:n,height:p,width:i,stroke:"none",fill:e[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function aHe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var A=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,f){return h-f});i!==A[0]&&A.unshift(0);var d=A.map(function(h,f){var g=!A[f+1],p=g?i+l-h:A[f+1]-h;if(p<=0)return null;var m=f%n.length;return V.createElement("rect",{key:"react-".concat(f),x:h,y:o,width:p,height:c,stroke:"none",fill:n[m],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var sHe=function(e,r){var n=e.xAxis,a=e.width,i=e.height,o=e.offset;return Hz(Ek(Zn(Zn(Zn({},Th.defaultProps),n),{},{ticks:ao(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},iHe=function(e,r){var n=e.yAxis,a=e.width,i=e.height,o=e.offset;return Hz(Ek(Zn(Zn(Zn({},Th.defaultProps),n),{},{ticks:ao(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},gA={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Nk(t){var e,r,n,a,i,o,l=Bk(),c=Ck(),u=GLe(),A=Zn(Zn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gA.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:gA.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:gA.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:gA.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:gA.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:gA.verticalFill,x:De(t.x)?t.x:u.left,y:De(t.y)?t.y:u.top,width:De(t.width)?t.width:u.width,height:De(t.height)?t.height:u.height}),d=A.x,h=A.y,f=A.width,g=A.height,p=A.syncWithTicks,m=A.horizontalValues,y=A.verticalValues,b=VLe(),v=KLe();if(!De(f)||f<=0||!De(g)||g<=0||!De(d)||d!==+d||!De(h)||h!==+h)return null;var B=A.verticalCoordinatesGenerator||sHe,_=A.horizontalCoordinatesGenerator||iHe,j=A.horizontalPoints,C=A.verticalPoints;if((!j||!j.length)&&Et(_)){var E=m&&m.length,N=_({yAxis:v?Zn(Zn({},v),{},{ticks:E?m:v.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Ao(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(N),"]")),Array.isArray(N)&&(j=N)}if((!C||!C.length)&&Et(B)){var S=y&&y.length,k=B({xAxis:b?Zn(Zn({},b),{},{ticks:S?y:b.ticks}):void 0,width:l,height:c,offset:u},S?!0:p);Ao(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Tu(k),"]")),Array.isArray(k)&&(C=k)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(eHe,{fill:A.fill,fillOpacity:A.fillOpacity,x:A.x,y:A.y,width:A.width,height:A.height,ry:A.ry}),V.createElement(tHe,Gc({},A,{offset:u,horizontalPoints:j,xAxis:b,yAxis:v})),V.createElement(rHe,Gc({},A,{offset:u,verticalPoints:C,xAxis:b,yAxis:v})),V.createElement(nHe,Gc({},A,{horizontalPoints:j})),V.createElement(aHe,Gc({},A,{verticalPoints:C})))}Nk.displayName="CartesianGrid";var oHe=["type","layout","connectNulls","ref"],lHe=["key"];function Wd(t){"@babel/helpers - typeof";return Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(t)}function t5(t,e){if(t==null)return{};var r=cHe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},om.apply(this,arguments)}function r5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(r),!0).forEach(function(n){Ls(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xA(t){return hHe(t)||dHe(t)||AHe(t)||uHe()}function uHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AHe(t,e){if(t){if(typeof t=="string")return GE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GE(t,e)}}function dHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hHe(t){if(Array.isArray(t))return GE(t)}function GE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n5(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PG(n.key),n)}}function mHe(t,e,r){return e&&n5(t.prototype,e),r&&n5(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pHe(t,e,r){return e=xy(e),gHe(t,IG()?Reflect.construct(e,r||[],xy(t).constructor):e.apply(t,r))}function gHe(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xHe(t)}function xHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function IG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!t})()}function xy(t){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xy(t)}function vHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WE(t,e)}function WE(t,e){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WE(t,e)}function Ls(t,e,r){return e=PG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PG(t){var e=yHe(t,"string");return Wd(e)=="symbol"?e:e+""}function yHe(t,e){if(Wd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mg=function(t){function e(){var r;fHe(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=pHe(this,e,[].concat(a)),Ls(r,"state",{isAnimationFinished:!0,totalLength:0}),Ls(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ls(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(y,b){return y+b});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var A=Math.floor(o/u),d=o%u,h=l-o,f=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>d){f=[].concat(xA(c.slice(0,g)),[d-p]);break}var m=f.length%2===0?[0,h]:[h];return[].concat(xA(e.repeat(c,A)),xA(f),m).map(function(y){return"".concat(y,"px")}).join(", ")}),Ls(r,"id",lg("recharts-line-")),Ls(r,"pathRef",function(o){r.mainCurve=o}),Ls(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ls(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return vHe(e,t),mHe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,A=i.children,d=xs(A,fg);if(!d)return null;var h=function(p,m){return{x:p.x,y:p.y,value:p.value,errorVal:es(p.payload,m)}},f={clipPath:n?"url(#clipPath-".concat(a,")"):null};return V.createElement(Wr,f,d.map(function(g){return V.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,A=l.dataKey,d=Ht(this.props,!1),h=Ht(c,!0),f=u.map(function(p,m){var y=Qa(Qa(Qa({key:"dot-".concat(m),r:3},d),h),{},{index:m,cx:p.x,cy:p.y,value:p.value,dataKey:A,payload:p.payload,points:u});return e.renderDotItem(c,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return V.createElement(Wr,om({className:"recharts-line-dots",key:"dots"},g),f)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,A=l.connectNulls;l.ref;var d=t5(l,oHe),h=Qa(Qa(Qa({},Ht(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:A});return V.createElement(_E,om({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,A=o.animationBegin,d=o.animationDuration,h=o.animationEasing,f=o.animationId,g=o.animateNewValues,p=o.width,m=o.height,y=this.state,b=y.prevPoints,v=y.totalLength;return V.createElement(jo,{begin:A,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(B){var _=B.t;if(b){var j=b.length/l.length,C=l.map(function(I,T){var U=Math.floor(T*j);if(b[U]){var M=b[U],L=Hs(M.x,I.x),O=Hs(M.y,I.y);return Qa(Qa({},I),{},{x:L(_),y:O(_)})}if(g){var D=Hs(p*2,I.x),R=Hs(m/2,I.y);return Qa(Qa({},I),{},{x:D(_),y:R(_)})}return Qa(Qa({},I),{},{x:I.x,y:I.y})});return i.renderCurveStatically(C,n,a)}var E=Hs(0,v),N=E(_),S;if(c){var k="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});S=i.getStrokeDasharray(N,v,k)}else S=i.generateSimpleStrokeDasharray(v,N);return i.renderCurveStatically(l,n,a,{strokeDasharray:S})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,A=c.totalLength;return l&&o&&o.length&&(!u&&A>0||!Bw(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,A=a.yAxis,d=a.top,h=a.left,f=a.width,g=a.height,p=a.isAnimationActive,m=a.id;if(i||!l||!l.length)return null;var y=this.state.isAnimationFinished,b=l.length===1,v=Gt("recharts-line",c),B=u&&u.allowDataOverflow,_=A&&A.allowDataOverflow,j=B||_,C=Dt(m)?this.id:m,E=(n=Ht(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=E.r,S=N===void 0?3:N,k=E.strokeWidth,I=k===void 0?2:k,T=Mje(o)?o:{},U=T.clipDot,M=U===void 0?!0:U,L=S*2+I;return V.createElement(Wr,{className:v},B||_?V.createElement("defs",null,V.createElement("clipPath",{id:"clipPath-".concat(C)},V.createElement("rect",{x:B?h:h-f/2,y:_?d:d-g/2,width:B?f:f*2,height:_?g:g*2})),!M&&V.createElement("clipPath",{id:"clipPath-dots-".concat(C)},V.createElement("rect",{x:h-L/2,y:d-L/2,width:f+L,height:g+L}))):null,!b&&this.renderCurve(j,C),this.renderErrorBar(j,C),(b||o)&&this.renderDots(j,M,C),(!p||y)&&Ol.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(xA(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(xA(o),xA(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(V.isValidElement(n))i=V.cloneElement(n,a);else if(Et(n))i=n(a);else{var o=a.key,l=t5(a,lHe),c=Gt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=V.createElement(vk,om({key:o},l,{className:c}))}return i}}])}(x.PureComponent);Ls(mg,"displayName","Line");Ls(mg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Eh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ls(mg,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,A=e.layout,d=c.map(function(h,f){var g=es(h,o);return A==="horizontal"?{x:RR({axis:r,ticks:a,bandSize:l,entry:h,index:f}),y:Dt(g)?null:n.scale(g),value:g,payload:h}:{x:Dt(g)?null:r.scale(g),y:RR({axis:n,ticks:i,bandSize:l,entry:h,index:f}),value:g,payload:h}});return Qa({points:d,layout:A},u)});function qd(t){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qd(t)}function bHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OG(n.key),n)}}function BHe(t,e,r){return e&&wHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CHe(t,e,r){return e=vy(e),_He(t,FG()?Reflect.construct(e,r||[],vy(t).constructor):e.apply(t,r))}function _He(t,e){if(e&&(qd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jHe(t)}function jHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FG=function(){return!!t})()}function vy(t){return vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vy(t)}function EHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qE(t,e)}function qE(t,e){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(t,e)}function DG(t,e,r){return e=OG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OG(t){var e=SHe(t,"string");return qd(e)=="symbol"?e:e+""}function SHe(t,e){if(qd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XE.apply(this,arguments)}function NHe(t){var e=t.xAxisId,r=Bk(),n=Ck(),a=yG(e);return a==null?null:V.createElement(Th,XE({},a,{className:Gt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ao(o,!0)}}))}var Ih=function(t){function e(){return bHe(this,e),CHe(this,e,arguments)}return EHe(e,t),BHe(e,[{key:"render",value:function(){return V.createElement(NHe,this.props)}}])}(V.Component);DG(Ih,"displayName","XAxis");DG(Ih,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function kHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function THe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,MG(n.key),n)}}function IHe(t,e,r){return e&&THe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PHe(t,e,r){return e=yy(e),FHe(t,RG()?Reflect.construct(e,r||[],yy(t).constructor):e.apply(t,r))}function FHe(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DHe(t)}function DHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RG=function(){return!!t})()}function yy(t){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yy(t)}function OHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(t,e)}function UG(t,e,r){return e=MG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MG(t){var e=RHe(t,"string");return Xd(e)=="symbol"?e:e+""}function RHe(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JE(){return JE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JE.apply(this,arguments)}var UHe=function(e){var r=e.yAxisId,n=Bk(),a=Ck(),i=bG(r);return i==null?null:V.createElement(Th,JE({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return ao(l,!0)}}))},Ph=function(t){function e(){return kHe(this,e),PHe(this,e,arguments)}return OHe(e,t),IHe(e,[{key:"render",value:function(){return V.createElement(UHe,this.props)}}])}(V.Component);UG(Ph,"displayName","YAxis");UG(Ph,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function a5(t){return $He(t)||LHe(t)||QHe(t)||MHe()}function MHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QHe(t,e){if(t){if(typeof t=="string")return ZE(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZE(t,e)}}function LHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $He(t){if(Array.isArray(t))return ZE(t)}function ZE(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eS=function(e,r,n,a,i){var o=xs(e,jk),l=xs(e,kw),c=[].concat(a5(o),a5(l)),u=xs(e,Iw),A="".concat(a,"Id"),d=a[0],h=r;if(c.length&&(h=c.reduce(function(p,m){if(m.props[A]===n&&Si(m.props,"extendDomain")&&De(m.props[d])){var y=m.props[d];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),u.length){var f="".concat(d,"1"),g="".concat(d,"2");h=u.reduce(function(p,m){if(m.props[A]===n&&Si(m.props,"extendDomain")&&De(m.props[f])&&De(m.props[g])){var y=m.props[f],b=m.props[g];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,m){return De(m)?[Math.min(p[0],m),Math.max(p[1],m)]:p},h)),h},QG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,A){this.fn=c,this.context=u,this.once=A||!1}function i(c,u,A,d,h){if(typeof A!="function")throw new TypeError("The listener must be a function");var f=new a(A,d||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],f]:c._events[g].push(f):(c._events[g]=f,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],A,d;if(this._eventsCount===0)return u;for(d in A=this._events)e.call(A,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(A)):u},l.prototype.listeners=function(u){var A=r?r+u:u,d=this._events[A];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,g=new Array(f);h<f;h++)g[h]=d[h].fn;return g},l.prototype.listenerCount=function(u){var A=r?r+u:u,d=this._events[A];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,A,d,h,f,g){var p=r?r+u:u;if(!this._events[p])return!1;var m=this._events[p],y=arguments.length,b,v;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,A),!0;case 3:return m.fn.call(m.context,A,d),!0;case 4:return m.fn.call(m.context,A,d,h),!0;case 5:return m.fn.call(m.context,A,d,h,f),!0;case 6:return m.fn.call(m.context,A,d,h,f,g),!0}for(v=1,b=new Array(y-1);v<y;v++)b[v-1]=arguments[v];m.fn.apply(m.context,b)}else{var B=m.length,_;for(v=0;v<B;v++)switch(m[v].once&&this.removeListener(u,m[v].fn,void 0,!0),y){case 1:m[v].fn.call(m[v].context);break;case 2:m[v].fn.call(m[v].context,A);break;case 3:m[v].fn.call(m[v].context,A,d);break;case 4:m[v].fn.call(m[v].context,A,d,h);break;default:if(!b)for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];m[v].fn.apply(m[v].context,b)}}return!0},l.prototype.on=function(u,A,d){return i(this,u,A,d,!1)},l.prototype.once=function(u,A,d){return i(this,u,A,d,!0)},l.prototype.removeListener=function(u,A,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!A)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===A&&(!h||g.once)&&(!d||g.context===d)&&o(this,f);else{for(var p=0,m=[],y=g.length;p<y;p++)(g[p].fn!==A||h&&!g[p].once||d&&g[p].context!==d)&&m.push(g[p]);m.length?this._events[f]=m.length===1?m[0]:m:o(this,f)}return this},l.prototype.removeAllListeners=function(u){var A;return u?(A=r?r+u:u,this._events[A]&&o(this,A)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(QG);var HHe=QG.exports;const VHe=or(HHe);var UB=new VHe,MB="recharts.syncMouseEvents";function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function KHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zHe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LG(n.key),n)}}function GHe(t,e,r){return e&&zHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QB(t,e,r){return e=LG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LG(t){var e=WHe(t,"string");return Bp(e)=="symbol"?e:e+""}function WHe(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qHe=function(){function t(){KHe(this,t),QB(this,"activeIndex",0),QB(this,"coordinateList",[]),QB(this,"layout","horizontal")}return GHe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,A=r.offset,d=A===void 0?null:A,h=r.mouseHandlerCallback,f=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,A=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+A;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function XHe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&De(n)&&De(a))return!0}return!1}function YHe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function $G(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,o=Qn(e,r,n,a),l=Qn(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function JHe(t,e,r){var n,a,i,o;if(t==="horizontal")n=e.x,i=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,A=e.outerRadius,d=e.angle,h=Qn(l,c,u,d),f=Qn(l,c,A,d);n=h.x,a=h.y,i=f.x,o=f.y}else return $G(e);return[{x:n,y:a},{x:i,y:o}]}function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function s5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s5(Object(r),!0).forEach(function(n){ZHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZHe(t,e,r){return e=eVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eVe(t){var e=tVe(t,"string");return Cp(e)=="symbol"?e:e+""}function tVe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rVe(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,A=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,f=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!f||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var g,p=_E;if(h==="ScatterChart")g=o,p=r6e;else if(h==="BarChart")g=YHe(d,o,c,A),p=xk;else if(d==="radial"){var m=$G(o),y=m.cx,b=m.cy,v=m.radius,B=m.startAngle,_=m.endAngle;g={cx:y,cy:b,startAngle:B,endAngle:_,innerRadius:v,outerRadius:v},p=Wz}else g={points:JHe(d,o,c)},p=_E;var j=Q0(Q0(Q0(Q0({stroke:"#ccc",pointerEvents:"none"},c),g),Ht(f,!1)),{},{payload:l,payloadIndex:u,className:Gt("recharts-tooltip-cursor",f.className)});return x.isValidElement(f)?x.cloneElement(f,j):x.createElement(p,j)}var nVe=["item"],aVe=["children","className","width","height","style","compact","title","desc"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TA.apply(this,arguments)}function i5(t,e){return oVe(t)||iVe(t,e)||VG(t,e)||sVe()}function sVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(A){u=!0,a=A}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function oVe(t){if(Array.isArray(t))return t}function o5(t,e){if(t==null)return{};var r=lVe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KG(n.key),n)}}function AVe(t,e,r){return e&&uVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dVe(t,e,r){return e=by(e),hVe(t,HG()?Reflect.construct(e,r||[],by(t).constructor):e.apply(t,r))}function hVe(t,e){if(e&&(Yd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HG=function(){return!!t})()}function by(t){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(t)}function mVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tS(t,e)}function tS(t,e){return tS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tS(t,e)}function Jd(t){return xVe(t)||gVe(t)||VG(t)||pVe()}function pVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(t,e){if(t){if(typeof t=="string")return rS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rS(t,e)}}function gVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xVe(t){if(Array.isArray(t))return rS(t)}function rS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function de(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l5(Object(r),!0).forEach(function(n){ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ut(t,e,r){return e=KG(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KG(t){var e=vVe(t,"string");return Yd(e)=="symbol"?e:e+""}function vVe(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yVe={xAxis:["bottom","top"],yAxis:["left","right"]},bVe={width:"100%",height:"100%"},zG={x:0,y:0};function L0(t){return t}var wVe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},BVe=function(e,r,n,a){var i=r.find(function(A){return A&&A.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=a.radius;return de(de(de({},a),Qn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return de(de(de({},a),Qn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return zG},Pw=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Jd(l),Jd(u)):l},[]);return o.length>0?o:e&&e.length&&De(a)&&De(i)?e.slice(a,i+1):[]};function GG(t){return t==="number"?[0,"auto"]:void 0}var nS=function(e,r,n,a){var i=e.graphicalItems,o=e.tooltipAxis,l=Pw(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var A,d=(A=u.props.data)!==null&&A!==void 0?A:r;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var f=d===void 0?l:d;h=Bv(f,o.dataKey,a)}else h=d&&d[n]||l[n];return h?[].concat(Jd(c),[Kz(u,h)]):c},[])},c5=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},o=wVe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,A=H5e(o,l,u,c);if(A>=0&&u){var d=u[A]&&u[A].value,h=nS(e,r,A,d),f=BVe(n,l,A,i);return{activeTooltipIndex:A,activeLabel:d,activePayload:h,activeCoordinate:f}}return null},CVe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=e.stackOffset,f=$z(A,i);return n.reduce(function(g,p){var m,y=p.type.defaultProps!==void 0?de(de({},p.type.defaultProps),p.props):p.props,b=y.type,v=y.dataKey,B=y.allowDataOverflow,_=y.allowDuplicatedCategory,j=y.scale,C=y.ticks,E=y.includeHidden,N=y[o];if(g[N])return g;var S=Pw(e.data,{graphicalItems:a.filter(function($){var q,z=o in $.props?$.props[o]:(q=$.type.defaultProps)===null||q===void 0?void 0:q[o];return z===N}),dataStartIndex:c,dataEndIndex:u}),k=S.length,I,T,U;XHe(y.domain,B,b)&&(I=yE(y.domain,null,B),f&&(b==="number"||j!=="auto")&&(U=sm(S,v,"category")));var M=GG(b);if(!I||I.length===0){var L,O=(L=y.domain)!==null&&L!==void 0?L:M;if(v){if(I=sm(S,v,b),b==="category"&&f){var D=Nje(I);_&&D?(T=I,I=ly(0,k)):_||(I=LR(O,I,p).reduce(function($,q){return $.indexOf(q)>=0?$:[].concat(Jd($),[q])},[]))}else if(b==="category")_?I=I.filter(function($){return $!==""&&!Dt($)}):I=LR(O,I,p).reduce(function($,q){return $.indexOf(q)>=0||q===""||Dt(q)?$:[].concat(Jd($),[q])},[]);else if(b==="number"){var R=W5e(S,a.filter(function($){var q,z,W=o in $.props?$.props[o]:(q=$.type.defaultProps)===null||q===void 0?void 0:q[o],ne="hide"in $.props?$.props.hide:(z=$.type.defaultProps)===null||z===void 0?void 0:z.hide;return W===N&&(E||!ne)}),v,i,A);R&&(I=R)}f&&(b==="number"||j!=="auto")&&(U=sm(S,v,"category"))}else f?I=ly(0,k):l&&l[N]&&l[N].hasStack&&b==="number"?I=h==="expand"?[0,1]:Vz(l[N].stackGroups,c,u):I=Lz(S,a.filter(function($){var q=o in $.props?$.props[o]:$.type.defaultProps[o],z="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return q===N&&(E||!z)}),b,A,!0);if(b==="number")I=eS(d,I,N,i,C),O&&(I=yE(O,I,B));else if(b==="category"&&O){var Q=O,K=I.every(function($){return Q.indexOf($)>=0});K&&(I=Q)}}return de(de({},g),{},ut({},N,de(de({},y),{},{axisType:i,domain:I,categoricalDomain:U,duplicateDomain:T,originalDomain:(m=y.domain)!==null&&m!==void 0?m:M,isCategorical:f,layout:A})))},{})},_Ve=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.layout,d=e.children,h=Pw(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),f=h.length,g=$z(A,i),p=-1;return n.reduce(function(m,y){var b=y.type.defaultProps!==void 0?de(de({},y.type.defaultProps),y.props):y.props,v=b[o],B=GG("number");if(!m[v]){p++;var _;return g?_=ly(0,f):l&&l[v]&&l[v].hasStack?(_=Vz(l[v].stackGroups,c,u),_=eS(d,_,v,i)):(_=yE(B,Lz(h,n.filter(function(j){var C,E,N=o in j.props?j.props[o]:(C=j.type.defaultProps)===null||C===void 0?void 0:C[o],S="hide"in j.props?j.props.hide:(E=j.type.defaultProps)===null||E===void 0?void 0:E.hide;return N===v&&!S}),"number",A),a.defaultProps.allowDataOverflow),_=eS(d,_,v,i)),de(de({},m),{},ut({},v,de(de({axisType:i},a.defaultProps),{},{hide:!0,orientation:gs(yVe,"".concat(i,".").concat(p%2),null),domain:_,originalDomain:B,isCategorical:g,layout:A})))}return m},{})},jVe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,A=e.children,d="".concat(a,"Id"),h=xs(A,i),f={};return h&&h.length?f=CVe(e,{axes:h,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(f=_Ve(e,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),f},EVe=function(e){var r=sl(e),n=ao(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:KN(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zv(r,n)}},u5=function(e){var r=e.children,n=e.defaultShowTooltip,a=$a(r,$d),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},SVe=function(e){return!e||!e.length?!1:e.some(function(r){var n=uo(r&&r.type);return n&&n.indexOf("Bar")>=0})},A5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},NVe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,A=n.height,d=n.children,h=n.margin||{},f=$a(d,$d),g=$a(d,LA),p=Object.keys(c).reduce(function(_,j){var C=c[j],E=C.orientation;return!C.mirror&&!C.hide?de(de({},_),{},ut({},E,_[E]+C.width)):_},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(_,j){var C=o[j],E=C.orientation;return!C.mirror&&!C.hide?de(de({},_),{},ut({},E,gs(_,"".concat(E))+C.height)):_},{top:h.top||0,bottom:h.bottom||0}),y=de(de({},m),p),b=y.bottom;f&&(y.bottom+=f.props.height||$d.defaultProps.height),g&&r&&(y=z5e(y,a,n,r));var v=u-y.left-y.right,B=A-y.top-y.bottom;return de(de({brushBottom:b},y),{},{width:Math.max(v,0),height:Math.max(B,0)})},kVe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},WG=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,A=e.formatAxisMap,d=e.defaultProps,h=function(y,b){var v=b.graphicalItems,B=b.stackGroups,_=b.offset,j=b.updateId,C=b.dataStartIndex,E=b.dataEndIndex,N=y.barSize,S=y.layout,k=y.barGap,I=y.barCategoryGap,T=y.maxBarSize,U=A5(S),M=U.numericAxisName,L=U.cateAxisName,O=SVe(v),D=[];return v.forEach(function(R,Q){var K=Pw(y.data,{graphicalItems:[R],dataStartIndex:C,dataEndIndex:E}),$=R.type.defaultProps!==void 0?de(de({},R.type.defaultProps),R.props):R.props,q=$.dataKey,z=$.maxBarSize,W=$["".concat(M,"Id")],ne=$["".concat(L,"Id")],oe={},re=c.reduce(function(ee,le){var Ce=b["".concat(le.axisType,"Map")],Ne=$["".concat(le.axisType,"Id")];Ce&&Ce[Ne]||le.axisType==="zAxis"||ku();var Be=Ce[Ne];return de(de({},ee),{},ut(ut({},le.axisType,Be),"".concat(le.axisType,"Ticks"),ao(Be)))},oe),ce=re[L],Ae=re["".concat(L,"Ticks")],ge=B&&B[W]&&B[W].hasStack&&iMe(R,B[W].stackGroups),Y=uo(R.type).indexOf("Bar")>=0,pe=Zv(ce,Ae),Se=[],Ue=O&&V5e({barSize:N,stackGroups:B,totalSize:kVe(re,L)});if(Y){var We,gt,Rt=Dt(z)?T:z,Ut=(We=(gt=Zv(ce,Ae,!0))!==null&&gt!==void 0?gt:Rt)!==null&&We!==void 0?We:0;Se=K5e({barGap:k,barCategoryGap:I,bandSize:Ut!==pe?Ut:pe,sizeList:Ue[ne],maxBarSize:Rt}),Ut!==pe&&(Se=Se.map(function(ee){return de(de({},ee),{},{position:de(de({},ee.position),{},{offset:ee.position.offset-Ut/2})})}))}var X=R&&R.type&&R.type.getComposedData;X&&D.push({props:de(de({},X(de(de({},re),{},{displayedData:K,props:y,dataKey:q,item:R,bandSize:pe,barPosition:Se,offset:_,stackedData:ge,layout:S,dataStartIndex:C,dataEndIndex:E}))),{},ut(ut(ut({key:R.key||"item-".concat(Q)},M,re[M]),L,re[L]),"animationId",j)),childIndex:$je(R,y.children),item:R})}),D},f=function(y,b){var v=y.props,B=y.dataStartIndex,_=y.dataEndIndex,j=y.updateId;if(!FD({props:v}))return null;var C=v.children,E=v.layout,N=v.stackOffset,S=v.data,k=v.reverseStackOrder,I=A5(E),T=I.numericAxisName,U=I.cateAxisName,M=xs(C,n),L=nMe(S,M,"".concat(T,"Id"),"".concat(U,"Id"),N,k),O=c.reduce(function($,q){var z="".concat(q.axisType,"Map");return de(de({},$),{},ut({},z,jVe(v,de(de({},q),{},{graphicalItems:M,stackGroups:q.axisType===T&&L,dataStartIndex:B,dataEndIndex:_}))))},{}),D=NVe(de(de({},O),{},{props:v,graphicalItems:M}),b==null?void 0:b.legendBBox);Object.keys(O).forEach(function($){O[$]=A(v,O[$],D,$.replace("Map",""),r)});var R=O["".concat(U,"Map")],Q=EVe(R),K=h(v,de(de({},O),{},{dataStartIndex:B,dataEndIndex:_,updateId:j,graphicalItems:M,stackGroups:L,offset:D}));return de(de({formattedGraphicalItems:K,graphicalItems:M,offset:D,stackGroups:L},Q),O)},g=function(m){function y(b){var v,B,_;return cVe(this,y),_=dVe(this,y,[b]),ut(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ut(_,"accessibilityManager",new qHe),ut(_,"handleLegendBBoxUpdate",function(j){if(j){var C=_.state,E=C.dataStartIndex,N=C.dataEndIndex,S=C.updateId;_.setState(de({legendBBox:j},f({props:_.props,dataStartIndex:E,dataEndIndex:N,updateId:S},de(de({},_.state),{},{legendBBox:j}))))}}),ut(_,"handleReceiveSyncEvent",function(j,C,E){if(_.props.syncId===j){if(E===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(C)}}),ut(_,"handleBrushChange",function(j){var C=j.startIndex,E=j.endIndex;if(C!==_.state.dataStartIndex||E!==_.state.dataEndIndex){var N=_.state.updateId;_.setState(function(){return de({dataStartIndex:C,dataEndIndex:E},f({props:_.props,dataStartIndex:C,dataEndIndex:E,updateId:N},_.state))}),_.triggerSyncEvent({dataStartIndex:C,dataEndIndex:E})}}),ut(_,"handleMouseEnter",function(j){var C=_.getMouseInfo(j);if(C){var E=de(de({},C),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var N=_.props.onMouseEnter;Et(N)&&N(E,j)}}),ut(_,"triggeredAfterMouseMove",function(j){var C=_.getMouseInfo(j),E=C?de(de({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var N=_.props.onMouseMove;Et(N)&&N(E,j)}),ut(_,"handleItemMouseEnter",function(j){_.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ut(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ut(_,"handleMouseMove",function(j){j.persist(),_.throttleTriggeredAfterMouseMove(j)}),ut(_,"handleMouseLeave",function(j){_.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var E=_.props.onMouseLeave;Et(E)&&E(C,j)}),ut(_,"handleOuterEvent",function(j){var C=Lje(j),E=gs(_.props,"".concat(C));if(C&&Et(E)){var N,S;/.*touch.*/i.test(C)?S=_.getMouseInfo(j.changedTouches[0]):S=_.getMouseInfo(j),E((N=S)!==null&&N!==void 0?N:{},j)}}),ut(_,"handleClick",function(j){var C=_.getMouseInfo(j);if(C){var E=de(de({},C),{},{isTooltipActive:!0});_.setState(E),_.triggerSyncEvent(E);var N=_.props.onClick;Et(N)&&N(E,j)}}),ut(_,"handleMouseDown",function(j){var C=_.props.onMouseDown;if(Et(C)){var E=_.getMouseInfo(j);C(E,j)}}),ut(_,"handleMouseUp",function(j){var C=_.props.onMouseUp;if(Et(C)){var E=_.getMouseInfo(j);C(E,j)}}),ut(_,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ut(_,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseDown(j.changedTouches[0])}),ut(_,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseUp(j.changedTouches[0])}),ut(_,"handleDoubleClick",function(j){var C=_.props.onDoubleClick;if(Et(C)){var E=_.getMouseInfo(j);C(E,j)}}),ut(_,"handleContextMenu",function(j){var C=_.props.onContextMenu;if(Et(C)){var E=_.getMouseInfo(j);C(E,j)}}),ut(_,"triggerSyncEvent",function(j){_.props.syncId!==void 0&&UB.emit(MB,_.props.syncId,j,_.eventEmitterSymbol)}),ut(_,"applySyncEvent",function(j){var C=_.props,E=C.layout,N=C.syncMethod,S=_.state.updateId,k=j.dataStartIndex,I=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)_.setState(de({dataStartIndex:k,dataEndIndex:I},f({props:_.props,dataStartIndex:k,dataEndIndex:I,updateId:S},_.state)));else if(j.activeTooltipIndex!==void 0){var T=j.chartX,U=j.chartY,M=j.activeTooltipIndex,L=_.state,O=L.offset,D=L.tooltipTicks;if(!O)return;if(typeof N=="function")M=N(D,j);else if(N==="value"){M=-1;for(var R=0;R<D.length;R++)if(D[R].value===j.activeLabel){M=R;break}}var Q=de(de({},O),{},{x:O.left,y:O.top}),K=Math.min(T,Q.x+Q.width),$=Math.min(U,Q.y+Q.height),q=D[M]&&D[M].value,z=nS(_.state,_.props.data,M),W=D[M]?{x:E==="horizontal"?D[M].coordinate:K,y:E==="horizontal"?$:D[M].coordinate}:zG;_.setState(de(de({},j),{},{activeLabel:q,activeCoordinate:W,activePayload:z,activeTooltipIndex:M}))}else _.setState(j)}),ut(_,"renderCursor",function(j){var C,E=_.state,N=E.isTooltipActive,S=E.activeCoordinate,k=E.activePayload,I=E.offset,T=E.activeTooltipIndex,U=E.tooltipAxisBandSize,M=_.getTooltipEventType(),L=(C=j.props.active)!==null&&C!==void 0?C:N,O=_.props.layout,D=j.key||"_recharts-cursor";return V.createElement(rVe,{key:D,activeCoordinate:S,activePayload:k,activeTooltipIndex:T,chartName:r,element:j,isActive:L,layout:O,offset:I,tooltipAxisBandSize:U,tooltipEventType:M})}),ut(_,"renderPolarAxis",function(j,C,E){var N=gs(j,"type.axisType"),S=gs(_.state,"".concat(N,"Map")),k=j.type.defaultProps,I=k!==void 0?de(de({},k),j.props):j.props,T=S&&S[I["".concat(N,"Id")]];return x.cloneElement(j,de(de({},T),{},{className:Gt(N,T.className),key:j.key||"".concat(C,"-").concat(E),ticks:ao(T,!0)}))}),ut(_,"renderPolarGrid",function(j){var C=j.props,E=C.radialLines,N=C.polarAngles,S=C.polarRadius,k=_.state,I=k.radiusAxisMap,T=k.angleAxisMap,U=sl(I),M=sl(T),L=M.cx,O=M.cy,D=M.innerRadius,R=M.outerRadius;return x.cloneElement(j,{polarAngles:Array.isArray(N)?N:ao(M,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(S)?S:ao(U,!0).map(function(Q){return Q.coordinate}),cx:L,cy:O,innerRadius:D,outerRadius:R,key:j.key||"polar-grid",radialLines:E})}),ut(_,"renderLegend",function(){var j=_.state.formattedGraphicalItems,C=_.props,E=C.children,N=C.width,S=C.height,k=_.props.margin||{},I=N-(k.left||0)-(k.right||0),T=Mz({children:E,formattedGraphicalItems:j,legendWidth:I,legendContent:u});if(!T)return null;var U=T.item,M=o5(T,nVe);return x.cloneElement(U,de(de({},M),{},{chartWidth:N,chartHeight:S,margin:k,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ut(_,"renderTooltip",function(){var j,C=_.props,E=C.children,N=C.accessibilityLayer,S=$a(E,Ms);if(!S)return null;var k=_.state,I=k.isTooltipActive,T=k.activeCoordinate,U=k.activePayload,M=k.activeLabel,L=k.offset,O=(j=S.props.active)!==null&&j!==void 0?j:I;return x.cloneElement(S,{viewBox:de(de({},L),{},{x:L.left,y:L.top}),active:O,label:M,payload:O?U:[],coordinate:T,accessibilityLayer:N})}),ut(_,"renderBrush",function(j){var C=_.props,E=C.margin,N=C.data,S=_.state,k=S.offset,I=S.dataStartIndex,T=S.dataEndIndex,U=S.updateId;return x.cloneElement(j,{key:j.key||"_recharts-brush",onChange:O0(_.handleBrushChange,j.props.onChange),data:N,x:De(j.props.x)?j.props.x:k.left,y:De(j.props.y)?j.props.y:k.top+k.height+k.brushBottom-(E.bottom||0),width:De(j.props.width)?j.props.width:k.width,startIndex:I,endIndex:T,updateId:"brush-".concat(U)})}),ut(_,"renderReferenceElement",function(j,C,E){if(!j)return null;var N=_,S=N.clipPathId,k=_.state,I=k.xAxisMap,T=k.yAxisMap,U=k.offset,M=j.type.defaultProps||{},L=j.props,O=L.xAxisId,D=O===void 0?M.xAxisId:O,R=L.yAxisId,Q=R===void 0?M.yAxisId:R;return x.cloneElement(j,{key:j.key||"".concat(C,"-").concat(E),xAxis:I[D],yAxis:T[Q],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:S})}),ut(_,"renderActivePoints",function(j){var C=j.item,E=j.activePoint,N=j.basePoint,S=j.childIndex,k=j.isRange,I=[],T=C.props.key,U=C.item.type.defaultProps!==void 0?de(de({},C.item.type.defaultProps),C.item.props):C.item.props,M=U.activeDot,L=U.dataKey,O=de(de({index:S,dataKey:L,cx:E.x,cy:E.y,r:4,fill:gk(C.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ht(M,!1)),Cv(M));return I.push(y.renderActiveDot(M,O,"".concat(T,"-activePoint-").concat(S))),N?I.push(y.renderActiveDot(M,de(de({},O),{},{cx:N.x,cy:N.y}),"".concat(T,"-basePoint-").concat(S))):k&&I.push(null),I}),ut(_,"renderGraphicChild",function(j,C,E){var N=_.filterFormatItem(j,C,E);if(!N)return null;var S=_.getTooltipEventType(),k=_.state,I=k.isTooltipActive,T=k.tooltipAxis,U=k.activeTooltipIndex,M=k.activeLabel,L=_.props.children,O=$a(L,Ms),D=N.props,R=D.points,Q=D.isRange,K=D.baseLine,$=N.item.type.defaultProps!==void 0?de(de({},N.item.type.defaultProps),N.item.props):N.item.props,q=$.activeDot,z=$.hide,W=$.activeBar,ne=$.activeShape,oe=!!(!z&&I&&O&&(q||W||ne)),re={};S!=="axis"&&O&&O.props.trigger==="click"?re={onClick:O0(_.handleItemMouseEnter,j.props.onClick)}:S!=="axis"&&(re={onMouseLeave:O0(_.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:O0(_.handleItemMouseEnter,j.props.onMouseEnter)});var ce=x.cloneElement(j,de(de({},N.props),re));function Ae(le){return typeof T.dataKey=="function"?T.dataKey(le.payload):null}if(oe)if(U>=0){var ge,Y;if(T.dataKey&&!T.allowDuplicatedCategory){var pe=typeof T.dataKey=="function"?Ae:"payload.".concat(T.dataKey.toString());ge=Bv(R,pe,M),Y=Q&&K&&Bv(K,pe,M)}else ge=R==null?void 0:R[U],Y=Q&&K&&K[U];if(ne||W){var Se=j.props.activeIndex!==void 0?j.props.activeIndex:U;return[x.cloneElement(j,de(de(de({},N.props),re),{},{activeIndex:Se})),null,null]}if(!Dt(ge))return[ce].concat(Jd(_.renderActivePoints({item:N,activePoint:ge,basePoint:Y,childIndex:U,isRange:Q})))}else{var Ue,We=(Ue=_.getItemByXY(_.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:ce},gt=We.graphicalItem,Rt=gt.item,Ut=Rt===void 0?j:Rt,X=gt.childIndex,ee=de(de(de({},N.props),re),{},{activeIndex:X});return[x.cloneElement(Ut,ee),null,null]}return Q?[ce,null,null]:[ce,null]}),ut(_,"renderCustomized",function(j,C,E){return x.cloneElement(j,de(de({key:"recharts-customized-".concat(E)},_.props),_.state))}),ut(_,"renderMap",{CartesianGrid:{handler:L0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:L0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:L0},YAxis:{handler:L0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((v=b.id)!==null&&v!==void 0?v:lg("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=UK(_.triggeredAfterMouseMove,(B=b.throttleDelay)!==null&&B!==void 0?B:1e3/60),_.state={},_}return mVe(y,m),AVe(y,[{key:"componentDidMount",value:function(){var v,B;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(B=this.props.margin.top)!==null&&B!==void 0?B:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,B=v.children,_=v.data,j=v.height,C=v.layout,E=$a(B,Ms);if(E){var N=E.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var S=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,k=nS(this.state,_,N,S),I=this.state.tooltipTicks[N].coordinate,T=(this.state.offset.top+j)/2,U=C==="horizontal",M=U?{x:I,y:T}:{y:I,x:T},L=this.state.formattedGraphicalItems.find(function(D){var R=D.item;return R.type.name==="Scatter"});L&&(M=de(de({},M),L.props.points[N].tooltipPosition),k=L.props.points[N].tooltipPayload);var O={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:S,activePayload:k,activeCoordinate:M};this.setState(O),this.renderCursor(E),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,B){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==B.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var _,j;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(v){Dj([$a(v.children,Ms)],[$a(this.props.children,Ms)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=$a(this.props.children,Ms);if(v&&typeof v.props.shared=="boolean"){var B=v.props.shared?"axis":"item";return l.indexOf(B)>=0?B:i}return i}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var B=this.container,_=B.getBoundingClientRect(),j=mDe(_),C={chartX:Math.round(v.pageX-j.left),chartY:Math.round(v.pageY-j.top)},E=_.width/B.offsetWidth||1,N=this.inRange(C.chartX,C.chartY,E);if(!N)return null;var S=this.state,k=S.xAxisMap,I=S.yAxisMap,T=this.getTooltipEventType(),U=c5(this.state,this.props.data,this.props.layout,N);if(T!=="axis"&&k&&I){var M=sl(k).scale,L=sl(I).scale,O=M&&M.invert?M.invert(C.chartX):null,D=L&&L.invert?L.invert(C.chartY):null;return de(de({},C),{},{xValue:O,yValue:D},U)}return U?de(de({},C),U):null}},{key:"inRange",value:function(v,B){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,C=v/_,E=B/_;if(j==="horizontal"||j==="vertical"){var N=this.state.offset,S=C>=N.left&&C<=N.left+N.width&&E>=N.top&&E<=N.top+N.height;return S?{x:C,y:E}:null}var k=this.state,I=k.angleAxisMap,T=k.radiusAxisMap;if(I&&T){var U=sl(I);return VR({x:C,y:E},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,B=this.getTooltipEventType(),_=$a(v,Ms),j={};_&&B==="axis"&&(_.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var C=Cv(this.props,this.handleOuterEvent);return de(de({},C),j)}},{key:"addListener",value:function(){UB.on(MB,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){UB.removeListener(MB,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,B,_){for(var j=this.state.formattedGraphicalItems,C=0,E=j.length;C<E;C++){var N=j[C];if(N.item===v||N.props.key===v.key||B===uo(N.item.type)&&_===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,B=this.state.offset,_=B.left,j=B.top,C=B.height,E=B.width;return V.createElement("defs",null,V.createElement("clipPath",{id:v},V.createElement("rect",{x:_,y:j,height:C,width:E})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(B,_){var j=i5(_,2),C=j[0],E=j[1];return de(de({},B),{},ut({},C,E.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(B,_){var j=i5(_,2),C=j[0],E=j[1];return de(de({},B),{},ut({},C,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var B;return(B=this.state.xAxisMap)===null||B===void 0||(B=B[v])===null||B===void 0?void 0:B.scale}},{key:"getYScaleByAxisId",value:function(v){var B;return(B=this.state.yAxisMap)===null||B===void 0||(B=B[v])===null||B===void 0?void 0:B.scale}},{key:"getItemByXY",value:function(v){var B=this.state,_=B.formattedGraphicalItems,j=B.activeItem;if(_&&_.length)for(var C=0,E=_.length;C<E;C++){var N=_[C],S=N.props,k=N.item,I=k.type.defaultProps!==void 0?de(de({},k.type.defaultProps),k.props):k.props,T=uo(k.type);if(T==="Bar"){var U=(S.data||[]).find(function(D){return z3e(v,D)});if(U)return{graphicalItem:N,payload:U}}else if(T==="RadialBar"){var M=(S.data||[]).find(function(D){return VR(v,D)});if(M)return{graphicalItem:N,payload:M}}else if(jw(N,j)||Ew(N,j)||xp(N,j)){var L=q6e({graphicalItem:N,activeTooltipItem:j,itemData:I.data}),O=I.activeIndex===void 0?L:I.activeIndex;return{graphicalItem:de(de({},N),{},{childIndex:O}),payload:xp(N,j)?I.data[L]:N.props.data[L]}}}return null}},{key:"render",value:function(){var v=this;if(!FD(this))return null;var B=this.props,_=B.children,j=B.className,C=B.width,E=B.height,N=B.style,S=B.compact,k=B.title,I=B.desc,T=o5(B,aVe),U=Ht(T,!1);if(S)return V.createElement($U,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement(Rj,TA({},U,{width:C,height:E,title:k,desc:I}),this.renderClipPath(),OD(_,this.renderMap)));if(this.props.accessibilityLayer){var M,L;U.tabIndex=(M=this.props.tabIndex)!==null&&M!==void 0?M:0,U.role=(L=this.props.role)!==null&&L!==void 0?L:"application",U.onKeyDown=function(D){v.accessibilityManager.keyboardEvent(D)},U.onFocus=function(){v.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return V.createElement($U,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},V.createElement("div",TA({className:Gt("recharts-wrapper",j),style:de({position:"relative",cursor:"default",width:C,height:E},N)},O,{ref:function(R){v.container=R}}),V.createElement(Rj,TA({},U,{width:C,height:E,title:k,desc:I,style:bVe}),this.renderClipPath(),OD(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);ut(g,"displayName",r),ut(g,"defaultProps",de({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),ut(g,"getDerivedStateFromProps",function(m,y){var b=m.dataKey,v=m.data,B=m.children,_=m.width,j=m.height,C=m.layout,E=m.stackOffset,N=m.margin,S=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var I=u5(m);return de(de(de({},I),{},{updateId:0},f(de(de({props:m},I),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:v,prevWidth:_,prevHeight:j,prevLayout:C,prevStackOffset:E,prevMargin:N,prevChildren:B})}if(b!==y.prevDataKey||v!==y.prevData||_!==y.prevWidth||j!==y.prevHeight||C!==y.prevLayout||E!==y.prevStackOffset||!QA(N,y.prevMargin)){var T=u5(m),U={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},M=de(de({},c5(y,v,C)),{},{updateId:y.updateId+1}),L=de(de(de({},T),U),M);return de(de(de({},L),f(de({props:m},L),y)),{},{prevDataKey:b,prevData:v,prevWidth:_,prevHeight:j,prevLayout:C,prevStackOffset:E,prevMargin:N,prevChildren:B})}if(!Dj(B,y.prevChildren)){var O,D,R,Q,K=$a(B,$d),$=K&&(O=(D=K.props)===null||D===void 0?void 0:D.startIndex)!==null&&O!==void 0?O:S,q=K&&(R=(Q=K.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&R!==void 0?R:k,z=$!==S||q!==k,W=!Dt(v),ne=W&&!z?y.updateId:y.updateId+1;return de(de({updateId:ne},f(de(de({props:m},y),{},{updateId:ne,dataStartIndex:$,dataEndIndex:q}),y)),{},{prevChildren:B,dataStartIndex:$,dataEndIndex:q})}return null}),ut(g,"renderActiveDot",function(m,y,b){var v;return x.isValidElement(m)?v=x.cloneElement(m,y):Et(m)?v=m(y):v=V.createElement(vk,y),V.createElement(Wr,{className:"recharts-active-dot",key:b},v)});var p=x.forwardRef(function(y,b){return V.createElement(g,TA({},y,{ref:b}))});return p.displayName=g.displayName,p},TVe=WG({chartName:"LineChart",GraphicalChild:mg,axisComponents:[{axisType:"xAxis",AxisComp:Ih},{axisType:"yAxis",AxisComp:Ph}],formatAxisMap:dG}),IVe=WG({chartName:"BarChart",GraphicalChild:Mu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ih},{axisType:"yAxis",AxisComp:Ph}],formatAxisMap:dG});const PVe={light:"",dark:".dark"},qG=x.createContext(null);function XG(){const t=x.useContext(qG);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const kk=x.forwardRef(({id:t,className:e,children:r,config:n,...a},i)=>{const o=x.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return s.jsx(qG.Provider,{value:{config:n},children:s.jsxs("div",{"data-chart":l,ref:i,className:fe("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...a,children:[s.jsx(FVe,{id:l,config:n}),s.jsx(lDe,{children:r})]})})});kk.displayName="Chart";const FVe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,a])=>a.theme||a.color);return r.length?s.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(PVe).map(([n,a])=>`
${a} [data-chart=${t}] {
${r.map(([i,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${i}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},DVe=x.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:a=!1,hideIndicator:i=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:A,nameKey:d,labelKey:h},f)=>{const{config:g}=XG(),p=x.useMemo(()=>{var _;if(a||!(e!=null&&e.length))return null;const[y]=e,b=`${h||y.dataKey||y.name||"value"}`,v=aS(g,y,b),B=!h&&typeof o=="string"?((_=g[o])==null?void 0:_.label)||o:v==null?void 0:v.label;return l?s.jsx("div",{className:fe("font-medium",c),children:l(B,e)}):B?s.jsx("div",{className:fe("font-medium",c),children:B}):null},[o,l,e,a,c,g,h]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&n!=="dot";return s.jsxs("div",{ref:f,className:fe("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[m?null:p,s.jsx("div",{className:"grid gap-1.5",children:e.map((y,b)=>{const v=`${d||y.name||y.dataKey||"value"}`,B=aS(g,y,v),_=A||y.payload.fill||y.color;return s.jsx("div",{className:fe("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(y==null?void 0:y.value)!==void 0&&y.name?u(y.value,y.name,y,b,y.payload):s.jsxs(s.Fragment,{children:[B!=null&&B.icon?s.jsx(B.icon,{}):!i&&s.jsx("div",{className:fe("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":m&&n==="dashed"}),style:{"--color-bg":_,"--color-border":_}}),s.jsxs("div",{className:fe("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[s.jsxs("div",{className:"grid gap-1.5",children:[m?p:null,s.jsx("span",{className:"text-muted-foreground",children:(B==null?void 0:B.label)||y.name})]}),y.value&&s.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:y.value.toLocaleString()})]})]})},y.dataKey)})})]})});DVe.displayName="ChartTooltip";const OVe=x.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:a},i)=>{const{config:o}=XG();return r!=null&&r.length?s.jsx("div",{ref:i,className:fe("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${a||l.dataKey||"value"}`,u=aS(o,l,c);return s.jsxs("div",{className:fe("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?s.jsx(u.icon,{}):s.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});OVe.displayName="ChartLegend";function aS(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let a=r;return r in e&&typeof e[r]=="string"?a=e[r]:n&&r in n&&typeof n[r]=="string"&&(a=n[r]),a in t?t[a]:t[r]}function YG({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:i=40}){return s.jsx(kk,{config:{[r[0]]:{color:n[0]}},children:s.jsxs(IVe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(Nk,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ih,{dataKey:e}),s.jsx(Ph,{width:i,tickFormatter:a}),s.jsx(Ms,{content:({active:o,payload:l})=>o&&l&&l.length?s.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),s.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>s.jsx(Mu,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function RVe({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:a=o=>`${o}`,yAxisWidth:i=40}){return s.jsx(kk,{config:{[r[0]]:{color:n[0]}},children:s.jsxs(TVe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[s.jsx(Nk,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ih,{dataKey:e}),s.jsx(Ph,{width:i,tickFormatter:a}),s.jsx(Ms,{content:({active:o,payload:l})=>o&&l&&l.length?s.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:s.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),s.jsx("span",{className:"font-bold text-muted-foreground",children:a(Number(l[0].value))})]})})}):null}),r.map((o,l)=>s.jsx(mg,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function d5(){var c,u;const[t,e]=x.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=x.useState(null),[a,i]=x.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=x.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return x.useEffect(()=>{(async()=>{const[d,h,f,g,p,m]=await Promise.all([Z.from("products").select("id",{count:"exact",head:!0}),Z.from("orders").select("id",{count:"exact",head:!0}),Z.from("profiles").select("id",{count:"exact",head:!0}),Z.from("shipping_methods").select("id",{count:"exact",head:!0}),Z.from("coal_inventory_summary").select("*").maybeSingle(),Z.from("coal_inventory_transactions").select("*")]);e({totalProducts:d.count||0,totalOrders:h.count||0,totalUsers:f.count||0,totalShippingMethods:g.count||0}),p.data&&n(p.data);const{data:y}=await Z.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(y){const b=y.reduce((C,E)=>C+Number(E.total),0),v=[0,0,0,0,0,0];y.forEach(C=>{const N=new Date(C.date).getMonth();N<6&&(v[N]+=Number(C.total))}),l([{name:"Jan",total:v[0]},{name:"Feb",total:v[1]},{name:"Mar",total:v[2]},{name:"Apr",total:v[3]},{name:"Mei",total:v[4]},{name:"Jun",total:v[5]}]);let B=0;m.data&&(B=m.data.filter(E=>E.transaction_type==="incoming"&&E.vehicle_info!=="cancelled_order_return").reduce((E,N)=>{const S=(N.price_per_kg||0)*N.quantity_kg;return E+S},0));const _=b-B,j=b>0?_/b*100:0;i({totalSales:b,totalPurchaseCost:B,profit:_,profitMargin:j})}})()},[]),s.jsxs(Ln,{children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(ct,{className:"text-sm font-medium",children:"Produk"}),s.jsx(fo,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(ct,{className:"text-sm font-medium",children:"Pesanan"}),s.jsx(jy,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),s.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(ct,{className:"text-sm font-medium",children:"Pengguna"}),s.jsx(yS,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),s.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between pb-2",children:[s.jsx(ct,{className:"text-sm font-medium",children:"Metode Pengiriman"}),s.jsx(vX,{className:"h-4 w-4 text-gray-500"})]}),s.jsxs(je,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),s.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsxs(lt,{children:[s.jsx(ct,{className:"flex justify-between items-center",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(NX,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Ringkasan Keuangan"})]})}),s.jsx(dr,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),s.jsx(je,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),s.jsx("h3",{className:"text-xl font-bold text-green-600",children:xe(a.totalSales)})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(FT,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),s.jsx("h3",{className:"text-xl font-bold text-red-600",children:xe(a.totalPurchaseCost)})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(XX,{className:"h-6 w-6 text-red-600"})})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:a.profit>=0?"Keuntungan":"Kerugian"}),s.jsx("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:xe(Math.abs(a.profit))})]}),s.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:a.profit>=0?"#DCFCE7":"#FEE2E2"},children:a.profit>=0?s.jsx(FT,{className:"h-6 w-6 text-green-600"}):s.jsx(Sy,{className:"h-6 w-6 text-red-600"})})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),s.jsxs("h3",{className:"text-xl font-bold",style:{color:a.profit>=0?"#047857":"#dc2626"},children:[a.profitMargin.toFixed(2),"%"]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(IT,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsxs(lt,{children:[s.jsxs(ct,{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(DT,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Manajemen Stok Arang"})]}),s.jsx(mt,{to:"/admin/coal-inventory",children:s.jsxs(G,{className:"bg-flame-500 hover:bg-flame-600",children:[s.jsx(WM,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),s.jsx(dr,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),s.jsxs(je,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),s.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(DT,{className:"h-6 w-6 text-green-600"})})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),s.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(mX,{className:"h-6 w-6 text-blue-600"})})]})})}),s.jsx(_e,{children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),s.jsx("h3",{className:"text-xl font-bold",children:r?xe(r.stock_value):"Rp 0"})]}),s.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:s.jsx(IT,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsx(mt,{to:"/admin/coal-inventory",children:s.jsx(G,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsx(lt,{children:s.jsx(ct,{children:"Ringkasan Penjualan"})}),s.jsx(je,{children:s.jsx("div",{className:"h-80",children:s.jsx(YG,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:A=>xe(A)})})})]})]})}var UVe="AspectRatio",JG=x.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...a}=t;return s.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:s.jsx(Ye.div,{...a,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});JG.displayName=UVe;var MVe=JG;const QVe=MVe,LVe=ya({quantity:Tl().int(),type:_d(["restock","sale","return","adjustment"]),notes:St().optional()}),$Ve=ya({name:St().min(1,"Nama wajib diisi"),type:St().min(1,"Tipe wajib diisi"),price:Tl().min(0,"Harga harus berupa angka positif"),description:St().optional(),origin:St().optional(),seller:St().optional(),in_stock:OA().default(!0),featured:OA().default(!1),discount:Tl().min(0).max(100).optional()});function HVe(){const[t,e]=x.useState([]),[r,n]=x.useState(""),[a,i]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[A,d]=x.useState(!1),[h,f]=x.useState(null),[g,p]=x.useState(1),[m,y]=x.useState(10),[b,v]=x.useState(0),[B,_]=x.useState(!1),j=fa({resolver:ma(LVe),defaultValues:{quantity:0,type:"restock",notes:""}}),C=fa({resolver:ma($Ve),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});x.useEffect(()=>{E()},[g,r]);const E=async()=>{i(!0);try{let Q=Z.from("products").select("*",{count:"exact"});r&&(Q=Q.ilike("name",`%${r}%`));const{data:K,error:$,count:q}=await Q.order("created_at",{ascending:!1}).range((g-1)*m,g*m-1);if($)throw $;e(K),v(q||0)}catch(Q){console.error("Error fetching products:",Q),me({title:"Error memuat produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{i(!1)}},N=Q=>{f(Q),l(!0),j.reset({quantity:0,type:"restock",notes:""})},S=()=>{f(null),u(!0),C.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},k=Q=>{f(Q),d(!0),C.reset({name:Q.name,type:Q.type,price:Q.price,description:Q.description||"",origin:Q.origin||"",seller:Q.seller||"",in_stock:Q.in_stock||!1,featured:Q.featured||!1,discount:Q.discount||0})},I=Q=>{f(Q),_(!0)},T=async()=>{if(h)try{const{error:Q}=await Z.from("products").delete().eq("id",h.id);if(Q)throw Q;me({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),_(!1),E()}catch(Q){console.error("Error deleting product:",Q),me({title:"Error menghapus produk",description:Q.message||"Silakan coba lagi nanti.",variant:"destructive"})}},U=async Q=>{if(h)try{const K={id:"",product_id:h.id,quantity:Q.quantity,transaction_type:Q.type,notes:Q.notes||void 0,created_by:null},{error:$}=await Z.from("inventory_transactions").insert(K);if($)throw $;Q.type==="restock"&&Q.quantity>0&&!h.in_stock&&await Z.from("products").update({in_stock:!0}).eq("id",h.id),me({title:"Inventaris diperbarui",description:`${Q.quantity} unit ${Q.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),E()}catch(K){console.error("Error memperbarui inventaris:",K),me({title:"Error memperbarui inventaris",description:K.message||"Silakan coba lagi nanti.",variant:"destructive"})}},M=async Q=>{try{if(A&&h){const{error:K}=await Z.from("products").update({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,updated_at:new Date().toISOString()}).eq("id",h.id);if(K)throw K;me({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:K}=await Z.from("products").insert({name:Q.name,type:Q.type,price:Q.price,description:Q.description||null,origin:Q.origin||null,seller:Q.seller||null,in_stock:Q.in_stock,featured:Q.featured,discount:Q.discount||null,images:[]});if(K)throw K;me({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),d(!1),E()}catch(K){console.error("Error menyimpan produk:",K),me({title:"Error menyimpan produk",description:K.message||"Silakan coba lagi nanti.",variant:"destructive"})}},L=r?t.filter(Q=>Q.name.toLowerCase().includes(r.toLowerCase())||Q.type.toLowerCase().includes(r.toLowerCase())):t,O=Math.ceil(b/m),D=g>1,R=g<O;return s.jsxs(Ln,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),s.jsxs(G,{onClick:S,children:[s.jsx(rh,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),s.jsx("div",{className:"mb-6 flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(he,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:Q=>n(Q.target.value)})]})}),s.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{className:"w-[80px]",children:"Gambar"}),s.jsx(Pe,{children:"Produk"}),s.jsx(Pe,{children:"Tipe"}),s.jsx(Pe,{className:"text-right",children:"Harga"}),s.jsx(Pe,{className:"text-center",children:"Stok"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:a?s.jsx(xt,{children:s.jsx(be,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):L.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):L.map(Q=>{var K;return s.jsxs(xt,{children:[s.jsx(be,{children:s.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:s.jsx(QVe,{ratio:1/1,children:s.jsx("img",{src:((K=Q.images)==null?void 0:K[0])||"/placeholder.svg",alt:Q.name,className:"object-cover"})})})}),s.jsx(be,{className:"font-medium",children:Q.name}),s.jsx(be,{children:Q.type}),s.jsx(be,{className:"text-right",children:xe(Q.price)}),s.jsx(be,{className:"text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${Q.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Q.in_stock?"Tersedia":"Stok habis"})}),s.jsxs(be,{className:"text-right",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>N(Q),className:"mr-2",children:[s.jsx(fo,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>k(Q),className:"mr-2",children:[s.jsx(Tp,{className:"h-4 w-4"})," Edit"]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>I(Q),children:[s.jsx(um,{className:"h-4 w-4"})," Hapus"]})]})]},Q.id)})})]})}),O>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",g," dari ",O]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>p(Q=>Math.max(Q-1,1)),disabled:!D,children:"Sebelumnya"}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>p(Q=>Math.min(Q+1,O)),disabled:!R,children:"Berikutnya"})]})]}),s.jsx(Ti,{open:o,onOpenChange:l,children:s.jsxs(ri,{children:[s.jsxs(Ii,{children:[s.jsx(Pi,{children:"Perbarui Inventaris"}),s.jsxs(Rm,{children:["Perbarui inventaris untuk ",h==null?void 0:h.name]})]}),s.jsx(ia,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(U),className:"space-y-6 py-6",children:[s.jsx(Ve,{control:j.control,name:"quantity",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Jumlah"}),s.jsx($e,{children:s.jsx(he,{type:"number",...Q,onChange:K=>Q.onChange(parseInt(K.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:j.control,name:"type",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tipe Transaksi"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Q,children:[s.jsx("option",{value:"restock",children:"Pengisian Stok"}),s.jsx("option",{value:"sale",children:"Penjualan"}),s.jsx("option",{value:"return",children:"Pengembalian"}),s.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:j.control,name:"notes",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Catatan"}),s.jsx($e,{children:s.jsx(he,{...Q,value:Q.value||""})}),s.jsx(Ge,{})]})}),s.jsxs(vo,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),s.jsx(G,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),s.jsx(Ti,{open:c||A,onOpenChange:Q=>{Q||(u(!1),d(!1))},children:s.jsxs(ri,{children:[s.jsx(Ii,{children:s.jsx(Pi,{children:A?"Edit Produk":"Tambah Produk"})}),s.jsx(ia,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(M),className:"space-y-6 py-6",children:[s.jsx(Ve,{control:C.control,name:"name",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama Produk"}),s.jsx($e,{children:s.jsx(he,{...Q})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"type",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tipe Produk"}),s.jsx($e,{children:s.jsx(he,{...Q})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"price",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Harga"}),s.jsx($e,{children:s.jsx(he,{type:"number",step:"0.01",...Q,onChange:K=>Q.onChange(parseFloat(K.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"description",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Deskripsi"}),s.jsx($e,{children:s.jsx(Wl,{...Q,value:Q.value||""})}),s.jsx(Ge,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ve,{control:C.control,name:"origin",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Asal"}),s.jsx($e,{children:s.jsx(he,{...Q,value:Q.value||""})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"seller",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Penjual"}),s.jsx($e,{children:s.jsx(he,{...Q,value:Q.value||""})}),s.jsx(Ge,{})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ve,{control:C.control,name:"in_stock",render:({field:Q})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsx("div",{className:"space-y-0.5",children:s.jsx(Le,{children:"Tersedia"})}),s.jsx($e,{children:s.jsx("input",{type:"checkbox",checked:Q.value,onChange:K=>Q.onChange(K.target.checked),className:"h-4 w-4"})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"featured",render:({field:Q})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsx("div",{className:"space-y-0.5",children:s.jsx(Le,{children:"Unggulan"})}),s.jsx($e,{children:s.jsx("input",{type:"checkbox",checked:Q.value,onChange:K=>Q.onChange(K.target.checked),className:"h-4 w-4"})}),s.jsx(Ge,{})]})})]}),s.jsx(Ve,{control:C.control,name:"discount",render:({field:Q})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Diskon (%)"}),s.jsx($e,{children:s.jsx(he,{type:"number",min:"0",max:"100",...Q,onChange:K=>Q.onChange(parseInt(K.target.value)||0),value:Q.value||0})}),s.jsx(Ge,{})]})}),s.jsxs(vo,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{u(!1),d(!1)},children:"Cancel"}),s.jsx(G,{type:"submit",children:"Simpan Produk"})]})]})})]})}),s.jsx(br,{open:B,onOpenChange:_,children:s.jsxs(mr,{children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Konfirmasi Penghapusan"}),s.jsxs($n,{children:["Apakah Anda yakin ingin menghapus ",h==null?void 0:h.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),s.jsxs(wn,{children:[s.jsx(G,{variant:"outline",onClick:()=>_(!1),children:"Batal"}),s.jsx(G,{variant:"destructive",onClick:T,children:"Hapus"})]})]})})]})}const VVe=ya({transaction_date:St().nonempty("Tanggal transaksi wajib diisi"),transaction_type:_d(["incoming","outgoing"]),quantity_kg:Tl().positive("Jumlah harus lebih dari 0"),source_destination:St().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:St().optional(),driver_name:St().optional(),price_per_kg:Tl().optional(),quality_grade:_d(["premium","standard","economy"]),moisture_content:Tl().min(0).max(100).optional(),notes:St().optional(),document_reference:St().optional()}),KVe={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function zVe(){const{user:t,profile:e}=Hr(),[r,n]=x.useState(KVe),[a,i]=x.useState([]),[o,l]=x.useState(!1),[c,u]=x.useState(!0),[A,d]=x.useState(""),[h,f]=x.useState("all"),[g,p]=x.useState(1),[m]=x.useState(10),[y,b]=x.useState(null),[v,B]=x.useState(!1),[_,j]=x.useState(!1),C=fa({resolver:ma(VVe),defaultValues:{transaction_date:bn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),E=async()=>{try{u(!0);const{data:W,error:ne}=await Uc.getTransactions(100,0);if(ne)throw ne;W&&i(W);const{data:oe,error:re}=await Uc.getSummary();if(re)throw re;oe&&n(oe)}catch(W){console.error("Error fetching transactions:",W),me({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};x.useEffect(()=>{E()},[]);const N=async W=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const ne={...W,created_by:t.id,created_at:new Date().toISOString(),total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0};console.log("Mengirim data transaksi:",ne);const{data:oe,error:re}=await Uc.addTransaction(ne);if(re)throw console.error("Error dari service:",re),re;if(!oe)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");me({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),C.reset(),l(!1),E()}catch(ne){console.error("Error adding transaction:",ne),me({title:"Error",description:(ne==null?void 0:ne.message)||(ne==null?void 0:ne.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},S=async W=>{if(y)try{u(!0);const ne={...W,total_amount:W.price_per_kg?W.price_per_kg*W.quantity_kg:void 0},{error:oe}=await Uc.updateTransaction(y.id,ne);if(oe)throw oe;me({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),C.reset(),B(!1),b(null),E()}catch(ne){console.error("Error updating transaction:",ne),me({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},k=async()=>{if(y)try{u(!0);const{error:W}=await Uc.deleteTransaction(y.id);if(W)throw W;me({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),j(!1),b(null),E()}catch(W){console.error("Error deleting transaction:",W),me({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},I=W=>{b(W),C.reset({transaction_date:W.transaction_date.substring(0,10),transaction_type:W.transaction_type,quantity_kg:W.quantity_kg,source_destination:W.source_destination,vehicle_info:W.vehicle_info||"",driver_name:W.driver_name||"",price_per_kg:W.price_per_kg||0,quality_grade:W.quality_grade||"standard",moisture_content:W.moisture_content||0,notes:W.notes||"",document_reference:W.document_reference||""}),B(!0)},T=W=>{b(W),j(!0)},U=a.filter(W=>{var ne,oe;return A===""?!0:W.source_destination.toLowerCase().includes(A.toLowerCase())||((ne=W.document_reference)==null?void 0:ne.toLowerCase().includes(A.toLowerCase()))||((oe=W.driver_name)==null?void 0:oe.toLowerCase().includes(A.toLowerCase()))}).filter(W=>h==="all"?!0:W.transaction_type===h).sort((W,ne)=>new Date(ne.transaction_date).getTime()-new Date(W.transaction_date).getTime()),M=U.length,L=Math.ceil(M/m),O=(g-1)*m,D=Math.min(O+m,M),R=U.slice(O,D),Q=g>1,K=g<L,$=()=>{l(!0),C.reset({transaction_date:bn(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},q=async W=>{try{v&&y?await S(W):await N(W)}catch(ne){console.error("Error submitting transaction:",ne)}},z=()=>s.jsx(br,{open:_,onOpenChange:j,children:s.jsxs(mr,{children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Konfirmasi Hapus Transaksi"}),s.jsx($n,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),s.jsxs(wn,{className:"flex space-x-2 justify-end",children:[s.jsx(G,{variant:"outline",onClick:()=>j(!1),children:"Batal"}),s.jsx(G,{variant:"destructive",onClick:k,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return s.jsx(Ln,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),s.jsxs(G,{onClick:$,children:[s.jsx(rh,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(_e,{children:[s.jsxs(lt,{className:"pb-2",children:[s.jsx(ct,{className:"text-xl",children:"Stok Arang Saat Ini"}),s.jsx(dr,{children:"Total seluruh jenis arang"})]}),s.jsxs(je,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",xe(r.stock_value)]})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"pb-2",children:[s.jsx(ct,{className:"text-xl",children:"Rekapitulasi Arang"}),s.jsx(dr,{children:"Detail berdasarkan kualitas"})]}),s.jsxs(je,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Premium:"}),s.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Standar:"}),s.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Ekonomis:"}),s.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"pb-2",children:[s.jsx(ct,{className:"text-xl",children:"Aktivitas Transaksi"}),s.jsx(dr,{children:"Ringkasan aktivitas stok"})]}),s.jsxs(je,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(ST,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),s.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(NT,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),s.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),s.jsx("span",{className:"font-bold",children:bn(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:ps})})]})]})]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[s.jsxs("div",{className:"relative w-full md:w-64",children:[s.jsx(Yl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),s.jsx(he,{placeholder:"Cari transaksi...",className:"pl-8",value:A,onChange:W=>d(W.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(G,{variant:h==="all"?"default":"outline",size:"sm",onClick:()=>f("all"),children:"Semua"}),s.jsxs(G,{variant:h==="incoming"?"default":"outline",size:"sm",onClick:()=>f("incoming"),className:"flex items-center",children:[s.jsx(ST,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),s.jsxs(G,{variant:h==="outgoing"?"default":"outline",size:"sm",onClick:()=>f("outgoing"),className:"flex items-center",children:[s.jsx(NT,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),s.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Tanggal"}),s.jsx(Pe,{children:"Tipe"}),s.jsx(Pe,{children:"Jumlah (kg)"}),s.jsx(Pe,{children:"Kualitas"}),s.jsx(Pe,{children:"Sumber/Tujuan"}),s.jsx(Pe,{children:"Kendaraan"}),s.jsx(Pe,{className:"text-right",children:"Nilai"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:c?s.jsx(xt,{children:s.jsx(be,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):R.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):R.map(W=>s.jsxs(xt,{children:[s.jsx(be,{children:bn(new Date(W.transaction_date),"dd MMM yyyy",{locale:ps})}),s.jsx(be,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),s.jsx(be,{className:"font-medium",children:W.quantity_kg.toLocaleString()}),s.jsx(be,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W.quality_grade==="premium"?"bg-blue-100 text-blue-800":W.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:W.quality_grade==="premium"?"Premium":W.quality_grade==="standard"?"Standar":"Ekonomis"})}),s.jsx(be,{children:W.source_destination}),s.jsx(be,{children:W.vehicle_info||"-"}),s.jsx(be,{className:"text-right",children:W.total_amount?xe(W.total_amount):"-"}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>I(W),children:s.jsx(Tp,{className:"h-4 w-4"})}),s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>T(W),className:"text-red-500 hover:text-red-700",children:s.jsx(ZM,{className:"h-4 w-4"})})]})})]},W.id))})]})}),L>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",g," dari ",L]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>p(W=>Math.max(W-1,1)),disabled:!Q,children:"Sebelumnya"}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>p(W=>Math.min(W+1,L)),disabled:!K,children:"Berikutnya"})]})]}),s.jsx(Ti,{open:o,onOpenChange:l,children:s.jsxs(ri,{className:"sm:max-w-md",children:[s.jsxs(Ii,{children:[s.jsx(Pi,{children:"Catat Transaksi Arang"}),s.jsx(Rm,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),s.jsx(ia,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(q),className:"space-y-4 py-4",children:[s.jsx(Ve,{control:C.control,name:"transaction_date",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tanggal Transaksi"}),s.jsx($e,{children:s.jsx(he,{type:"date",...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"transaction_type",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tipe Transaksi"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[s.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),s.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"quantity_kg",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Jumlah (kg)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"quality_grade",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kualitas Arang"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[s.jsx("option",{value:"premium",children:"Premium"}),s.jsx("option",{value:"standard",children:"Standar"}),s.jsx("option",{value:"economy",children:"Ekonomis"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"source_destination",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:C.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"vehicle_info",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Informasi Kendaraan"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"driver_name",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama Supir"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"price_per_kg",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Harga per kg (Rp)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"moisture_content",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kadar Air (%)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"document_reference",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Referensi Dokumen"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"notes",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Catatan"}),s.jsx($e,{children:s.jsx(Wl,{rows:3,...W})}),s.jsx(Ge,{})]})}),s.jsx(vo,{className:"pt-4",children:s.jsx(G,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),s.jsx(Ti,{open:v,onOpenChange:B,children:s.jsxs(ri,{className:"sm:max-w-md",children:[s.jsxs(Ii,{children:[s.jsx(Pi,{children:"Edit Transaksi Arang"}),s.jsx(Rm,{children:"Perbarui informasi transaksi arang"})]}),s.jsx(ia,{...C,children:s.jsxs("form",{onSubmit:C.handleSubmit(q),className:"space-y-4 py-4",children:[s.jsx(Ve,{control:C.control,name:"transaction_date",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tanggal Transaksi"}),s.jsx($e,{children:s.jsx(he,{type:"date",...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"transaction_type",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Tipe Transaksi"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[s.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),s.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"quantity_kg",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Jumlah (kg)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"quality_grade",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kualitas Arang"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...W,children:[s.jsx("option",{value:"premium",children:"Premium"}),s.jsx("option",{value:"standard",children:"Standar"}),s.jsx("option",{value:"economy",children:"Ekonomis"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"source_destination",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:C.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"vehicle_info",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Informasi Kendaraan"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"driver_name",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama Supir"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"price_per_kg",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Harga per kg (Rp)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"moisture_content",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kadar Air (%)"}),s.jsx($e,{children:s.jsx(he,{type:"number",...W,onChange:ne=>W.onChange(parseInt(ne.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"document_reference",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Referensi Dokumen"}),s.jsx($e,{children:s.jsx(he,{...W})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:C.control,name:"notes",render:({field:W})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Catatan"}),s.jsx($e,{children:s.jsx(Wl,{rows:3,...W})}),s.jsx(Ge,{})]})}),s.jsx(vo,{className:"pt-4",children:s.jsx(G,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),z()]})})}const GVe=ya({name:St().min(1,{message:"Nama wajib diisi"}),carrier:St().min(1,{message:"Kurir wajib diisi"}),cost:Tl().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:Tl().int().min(1,{message:"Estimasi Jam minimal 1"}),active:OA().default(!0)});function WVe(){const[t,e]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[A,d]=x.useState(!1),[h,f]=x.useState(null),g=fa({resolver:ma(GVe),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});x.useEffect(()=>{p()},[]);const p=async()=>{n(!0);try{const{data:B,error:_}=await Z.from("shipping_methods").select("*").order("name");if(_)throw _;e(B||[])}catch(B){console.error("Error fetching shipping methods:",B),me({title:"Error memuat metode pengiriman",description:B.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},m=B=>{B?(u(B),i(!0),l(!1),g.reset({name:B.name,carrier:B.carrier,cost:B.cost,estimated_days:B.estimated_days,active:B.active!==void 0?B.active:!0})):(u(null),l(!0),i(!1),g.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},y=async B=>{try{if(a&&c){const{error:_}=await Z.from("shipping_methods").update({name:B.name,carrier:B.carrier,cost:B.cost,estimated_days:B.estimated_days,active:B.active}).eq("id",c.id);if(_)throw _;me({title:"Metode pengiriman diperbarui",description:`${B.name} telah diperbarui berhasil.`})}else if(o){const{error:_}=await Z.from("shipping_methods").insert({name:B.name,carrier:B.carrier,cost:B.cost,estimated_days:B.estimated_days,active:B.active});if(_)throw _;me({title:"Metode pengiriman ditambahkan",description:`${B.name} telah ditambahkan berhasil.`})}i(!1),l(!1),p()}catch(_){console.error("Error saving shipping method:",_),me({title:"Error menyimpan metode pengiriman",description:_.message||"Silakan coba lagi nanti",variant:"destructive"})}},b=B=>{f(B),d(!0)},v=async()=>{if(h)try{const{error:B}=await Z.from("shipping_methods").delete().eq("id",h.id);if(B)throw B;me({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),d(!1),p()}catch(B){console.error("Error deleting shipping method:",B),me({title:"Error menghapus metode pengiriman",description:B.message||"Silakan coba lagi nanti",variant:"destructive"})}};return s.jsxs(Ln,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),s.jsxs(G,{onClick:()=>m(),children:[s.jsx(rh,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),s.jsx(_e,{children:s.jsx(je,{className:"p-0",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Nama"}),s.jsx(Pe,{children:"Kurir"}),s.jsx(Pe,{children:"Estimasi Jam"}),s.jsx(Pe,{className:"text-right",children:"Biaya"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:r?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(B=>s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:B.name}),s.jsx(be,{children:B.carrier}),s.jsxs(be,{className:"text-center",children:[B.estimated_days," Jam"]}),s.jsx(be,{className:"text-right",children:xe(B.cost)}),s.jsxs(be,{className:"text-right space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>m(B),children:s.jsx(Tp,{className:"h-4 w-4"})}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>b(B),children:s.jsx(um,{className:"h-4 w-4"})})]})]},B.id))})]})})}),s.jsx(Ti,{open:a||o,onOpenChange:B=>{B||(i(!1),l(!1))},children:s.jsxs(ri,{children:[s.jsx(Ii,{children:s.jsx(Pi,{children:a?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),s.jsx(ia,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(y),className:"space-y-6 py-6",children:[s.jsx(Ve,{control:g.control,name:"name",render:({field:B})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama"}),s.jsx($e,{children:s.jsx(he,{...B})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"carrier",render:({field:B})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kurir"}),s.jsx($e,{children:s.jsx(he,{...B})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"cost",render:({field:B})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Biaya (Rp)"}),s.jsx($e,{children:s.jsx(he,{type:"number",step:"0.01",...B,onChange:_=>B.onChange(parseFloat(_.target.value)||0)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"estimated_days",render:({field:B})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Estimasi Jam"}),s.jsx($e,{children:s.jsx(he,{type:"number",...B,onChange:_=>B.onChange(parseInt(_.target.value)||1)})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"active",render:({field:B})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsx("div",{className:"space-y-0.5",children:s.jsx(Le,{children:"Aktif"})}),s.jsx($e,{children:s.jsx("input",{type:"checkbox",checked:B.value,onChange:_=>B.onChange(_.target.checked),className:"h-4 w-4"})}),s.jsx(Ge,{})]})}),s.jsxs(vo,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>{i(!1),l(!1)},children:"Batal"}),s.jsx(G,{type:"submit",children:"Simpan Metode"})]})]})})]})}),s.jsx(br,{open:A,onOpenChange:d,children:s.jsxs(mr,{children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:"Konfirmasi Penghapusan"}),s.jsx($n,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),s.jsxs(wn,{children:[s.jsx(G,{variant:"outline",onClick:()=>d(!1),children:"Batal"}),s.jsx(G,{variant:"destructive",onClick:v,children:"Hapus"})]})]})})]})}const qVe=ya({name:St().optional(),role:_d(["customer","manager","admin"])});function XVe(){const[t,e]=x.useState([]),[r,n]=x.useState(""),[a,i]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(null),[A,d]=x.useState(1),[h,f]=x.useState(10),[g,p]=x.useState(0),m=fa({resolver:ma(qVe),defaultValues:{name:"",role:"customer"}});x.useEffect(()=>{y()},[A,r]);const y=async()=>{i(!0);try{let C=Z.from("profiles").select("*",{count:"exact"});r&&(C=C.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:E,error:N,count:S}=await C.order("created_at",{ascending:!1}).range((A-1)*h,A*h-1);if(N)throw N;e(E),p(S||0)}catch(C){console.error("Error fetching users:",C),me({title:"Error memuat pengguna",description:C.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{i(!1)}},b=C=>{u(C),m.reset({name:C.name||"",role:C.role||"customer"}),l(!0)},v=async C=>{if(c)try{const{error:E}=await Z.from("profiles").update({name:C.name,role:C.role}).eq("id",c.id);if(E)throw E;me({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),y()}catch(E){console.error("Error updating user:",E),me({title:"Error memperbarui pengguna",description:E.message||"Silakan coba lagi nanti.",variant:"destructive"})}},B=Math.ceil(g/h),_=A>1,j=A<B;return s.jsxs(Ln,{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),s.jsx("div",{className:"mb-6 flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(he,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:C=>n(C.target.value)})]})}),s.jsx(_e,{children:s.jsx(je,{className:"p-0",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Nama"}),s.jsx(Pe,{children:"Email"}),s.jsx(Pe,{children:"Peran"}),s.jsx(Pe,{children:"Bergabung"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:a?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(C=>s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:C.name||"N/A"}),s.jsx(be,{children:C.email||"N/A"}),s.jsx(be,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.role==="admin"?"bg-purple-100 text-purple-800":C.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:C.role||"customer"})}),s.jsx(be,{children:C.created_at?new Date(C.created_at).toLocaleDateString():"N/A"}),s.jsx(be,{className:"text-right",children:s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>b(C),children:[s.jsx(JX,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},C.id))})]})})}),B>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",A," dari ",B]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>d(C=>Math.max(C-1,1)),disabled:!_,children:"Sebelumnya"}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>d(C=>Math.min(C+1,B)),disabled:!j,children:"Selanjutnya"})]})]}),s.jsx(Ti,{open:o,onOpenChange:l,children:s.jsxs(ri,{children:[s.jsx(Ii,{children:s.jsx(Pi,{children:"Edit Pengguna"})}),s.jsx(ia,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(v),className:"space-y-6 py-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),s.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),s.jsx(Ve,{control:m.control,name:"name",render:({field:C})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama"}),s.jsx($e,{children:s.jsx(he,{...C,value:C.value||""})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:m.control,name:"role",render:({field:C})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Peran"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...C,children:[s.jsx("option",{value:"customer",children:"Pelanggan"}),s.jsx("option",{value:"manager",children:"Manajer"}),s.jsx("option",{value:"admin",children:"Admin"})]})}),s.jsx(Ge,{})]})}),s.jsxs(vo,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),s.jsx(G,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const YVe=ya({status:_d(["pending","processing","shipped","delivered","canceled"]),tracking_number:St().optional()}),Ua={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function JVe(){var ge;const[t,e]=x.useState([]),[r,n]=x.useState(""),[a,i]=x.useState(!0),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[A,d]=x.useState(null),[h,f]=x.useState(1),[g,p]=x.useState(10),[m,y]=x.useState(0),[b,v]=x.useState(!1),[B,_]=x.useState(!1),[j,C]=x.useState(null),[E,N]=x.useState(null),[S,k]=x.useState(null),[I,T]=x.useState(null),[U,M]=x.useState(null),L=x.useRef(null),O=fa({resolver:ma(YVe),defaultValues:{status:"pending",tracking_number:""}});x.useEffect(()=>{D()},[h,r]);const D=async()=>{i(!0);try{let Y=Z.from("orders").select("*",{count:"exact"});r&&(Y=Y.ilike("id",`%${r}%`));const{data:pe,error:Se,count:Ue}=await Y.order("date",{ascending:!1}).range((h-1)*g,h*g-1);if(Se)throw Se;console.log("Fetched orders:",pe),e(pe),y(Ue||0)}catch(Y){console.error("Error fetching orders:",Y),me({title:"Error memuat pesanan",description:Y.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{i(!1)}},R=Y=>{console.log("Editing order:",Y),d(Y),O.reset({status:Y.status,tracking_number:Y.trackingNumber||""}),l(!0)},Q=async Y=>{if(A){u(!0);try{console.log("Updating order with values:",Y);const{error:pe}=await Z.from("orders").update({status:Y.status,tracking_number:Y.tracking_number||null}).eq("id",A.id);if(pe)throw pe;me({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),D()}catch(pe){console.error("Error updating order:",pe),me({title:"Error memperbarui pesanan",description:pe.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},K=Y=>{switch(Y){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=Y=>{switch(Y){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return Y.charAt(0).toUpperCase()+Y.slice(1)}},q=Math.ceil(m/g),z=h>1,W=h<q,ne=Ot(),oe=Y=>{ne(`/admin/orders/${Y}`)},re=async Y=>{C(Y);try{const{data:pe,error:Se}=await Z.from("profiles").select("*").eq("id",Y.user_id).single();if(Se?console.warn("Error fetching customer:",Se):N(pe),Y.shipping_address_id){const{data:Ue,error:We}=await Z.from("addresses").select("*").eq("id",Y.shipping_address_id).single();!We&&Ue&&k({id:Ue.id,name:Ue.name,street:Ue.street,city:Ue.city,state:Ue.state,zip:Ue.zip,country:Ue.country,isDefault:Ue.is_default||!1,user_id:Ue.user_id,created_at:Ue.created_at})}if(Y.shipping_method_id){const{data:Ue,error:We}=await Z.from("shipping_methods").select("*").eq("id",Y.shipping_method_id).single();!We&&Ue&&T(Ue)}if(!Y.items||Y.items.length===0){const{data:Ue,error:We}=await Z.from("order_items").select("*").eq("order_id",Y.id);!We&&Ue&&(Y.items=Ue.map(gt=>({id:gt.id,productId:gt.product_id,productName:gt.product_name,quantity:gt.quantity,price:gt.price})),C({...Y}))}if(M(null),Y.voucher_id){const{data:Ue,error:We}=await Z.from("vouchers").select("*").eq("id",Y.voucher_id).single();!We&&Ue&&M({code:Ue.code,discount_type:Ue.discount_type})}v(!0)}catch(pe){console.error("Error fetching order details:",pe),me({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},ce=async()=>{if(!(!L.current||!j))try{_(!0);const Y=L.current,Se=(await dN(Y,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Ue=document.createElement("a");Ue.href=Se,Ue.download=`Struk-Pesanan-${j.id.substring(0,8)}.png`,Ue.click(),me({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(Y){console.error("Error saving receipt as image:",Y),me({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{_(!1)}},Ae=()=>{L.current&&window.print()};return s.jsxs(Ln,{children:[s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),s.jsx("div",{className:"mb-6 flex items-center gap-4",children:s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),s.jsx(he,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:Y=>n(Y.target.value)})]})}),s.jsx(_e,{children:s.jsx(je,{className:"p-0",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"ID Pesanan"}),s.jsx(Pe,{children:"Tanggal"}),s.jsx(Pe,{className:"text-center",children:"Status"}),s.jsx(Pe,{className:"text-right",children:"Diskon"}),s.jsx(Pe,{className:"text-right",children:"Total"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:a?s.jsx(xt,{children:s.jsx(be,{colSpan:6,className:"text-center py-8",children:s.jsxs("div",{className:"flex justify-center items-center",children:[s.jsx(kC,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(Y=>s.jsxs(xt,{children:[s.jsxs(be,{className:"font-medium",children:[Y.id.substring(0,8),"..."]}),s.jsx(be,{children:new Date(Y.date).toLocaleDateString()}),s.jsx(be,{className:"text-center",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${K(Y.status)}`,children:$(Y.status)})}),s.jsx(be,{className:"text-right",children:Y.discount_amount>0?s.jsxs("span",{className:"text-green-600",children:["-",xe(Y.discount_amount)]}):"-"}),s.jsx(be,{className:"text-right",children:xe(Y.total)}),s.jsxs(be,{className:"text-right",children:[s.jsxs(G,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>R(Y),children:[s.jsx(Tp,{className:"h-4 w-4 mr-1"}),"Edit"]}),s.jsxs(G,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>re(Y),children:[s.jsx(PC,{className:"h-4 w-4 mr-1"}),"Struk"]}),s.jsxs(G,{size:"sm",variant:"default",onClick:()=>oe(Y.id),children:[s.jsx(TX,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},Y.id))})]})})}),q>1&&s.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",h," dari ",q]}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.max(Y-1,1)),disabled:!z,children:"Sebelumnya"}),s.jsx(G,{variant:"outline",size:"sm",onClick:()=>f(Y=>Math.min(Y+1,q)),disabled:!W,children:"Berikutnya"})]})]}),s.jsx(Ti,{open:o,onOpenChange:l,children:s.jsxs(ri,{children:[s.jsx(Ii,{children:s.jsx(Pi,{children:"Perbarui Status Pesanan"})}),s.jsx(ia,{...O,children:s.jsxs("form",{onSubmit:O.handleSubmit(Q),className:"space-y-6 py-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",A==null?void 0:A.id]}),s.jsxs("p",{className:"text-sm font-medium",children:["Total: ",xe(A==null?void 0:A.total)]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",A!=null&&A.date?new Date(A.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),s.jsx(Ve,{control:O.control,name:"status",render:({field:Y})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Status"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...Y,children:[s.jsx("option",{value:"pending",children:"Menunggu"}),s.jsx("option",{value:"processing",children:"Diproses"}),s.jsx("option",{value:"shipped",children:"Dikirim"}),s.jsx("option",{value:"delivered",children:"Diterima"}),s.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:O.control,name:"tracking_number",render:({field:Y})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nomor Resi"}),s.jsx($e,{children:s.jsx(he,{...Y,value:Y.value||""})}),s.jsx(Ge,{})]})}),s.jsxs(vo,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),s.jsx(G,{type:"submit",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(kC,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),j&&s.jsx(br,{open:b,onOpenChange:v,children:s.jsxs(mr,{className:"max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{className:"text-center",children:"Struk Pesanan"})}),s.jsxs("div",{ref:L,style:Ua.receipt,children:[s.jsxs("div",{style:Ua.receiptHeader,children:[s.jsx("h2",{style:Ua.receiptTitle,children:"Struk Belanja"}),s.jsxs("div",{style:Ua.receiptStoreInfo,children:[s.jsx("p",{children:s.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),s.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),s.jsx("p",{children:"Telp: 0813-9458-6882"})]}),s.jsx("div",{style:Ua.receiptBorder}),s.jsx("p",{className:"mt-3 mb-1",children:s.jsxs("strong",{children:["Pesanan #",j.id.substring(0,8)]})}),s.jsx("p",{children:new Date(j.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),E&&s.jsxs("div",{style:Ua.receiptStoreInfo,children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Pelanggan:"})," ",E.name||"Tidak Ada"]}),s.jsx("p",{children:E.email||"Tidak Ada"}),s.jsx("p",{children:E.phone||"Tidak Ada"})]}),S&&s.jsxs("div",{style:Ua.receiptStoreInfo,children:[s.jsx("p",{children:s.jsx("strong",{children:"Dikirim Ke:"})}),s.jsx("p",{children:S.name}),s.jsx("p",{children:S.street}),s.jsx("p",{children:`${S.city}, ${S.state} ${S.zip}`})]}),s.jsx("div",{style:Ua.receiptBorder}),s.jsx("div",{style:{margin:"0.5rem 0"},children:j.items&&j.items.map((Y,pe)=>s.jsxs("div",{style:Ua.receiptItem,children:[s.jsxs("div",{children:[s.jsx("p",{children:Y.productName}),s.jsxs("p",{children:["Jml: ",Y.quantity," Kg × ",xe(Y.price)]})]}),s.jsx("span",{children:xe(Y.price*Y.quantity)})]},pe))}),s.jsxs("div",{className:"mt-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsx("span",{children:"Subtotal"}),s.jsx("span",{children:xe(((ge=j.items)==null?void 0:ge.reduce((Y,pe)=>Y+pe.price*pe.quantity,0))||0)})]}),j.discount_amount>0&&s.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[s.jsxs("span",{children:["Diskon Voucher ",U!=null&&U.code?`(${U.code})`:""]}),s.jsxs("span",{children:["-",xe(j.discount_amount)]})]}),I&&s.jsxs("div",{className:"flex justify-between py-1",children:[s.jsxs("span",{children:["Pengiriman (",I.name,")"]}),s.jsx("span",{children:xe(I.cost)})]}),s.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[s.jsx("span",{children:"Total Yang Harus Di Bayar"}),s.jsx("span",{children:xe(j.total)})]})]}),s.jsx("div",{style:Ua.receiptStoreInfo,children:s.jsxs("p",{children:[s.jsx("strong",{children:"Metode Pembayaran:"})," ",j.paymentMethod==="bank-transfer"?"Transfer Bank":j.paymentMethod==="qris"?"QRIS":j.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),s.jsx("div",{style:Ua.receiptBarcode,children:s.jsxs("p",{children:["*******",j.id.substring(0,8),"*******"]})}),s.jsx("div",{style:Ua.receiptThankYou,children:s.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),s.jsxs("div",{style:Ua.receiptFooter,children:[s.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),s.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),s.jsx("p",{children:"Terima kasih"})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx(G,{onClick:()=>v(!1),variant:"outline",className:"flex-1",children:"Tutup"}),s.jsxs(G,{onClick:Ae,className:"flex-1",children:[s.jsx(V0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),s.jsx(G,{onClick:ce,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:B,children:B?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const ZVe={async getCategories(){try{const{data:t,error:e}=await Z.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=xn()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await Z.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=Z.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:a,error:i}=await n;return{data:a==null?void 0:a.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:i}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=xn()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:a}=await Z.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:a}=await Z.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(a)throw a;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await Z.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await Z.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(i=>{const o=new Date(i.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=i.amount}),{data:Object.entries(n).map(([i,o])=>({month:i,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=Z.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;const i={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";i[c]||(i[c]={id:c,name:u,total:0}),i[c].total+=l.amount}),{data:Object.values(i).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=Z.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:a}=await r;if(a)throw a;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await Z.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const a={id:xn(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:i}=await Z.from("company_expenses").insert(a);return i?(console.error("Error reducing expense for cancelled order:",i),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var Fw="Switch",[e9e,RKe]=Hn(Fw),[t9e,r9e]=e9e(Fw),ZG=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:A,...d}=t,[h,f]=x.useState(null),g=dt(e,v=>f(v)),p=x.useRef(!1),m=h?A||!!h.closest("form"):!0,[y,b]=ys({prop:a,defaultProp:i??!1,onChange:u,caller:Fw});return s.jsxs(t9e,{scope:r,checked:y,disabled:l,children:[s.jsx(Ye.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":nW(y),"data-disabled":l?"":void 0,disabled:l,value:c,...d,ref:g,onClick:Re(t.onClick,v=>{b(B=>!B),m&&(p.current=v.isPropagationStopped(),p.current||v.stopPropagation())})}),m&&s.jsx(rW,{control:h,bubbles:!p.current,name:n,value:c,checked:y,required:o,disabled:l,form:A,style:{transform:"translateX(-100%)"}})]})});ZG.displayName=Fw;var eW="SwitchThumb",tW=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=r9e(eW,r);return s.jsx(Ye.span,{"data-state":nW(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});tW.displayName=eW;var n9e="SwitchBubbleInput",rW=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),l=dt(o,i),c=Gp(r),u=Pp(e);return x.useEffect(()=>{const A=o.current;if(!A)return;const d=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(d,"checked").set;if(c!==r&&f){const g=new Event("click",{bubbles:n});f.call(A,r),A.dispatchEvent(g)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:l,style:{...a.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});rW.displayName=n9e;function nW(t){return t?"checked":"unchecked"}var aW=ZG,a9e=tW;const vs=x.forwardRef(({className:t,...e},r)=>s.jsx(aW,{className:fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(a9e,{className:fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));vs.displayName=aW.displayName;const s9e=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},i9e=(t,e,r,n)=>{const a=t.substring(0,8),i=s9e(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`━━━━━━━━━━━━━━━━━━━━━━

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${a} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${i}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},o9e=async(t,e)=>{try{const{data:r,error:n}=await Z.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:a,error:i}=await Z.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(i||!a||!a.phone)return console.error("Error fetching customer data or no phone number:",i),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=i9e(t,e,o,a.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,a.phone),await zp(a.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class h5{static async updateOrderStatus(e,r,n=!0){try{const{data:a,error:i}=await Z.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)return console.error("Error updating order status:",i),{success:!1,message:"Gagal mengupdate status pesanan",error:i};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await o9e(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(a){return console.error("Unexpected error updating order status:",a),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:a}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await Z.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,a,i){try{const{error:o}=await Z.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:a,notes:i||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const l9e=(t=!0)=>({updateStatus:async(r,n,a,i,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await h5.updateOrderStatus(r,a,l);return u.success?(await h5.recordStatusChange(r,n,a,i,c),t&&me({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${a}`}),{success:!0,data:u}):(t&&me({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&me({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),c9e=th("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),sW=x.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:fe(c9e({variant:e}),t),...r}));sW.displayName="Alert";const iW=x.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:fe("mb-1 font-medium leading-none tracking-tight",t),...e}));iW.displayName="AlertTitle";const oW=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:fe("text-sm [&_p]:leading-relaxed",t),...e}));oW.displayName="AlertDescription";const LB=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],u9e=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function A9e({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var y;const[a,i]=x.useState(e),[o,l]=x.useState(!0),[c,u]=x.useState(""),[A,d]=x.useState(!1),[h,f]=x.useState(null),{updateStatus:g}=l9e(),p=b=>{i(b),f(null)},m=async()=>{var b,v;if(!r){f({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(a===e){f({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}d(!0),f(null);try{const B=await g(t,e,a,r,{notes:c.trim()||void 0,sendWhatsApp:o});B.success?(f({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((b=LB.find(_=>_.value===a))==null?void 0:b.label)||a}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(a)):f({type:"error",message:`Gagal memperbarui status: ${((v=B.error)==null?void 0:v.message)||"Terjadi kesalahan."}`})}catch(B){f({type:"error",message:`Error: ${B.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{d(!1)}};return s.jsxs(_e,{className:"w-full shadow-sm",children:[s.jsxs(lt,{children:[s.jsx(ct,{className:"text-lg",children:"Update Status Pesanan"}),s.jsx(dr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),s.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${u9e(e)}`,children:((y=LB.find(b=>b.value===e))==null?void 0:y.label)||e})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ie,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),s.jsxs(Rn,{value:a,onValueChange:p,disabled:A,children:[s.jsx(vn,{id:"new-status",className:"w-full",children:s.jsx(Un,{placeholder:"Pilih status baru"})}),s.jsx(yn,{children:LB.map(b=>s.jsx(vt,{value:b.value,disabled:b.value===e,children:b.label},b.value))})]})]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Ie,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),s.jsx(Wl,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:b=>u(b.target.value),disabled:A,className:"resize-none",rows:2})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vs,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:A}),s.jsx(Ie,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),h&&s.jsxs(sW,{variant:h.type==="success"?"default":"destructive",className:h.type==="success"?"bg-green-50 border-green-200":"",children:[h.type==="success"?s.jsx(_X,{className:"h-4 w-4"}):s.jsx(lm,{className:"h-4 w-4"}),s.jsx(iW,{children:h.type==="success"?"Berhasil":"Terjadi Kesalahan"}),s.jsx(oW,{children:h.message})]})]}),s.jsx(ms,{children:s.jsx(G,{onClick:m,disabled:A||a===e,className:"w-full",children:A?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):s.jsxs(s.Fragment,{children:[s.jsx(XM,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function d9e(){const{id:t}=Up(),e=Ot(),r=x.useRef(null),[n,a]=x.useState(null),[i,o]=x.useState(null),[l,c]=x.useState(null),[u,A]=x.useState(null),[d,h]=x.useState(!0),[f,g]=x.useState(!1),[p,m]=x.useState(null),[y,b]=x.useState(!1),[v,B]=x.useState(""),[_,j]=x.useState(!1),[C,E]=x.useState(!1),[N,S]=x.useState(null);x.useEffect(()=>{if(!t)return;k(),(async()=>{const{data:{session:D}}=await Z.auth.getSession();D!=null&&D.user&&B(D.user.id)})()},[t]);const k=async()=>{try{h(!0);const{data:O,error:D}=await Z.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(D)throw D;const{data:R,error:Q}=await Z.from("profiles").select("*").eq("id",O.user_id).single();if(Q?console.warn("Error fetching customer:",Q):o(R),O.shipping_address_id){const{data:ne,error:oe}=await Z.from("addresses").select("*").eq("id",O.shipping_address_id).single();!oe&&ne&&c({id:ne.id,name:ne.name,street:ne.street,city:ne.city,state:ne.state,zip:ne.zip,country:ne.country,isDefault:ne.is_default||!1,user_id:ne.user_id,created_at:ne.created_at})}if(O.shipping_method_id){const{data:ne,error:oe}=await Z.from("shipping_methods").select("*").eq("id",O.shipping_method_id).single();!oe&&ne&&A(ne)}if(O.payment_details&&O.payment_details.includes("notes:"))try{const ne=O.payment_details.match(/notes:(.*)/);ne&&ne[1]&&m(ne[1].trim())}catch(ne){console.error("Error parsing notes:",ne)}const K=ne=>["pending","processing","shipped","delivered","canceled"].includes(ne),$=ne=>ne===null||["pending","assigned","picked_up","delivered","failed"].includes(ne),q=O.status,z=O.delivery_status,W={id:O.id,date:O.date,status:K(q)?q:"pending",total:O.total,paymentMethod:O.payment_method,trackingNumber:O.tracking_number,shipping_address_id:O.shipping_address_id,shipping_method_id:O.shipping_method_id,user_id:O.user_id,delivery_status:$(z)?z:"pending",courier_id:O.courier_id,voucher_id:O.voucher_id,discount_amount:O.discount_amount||0,items:O.order_items.map(ne=>({id:ne.id,productId:ne.product_id,productName:ne.product_name,quantity:ne.quantity,price:ne.price,order_id:ne.order_id}))};if(O.voucher_id){const{data:ne,error:oe}=await Z.from("vouchers").select("*").eq("id",O.voucher_id).single();!oe&&ne&&S({code:ne.code,discount_type:ne.discount_type})}a(W)}catch(O){console.error("Error fetching order:",O),me({title:"Error memuat pesanan",description:O.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{h(!1)}},I=async()=>{if(r.current)try{b(!0),f||(g(!0),await new Promise(K=>setTimeout(K,500)));const O=r.current,R=(await dN(O,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),Q=document.createElement("a");Q.href=R,Q.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,Q.click(),me({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(O){console.error("Error saving receipt as image:",O),me({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{b(!1)}},T=()=>{r.current&&(g(!0),setTimeout(()=>{const O=r.current;if(!O)return;const D=window.open("","_blank");if(!D){me({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const R=O.innerHTML;D.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${R}
      `),D.print(),g(!1)},500))},U=async()=>{if(!(!n||!t))try{E(!0);const{error:O}=await Z.from("orders").update({status:"canceled"}).eq("id",t);if(O)throw O;const D=await Z.auth.getUser().then(({data:R})=>{var Q;return((Q=R.user)==null?void 0:Q.id)||"system"});if(n.items&&n.items.length>0){await Uc.restoreStockFromCancelledOrder(n.id,n.items.map(Q=>({productName:Q.productName,quantity:Q.quantity})),D);const R=n.total||n.items.reduce((Q,K)=>Q+K.price*K.quantity,0);await ZVe.reduceCostFromCancelledOrder(n.id,D,R)}a({...n,status:"canceled"}),me({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(O){console.error("Error canceling order:",O),me({title:"Gagal Membatalkan Pesanan",description:O.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{E(!1),j(!1)}},M=O=>{switch(O){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},L=O=>{if(!O)return"";switch(O){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return O.charAt(0).toUpperCase()+O.slice(1)}};return d?s.jsx(Ln,{children:s.jsxs("div",{className:"flex justify-center items-center h-64",children:[s.jsx(kC,{className:"h-8 w-8 animate-spin text-gray-500"}),s.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?s.jsxs(Ln,{children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[s.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),s.jsxs(G,{variant:"outline",onClick:T,className:"ml-2",children:[s.jsx(V0,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),s.jsxs(G,{variant:"outline",onClick:I,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:y,children:[y?s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}):s.jsx(Bl,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),s.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),s.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&s.jsxs(G,{variant:"destructive",onClick:()=>j(!0),className:"mr-2",disabled:n.status==="delivered",children:[s.jsx(TT,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),s.jsxs(G,{onClick:T,className:"bg-flame-500 hover:bg-flame-600",children:[s.jsx(V0,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{className:"text-lg",children:"Status Pesanan"}),s.jsx(dr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),s.jsx(je,{children:s.jsx(A9e,{orderId:n.id,currentStatus:n.status,adminId:v,onStatusUpdated:O=>{a({...n,status:O})}})})]}),s.jsxs(_e,{className:"md:col-span-2",children:[s.jsxs(lt,{children:[s.jsx(ct,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),s.jsxs(dr,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&s.jsx(_t,{className:`ml-2 ${M(n.status)}`,children:L(n.status)})]}),s.jsxs(dr,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&s.jsxs(dr,{children:["Nomor Resi: ",n.trackingNumber]})]}),s.jsxs(je,{children:[s.jsxs("div",{className:"space-y-1 mb-6",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Produk"}),s.jsx(Pe,{children:"Jumlah"}),s.jsx(Pe,{className:"text-right",children:"Harga"}),s.jsx(Pe,{className:"text-right",children:"Subtotal"})]})}),s.jsxs(ra,{children:[(n==null?void 0:n.items)&&n.items.map(O=>s.jsxs(xt,{children:[s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:s.jsx(fo,{className:"h-5 w-5 text-charcoal-400"})}),s.jsx("span",{children:O.productName})]})}),s.jsx(be,{children:O.quantity}),s.jsx(be,{className:"text-right",children:xe(O.price)}),s.jsx(be,{className:"text-right",children:xe(O.quantity*O.price)})]},O.id)),s.jsxs(xt,{children:[s.jsx(be,{colSpan:2}),s.jsx(be,{className:"font-medium text-right",children:"Subtotal:"}),s.jsx(be,{className:"font-medium text-right",children:n?xe(n.items.reduce((O,D)=>O+D.price*D.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&s.jsxs(xt,{children:[s.jsx(be,{colSpan:2}),s.jsx(be,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),s.jsxs(be,{className:"font-medium text-right text-green-600",children:["-",xe(n.discount_amount)]})]}),u&&s.jsxs(xt,{children:[s.jsx(be,{colSpan:2}),s.jsxs(be,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),s.jsx(be,{className:"font-medium text-right",children:xe(u.cost)})]}),s.jsxs(xt,{children:[s.jsx(be,{colSpan:2}),s.jsx(be,{className:"font-bold text-right",children:"Total:"}),s.jsx(be,{className:"font-bold text-right",children:n?xe(n.total):""})]})]})]})]}),p&&s.jsxs("div",{className:"mt-4",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),s.jsx("div",{className:"text-sm text-gray-500 italic",children:p})]})]})]}),s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsx(ct,{className:"text-lg",children:"Informasi Pelanggan"})}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),s.jsx("p",{children:(i==null?void 0:i.name)||"N/A"}),s.jsx("p",{children:(i==null?void 0:i.email)||"N/A"}),s.jsx("p",{children:(i==null?void 0:i.phone)||"N/A"})]}),s.jsx(sa,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?s.jsxs(s.Fragment,{children:[s.jsx("p",{children:l.name}),s.jsx("p",{children:l.street}),s.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),s.jsx("p",{children:l.country})]}):s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),s.jsx(sa,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),s.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&s.jsxs(s.Fragment,{children:[s.jsx(sa,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),s.jsxs("p",{children:[u.name," - ",u.carrier]}),s.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),s.jsx("p",{className:"font-medium",children:xe(u.cost)})]})]})]})})]})]})]}),s.jsx(br,{open:_,onOpenChange:j,children:s.jsxs(mr,{className:"max-w-md",children:[s.jsxs(Er,{children:[s.jsx(Sr,{className:"text-center",children:"Konfirmasi Pembatalan"}),s.jsxs($n,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",s.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[s.jsx(Sy,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),s.jsxs(wn,{className:"flex flex-row justify-between mt-4",children:[s.jsx(G,{variant:"outline",onClick:()=>j(!1),disabled:C,children:"Batal"}),s.jsx(G,{variant:"destructive",onClick:U,disabled:C,children:C?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(TT,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),s.jsx(br,{open:f,onOpenChange:g,children:s.jsxs(mr,{className:"max-w-md",children:[s.jsx(Er,{children:s.jsx(Sr,{className:"text-center",children:"Struk Pesanan"})}),s.jsxs("div",{ref:r,className:"p-4",children:[s.jsxs("div",{className:"receipt-header",children:[s.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),s.jsxs("div",{className:"receipt-store-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),s.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),s.jsx("p",{children:"Telp: 0813-9458-6882"})]}),s.jsx("div",{className:"receipt-border"}),s.jsx("p",{className:"mt-3 mb-1",children:s.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),s.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i&&s.jsxs("div",{className:"receipt-customer-info",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Pelanggan:"})," ",i.name||"Tidak Ada"]}),s.jsx("p",{children:i.email||"Tidak Ada"}),s.jsx("p",{children:i.phone||"Tidak Ada"})]}),l&&s.jsxs("div",{className:"receipt-customer-info",children:[s.jsx("p",{children:s.jsx("strong",{children:"Alamat Pengiriman:"})}),s.jsx("p",{children:l.name}),s.jsx("p",{children:l.street}),s.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),s.jsxs("table",{className:"w-full mt-4 mb-3",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left",children:"Item"}),s.jsx("th",{className:"text-center",children:"Jml"}),s.jsx("th",{className:"text-right",children:"Harga"}),s.jsx("th",{className:"text-right",children:"Total"})]})}),s.jsx("tbody",{children:n.items.map(O=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-left",children:O.productName}),s.jsxs("td",{className:"text-center",children:[O.quantity,"x"]}),s.jsx("td",{className:"text-right",children:xe(O.price)}),s.jsx("td",{className:"text-right",children:xe(O.price*O.quantity)})]},O.id))})]}),s.jsx("div",{className:"receipt-border"}),s.jsxs("div",{className:"receipt-totals",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal:"}),s.jsx("span",{children:xe(n.items.reduce((O,D)=>O+D.price*D.quantity,0))})]}),n.discount_amount>0&&s.jsxs("div",{className:"flex justify-between text-green-600",children:[s.jsxs("span",{children:["Diskon Voucher ",N!=null&&N.code?`(${N.code})`:"",":"]}),s.jsxs("span",{children:["-",xe(n.discount_amount)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Subtotal sebelum diskon:"}),s.jsx("span",{children:xe(n.items.reduce((O,D)=>O+D.price*D.quantity,0)+n.discount_amount)})]}),u&&s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),s.jsx("span",{children:xe(u.cost)})]}),s.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[s.jsx("span",{children:"Total:"}),s.jsx("span",{children:xe(n.total)})]})]}),s.jsx("div",{className:"receipt-payment-info",children:s.jsxs("p",{children:[s.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),s.jsx("div",{className:"receipt-barcode",children:s.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),s.jsx("div",{className:"receipt-thank-you",children:s.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),s.jsxs("div",{className:"receipt-footer",children:[s.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),s.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),s.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),s.jsxs("div",{className:"flex gap-2 mt-6",children:[s.jsx(G,{onClick:()=>g(!1),variant:"outline",className:"flex-1",children:"Tutup"}),s.jsxs(G,{onClick:()=>window.print(),className:"flex-1",children:[s.jsx(V0,{className:"mr-2 h-4 w-4"}),"Cetak"]}),s.jsx(G,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:y,children:y?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bl,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):s.jsx(Ln,{children:s.jsx("div",{className:"p-4",children:s.jsx(_e,{className:"w-full",children:s.jsx(je,{className:"pt-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),s.jsx(G,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function h9e(){const[t,e]=x.useState("month"),[r,n]=x.useState(!0),[a,i]=x.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=x.useState([]),[c,u]=x.useState([]),[A,d]=x.useState([]),[h,f]=x.useState(!1);x.useEffect(()=>{p()},[t]);const g=m=>{f(!0);try{let y="",b="";m==="orders"?(y=`ID Pesanan,Tanggal,Status,Total
`,A.forEach(j=>{y+=`"${j.id}","${new Date(j.date).toLocaleDateString()}","${j.status}","${j.total}"
`}),b="pesanan_export.csv"):m==="products"?(y=`Produk,Jumlah Terjual
`,c.forEach(j=>{y+=`"${j.name}","${j.total}"
`}),b="produk_terlaris_export.csv"):(y=`Tanggal,Total Penjualan
`,o.forEach(j=>{y+=`"${j.date}","${j.total}"
`}),b="penjualan_harian_export.csv");const v=new Blob([y],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(v),_=document.createElement("a");_.href=B,_.setAttribute("download",b),document.body.appendChild(_),_.click(),document.body.removeChild(_)}catch(y){console.error("Error exporting data:",y)}finally{f(!1)}},p=async()=>{n(!0);try{const m=new Date;let y=new Date;t==="week"?y.setDate(m.getDate()-7):t==="month"?y.setMonth(m.getMonth()-1):y.setFullYear(m.getFullYear()-1);const b=y.toISOString(),{data:v,error:B}=await Z.from("orders").select("*").gte("date",b).order("date",{ascending:!1});if(B)throw B;const _=(v==null?void 0:v.reduce((D,R)=>D+Number(R.total),0))||0,j=(v==null?void 0:v.length)||0,C=j>0?_/j:0,E=(v==null?void 0:v.slice(0,5))||[],{data:N,error:S}=await Z.from("order_items").select("product_id, product_name, quantity").in("order_id",(v==null?void 0:v.map(D=>D.id))||[]);if(S)throw S;const k=new Map;N==null||N.forEach(D=>{const R=k.get(D.product_id);R?R.quantity+=D.quantity:k.set(D.product_id,{productId:D.product_id,productName:D.product_name,quantity:D.quantity})});const I=Array.from(k.values()).sort((D,R)=>R.quantity-D.quantity).slice(0,5),T=new Map;v==null||v.forEach(D=>{const R=new Date(D.date).toLocaleDateString(),Q=T.get(R)||0;T.set(R,Q+Number(D.total))});const U=Array.from(T.entries()).map(([D,R])=>({date:D,total:R})).sort((D,R)=>new Date(D.date).getTime()-new Date(R.date).getTime());d(v||[]);const{data:M}=await Z.from("products").select("id, name").in("id",I.map(D=>D.productId)||[]),L=new Map;M==null||M.forEach(D=>L.set(D.id,D.name));const O=I.map(D=>({name:D.productName.length>15?D.productName.substring(0,15)+"...":D.productName,total:D.quantity}));i({totalSales:_,orderCount:j,averageOrderValue:C,topProducts:I,recentOrders:E}),l(U),u(O)}catch(m){console.error("Error fetching analytics data:",m)}finally{n(!1)}};return s.jsxs(Ln,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("select",{value:t,onChange:m=>e(m.target.value),className:"px-3 py-2 border rounded-md",children:[s.jsx("option",{value:"week",children:"7 Hari Terakhir"}),s.jsx("option",{value:"month",children:"30 Hari Terakhir"}),s.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs(_e,{children:[s.jsx(lt,{className:"pb-2",children:s.jsx(ct,{className:"text-sm font-medium",children:"Total Penjualan"})}),s.jsx(je,{children:s.jsx("div",{className:"text-2xl font-bold",children:xe(a.totalSales)})})]}),s.jsxs(_e,{children:[s.jsx(lt,{className:"pb-2",children:s.jsx(ct,{className:"text-sm font-medium",children:"Pesanan"})}),s.jsxs(je,{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),s.jsx("div",{className:"text-2xl font-bold",children:a.orderCount})]})]}),s.jsxs(_e,{children:[s.jsx(lt,{className:"pb-2",children:s.jsx(ct,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),s.jsx(je,{children:s.jsx("div",{className:"text-2xl font-bold",children:xe(a.averageOrderValue)})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between",children:[s.jsx(ct,{children:"Penjualan Bulanan"}),s.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>g("sales"),disabled:h||r,children:[s.jsx(Bl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),s.jsx(je,{children:s.jsx("div",{className:"h-80",children:r?s.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):s.jsx(RVe,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>xe(m),yAxisWidth:60})})})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between",children:[s.jsx(ct,{children:"Produk Terlaris"}),s.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>g("products"),disabled:h||r,children:[s.jsx(Bl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),s.jsx(je,{children:s.jsx("div",{className:"h-80",children:r?s.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):s.jsx(YG,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:m=>`${m} units`,yAxisWidth:60})})})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between",children:[s.jsx(ct,{children:"Pesanan Terbaru"}),s.jsxs(G,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>g("orders"),disabled:h||r,children:[s.jsx(Bl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),s.jsx(je,{children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{className:"w-[100px]",children:"ID Pesanan"}),s.jsx(Pe,{children:"Pelanggan"}),s.jsx(Pe,{children:"Tanggal"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{className:"text-right",children:"Jumlah"})]})}),s.jsx(ra,{children:r?s.jsx(xt,{children:s.jsx(be,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):a.recentOrders.length===0?s.jsx(xt,{children:s.jsx(be,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):a.recentOrders.map(m=>s.jsxs(xt,{children:[s.jsxs(be,{className:"font-medium",children:[m.id.substring(0,8),"..."]}),s.jsx(be,{children:new Date(m.date).toLocaleDateString()}),s.jsx(be,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${m.status==="pending"?"bg-yellow-100 text-yellow-800":m.status==="processing"?"bg-blue-100 text-blue-800":m.status==="shipped"?"bg-purple-100 text-purple-800":m.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),s.jsx(be,{className:"text-right",children:xe(m.total)})]},m.id))})]})})]})]})}function f9e(){const[t,e]=x.useState(!1),[r,n]=x.useState(""),[a,i]=x.useState(75e4),[o,l]=x.useState(!0),[c,u]=x.useState([]),[A,d]=x.useState(null);x.useEffect(()=>{(()=>{if(!("Notification"in window)){d(null);return}d(Notification.permission)})()},[]),x.useEffect(()=>{(async()=>{const{data:p}=await Z.from("products").select("id, name, price").limit(5);p&&p.length>0?u(p):u([{id:xn(),name:"Coal Type A Premium",price:25e4},{id:xn(),name:"Coal Type B Standard",price:18e4},{id:xn(),name:"Coal Type C Economy",price:12e4}])})()},[]);const h=async()=>{if(!("Notification"in window))return me({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const g=await Notification.requestPermission();return d(g),g==="granted"?(me({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(me({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(g){return console.error("Error requesting notification permission:",g),me({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},f=async()=>{if(e(!0),!("Notification"in window)){me({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(A!=="granted"&&!await h()){me({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let g,p,m=[];if(o){const y=xn(),b=r||xn(),v=xn();p={id:b,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},g={id:y,user_id:b,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:v,date:new Date().toISOString(),payment_details:"SeaBank"};for(const B of c.slice(0,3)){const _=Math.floor(Math.random()*3)+1;m.push({product_name:B.name,quantity:_,price:B.price})}console.log("Using dummy order data for testing:",{order:g,customer:p,items:m})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:y,error:b}=await Z.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(b||!y)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');p=y;let v;const{data:B,error:_}=await Z.from("addresses").select("id").eq("user_id",r).limit(1).single();_?(v=xn(),console.log("Using dummy address ID:",v)):v=B.id;const{data:j,error:C}=await Z.from("orders").insert({user_id:r,total:a,status:"pending",payment_method:"bank-transfer",shipping_address_id:v,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(C)throw C;g=j;for(const E of c.slice(0,3)){const N=Math.floor(Math.random()*3)+1,{error:S}=await Z.from("order_items").insert({order_id:g.id,product_id:E.id,product_name:E.name,quantity:N,price:E.price});S?console.error("Error inserting order item:",S):m.push({product_name:E.name,quantity:N,price:E.price})}}await mL({...g,_customerData:p,_orderItems:m}),me({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${g.id}`}),console.log("Test order created:",{order:g,customer:p,items:m})}catch(g){console.error("Error creating test order:",g),me({title:"Error",description:g instanceof Error?g.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return s.jsxs(_e,{className:"w-full",children:[s.jsx(lt,{children:s.jsx(ct,{children:"Test Notifikasi Order"})}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ie,{children:"Status Izin Notifikasi"}),s.jsx("p",{className:"text-sm",children:"Notification"in window?A==="granted"?s.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):A==="denied"?s.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):s.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):s.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&A!=="granted"&&A!=="denied"&&s.jsx(G,{variant:"outline",size:"sm",onClick:h,disabled:t,children:"Minta Izin"})]}),s.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ie,{children:"Gunakan Data Dummy"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),s.jsx(vs,{checked:o,onCheckedChange:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),s.jsx(he,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:g=>n(g.target.value),disabled:t}),!o&&s.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),s.jsx(he,{id:"orderTotal",type:"number",value:a,onChange:g=>i(Number(g.target.value)),min:1e4,disabled:t})]}),s.jsx(G,{onClick:f,disabled:t,className:"w-full",children:t?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),s.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const m9e={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function p9e(){const[t,e]=x.useState(null),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState(null),[A,d]=x.useState(""),[h,f]=x.useState(""),[g,p]=x.useState(!1),m=async()=>{n(!0);try{const E=await Cc.getBusinessHours();e(E),p(!1);const N=await Cc.getCurrentStatus();u(N),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(E){console.error("Error fetching business hours:",E),me({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};x.useEffect(()=>{m();const E=Z.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},N=>{console.debug("Business hours diubah:",N),!a&&!g&&(m(),me({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{Z.removeChannel(E)}},[a,g]);const y=E=>{t&&(e({...t,isEnabled:E}),p(!0))},b=(E,N)=>{if(!t)return;const S=[...t.workingDays];S[E]={...S[E],isActive:N},e({...t,workingDays:S}),p(!0)},v=(E,N,S)=>{if(!t)return;const k=[...t.workingDays];k[E]={...k[E],[N]:S},e({...t,workingDays:k}),p(!0)},B=E=>{if(!E.openTime||!E.closeTime)return!1;const[N,S]=E.openTime.split(":").map(Number),[k,I]=E.closeTime.split(":").map(Number),T=N*60+S;return k*60+I<T},_=E=>{t&&(e({...t,offWorkMessage:E}),p(!0))},j=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const E=await Cc.resetToDefault();E.success?(me({title:"Berhasil",description:E.message}),await m()):me({title:"Error",description:E.message,variant:"destructive"})}catch(E){console.error("Error resetting business hours:",E),me({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},C=async()=>{if(t){i(!0);try{const E=await Cc.updateBusinessHours(t);if(E.success){me({title:"Berhasil",description:E.message});const N=await Cc.getCurrentStatus();u(N),p(!1),f(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else me({title:"Warning",description:E.message,variant:"destructive"})}catch(E){console.error("Error saving business hours:",E),me({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(E instanceof Error?E.message:"Unknown error"),variant:"destructive"})}finally{i(!1)}}};return r?s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsxs(ct,{className:"flex items-center",children:[s.jsx(ad,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),s.jsx(dr,{children:"Memuat data dari database..."})]}),s.jsx(je,{children:s.jsx("div",{className:"flex justify-center items-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsxs(ct,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ad,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),g&&s.jsxs(_t,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[s.jsx(lm,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),s.jsx(dr,{children:h?`Terakhir diperbarui: ${h}`:"Data dari database Supabase"})]}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-6",children:[c&&s.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[s.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(_t,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),s.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),s.jsx("div",{className:"mt-2 text-xs text-gray-500",children:s.jsxs(G,{variant:"outline",size:"sm",onClick:m,className:"h-7 text-xs",children:[s.jsx(cm,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vs,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:y}),s.jsx(Ie,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&s.jsx(_t,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),s.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:s.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[s.jsx(NC,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"mb-1",children:s.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),s.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),s.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),s.jsxs("p",{className:"mt-1",children:[s.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),s.jsx("div",{className:"space-y-4",children:t.workingDays.map((E,N)=>s.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[s.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[s.jsx(vs,{id:`day-${E.day}`,checked:E.isActive,onCheckedChange:S=>b(N,S)}),s.jsx(Ie,{htmlFor:`day-${E.day}`,className:E.isActive?"":"text-gray-400",children:m9e[E.day]})]}),s.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${E.isActive?"":"opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ie,{htmlFor:`open-${E.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),s.jsx(he,{id:`open-${E.day}`,type:"time",value:E.openTime,onChange:S=>v(N,"openTime",S.target.value),disabled:!E.isActive,className:"w-28","aria-label":"Jam buka"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ie,{htmlFor:`close-${E.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),s.jsx(he,{id:`close-${E.day}`,type:"time",value:E.closeTime,onChange:S=>v(N,"closeTime",S.target.value),disabled:!E.isActive,className:"w-28","aria-label":"Jam tutup"}),E.isActive&&B(E)&&s.jsx("span",{className:"text-xs text-amber-600 ml-2",children:s.jsx(UQ,{children:s.jsxs(VZ,{children:[s.jsx(KZ,{children:s.jsx(NC,{className:"h-4 w-4 inline"})}),s.jsx(MQ,{children:s.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},E.day))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx(Ie,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),s.jsx(Wl,{id:"off-work-message",value:t.offWorkMessage,onChange:E=>_(E.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),s.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[s.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(he,{type:"time",value:A,onChange:E=>d(E.target.value),className:"w-40",placeholder:"HH:MM"}),s.jsx(G,{variant:"outline",onClick:()=>{if(A&&t){const[E,N]=A.split(":").map(Number),S=new Date;S.setHours(E,N,0);const k=Date.now;Date.now=()=>S.getTime();const I=Date;Date=class extends I{constructor(){return super(),arguments.length===0?S:new I(...arguments)}},Cc.getCurrentStatus().then(T=>{Date.now=k,Date=I,me({title:T.isOpen?"Toko Terbuka":"Toko Tertutup",description:T.isOpen?`Pada pukul ${A}, toko akan terbuka.`:`Pada pukul ${A}, toko akan tertutup. Pesan: ${T.message}`,variant:T.isOpen?"default":"destructive"})})}else me({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-6",children:[s.jsx(G,{type:"button",variant:"outline",disabled:o||a,onClick:j,className:"flex items-center",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cm,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(G,{type:"button",variant:"secondary",disabled:!g||a,onClick:m,children:"Batalkan Perubahan"}),s.jsx(G,{type:"button",disabled:a||!g,onClick:C,className:"flex items-center",children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KX,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),s.jsxs(ms,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[s.jsxs("div",{children:["Data disimpan di tabel ",s.jsx("code",{children:"settings"})," di Supabase"]}),s.jsx("div",{className:"flex items-center",children:g?s.jsxs(_t,{variant:"outline",className:"text-amber-500 border-amber-500",children:[s.jsx(lm,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):s.jsxs(_t,{variant:"outline",className:"text-green-500 border-green-500",children:[s.jsx(CX,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const g9e=ya({name:St().min(1,"Nama wajib diisi"),email:St().email("Alamat email tidak valid"),currentPassword:St().optional(),newPassword:St().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:St().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),x9e=ya({storeName:St().min(1,"Nama toko wajib diisi"),contactEmail:St().email("Alamat email tidak valid"),currency:St().min(1,"Mata uang wajib diisi")}),v9e=ya({enableOrderNotifications:OA().default(!0),enableChatNotifications:OA().default(!0),enableSoundNotifications:OA().default(!0)});function y9e(){const{user:t,profile:e,refreshProfile:r}=Hr(),[n,a]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,A]=x.useState(null),[d,h]=x.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),f=fa({resolver:ma(g9e),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),g=fa({resolver:ma(x9e),defaultValues:{storeName:d.storeName,contactEmail:d.contactEmail,currency:d.currency}}),p=fa({resolver:ma(v9e),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});x.useEffect(()=>{e&&f.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),x.useEffect(()=>{y(),b(),m()},[]);const m=()=>{typeof Notification<"u"&&A(Notification.permission)},y=async()=>{try{const S=localStorage.getItem("storeSettings");if(S){const k=JSON.parse(S);h(k),g.reset({storeName:k.storeName,contactEmail:k.contactEmail,currency:k.currency})}}catch(S){console.error("Error fetching store settings:",S)}},b=async()=>{try{const S=localStorage.getItem("notificationSettings");if(S){const k=JSON.parse(S);p.reset({enableOrderNotifications:k.enableOrderNotifications,enableChatNotifications:k.enableChatNotifications,enableSoundNotifications:k.enableSoundNotifications})}}catch(S){console.error("Error fetching notification settings:",S)}},v=async S=>{if(t){a(!0);try{const{error:k}=await Z.from("profiles").update({name:S.name}).eq("id",t.id);if(k)throw k;if(S.email&&S.email!==t.email){const{error:I}=await Z.auth.updateUser({email:S.email});if(I)throw I}if(S.newPassword){if(S.newPassword!==S.confirmPassword){me({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:I}=await Z.auth.updateUser({password:S.newPassword});if(I)throw I}me({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),f.reset({name:S.name,email:S.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(k){console.error("Error updating settings:",k),me({title:"Error memperbarui profil",description:k.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{a(!1)}}},B=async S=>{o(!0);try{const k={storeName:S.storeName,contactEmail:S.contactEmail,currency:S.currency};localStorage.setItem("storeSettings",JSON.stringify(k)),h(k),me({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(k){console.error("Error updating store settings:",k),me({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},_=async()=>{try{me({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{me({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(S){me({title:"Error running vacuum operation",description:S.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},j=async()=>{try{me({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{me({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(S){me({title:"Error menghapus log lama",description:S.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},C=async()=>{c(!0);try{if(!t)return;const S=await Notification.requestPermission();if(A(S),S==="granted")if(await Q_(t.id))me({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else me({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(S){console.error("Error requesting notification permission:",S),me({title:"Error mengaktifkan notifikasi",description:S.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},E=async S=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(S)),S.enableOrderNotifications&&u==="granted"&&t&&await Q_(t.id),me({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(k){console.error("Error updating notification settings:",k),me({title:"Error memperbarui pengaturan notifikasi",description:k.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},N=async()=>{try{if(Notification.permission!=="granted"){me({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const S=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});me({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(I=>console.log("Error playing notification sound:",I))}catch(S){console.error("Error testing notification:",S),me({title:"Error mengirim notifikasi uji coba",description:S.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return s.jsxs(Ln,{children:[s.jsx("div",{className:"mb-6",children:s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsx(ct,{children:"Pengaturan Profil"})}),s.jsx(je,{children:s.jsx(ia,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(v),className:"space-y-6",children:[s.jsx(Ve,{control:f.control,name:"name",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama"}),s.jsx($e,{children:s.jsx(he,{...S})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:f.control,name:"email",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email"}),s.jsx($e,{children:s.jsx(he,{type:"email",...S})}),s.jsx(Ge,{})]})}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ve,{control:f.control,name:"currentPassword",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kata Sandi Saat Ini"}),s.jsx($e,{children:s.jsx(he,{type:"password",...S})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:f.control,name:"newPassword",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Kata Sandi Baru"}),s.jsx($e,{children:s.jsx(he,{type:"password",...S})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:f.control,name:"confirmPassword",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Konfirmasi Kata Sandi"}),s.jsx($e,{children:s.jsx(he,{type:"password",...S})}),s.jsx(Ge,{})]})})]})]}),s.jsx(G,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsx(ct,{children:"Pengaturan Toko"})}),s.jsx(je,{children:s.jsx(ia,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(B),className:"space-y-4",children:[s.jsx(Ve,{control:g.control,name:"storeName",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Nama Toko"}),s.jsx($e,{children:s.jsx(he,{...S})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"contactEmail",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Email Kontak"}),s.jsx($e,{children:s.jsx(he,{type:"email",...S})}),s.jsx(Ge,{})]})}),s.jsx(Ve,{control:g.control,name:"currency",render:({field:S})=>s.jsxs(Qe,{children:[s.jsx(Le,{children:"Mata Uang"}),s.jsx($e,{children:s.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...S,children:[s.jsx("option",{value:"IDR",children:"IDR (Rp)"}),s.jsx("option",{value:"USD",children:"USD ($)"}),s.jsx("option",{value:"EUR",children:"EUR (€)"}),s.jsx("option",{value:"GBP",children:"GBP (£)"})]})}),s.jsx(Ge,{})]})}),s.jsx(G,{type:"submit",disabled:i,children:i?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsx(ct,{children:"Pemeliharaan Database"})}),s.jsxs(je,{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx(G,{variant:"outline",onClick:_,children:"Jalankan Vakum Database"}),s.jsx(G,{variant:"outline",onClick:j,children:"Bersihkan Log Lama"})]})]})]}),s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsxs(ct,{className:"flex items-center gap-2",children:[s.jsx(dS,{className:"h-5 w-5"}),s.jsx("span",{children:"Pengaturan Notifikasi"})]})}),s.jsx(je,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"pb-4 border-b",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",s.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[s.jsx(Sy,{className:"h-4 w-4"}),s.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),s.jsx(G,{variant:"outline",disabled:u==="denied"||l,onClick:C,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),s.jsx(ia,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(E),className:"space-y-4",children:[s.jsx(Ve,{control:p.control,name:"enableOrderNotifications",render:({field:S})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Le,{children:"Notifikasi Pesanan Baru"}),s.jsx(ox,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),s.jsx($e,{children:s.jsx(vs,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),s.jsx(Ve,{control:p.control,name:"enableChatNotifications",render:({field:S})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Le,{children:"Notifikasi Pesan Chat"}),s.jsx(ox,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),s.jsx($e,{children:s.jsx(vs,{checked:S.value,onCheckedChange:S.onChange,disabled:u!=="granted"})})]})}),s.jsx(Ve,{control:p.control,name:"enableSoundNotifications",render:({field:S})=>s.jsxs(Qe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Le,{children:"Notifikasi Suara"}),s.jsx(ox,{children:"Putar suara saat menerima notifikasi baru"})]}),s.jsx($e,{children:s.jsx(vs,{checked:S.value,onCheckedChange:S.onChange})})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),s.jsx(G,{type:"button",variant:"outline",onClick:N,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsx(lt,{children:s.jsxs(ct,{className:"flex items-center",children:[s.jsx(ad,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),s.jsx(je,{children:s.jsx("div",{className:"space-y-6",children:s.jsx(p9e,{})})})]}),s.jsxs(_e,{className:"mb-8",children:[s.jsx(lt,{children:s.jsx(ct,{children:"Test Notifikasi Real-time"})}),s.jsx(je,{children:s.jsx("div",{className:"space-y-6",children:s.jsx(f9e,{})})})]})]})]})]})}function b9e(){const[t,e]=x.useState([]),[r,n]=x.useState([]),[a,i]=x.useState(""),[o,l]=x.useState(!0),[c,u]=x.useState(0),{user:A}=Hr(),d=x.useRef(null),h=()=>{d.current&&d.current.unsubscribe();const m=Z.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},y=>{console.log("Pesan baru diterima:",y),y.new&&y.new.sender_id!==(A==null?void 0:A.id)&&(y.new.read===!1||y.new.read===null||y.new.read===void 0)&&(u(B=>B+1),me({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${y.new.content.substring(0,30)}${y.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(B=>console.log("Error playing notification sound:",B))),f()}).subscribe();return d.current=m,()=>{m.unsubscribe()}};x.useEffect(()=>{if(A)return h()},[A]),x.useEffect(()=>{A&&f()},[A]);const f=async()=>{var m,y,b;try{l(!0);const{data:v,error:B}=await Z.from("profiles").select("*").eq("role","customer");if(B)throw B;const _=[];for(const C of v||[]){const{data:E,error:N}=await Z.from("profiles").select("*").eq("id",C.id).single();N&&console.error("Error fetching customer details:",N);const{data:S,error:k}=await Z.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${C.id},receiver_id.eq.${C.id}`).order("created_at",{ascending:!1}),I=S?S.filter(W=>W.sender_id===C.id&&W.read===!1).length:0;I>0&&console.log(`${I} pesan belum dibaca dari pelanggan:`,C.name),k&&console.error("Error fetching messages for user:",k);const T=`admin_chat_${C.id}`,U=localStorage.getItem(T);let M="",L="",O=null,D=null;if(U)try{const W=JSON.parse(U);W.length>0&&(O=W[W.length-1])}catch(W){console.error("Error parsing stored messages",W)}if(S&&S.length>0){const W=S[0],ne=((m=W.profiles)==null?void 0:m.name)||C.name;D={content:W.content,timestamp:W.created_at,sender_id:W.sender_id,senderName:ne},console.log(`${S.length} pesan ditemukan untuk pelanggan:`,C.name),S.forEach((oe,re)=>{console.log(`Pesan #${re+1}:`,{content:oe.content,timestamp:new Date(oe.created_at).toLocaleString("id-ID"),isFromCustomer:oe.sender_id===C.id})})}let R=!1;if(O&&D){const W=new Date(O.timestamp).getTime(),ne=new Date(D.timestamp).getTime();W>ne?(M=O.content,L=O.timestamp,R=O.sender!=="admin"):(M=D.content,L=D.timestamp,R=D.sender_id===C.id)}else O?(M=O.content,L=O.timestamp,R=O.sender!=="admin"):D&&(M=D.content,L=D.timestamp,R=D.sender_id===C.id);let Q,K="",$="",q=!1,z=null;if(S&&S.length>0){console.log(`Semua pesan untuk ${C.name}:`,S.length,"pesan ditemukan");const W=S.filter(oe=>oe.sender_id===C.id&&(oe.read===!1||oe.read===null||oe.read===void 0));W.length>0&&(console.log("Pesan belum dibaca ditemukan:",W.length,"pesan"),console.log("Sample pesan belum dibaca:",W[0]));const ne=S.filter(oe=>oe.sender_id===C.id);if(ne.length>0&&console.log(`Pesan dari pelanggan ${C.name}:`,ne.length,"pesan"),W.length>0)z=W[0],Q=((y=z.profiles)==null?void 0:y.name)||(E==null?void 0:E.name)||C.name||C.email||"Pelanggan",K=z.content,$=z.id,q=!0,R=!0;else if(ne.length>0)z=ne[0],Q=((b=z.profiles)==null?void 0:b.name)||(E==null?void 0:E.name)||C.name||C.email||"Pelanggan",K=z.content,$=z.id,q=!1,R=!0;else{const oe=S[0];Q="Admin",K=oe.content,$=oe.id,q=!1,R=!1}}else{if(E){console.log("Detail customer ditemukan:",E),Q=E.name||C.name||C.email||"Pelanggan";const{data:W}=await Z.from("messages").select("content, created_at").eq("sender_id",C.id).order("created_at",{ascending:!1}).limit(1);W&&W.length>0?(K=W[0].content,console.log("Pesan terbaru ditemukan:",K)):K=E.last_seen?`Terakhir aktif: ${new Date(E.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else Q=C.name||C.email||"Pelanggan",K="Pelanggan baru mendaftar";R=!0,q=!1}_.push({id:C.id,name:C.name||C.email||"Pelanggan Tidak Dikenal",lastMessage:K||M,lastTimestamp:L,unread:q,messageId:$,isFromCustomer:R,senderName:Q})}let j=0;for(const C of _)if(C.lastTimestamp&&C.isFromCustomer){const E=new Date(C.lastTimestamp).getTime();j=Math.max(j,E)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(j).toLocaleString("id-ID"));for(const C of _)if(C.lastTimestamp&&C.isFromCustomer){const E=new Date(C.lastTimestamp).getTime();E===j&&(C.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",C.name,"pada",new Date(E).toLocaleString("id-ID")))}_.sort((C,E)=>{if(C.isLatestCustomerMessage&&!E.isLatestCustomerMessage)return-1;if(!C.isLatestCustomerMessage&&E.isLatestCustomerMessage)return 1;if(!C.lastTimestamp&&!E.lastTimestamp)return C.isFromCustomer&&!E.isFromCustomer?-1:!C.isFromCustomer&&E.isFromCustomer?1:0;if(!C.lastTimestamp)return 1;if(!E.lastTimestamp)return-1;const N=new Date(C.lastTimestamp).getTime(),S=new Date(E.lastTimestamp).getTime();return N!==S?S-N:C.isFromCustomer&&!E.isFromCustomer?-1:!C.isFromCustomer&&E.isFromCustomer?1:C.unread&&!E.unread?-1:!C.unread&&E.unread?1:C.name.localeCompare(E.name)}),console.log("Daftar chat yang sudah diurutkan:",_.map(C=>({name:C.name,timestamp:C.lastTimestamp?new Date(C.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:C.isFromCustomer,unread:C.unread}))),e(_)}catch(v){console.error("Error fetching chat users:",v)}finally{l(!1)}},g=async m=>{if(m.unread&&m.messageId){console.log("Menandai pesan sebagai sudah dibaca:",m.messageId);try{const{error:y}=await Z.from("messages").update({read:!0}).eq("id",m.messageId);if(y)throw y;u(b=>Math.max(0,b-1)),f(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(y){console.error("Error menandai pesan sebagai dibaca:",y),console.log("Mencoba fallback untuk database lama..."),me({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};x.useEffect(()=>{const m=a?t.filter(y=>y.name.toLowerCase().includes(a.toLowerCase())):t;n(m)},[a,t,c]);const p=m=>{if(!m)return"";const y=new Date(m),v=new Date().getTime()-y.getTime(),B=60*1e3,_=60*B,j=24*_,C=7*j,E=30*j;return v<B?"Baru saja":v<_?`${Math.floor(v/B)} menit yang lalu`:v<j?`${Math.floor(v/_)} jam yang lalu`:v<C?`${Math.floor(v/j)} hari yang lalu`:v<E?`${Math.floor(v/C)} minggu yang lalu`:y.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return s.jsx(Ln,{children:s.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:s.jsxs(_e,{children:[s.jsx(lt,{children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ct,{children:"Obrolan Pelanggan"}),c>0&&s.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[s.jsx(dS,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),s.jsx(dr,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),s.jsxs(je,{children:[s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),s.jsx(he,{placeholder:"Cari pelanggan...",className:"pl-10",value:a,onChange:m=>i(m.target.value)})]}),s.jsxs("div",{className:"space-y-1",children:[c>0&&s.jsx(G,{variant:"ghost",onClick:async()=>{try{const{data:m,error:y}=await Z.from("messages").select("id").eq("receiver_id",A==null?void 0:A.id).is("read",null);if(y)throw y;const{error:b}=await Z.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",A==null?void 0:A.id);if(b)throw b;if(m&&m.length>0){const{error:v}=await Z.from("messages").update({read:!0}).is("read",null).eq("receiver_id",A==null?void 0:A.id);if(v)throw v}u(0),f(),me({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(m){console.error("Error menandai semua pesan sebagai dibaca:",m),me({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?s.jsx("p",{className:"text-center text-muted-foreground py-4",children:a?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(m=>s.jsx(mt,{to:`/admin/chat/${m.id}`,className:"block",onClick:()=>g(m),children:s.jsx(G,{variant:m.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${m.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:s.jsxs("div",{className:"flex items-center w-full",children:[s.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${m.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:s.jsx(sd,{className:`h-5 w-5 ${m.isFromCustomer?"text-white":"text-charcoal-500"}`})}),s.jsxs("div",{className:"flex-grow min-w-0",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:`truncate ${m.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:m.name}),m.lastTimestamp&&s.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:p(m.lastTimestamp)})]}),s.jsx("div",{className:"flex items-center",children:s.jsxs("div",{className:"flex items-center",children:[m.unread&&s.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:s.jsx("span",{children:"BARU"})}),s.jsx("p",{className:`text-sm truncate ${m.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-semibold",children:m.senderName||(m.isFromCustomer?m.name:"Admin")}),": ",m.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},m.id))]})]})]})})})}function w9e(){const{customerId:t}=Up(),e=Ot(),{user:r,profile:n}=Hr(),[a,i]=x.useState(""),[o,l]=x.useState(!0);return x.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:A}=await Z.from("profiles").select("name, email").eq("id",t).single();if(A)throw A;i(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?s.jsx(Ln,{children:s.jsx("div",{className:"flex items-center justify-center h-80",children:s.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?s.jsx(Ln,{children:s.jsx("div",{className:"flex items-center justify-center h-80",children:s.jsx(rr,{className:"animate-spin h-8 w-8 text-flame-500"})})}):s.jsx(Ln,{children:s.jsx("div",{className:"h-[calc(100vh-64px)]",children:s.jsx(M9,{chatPartnerId:t,chatPartnerName:a,isAdmin:!0})})})}var lW="AlertDialog",[B9e,UKe]=Hn(lW,[E$]),Po=E$(),cW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Po(e);return s.jsx(K2,{...n,...r,modal:!0})};cW.displayName=lW;var C9e="AlertDialogTrigger",uW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Po(r);return s.jsx(z2,{...a,...n,ref:e})});uW.displayName=C9e;var _9e="AlertDialogPortal",AW=t=>{const{__scopeAlertDialog:e,...r}=t,n=Po(e);return s.jsx(G2,{...n,...r})};AW.displayName=_9e;var j9e="AlertDialogOverlay",dW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Po(r);return s.jsx(Wp,{...a,...n,ref:e})});dW.displayName=j9e;var VA="AlertDialogContent",[E9e,S9e]=B9e(VA),N9e=fM("AlertDialogContent"),hW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Po(r),o=x.useRef(null),l=dt(e,o),c=x.useRef(null);return s.jsx(bde,{contentName:VA,titleName:fW,docsSlug:"alert-dialog",children:s.jsx(E9e,{scope:r,cancelRef:c,children:s.jsxs(qp,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:Re(a.onOpenAutoFocus,u=>{var A;u.preventDefault(),(A=c.current)==null||A.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(N9e,{children:n}),s.jsx(T9e,{contentRef:o})]})})})});hW.displayName=VA;var fW="AlertDialogTitle",mW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Po(r);return s.jsx(Xp,{...a,...n,ref:e})});mW.displayName=fW;var pW="AlertDialogDescription",gW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Po(r);return s.jsx(Yp,{...a,...n,ref:e})});gW.displayName=pW;var k9e="AlertDialogAction",xW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Po(r);return s.jsx(Bb,{...a,...n,ref:e})});xW.displayName=k9e;var vW="AlertDialogCancel",yW=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=S9e(vW,r),i=Po(r),o=dt(e,a);return s.jsx(Bb,{...i,...n,ref:o})});yW.displayName=vW;var T9e=({contentRef:t})=>{const e=`\`${VA}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${VA}\` by passing a \`${pW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${VA}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},I9e=cW,P9e=uW,F9e=AW,bW=dW,wW=hW,BW=xW,CW=yW,_W=mW,jW=gW;const D9e=I9e,O9e=P9e,R9e=F9e,EW=x.forwardRef(({className:t,...e},r)=>s.jsx(bW,{className:fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));EW.displayName=bW.displayName;const SW=x.forwardRef(({className:t,...e},r)=>s.jsxs(R9e,{children:[s.jsx(EW,{}),s.jsx(wW,{ref:r,className:fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));SW.displayName=wW.displayName;const NW=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col space-y-2 text-center sm:text-left",t),...e});NW.displayName="AlertDialogHeader";const kW=({className:t,...e})=>s.jsx("div",{className:fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});kW.displayName="AlertDialogFooter";const TW=x.forwardRef(({className:t,...e},r)=>s.jsx(_W,{ref:r,className:fe("text-lg font-semibold",t),...e}));TW.displayName=_W.displayName;const IW=x.forwardRef(({className:t,...e},r)=>s.jsx(jW,{ref:r,className:fe("text-sm text-muted-foreground",t),...e}));IW.displayName=jW.displayName;const PW=x.forwardRef(({className:t,...e},r)=>s.jsx(BW,{ref:r,className:fe(Hy(),t),...e}));PW.displayName=BW.displayName;const FW=x.forwardRef(({className:t,...e},r)=>s.jsx(CW,{ref:r,className:fe(Hy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));FW.displayName=CW.displayName;const U9e=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await Z.from("vouchers").select("id").limit(1);e&&await DW();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:a}=await Z.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(a)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:i,error:o}=await Z.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},DW=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await Z.from("vouchers").insert({id:xn(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:a,Authorization:`Bearer ${a}`}});i.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await i.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await M9e())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await Z.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},M9e=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await Z.from("vouchers").insert({id:xn(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},Q9e=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await DW();const r=await Z.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function L9e(){const{toast:t}=ni(),[e,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(""),[l,c]=x.useState(!1),[u,A]=x.useState(!1),[d,h]=x.useState(!0),[f,g]=x.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[p,m]=x.useState(!1),[y,b]=x.useState(!1),[v,B]=x.useState(null);x.useEffect(()=>{j(),_()},[i,l]);const _=async()=>{const D=await Q9e();h(D)},j=async()=>{a(!0);try{const{data:D,error:R}=await nl.getVouchers(100,0,{search:i||void 0,is_active:l?!0:void 0});if(R)throw R;r(D||[])}catch(D){console.error("Error fetching vouchers:",D),h(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{a(!1)}},C=D=>{const{name:R,value:Q,type:K}=D.target;g(K==="number"?{...f,[R]:Q===""?void 0:parseFloat(Q)}:{...f,[R]:Q})},E=(D,R)=>{g({...f,[D]:R})},N=(D,R)=>{g({...f,[D]:R})},S=()=>{I(),m(!1),b(!0)},k=D=>{g({...D,start_date:new Date(D.start_date).toISOString().split("T")[0],end_date:new Date(D.end_date).toISOString().split("T")[0]}),m(!0),b(!0)},I=()=>{g({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},T=async D=>{D.preventDefault();try{if(p&&f.id){const{data:R,error:Q}=await nl.updateVoucher(f.id,f);if(Q)throw Q;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${f.code} berhasil diperbarui`,variant:"default"})}else{const{data:R,error:Q}=await nl.addVoucher(f);if(Q)throw Q;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${f.code} berhasil ditambahkan`,variant:"default"})}b(!1),j()}catch(R){console.error("Error saving voucher:",R),t({title:"Gagal Menyimpan",description:R.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},U=async()=>{if(v)try{const{error:D}=await nl.deleteVoucher(v);if(D)throw D;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),j(),B(null)}catch(D){console.error("Error deleting voucher:",D),t({title:"Gagal Menghapus",description:D.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},M=async(D,R)=>{try{const{error:Q}=await nl.toggleVoucherStatus(D,!R);if(Q)throw Q;t({title:`Voucher ${R?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${R?"tidak aktif":"aktif"}`,variant:"default"}),j()}catch(Q){console.error("Error toggling voucher status:",Q),t({title:"Gagal Mengubah Status",description:Q.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},L=D=>{if(!D.is_active)return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const R=new Date,Q=new Date(D.start_date),K=new Date(D.end_date);return R<Q?s.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):R>K?s.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):D.usage_limit&&D.usage_count>=D.usage_limit?s.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):s.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},O=async()=>{A(!0);try{await U9e(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),j(),_()}catch(D){console.error("Error initializing data:",D),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{A(!1)}};return s.jsx(Ln,{children:s.jsxs("div",{className:"container mx-auto py-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),s.jsxs("div",{className:"flex gap-2",children:[!d&&s.jsxs(G,{onClick:O,disabled:u,variant:"outline",children:[s.jsx(KM,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),s.jsxs(br,{open:y,onOpenChange:b,children:[s.jsx(pv,{asChild:!0,children:s.jsxs(G,{onClick:S,children:[s.jsx(jX,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),s.jsxs(mr,{className:"sm:max-w-[550px]",children:[s.jsxs(Er,{children:[s.jsx(Sr,{children:p?"Edit Voucher":"Tambah Voucher Baru"}),s.jsx($n,{children:p?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),s.jsxs("form",{onSubmit:T,children:[s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),s.jsx(he,{id:"code",name:"code",value:f.code,onChange:C,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),s.jsxs(Rn,{name:"discount_type",value:f.discount_type,onValueChange:D=>E("discount_type",D),children:[s.jsx(vn,{className:"col-span-3",children:s.jsx(Un,{placeholder:"Pilih tipe diskon"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"percentage",children:"Persentase (%)"}),s.jsx(vt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),s.jsxs("div",{className:"col-span-3 flex items-center",children:[s.jsx(he,{id:"discount_value",name:"discount_value",type:"number",min:0,value:f.discount_value||"",onChange:C,required:!0}),s.jsx("span",{className:"ml-2",children:f.discount_type==="percentage"?"%":"Rupiah"})]})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),s.jsx(he,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:f.min_purchase||"",onChange:C,className:"col-span-3",placeholder:"Opsional"})]}),f.discount_type==="percentage"&&s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),s.jsx(he,{id:"max_discount",name:"max_discount",type:"number",min:0,value:f.max_discount||"",onChange:C,className:"col-span-3",placeholder:"Opsional"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),s.jsx(he,{id:"start_date",name:"start_date",type:"date",value:f.start_date,onChange:C,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),s.jsx(he,{id:"end_date",name:"end_date",type:"date",value:f.end_date,onChange:C,className:"col-span-3",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),s.jsx(he,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:f.usage_limit||"",onChange:C,className:"col-span-3",placeholder:"Opsional"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),s.jsx(he,{id:"description",name:"description",value:f.description||"",onChange:C,className:"col-span-3",placeholder:"Opsional"})]}),s.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[s.jsx(Ie,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),s.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[s.jsx(vs,{id:"is_active",checked:f.is_active,onCheckedChange:D=>N("is_active",D)}),s.jsx(Ie,{htmlFor:"is_active",children:f.is_active?"Aktif":"Tidak Aktif"})]})]})]}),s.jsxs(wn,{children:[s.jsx(G,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Batal"}),s.jsx(G,{type:"submit",children:p?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsxs(ct,{className:"flex items-center",children:[s.jsx(qX,{className:"h-5 w-5 mr-2"}),s.jsx("span",{children:"Daftar Voucher"})]}),s.jsx(dr,{children:"Kelola voucher diskon untuk pelanggan"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(Yl,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),s.jsx(he,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:i,onChange:D=>o(D.target.value)})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vs,{id:"active-filter",checked:l,onCheckedChange:c}),s.jsx(Ie,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),s.jsx(je,{children:n?s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(lm,{className:"h-12 w-12 text-gray-400 mb-2"}),s.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:i||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{className:"w-[120px]",children:"Kode"}),s.jsx(Pe,{children:"Diskon"}),s.jsx(Pe,{children:"Periode"}),s.jsx(Pe,{children:"Batasan"}),s.jsx(Pe,{className:"text-center",children:"Status"}),s.jsx(Pe,{className:"text-center",children:"Penggunaan"}),s.jsx(Pe,{className:"text-right",children:"Aksi"})]})}),s.jsx(ra,{children:e.map(D=>s.jsxs(xt,{children:[s.jsxs(be,{className:"font-medium",children:[D.code,D.description&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:D.description})]}),s.jsxs(be,{children:[D.discount_type==="percentage"?`${D.discount_value}%`:xe(D.discount_value),D.discount_type==="percentage"&&D.max_discount&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",xe(D.max_discount)]})]}),s.jsx(be,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{children:bn(new Date(D.start_date),"dd/MM/yyyy")}),s.jsx("span",{children:" - "}),s.jsx("span",{children:bn(new Date(D.end_date),"dd/MM/yyyy")})]})}),s.jsxs(be,{children:[D.min_purchase&&s.jsxs("div",{className:"text-sm",children:["Min: ",xe(D.min_purchase)]}),D.usage_limit&&s.jsxs("div",{className:"text-sm",children:["Maks: ",D.usage_limit," kali"]}),!D.min_purchase&&!D.usage_limit&&s.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),s.jsx(be,{className:"text-center",children:L(D)}),s.jsxs(be,{className:"text-center",children:[D.usage_count||0,D.usage_limit&&s.jsxs("span",{children:[" / ",D.usage_limit]})]}),s.jsx(be,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>M(D.id,D.is_active),children:D.is_active?"Nonaktifkan":"Aktifkan"}),s.jsx(G,{variant:"outline",size:"icon",onClick:()=>k(D),children:s.jsx(Tp,{className:"h-4 w-4"})}),s.jsxs(D9e,{children:[s.jsx(O9e,{asChild:!0,children:s.jsx(G,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>B(D.id),children:s.jsx(ZM,{className:"h-4 w-4"})})}),s.jsxs(SW,{children:[s.jsxs(NW,{children:[s.jsx(TW,{children:"Hapus Voucher"}),s.jsxs(IW,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",s.jsx("strong",{children:D.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),s.jsxs(kW,{children:[s.jsx(FW,{onClick:()=>B(null),children:"Batal"}),s.jsx(PW,{onClick:U,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},D.id))})]})})})]})]})})}class f5{static async getRecipients(e){let r=Z.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:i,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:a}=await r;return a?(console.error("Error fetching recipients:",a),[]):n.map(i=>({id:i.id,phone:i.phone,name:i.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:a}=await Z.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(a)return console.error("Error creating broadcast record:",a),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const i=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(i,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:i};const o=await this.sendMessagesToRecipients(i,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:i}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(i=>({broadcast_id:e,user_id:i.id,phone:i.phone,name:i.name||null,status:"pending",created_at:new Date().toISOString()})),{error:a}=await Z.from("broadcast_recipients").insert(n);a&&console.error("Error saving broadcast recipients:",a)}static async sendMessagesToRecipients(e,r,n){let a=0,i=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const A=u.map(async d=>{try{let h=n.message;n.includeName&&d.name?h=h.replace("{name}",d.name):h=h.replace("{name}","Pelanggan");const f=await zp(d.phone,h);return await this.recordMessageSent(e,d.id,f?"sent":"failed"),f?(a++,{success:!0,recipient:d}):(i++,o.push({id:d.id,phone:d.phone,error:"Failed to send"}),{success:!1,recipient:d,error:"Failed to send"})}catch(h){return i++,o.push({id:d.id,phone:d.phone,error:String(h)}),await this.recordMessageSent(e,d.id,"failed",String(h)),{success:!1,recipient:d,error:h}}});await Promise.all(A),c.indexOf(u)<c.length-1&&await new Promise(d=>setTimeout(d,2e3))}return await Z.from("broadcasts").update({sent_count:a,failed_count:i,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:a,failedCount:i,failedRecipients:o}}static async recordMessageSent(e,r,n,a){try{await Z.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:a||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(i){console.error("Error recording message status:",i)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:a}=await Z.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return a?(console.error("Error fetching broadcast history:",a),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await Z.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function $9e(){const[t,e]=x.useState("new"),[r,n]=x.useState([]),[a,i]=x.useState(!1),[o,l]=x.useState(!1),[c,u]=x.useState([]),[A,d]=x.useState(1),[h,f]=x.useState("all"),[g,p]=x.useState([]),[m,y]=x.useState(""),[b,v]=x.useState(!0),[B,_]=x.useState(!1),[j,C]=x.useState(""),[E,N]=x.useState(""),[S,k]=x.useState(void 0),[I,T]=x.useState(void 0),[U,M]=x.useState(void 0),L=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];x.useEffect(()=>{t==="new"?O():t==="history"&&D()},[t,A]);const O=async()=>{i(!0);try{const{data:z,error:W}=await Z.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(W)throw W;n(z||[])}catch(z){console.error("Error fetching customers:",z),me({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{i(!1)}},D=async()=>{i(!0);try{const z=await f5.getBroadcastHistory(10,A);u(z)}catch(z){console.error("Error fetching broadcast history:",z),me({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{i(!1)}},R=z=>{p(W=>W.includes(z)?W.filter(ne=>ne!==z):[...W,z])},Q=()=>{p(r.map(z=>z.id))},K=()=>{p([])},$=async()=>{if(!m.trim()){me({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(h==="selected"&&g.length===0){me({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${h==="all"?"semua pelanggan":h==="selected"?`${g.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const z={recipientType:h,message:m,includeName:b};if(h==="selected"?z.selectedIds=g:h==="filtered"&&(z.filterOptions={lastOrderDays:S,minOrderCount:I,minTotalSpent:U}),B&&j&&E){const ne=new Date(`${j}T${E}`);if(ne>new Date)z.scheduleTime=ne;else{me({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const W=await f5.sendBroadcast(z);W.success?(me({title:"Broadcast berhasil",description:B?`Broadcast dijadwalkan untuk ${W.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${W.sentCount} dari ${W.totalRecipients} penerima`}),y(""),p([]),f("all"),_(!1),C(""),N(""),e("history"),D()):me({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${W.sentCount} dari ${W.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(z){console.error("Error sending broadcast:",z),me({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},q=z=>{y(z)};return s.jsx(Ln,{children:s.jsxs("div",{className:"container py-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),s.jsxs(Pa,{defaultValue:"new",value:t,onValueChange:e,children:[s.jsxs(ga,{className:"mb-4",children:[s.jsxs(Nt,{value:"new",children:[s.jsx(gx,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),s.jsxs(Nt,{value:"history",children:[s.jsx(ad,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),s.jsx(Xt,{value:"new",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(_e,{className:"md:col-span-2",children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Pesan Broadcast"}),s.jsx(dr,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{htmlFor:"message-type",children:"Jenis Penerima"}),s.jsxs(Rn,{value:h,onValueChange:z=>f(z),children:[s.jsx(vn,{children:s.jsx(Un,{placeholder:"Pilih jenis penerima"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"all",children:"Semua Pelanggan"}),s.jsx(vt,{value:"selected",children:"Pelanggan Terpilih"}),s.jsx(vt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),h==="filtered"&&s.jsxs(_e,{className:"border-dashed",children:[s.jsx(lt,{className:"p-4 pb-2",children:s.jsx(ct,{className:"text-base",children:"Filter Pelanggan"})}),s.jsxs(je,{className:"p-4 pt-0 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),s.jsx(he,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:S||"",onChange:z=>k(z.target.value?parseInt(z.target.value):void 0)})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),s.jsx(he,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:I||"",onChange:z=>T(z.target.value?parseInt(z.target.value):void 0)})]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),s.jsx(he,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:U||"",onChange:z=>M(z.target.value?parseInt(z.target.value):void 0)})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(Ie,{htmlFor:"message",children:"Pesan"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),s.jsx(Wl,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:m,onChange:z=>y(z.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ie,{children:"Template Pesan"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:L.map((z,W)=>s.jsx(G,{variant:"outline",size:"sm",onClick:()=>q(z.content),children:z.name},W))})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vs,{id:"include-name",checked:b,onCheckedChange:v}),s.jsx(Ie,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vs,{id:"schedule",checked:B,onCheckedChange:_}),s.jsx(Ie,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),B&&s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"schedule-date",children:"Tanggal"}),s.jsx(he,{id:"schedule-date",type:"date",value:j,onChange:z=>C(z.target.value),min:new Date().toISOString().split("T")[0]})]}),s.jsxs("div",{children:[s.jsx(Ie,{htmlFor:"schedule-time",children:"Waktu"}),s.jsx(he,{id:"schedule-time",type:"time",value:E,onChange:z=>N(z.target.value)})]})]})]}),s.jsxs(ms,{className:"flex justify-between",children:[s.jsx(G,{variant:"outline",onClick:()=>y(""),children:"Reset"}),s.jsx(G,{onClick:$,disabled:o||!m.trim()||h==="selected"&&g.length===0,children:o?s.jsxs(s.Fragment,{children:[s.jsx(rr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):B?s.jsxs(s.Fragment,{children:[s.jsx($M,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):s.jsxs(s.Fragment,{children:[s.jsx(gx,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),h==="selected"&&s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Pilih Pelanggan"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:Q,children:"Pilih Semua"}),s.jsx(G,{variant:"outline",size:"sm",onClick:K,children:"Reset"})]})]}),s.jsx(je,{children:a?s.jsx("div",{className:"flex items-center justify-center py-6",children:s.jsx(rr,{className:"h-6 w-6 animate-spin"})}):s.jsx(ju,{className:"h-[400px]",children:s.jsx("div",{className:"space-y-2",children:r.map(z=>s.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${g.includes(z.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>R(z.id),children:[s.jsx(aN,{checked:g.includes(z.id),onCheckedChange:()=>R(z.id)}),s.jsxs("div",{className:"flex-1 truncate",children:[s.jsx("div",{className:"font-medium truncate",children:z.name||"Tanpa Nama"}),s.jsx("div",{className:"text-sm text-muted-foreground truncate",children:z.phone})]})]},z.id))})})}),s.jsx(ms,{children:s.jsxs("div",{className:"w-full text-center",children:[g.length," pelanggan dipilih"]})})]})]})}),s.jsx(Xt,{value:"history",children:s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Riwayat Broadcast"}),s.jsx(dr,{children:"Histori pesan broadcast yang telah dikirim"})]}),s.jsx(je,{children:a?s.jsx("div",{className:"flex items-center justify-center py-6",children:s.jsx(rr,{className:"h-6 w-6 animate-spin"})}):c.length>0?s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Tanggal"}),s.jsx(Pe,{children:"Pesan"}),s.jsx(Pe,{children:"Penerima"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{children:"Aksi"})]})}),s.jsx(ra,{children:c.map(z=>s.jsxs(xt,{children:[s.jsx(be,{children:new Date(z.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s.jsx(be,{className:"max-w-[200px] truncate",children:z.message_template}),s.jsxs(be,{children:[z.recipient_count," penerima"]}),s.jsx(be,{children:s.jsx(_t,{className:z.status==="completed"?"bg-green-100 text-green-800":z.status==="sending"?"bg-blue-100 text-blue-800":z.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:z.status==="completed"?"Selesai":z.status==="sending"?"Mengirim":z.status==="scheduled"?"Terjadwal":"Gagal"})}),s.jsx(be,{children:s.jsx(G,{variant:"ghost",size:"sm",children:"Detail"})})]},z.id))})]}):s.jsx("div",{className:"text-center py-6",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&s.jsxs(ms,{className:"flex justify-between",children:[s.jsx(G,{variant:"outline",onClick:()=>d(Math.max(1,A-1)),disabled:A===1,children:"Sebelumnya"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",A]}),s.jsx(G,{variant:"outline",onClick:()=>d(A+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}const H9e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=x.useState({name:(t==null?void 0:t.name)||"",category:(t==null?void 0:t.category)||"",description:(t==null?void 0:t.description)||""}),i=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:u}))},o=l=>{l.preventDefault(),e(n)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Layanan"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan nama layanan"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700",children:"Kategori"}),s.jsx("input",{type:"text",id:"category",name:"category",value:n.category,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan kategori layanan"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),s.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:i,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan deskripsi layanan"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},V9e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=x.useState({name:(t==null?void 0:t.name)||"",sku:(t==null?void 0:t.sku)||"",price:(t==null?void 0:t.price)||0,service_id:(t==null?void 0:t.service_id)||"",description:(t==null?void 0:t.description)||""}),i=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:c==="price"?Number(u):u}))},o=l=>{l.preventDefault(),e(n)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nama Produk"}),s.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan nama produk"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sku",className:"block text-sm font-medium text-gray-700",children:"SKU"}),s.jsx("input",{type:"text",id:"sku",name:"sku",value:n.sku,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan SKU produk"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Harga (Rp)"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan harga produk"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700",children:"ID Layanan"}),s.jsx("input",{type:"text",id:"service_id",name:"service_id",value:n.service_id,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan ID layanan terkait"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Deskripsi"}),s.jsx("textarea",{id:"description",name:"description",value:n.description,onChange:i,rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan deskripsi produk"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},K9e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=x.useState({username:(t==null?void 0:t.username)||"",api_key:(t==null?void 0:t.api_key)||"",webhook_url:(t==null?void 0:t.webhook_url)||""}),i=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:u}))},o=l=>{l.preventDefault(),e(n)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username Digiflazz"}),s.jsx("input",{type:"text",id:"username",name:"username",value:n.username,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan username Digiflazz"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"api_key",className:"block text-sm font-medium text-gray-700",children:"API Key Digiflazz"}),s.jsx("input",{type:"password",id:"api_key",name:"api_key",value:n.api_key,onChange:i,required:!0,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan API Key Digiflazz"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"webhook_url",className:"block text-sm font-medium text-gray-700",children:"Webhook URL (Opsional)"}),s.jsx("input",{type:"text",id:"webhook_url",name:"webhook_url",value:n.webhook_url,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan URL webhook untuk notifikasi"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},z9e=({item:t,onSave:e,onCancel:r})=>{const[n,a]=x.useState({status:(t==null?void 0:t.status)||"",message:(t==null?void 0:t.message)||"",sn:(t==null?void 0:t.sn)||"",price:(t==null?void 0:t.price)||0,buyer_last_balance:(t==null?void 0:t.buyer_last_balance)||0}),i=l=>{const{name:c,value:u}=l.target;a(A=>({...A,[c]:c==="price"||c==="buyer_last_balance"?Number(u):u}))},o=l=>{l.preventDefault(),e(n)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status"}),s.jsx("input",{type:"text",id:"status",name:"status",value:n.status,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan status transaksi"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700",children:"Pesan"}),s.jsx("input",{type:"text",id:"message",name:"message",value:n.message,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan pesan transaksi"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"sn",className:"block text-sm font-medium text-gray-700",children:"Serial Number (SN)"}),s.jsx("input",{type:"text",id:"sn",name:"sn",value:n.sn,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan serial number"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700",children:"Harga (Rp)"}),s.jsx("input",{type:"number",id:"price",name:"price",value:n.price,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan harga"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"buyer_last_balance",className:"block text-sm font-medium text-gray-700",children:"Saldo Terakhir Pembeli (Rp)"}),s.jsx("input",{type:"number",id:"buyer_last_balance",name:"buyer_last_balance",value:n.buyer_last_balance,onChange:i,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Masukkan saldo terakhir pembeli"})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Batal"}),s.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Simpan"})]})]})},G9e=({isOpen:t,onClose:e,formType:r,selectedItem:n,onSave:a})=>{if(!t)return null;const i=()=>{if(n)switch(r){case"service":return"Edit Layanan PPOB";case"product":return"Edit Produk PPOB";case"digiflazz":return"Edit Konfigurasi Digiflazz";case"transaction":return"Edit Transaksi PPOB";default:return"Edit Item"}else switch(r){case"service":return"Tambah Layanan PPOB";case"product":return"Tambah Produk PPOB";case"digiflazz":return"Tambah Konfigurasi Digiflazz";case"transaction":return"Tambah Transaksi PPOB";default:return"Tambah Item"}},o=c=>{a(c,r)},l=()=>{switch(r){case"service":return s.jsx(H9e,{item:n,onSave:o,onCancel:e});case"product":return s.jsx(V9e,{item:n,onSave:o,onCancel:e});case"digiflazz":return s.jsx(K9e,{item:n,onSave:o,onCancel:e});case"transaction":return s.jsx(z9e,{item:n,onSave:o,onCancel:e});default:return s.jsx("div",{children:"Form tidak ditemukan"})}};return s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex min-h-screen items-end justify-center px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:e}),s.jsx("span",{className:"hidden sm:inline-block sm:h-screen sm:align-middle",children:"​"}),s.jsx("div",{className:"inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:align-middle",children:s.jsxs("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:[s.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:i()}),s.jsx("div",{className:"mt-4",children:l()})]})})]})})};function W9e({children:t}){const[e,r]=x.useState(!1),n=va(),a=[{name:"Dashboard",href:"/admin",icon:s.jsx(J.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:s.jsx(J.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:s.jsx(J.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:s.jsx(J.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:s.jsx(J.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:s.jsx(J.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:s.jsx(J.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:s.jsx(J.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:s.jsx(J.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:s.jsx(J.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:s.jsx(J.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:s.jsx(J.messageSquare,{className:"h-5 w-5"})}],i=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return s.jsxs("div",{className:"flex h-screen overflow-hidden",children:[s.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:s.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[s.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:s.jsxs(mt,{to:"/admin",className:"flex items-center",children:[s.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),s.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),s.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:s.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>s.jsxs(mt,{to:o.href,className:fe("group flex items-center px-3 py-2 text-sm font-medium rounded-md",i(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,s.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),s.jsx("div",{className:"p-3 mt-auto border-t",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs(ql,{children:[s.jsx(kd,{src:"/avatars/admin.png",alt:"Admin"}),s.jsx(Xl,{children:"AD"})]}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),s.jsx("div",{className:"md:hidden",children:s.jsxs(Ti,{open:e,onOpenChange:r,children:[s.jsx(Xx,{asChild:!0,children:s.jsxs(G,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[s.jsx(J.menu,{className:"h-6 w-6"}),s.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),s.jsx(ri,{side:"left",className:"p-0",children:s.jsxs("div",{className:"flex flex-col h-full pt-5",children:[s.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:s.jsxs(mt,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[s.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),s.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),s.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:s.jsx("nav",{className:"flex-1 space-y-1",children:a.map(o=>s.jsxs(mt,{to:o.href,className:fe("group flex items-center px-3 py-2 text-sm font-medium rounded-md",i(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,s.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),s.jsx("div",{className:"p-3 mt-auto border-t",children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs(ql,{children:[s.jsx(kd,{src:"/avatars/admin.png",alt:"Admin"}),s.jsx(Xl,{children:"AD"})]}),s.jsxs("div",{className:"ml-3",children:[s.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),s.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[s.jsx("header",{className:"bg-white shadow-sm z-10",children:s.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[s.jsx("div",{className:"md:hidden",children:s.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),s.jsxs("div",{className:"flex items-center ml-auto",children:[s.jsxs(G,{variant:"outline",size:"sm",className:"mr-2",children:[s.jsx(J.bell,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),s.jsxs(G,{variant:"destructive",size:"sm",children:[s.jsx(J.logOut,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}var OW={exports:{}};function q9e(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $B={exports:{}};const X9e={},Y9e=Object.freeze(Object.defineProperty({__proto__:null,default:X9e},Symbol.toStringTag,{value:"Module"})),J9e=oM(Y9e);var m5;function Vt(){return m5||(m5=1,function(t,e){(function(r,n){t.exports=n()})(st,function(){var r=r||function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof st<"u"&&st.crypto&&(i=st.crypto),!i&&typeof q9e=="function")try{i=J9e}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},l=Object.create||function(){function b(){}return function(v){var B;return b.prototype=v,B=new b,b.prototype=null,B}}(),c={},u=c.lib={},A=u.Base=function(){return{extend:function(b){var v=l(this);return b&&v.mixIn(b),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var b=this.extend();return b.init.apply(b,arguments),b},init:function(){},mixIn:function(b){for(var v in b)b.hasOwnProperty(v)&&(this[v]=b[v]);b.hasOwnProperty("toString")&&(this.toString=b.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=A.extend({init:function(b,v){b=this.words=b||[],v!=a?this.sigBytes=v:this.sigBytes=b.length*4},toString:function(b){return(b||f).stringify(this)},concat:function(b){var v=this.words,B=b.words,_=this.sigBytes,j=b.sigBytes;if(this.clamp(),_%4)for(var C=0;C<j;C++){var E=B[C>>>2]>>>24-C%4*8&255;v[_+C>>>2]|=E<<24-(_+C)%4*8}else for(var N=0;N<j;N+=4)v[_+N>>>2]=B[N>>>2];return this.sigBytes+=j,this},clamp:function(){var b=this.words,v=this.sigBytes;b[v>>>2]&=4294967295<<32-v%4*8,b.length=n.ceil(v/4)},clone:function(){var b=A.clone.call(this);return b.words=this.words.slice(0),b},random:function(b){for(var v=[],B=0;B<b;B+=4)v.push(o());return new d.init(v,b)}}),h=c.enc={},f=h.Hex={stringify:function(b){for(var v=b.words,B=b.sigBytes,_=[],j=0;j<B;j++){var C=v[j>>>2]>>>24-j%4*8&255;_.push((C>>>4).toString(16)),_.push((C&15).toString(16))}return _.join("")},parse:function(b){for(var v=b.length,B=[],_=0;_<v;_+=2)B[_>>>3]|=parseInt(b.substr(_,2),16)<<24-_%8*4;return new d.init(B,v/2)}},g=h.Latin1={stringify:function(b){for(var v=b.words,B=b.sigBytes,_=[],j=0;j<B;j++){var C=v[j>>>2]>>>24-j%4*8&255;_.push(String.fromCharCode(C))}return _.join("")},parse:function(b){for(var v=b.length,B=[],_=0;_<v;_++)B[_>>>2]|=(b.charCodeAt(_)&255)<<24-_%4*8;return new d.init(B,v)}},p=h.Utf8={stringify:function(b){try{return decodeURIComponent(escape(g.stringify(b)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(b){return g.parse(unescape(encodeURIComponent(b)))}},m=u.BufferedBlockAlgorithm=A.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(b){typeof b=="string"&&(b=p.parse(b)),this._data.concat(b),this._nDataBytes+=b.sigBytes},_process:function(b){var v,B=this._data,_=B.words,j=B.sigBytes,C=this.blockSize,E=C*4,N=j/E;b?N=n.ceil(N):N=n.max((N|0)-this._minBufferSize,0);var S=N*C,k=n.min(S*4,j);if(S){for(var I=0;I<S;I+=C)this._doProcessBlock(_,I);v=_.splice(0,S),B.sigBytes-=k}return new d.init(v,k)},clone:function(){var b=A.clone.call(this);return b._data=this._data.clone(),b},_minBufferSize:0});u.Hasher=m.extend({cfg:A.extend(),init:function(b){this.cfg=this.cfg.extend(b),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(b){return this._append(b),this._process(),this},finalize:function(b){b&&this._append(b);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(b){return function(v,B){return new b.init(B).finalize(v)}},_createHmacHelper:function(b){return function(v,B){return new y.HMAC.init(b,B).finalize(v)}}});var y=c.algo={};return c}(Math);return r})}($B)),$B.exports}var HB={exports:{}},p5;function Dw(){return p5||(p5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(n){var a=r,i=a.lib,o=i.Base,l=i.WordArray,c=a.x64={};c.Word=o.extend({init:function(u,A){this.high=u,this.low=A}}),c.WordArray=o.extend({init:function(u,A){u=this.words=u||[],A!=n?this.sigBytes=A:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,A=u.length,d=[],h=0;h<A;h++){var f=u[h];d.push(f.high),d.push(f.low)}return l.create(d,this.sigBytes)},clone:function(){for(var u=o.clone.call(this),A=u.words=this.words.slice(0),d=A.length,h=0;h<d;h++)A[h]=A[h].clone();return u}})}(),r})}(HB)),HB.exports}var VB={exports:{}},g5;function Z9e(){return g5||(g5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,a=n.lib,i=a.WordArray,o=i.init,l=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var u=c.byteLength,A=[],d=0;d<u;d++)A[d>>>2]|=c[d]<<24-d%4*8;o.call(this,A,u)}else o.apply(this,arguments)};l.prototype=i}}(),r.lib.WordArray})}(VB)),VB.exports}var KB={exports:{}},x5;function e7e(){return x5||(x5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=u[h>>>2]>>>16-h%4*8&65535;d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=c.charCodeAt(d)<<16-d%2*16;return i.create(A,u*2)}},o.Utf16LE={stringify:function(c){for(var u=c.words,A=c.sigBytes,d=[],h=0;h<A;h+=2){var f=l(u[h>>>2]>>>16-h%4*8&65535);d.push(String.fromCharCode(f))}return d.join("")},parse:function(c){for(var u=c.length,A=[],d=0;d<u;d++)A[d>>>1]|=l(c.charCodeAt(d)<<16-d%2*16);return i.create(A,u*2)}};function l(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(KB)),KB.exports}var zB={exports:{}},v5;function Qu(){return v5||(v5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=n.enc;o.Base64={stringify:function(c){var u=c.words,A=c.sigBytes,d=this._map;c.clamp();for(var h=[],f=0;f<A;f+=3)for(var g=u[f>>>2]>>>24-f%4*8&255,p=u[f+1>>>2]>>>24-(f+1)%4*8&255,m=u[f+2>>>2]>>>24-(f+2)%4*8&255,y=g<<16|p<<8|m,b=0;b<4&&f+b*.75<A;b++)h.push(d.charAt(y>>>6*(3-b)&63));var v=d.charAt(64);if(v)for(;h.length%4;)h.push(v);return h.join("")},parse:function(c){var u=c.length,A=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<A.length;h++)d[A.charCodeAt(h)]=h}var f=A.charAt(64);if(f){var g=c.indexOf(f);g!==-1&&(u=g)}return l(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var g=A[c.charCodeAt(f-1)]<<f%4*2,p=A[c.charCodeAt(f)]>>>6-f%4*2,m=g|p;d[h>>>2]|=m<<24-h%4*8,h++}return i.create(d,h)}}(),r.enc.Base64})}(zB)),zB.exports}var GB={exports:{}},y5;function t7e(){return y5||(y5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=n.enc;o.Base64url={stringify:function(c,u){u===void 0&&(u=!0);var A=c.words,d=c.sigBytes,h=u?this._safe_map:this._map;c.clamp();for(var f=[],g=0;g<d;g+=3)for(var p=A[g>>>2]>>>24-g%4*8&255,m=A[g+1>>>2]>>>24-(g+1)%4*8&255,y=A[g+2>>>2]>>>24-(g+2)%4*8&255,b=p<<16|m<<8|y,v=0;v<4&&g+v*.75<d;v++)f.push(h.charAt(b>>>6*(3-v)&63));var B=h.charAt(64);if(B)for(;f.length%4;)f.push(B);return f.join("")},parse:function(c,u){u===void 0&&(u=!0);var A=c.length,d=u?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<d.length;f++)h[d.charCodeAt(f)]=f}var g=d.charAt(64);if(g){var p=c.indexOf(g);p!==-1&&(A=p)}return l(c,A,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function l(c,u,A){for(var d=[],h=0,f=0;f<u;f++)if(f%4){var g=A[c.charCodeAt(f-1)]<<f%4*2,p=A[c.charCodeAt(f)]>>>6-f%4*2,m=g|p;d[h>>>2]|=m<<24-h%4*8,h++}return i.create(d,h)}}(),r.enc.Base64url})}(GB)),GB.exports}var WB={exports:{}},b5;function Lu(){return b5||(b5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(n){var a=r,i=a.lib,o=i.WordArray,l=i.Hasher,c=a.algo,u=[];(function(){for(var p=0;p<64;p++)u[p]=n.abs(n.sin(p+1))*4294967296|0})();var A=c.MD5=l.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,m){for(var y=0;y<16;y++){var b=m+y,v=p[b];p[b]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var B=this._hash.words,_=p[m+0],j=p[m+1],C=p[m+2],E=p[m+3],N=p[m+4],S=p[m+5],k=p[m+6],I=p[m+7],T=p[m+8],U=p[m+9],M=p[m+10],L=p[m+11],O=p[m+12],D=p[m+13],R=p[m+14],Q=p[m+15],K=B[0],$=B[1],q=B[2],z=B[3];K=d(K,$,q,z,_,7,u[0]),z=d(z,K,$,q,j,12,u[1]),q=d(q,z,K,$,C,17,u[2]),$=d($,q,z,K,E,22,u[3]),K=d(K,$,q,z,N,7,u[4]),z=d(z,K,$,q,S,12,u[5]),q=d(q,z,K,$,k,17,u[6]),$=d($,q,z,K,I,22,u[7]),K=d(K,$,q,z,T,7,u[8]),z=d(z,K,$,q,U,12,u[9]),q=d(q,z,K,$,M,17,u[10]),$=d($,q,z,K,L,22,u[11]),K=d(K,$,q,z,O,7,u[12]),z=d(z,K,$,q,D,12,u[13]),q=d(q,z,K,$,R,17,u[14]),$=d($,q,z,K,Q,22,u[15]),K=h(K,$,q,z,j,5,u[16]),z=h(z,K,$,q,k,9,u[17]),q=h(q,z,K,$,L,14,u[18]),$=h($,q,z,K,_,20,u[19]),K=h(K,$,q,z,S,5,u[20]),z=h(z,K,$,q,M,9,u[21]),q=h(q,z,K,$,Q,14,u[22]),$=h($,q,z,K,N,20,u[23]),K=h(K,$,q,z,U,5,u[24]),z=h(z,K,$,q,R,9,u[25]),q=h(q,z,K,$,E,14,u[26]),$=h($,q,z,K,T,20,u[27]),K=h(K,$,q,z,D,5,u[28]),z=h(z,K,$,q,C,9,u[29]),q=h(q,z,K,$,I,14,u[30]),$=h($,q,z,K,O,20,u[31]),K=f(K,$,q,z,S,4,u[32]),z=f(z,K,$,q,T,11,u[33]),q=f(q,z,K,$,L,16,u[34]),$=f($,q,z,K,R,23,u[35]),K=f(K,$,q,z,j,4,u[36]),z=f(z,K,$,q,N,11,u[37]),q=f(q,z,K,$,I,16,u[38]),$=f($,q,z,K,M,23,u[39]),K=f(K,$,q,z,D,4,u[40]),z=f(z,K,$,q,_,11,u[41]),q=f(q,z,K,$,E,16,u[42]),$=f($,q,z,K,k,23,u[43]),K=f(K,$,q,z,U,4,u[44]),z=f(z,K,$,q,O,11,u[45]),q=f(q,z,K,$,Q,16,u[46]),$=f($,q,z,K,C,23,u[47]),K=g(K,$,q,z,_,6,u[48]),z=g(z,K,$,q,I,10,u[49]),q=g(q,z,K,$,R,15,u[50]),$=g($,q,z,K,S,21,u[51]),K=g(K,$,q,z,O,6,u[52]),z=g(z,K,$,q,E,10,u[53]),q=g(q,z,K,$,M,15,u[54]),$=g($,q,z,K,j,21,u[55]),K=g(K,$,q,z,T,6,u[56]),z=g(z,K,$,q,Q,10,u[57]),q=g(q,z,K,$,k,15,u[58]),$=g($,q,z,K,D,21,u[59]),K=g(K,$,q,z,N,6,u[60]),z=g(z,K,$,q,L,10,u[61]),q=g(q,z,K,$,C,15,u[62]),$=g($,q,z,K,U,21,u[63]),B[0]=B[0]+K|0,B[1]=B[1]+$|0,B[2]=B[2]+q|0,B[3]=B[3]+z|0},_doFinalize:function(){var p=this._data,m=p.words,y=this._nDataBytes*8,b=p.sigBytes*8;m[b>>>5]|=128<<24-b%32;var v=n.floor(y/4294967296),B=y;m[(b+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,m[(b+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,p.sigBytes=(m.length+1)*4,this._process();for(var _=this._hash,j=_.words,C=0;C<4;C++){var E=j[C];j[C]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return _},clone:function(){var p=l.clone.call(this);return p._hash=this._hash.clone(),p}});function d(p,m,y,b,v,B,_){var j=p+(m&y|~m&b)+v+_;return(j<<B|j>>>32-B)+m}function h(p,m,y,b,v,B,_){var j=p+(m&b|y&~b)+v+_;return(j<<B|j>>>32-B)+m}function f(p,m,y,b,v,B,_){var j=p+(m^y^b)+v+_;return(j<<B|j>>>32-B)+m}function g(p,m,y,b,v,B,_){var j=p+(y^(m|~b))+v+_;return(j<<B|j>>>32-B)+m}a.MD5=l._createHelper(A),a.HmacMD5=l._createHmacHelper(A)}(Math),r.MD5})}(WB)),WB.exports}var qB={exports:{}},w5;function RW(){return w5||(w5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=a.Hasher,l=n.algo,c=[],u=l.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(A,d){for(var h=this._hash.words,f=h[0],g=h[1],p=h[2],m=h[3],y=h[4],b=0;b<80;b++){if(b<16)c[b]=A[d+b]|0;else{var v=c[b-3]^c[b-8]^c[b-14]^c[b-16];c[b]=v<<1|v>>>31}var B=(f<<5|f>>>27)+y+c[b];b<20?B+=(g&p|~g&m)+1518500249:b<40?B+=(g^p^m)+1859775393:b<60?B+=(g&p|g&m|p&m)-1894007588:B+=(g^p^m)-899497514,y=m,m=p,p=g<<30|g>>>2,g=f,f=B}h[0]=h[0]+f|0,h[1]=h[1]+g|0,h[2]=h[2]+p|0,h[3]=h[3]+m|0,h[4]=h[4]+y|0},_doFinalize:function(){var A=this._data,d=A.words,h=this._nDataBytes*8,f=A.sigBytes*8;return d[f>>>5]|=128<<24-f%32,d[(f+64>>>9<<4)+14]=Math.floor(h/4294967296),d[(f+64>>>9<<4)+15]=h,A.sigBytes=d.length*4,this._process(),this._hash},clone:function(){var A=o.clone.call(this);return A._hash=this._hash.clone(),A}});n.SHA1=o._createHelper(u),n.HmacSHA1=o._createHmacHelper(u)}(),r.SHA1})}(qB)),qB.exports}var XB={exports:{}},B5;function Tk(){return B5||(B5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){return function(n){var a=r,i=a.lib,o=i.WordArray,l=i.Hasher,c=a.algo,u=[],A=[];(function(){function f(y){for(var b=n.sqrt(y),v=2;v<=b;v++)if(!(y%v))return!1;return!0}function g(y){return(y-(y|0))*4294967296|0}for(var p=2,m=0;m<64;)f(p)&&(m<8&&(u[m]=g(n.pow(p,1/2))),A[m]=g(n.pow(p,1/3)),m++),p++})();var d=[],h=c.SHA256=l.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(f,g){for(var p=this._hash.words,m=p[0],y=p[1],b=p[2],v=p[3],B=p[4],_=p[5],j=p[6],C=p[7],E=0;E<64;E++){if(E<16)d[E]=f[g+E]|0;else{var N=d[E-15],S=(N<<25|N>>>7)^(N<<14|N>>>18)^N>>>3,k=d[E-2],I=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;d[E]=S+d[E-7]+I+d[E-16]}var T=B&_^~B&j,U=m&y^m&b^y&b,M=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),L=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),O=C+L+T+A[E]+d[E],D=M+U;C=j,j=_,_=B,B=v+O|0,v=b,b=y,y=m,m=O+D|0}p[0]=p[0]+m|0,p[1]=p[1]+y|0,p[2]=p[2]+b|0,p[3]=p[3]+v|0,p[4]=p[4]+B|0,p[5]=p[5]+_|0,p[6]=p[6]+j|0,p[7]=p[7]+C|0},_doFinalize:function(){var f=this._data,g=f.words,p=this._nDataBytes*8,m=f.sigBytes*8;return g[m>>>5]|=128<<24-m%32,g[(m+64>>>9<<4)+14]=n.floor(p/4294967296),g[(m+64>>>9<<4)+15]=p,f.sigBytes=g.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});a.SHA256=l._createHelper(h),a.HmacSHA256=l._createHmacHelper(h)}(Math),r.SHA256})}(XB)),XB.exports}var YB={exports:{}},C5;function r7e(){return C5||(C5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Tk())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=n.algo,l=o.SHA256,c=o.SHA224=l.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=l._createHelper(c),n.HmacSHA224=l._createHmacHelper(c)}(),r.SHA224})}(YB)),YB.exports}var JB={exports:{}},_5;function UW(){return _5||(_5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Dw())})(st,function(r){return function(){var n=r,a=n.lib,i=a.Hasher,o=n.x64,l=o.Word,c=o.WordArray,u=n.algo;function A(){return l.create.apply(l,arguments)}var d=[A(1116352408,3609767458),A(1899447441,602891725),A(3049323471,3964484399),A(3921009573,2173295548),A(961987163,4081628472),A(1508970993,3053834265),A(2453635748,2937671579),A(2870763221,3664609560),A(3624381080,2734883394),A(310598401,1164996542),A(607225278,1323610764),A(1426881987,3590304994),A(1925078388,4068182383),A(2162078206,991336113),A(2614888103,633803317),A(3248222580,3479774868),A(3835390401,2666613458),A(4022224774,944711139),A(264347078,2341262773),A(604807628,2007800933),A(770255983,1495990901),A(1249150122,1856431235),A(1555081692,3175218132),A(1996064986,2198950837),A(2554220882,3999719339),A(2821834349,766784016),A(2952996808,2566594879),A(3210313671,3203337956),A(3336571891,1034457026),A(3584528711,2466948901),A(113926993,3758326383),A(338241895,168717936),A(666307205,1188179964),A(773529912,1546045734),A(1294757372,1522805485),A(1396182291,2643833823),A(1695183700,2343527390),A(1986661051,1014477480),A(2177026350,1206759142),A(2456956037,344077627),A(2730485921,1290863460),A(2820302411,3158454273),A(3259730800,3505952657),A(3345764771,106217008),A(3516065817,3606008344),A(3600352804,1432725776),A(4094571909,1467031594),A(275423344,851169720),A(430227734,3100823752),A(506948616,1363258195),A(659060556,3750685593),A(883997877,3785050280),A(958139571,3318307427),A(1322822218,3812723403),A(1537002063,2003034995),A(1747873779,3602036899),A(1955562222,1575990012),A(2024104815,1125592928),A(2227730452,2716904306),A(2361852424,442776044),A(2428436474,593698344),A(2756734187,3733110249),A(3204031479,2999351573),A(3329325298,3815920427),A(3391569614,3928383900),A(3515267271,566280711),A(3940187606,3454069534),A(4118630271,4000239992),A(116418474,1914138554),A(174292421,2731055270),A(289380356,3203993006),A(460393269,320620315),A(685471733,587496836),A(852142971,1086792851),A(1017036298,365543100),A(1126000580,2618297676),A(1288033470,3409855158),A(1501505948,4234509866),A(1607167915,987167468),A(1816402316,1246189591)],h=[];(function(){for(var g=0;g<80;g++)h[g]=A()})();var f=u.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new l.init(1779033703,4089235720),new l.init(3144134277,2227873595),new l.init(1013904242,4271175723),new l.init(2773480762,1595750129),new l.init(1359893119,2917565137),new l.init(2600822924,725511199),new l.init(528734635,4215389547),new l.init(1541459225,327033209)])},_doProcessBlock:function(g,p){for(var m=this._hash.words,y=m[0],b=m[1],v=m[2],B=m[3],_=m[4],j=m[5],C=m[6],E=m[7],N=y.high,S=y.low,k=b.high,I=b.low,T=v.high,U=v.low,M=B.high,L=B.low,O=_.high,D=_.low,R=j.high,Q=j.low,K=C.high,$=C.low,q=E.high,z=E.low,W=N,ne=S,oe=k,re=I,ce=T,Ae=U,ge=M,Y=L,pe=O,Se=D,Ue=R,We=Q,gt=K,Rt=$,Ut=q,X=z,ee=0;ee<80;ee++){var le,Ce,Ne=h[ee];if(ee<16)Ce=Ne.high=g[p+ee*2]|0,le=Ne.low=g[p+ee*2+1]|0;else{var Be=h[ee-15],ve=Be.high,qe=Be.low,ie=(ve>>>1|qe<<31)^(ve>>>8|qe<<24)^ve>>>7,we=(qe>>>1|ve<<31)^(qe>>>8|ve<<24)^(qe>>>7|ve<<25),Je=h[ee-2],Ke=Je.high,pt=Je.low,er=(Ke>>>19|pt<<13)^(Ke<<3|pt>>>29)^Ke>>>6,Vr=(pt>>>19|Ke<<13)^(pt<<3|Ke>>>29)^(pt>>>6|Ke<<26),Nr=h[ee-7],pr=Nr.high,Qi=Nr.low,Da=h[ee-16],js=Da.high,rs=Da.low;le=we+Qi,Ce=ie+pr+(le>>>0<we>>>0?1:0),le=le+Vr,Ce=Ce+er+(le>>>0<Vr>>>0?1:0),le=le+rs,Ce=Ce+js+(le>>>0<rs>>>0?1:0),Ne.high=Ce,Ne.low=le}var ba=pe&Ue^~pe&gt,Es=Se&We^~Se&Rt,wa=W&oe^W&ce^oe&ce,Ss=ne&re^ne&Ae^re&Ae,ht=(W>>>28|ne<<4)^(W<<30|ne>>>2)^(W<<25|ne>>>7),Pt=(ne>>>28|W<<4)^(ne<<30|W>>>2)^(ne<<25|W>>>7),lr=(pe>>>14|Se<<18)^(pe>>>18|Se<<14)^(pe<<23|Se>>>9),sn=(Se>>>14|pe<<18)^(Se>>>18|pe<<14)^(Se<<23|pe>>>9),_n=d[ee],Br=_n.high,Oa=_n.low,tr=X+sn,Rr=Ut+lr+(tr>>>0<X>>>0?1:0),tr=tr+Es,Rr=Rr+ba+(tr>>>0<Es>>>0?1:0),tr=tr+Oa,Rr=Rr+Br+(tr>>>0<Oa>>>0?1:0),tr=tr+le,Rr=Rr+Ce+(tr>>>0<le>>>0?1:0),gg=Pt+Ss,Rw=ht+wa+(gg>>>0<Pt>>>0?1:0);Ut=gt,X=Rt,gt=Ue,Rt=We,Ue=pe,We=Se,Se=Y+tr|0,pe=ge+Rr+(Se>>>0<Y>>>0?1:0)|0,ge=ce,Y=Ae,ce=oe,Ae=re,oe=W,re=ne,ne=tr+gg|0,W=Rr+Rw+(ne>>>0<tr>>>0?1:0)|0}S=y.low=S+ne,y.high=N+W+(S>>>0<ne>>>0?1:0),I=b.low=I+re,b.high=k+oe+(I>>>0<re>>>0?1:0),U=v.low=U+Ae,v.high=T+ce+(U>>>0<Ae>>>0?1:0),L=B.low=L+Y,B.high=M+ge+(L>>>0<Y>>>0?1:0),D=_.low=D+Se,_.high=O+pe+(D>>>0<Se>>>0?1:0),Q=j.low=Q+We,j.high=R+Ue+(Q>>>0<We>>>0?1:0),$=C.low=$+Rt,C.high=K+gt+($>>>0<Rt>>>0?1:0),z=E.low=z+X,E.high=q+Ut+(z>>>0<X>>>0?1:0)},_doFinalize:function(){var g=this._data,p=g.words,m=this._nDataBytes*8,y=g.sigBytes*8;p[y>>>5]|=128<<24-y%32,p[(y+128>>>10<<5)+30]=Math.floor(m/4294967296),p[(y+128>>>10<<5)+31]=m,g.sigBytes=p.length*4,this._process();var b=this._hash.toX32();return b},clone:function(){var g=i.clone.call(this);return g._hash=this._hash.clone(),g},blockSize:1024/32});n.SHA512=i._createHelper(f),n.HmacSHA512=i._createHmacHelper(f)}(),r.SHA512})}(JB)),JB.exports}var ZB={exports:{}},j5;function n7e(){return j5||(j5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Dw(),UW())})(st,function(r){return function(){var n=r,a=n.x64,i=a.Word,o=a.WordArray,l=n.algo,c=l.SHA512,u=l.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var A=c._doFinalize.call(this);return A.sigBytes-=16,A}});n.SHA384=c._createHelper(u),n.HmacSHA384=c._createHmacHelper(u)}(),r.SHA384})}(ZB)),ZB.exports}var eC={exports:{}},E5;function a7e(){return E5||(E5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Dw())})(st,function(r){return function(n){var a=r,i=a.lib,o=i.WordArray,l=i.Hasher,c=a.x64,u=c.Word,A=a.algo,d=[],h=[],f=[];(function(){for(var m=1,y=0,b=0;b<24;b++){d[m+5*y]=(b+1)*(b+2)/2%64;var v=y%5,B=(2*m+3*y)%5;m=v,y=B}for(var m=0;m<5;m++)for(var y=0;y<5;y++)h[m+5*y]=y+(2*m+3*y)%5*5;for(var _=1,j=0;j<24;j++){for(var C=0,E=0,N=0;N<7;N++){if(_&1){var S=(1<<N)-1;S<32?E^=1<<S:C^=1<<S-32}_&128?_=_<<1^113:_<<=1}f[j]=u.create(C,E)}})();var g=[];(function(){for(var m=0;m<25;m++)g[m]=u.create()})();var p=A.SHA3=l.extend({cfg:l.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],y=0;y<25;y++)m[y]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,y){for(var b=this._state,v=this.blockSize/2,B=0;B<v;B++){var _=m[y+2*B],j=m[y+2*B+1];_=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360;var C=b[B];C.high^=j,C.low^=_}for(var E=0;E<24;E++){for(var N=0;N<5;N++){for(var S=0,k=0,I=0;I<5;I++){var C=b[N+5*I];S^=C.high,k^=C.low}var T=g[N];T.high=S,T.low=k}for(var N=0;N<5;N++)for(var U=g[(N+4)%5],M=g[(N+1)%5],L=M.high,O=M.low,S=U.high^(L<<1|O>>>31),k=U.low^(O<<1|L>>>31),I=0;I<5;I++){var C=b[N+5*I];C.high^=S,C.low^=k}for(var D=1;D<25;D++){var S,k,C=b[D],R=C.high,Q=C.low,K=d[D];K<32?(S=R<<K|Q>>>32-K,k=Q<<K|R>>>32-K):(S=Q<<K-32|R>>>64-K,k=R<<K-32|Q>>>64-K);var $=g[h[D]];$.high=S,$.low=k}var q=g[0],z=b[0];q.high=z.high,q.low=z.low;for(var N=0;N<5;N++)for(var I=0;I<5;I++){var D=N+5*I,C=b[D],W=g[D],ne=g[(N+1)%5+5*I],oe=g[(N+2)%5+5*I];C.high=W.high^~ne.high&oe.high,C.low=W.low^~ne.low&oe.low}var C=b[0],re=f[E];C.high^=re.high,C.low^=re.low}},_doFinalize:function(){var m=this._data,y=m.words;this._nDataBytes*8;var b=m.sigBytes*8,v=this.blockSize*32;y[b>>>5]|=1<<24-b%32,y[(n.ceil((b+1)/v)*v>>>5)-1]|=128,m.sigBytes=y.length*4,this._process();for(var B=this._state,_=this.cfg.outputLength/8,j=_/8,C=[],E=0;E<j;E++){var N=B[E],S=N.high,k=N.low;S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,C.push(k),C.push(S)}return new o.init(C,_)},clone:function(){for(var m=l.clone.call(this),y=m._state=this._state.slice(0),b=0;b<25;b++)y[b]=y[b].clone();return m}});a.SHA3=l._createHelper(p),a.HmacSHA3=l._createHmacHelper(p)}(Math),r.SHA3})}(eC)),eC.exports}var tC={exports:{}},S5;function s7e(){return S5||(S5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var a=r,i=a.lib,o=i.WordArray,l=i.Hasher,c=a.algo,u=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),A=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),d=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=o.create([0,1518500249,1859775393,2400959708,2840853838]),g=o.create([1352829926,1548603684,1836072691,2053994217,0]),p=c.RIPEMD160=l.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(j,C){for(var E=0;E<16;E++){var N=C+E,S=j[N];j[N]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var k=this._hash.words,I=f.words,T=g.words,U=u.words,M=A.words,L=d.words,O=h.words,D,R,Q,K,$,q,z,W,ne,oe;q=D=k[0],z=R=k[1],W=Q=k[2],ne=K=k[3],oe=$=k[4];for(var re,E=0;E<80;E+=1)re=D+j[C+U[E]]|0,E<16?re+=m(R,Q,K)+I[0]:E<32?re+=y(R,Q,K)+I[1]:E<48?re+=b(R,Q,K)+I[2]:E<64?re+=v(R,Q,K)+I[3]:re+=B(R,Q,K)+I[4],re=re|0,re=_(re,L[E]),re=re+$|0,D=$,$=K,K=_(Q,10),Q=R,R=re,re=q+j[C+M[E]]|0,E<16?re+=B(z,W,ne)+T[0]:E<32?re+=v(z,W,ne)+T[1]:E<48?re+=b(z,W,ne)+T[2]:E<64?re+=y(z,W,ne)+T[3]:re+=m(z,W,ne)+T[4],re=re|0,re=_(re,O[E]),re=re+oe|0,q=oe,oe=ne,ne=_(W,10),W=z,z=re;re=k[1]+Q+ne|0,k[1]=k[2]+K+oe|0,k[2]=k[3]+$+q|0,k[3]=k[4]+D+z|0,k[4]=k[0]+R+W|0,k[0]=re},_doFinalize:function(){var j=this._data,C=j.words,E=this._nDataBytes*8,N=j.sigBytes*8;C[N>>>5]|=128<<24-N%32,C[(N+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,j.sigBytes=(C.length+1)*4,this._process();for(var S=this._hash,k=S.words,I=0;I<5;I++){var T=k[I];k[I]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return S},clone:function(){var j=l.clone.call(this);return j._hash=this._hash.clone(),j}});function m(j,C,E){return j^C^E}function y(j,C,E){return j&C|~j&E}function b(j,C,E){return(j|~C)^E}function v(j,C,E){return j&E|C&~E}function B(j,C,E){return j^(C|~E)}function _(j,C){return j<<C|j>>>32-C}a.RIPEMD160=l._createHelper(p),a.HmacRIPEMD160=l._createHmacHelper(p)}(),r.RIPEMD160})}(tC)),tC.exports}var rC={exports:{}},N5;function Ik(){return N5||(N5=1,function(t,e){(function(r,n){t.exports=n(Vt())})(st,function(r){(function(){var n=r,a=n.lib,i=a.Base,o=n.enc,l=o.Utf8,c=n.algo;c.HMAC=i.extend({init:function(u,A){u=this._hasher=new u.init,typeof A=="string"&&(A=l.parse(A));var d=u.blockSize,h=d*4;A.sigBytes>h&&(A=u.finalize(A)),A.clamp();for(var f=this._oKey=A.clone(),g=this._iKey=A.clone(),p=f.words,m=g.words,y=0;y<d;y++)p[y]^=1549556828,m[y]^=909522486;f.sigBytes=g.sigBytes=h,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var A=this._hasher,d=A.finalize(u);A.reset();var h=A.finalize(this._oKey.clone().concat(d));return h}})})()})}(rC)),rC.exports}var nC={exports:{}},k5;function i7e(){return k5||(k5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Tk(),Ik())})(st,function(r){return function(){var n=r,a=n.lib,i=a.Base,o=a.WordArray,l=n.algo,c=l.SHA256,u=l.HMAC,A=l.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,h){for(var f=this.cfg,g=u.create(f.hasher,d),p=o.create(),m=o.create([1]),y=p.words,b=m.words,v=f.keySize,B=f.iterations;y.length<v;){var _=g.update(h).finalize(m);g.reset();for(var j=_.words,C=j.length,E=_,N=1;N<B;N++){E=g.finalize(E),g.reset();for(var S=E.words,k=0;k<C;k++)j[k]^=S[k]}p.concat(_),b[0]++}return p.sigBytes=v*4,p}});n.PBKDF2=function(d,h,f){return A.create(f).compute(d,h)}}(),r.PBKDF2})}(nC)),nC.exports}var aC={exports:{}},T5;function uc(){return T5||(T5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),RW(),Ik())})(st,function(r){return function(){var n=r,a=n.lib,i=a.Base,o=a.WordArray,l=n.algo,c=l.MD5,u=l.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(A){this.cfg=this.cfg.extend(A)},compute:function(A,d){for(var h,f=this.cfg,g=f.hasher.create(),p=o.create(),m=p.words,y=f.keySize,b=f.iterations;m.length<y;){h&&g.update(h),h=g.update(A).finalize(d),g.reset();for(var v=1;v<b;v++)h=g.finalize(h),g.reset();p.concat(h)}return p.sigBytes=y*4,p}});n.EvpKDF=function(A,d,h){return u.create(h).compute(A,d)}}(),r.EvpKDF})}(aC)),aC.exports}var sC={exports:{}},I5;function Cn(){return I5||(I5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),uc())})(st,function(r){r.lib.Cipher||function(n){var a=r,i=a.lib,o=i.Base,l=i.WordArray,c=i.BufferedBlockAlgorithm,u=a.enc;u.Utf8;var A=u.Base64,d=a.algo,h=d.EvpKDF,f=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(S,k){return this.create(this._ENC_XFORM_MODE,S,k)},createDecryptor:function(S,k){return this.create(this._DEC_XFORM_MODE,S,k)},init:function(S,k,I){this.cfg=this.cfg.extend(I),this._xformMode=S,this._key=k,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(S){return this._append(S),this._process()},finalize:function(S){S&&this._append(S);var k=this._doFinalize();return k},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function S(k){return typeof k=="string"?N:j}return function(k){return{encrypt:function(I,T,U){return S(T).encrypt(k,I,T,U)},decrypt:function(I,T,U){return S(T).decrypt(k,I,T,U)}}}}()});i.StreamCipher=f.extend({_doFinalize:function(){var S=this._process(!0);return S},blockSize:1});var g=a.mode={},p=i.BlockCipherMode=o.extend({createEncryptor:function(S,k){return this.Encryptor.create(S,k)},createDecryptor:function(S,k){return this.Decryptor.create(S,k)},init:function(S,k){this._cipher=S,this._iv=k}}),m=g.CBC=function(){var S=p.extend();S.Encryptor=S.extend({processBlock:function(I,T){var U=this._cipher,M=U.blockSize;k.call(this,I,T,M),U.encryptBlock(I,T),this._prevBlock=I.slice(T,T+M)}}),S.Decryptor=S.extend({processBlock:function(I,T){var U=this._cipher,M=U.blockSize,L=I.slice(T,T+M);U.decryptBlock(I,T),k.call(this,I,T,M),this._prevBlock=L}});function k(I,T,U){var M,L=this._iv;L?(M=L,this._iv=n):M=this._prevBlock;for(var O=0;O<U;O++)I[T+O]^=M[O]}return S}(),y=a.pad={},b=y.Pkcs7={pad:function(S,k){for(var I=k*4,T=I-S.sigBytes%I,U=T<<24|T<<16|T<<8|T,M=[],L=0;L<T;L+=4)M.push(U);var O=l.create(M,T);S.concat(O)},unpad:function(S){var k=S.words[S.sigBytes-1>>>2]&255;S.sigBytes-=k}};i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:m,padding:b}),reset:function(){var S;f.reset.call(this);var k=this.cfg,I=k.iv,T=k.mode;this._xformMode==this._ENC_XFORM_MODE?S=T.createEncryptor:(S=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==S?this._mode.init(this,I&&I.words):(this._mode=S.call(T,this,I&&I.words),this._mode.__creator=S)},_doProcessBlock:function(S,k){this._mode.processBlock(S,k)},_doFinalize:function(){var S,k=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(k.pad(this._data,this.blockSize),S=this._process(!0)):(S=this._process(!0),k.unpad(S)),S},blockSize:128/32});var v=i.CipherParams=o.extend({init:function(S){this.mixIn(S)},toString:function(S){return(S||this.formatter).stringify(this)}}),B=a.format={},_=B.OpenSSL={stringify:function(S){var k,I=S.ciphertext,T=S.salt;return T?k=l.create([1398893684,1701076831]).concat(T).concat(I):k=I,k.toString(A)},parse:function(S){var k,I=A.parse(S),T=I.words;return T[0]==1398893684&&T[1]==1701076831&&(k=l.create(T.slice(2,4)),T.splice(0,4),I.sigBytes-=16),v.create({ciphertext:I,salt:k})}},j=i.SerializableCipher=o.extend({cfg:o.extend({format:_}),encrypt:function(S,k,I,T){T=this.cfg.extend(T);var U=S.createEncryptor(I,T),M=U.finalize(k),L=U.cfg;return v.create({ciphertext:M,key:I,iv:L.iv,algorithm:S,mode:L.mode,padding:L.padding,blockSize:S.blockSize,formatter:T.format})},decrypt:function(S,k,I,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var U=S.createDecryptor(I,T).finalize(k.ciphertext);return U},_parse:function(S,k){return typeof S=="string"?k.parse(S,this):S}}),C=a.kdf={},E=C.OpenSSL={execute:function(S,k,I,T,U){if(T||(T=l.random(64/8)),U)var M=h.create({keySize:k+I,hasher:U}).compute(S,T);else var M=h.create({keySize:k+I}).compute(S,T);var L=l.create(M.words.slice(k),I*4);return M.sigBytes=k*4,v.create({key:M,iv:L,salt:T})}},N=i.PasswordBasedCipher=j.extend({cfg:j.cfg.extend({kdf:E}),encrypt:function(S,k,I,T){T=this.cfg.extend(T);var U=T.kdf.execute(I,S.keySize,S.ivSize,T.salt,T.hasher);T.iv=U.iv;var M=j.encrypt.call(this,S,k,U.key,T);return M.mixIn(U),M},decrypt:function(S,k,I,T){T=this.cfg.extend(T),k=this._parse(k,T.format);var U=T.kdf.execute(I,S.keySize,S.ivSize,k.salt,T.hasher);T.iv=U.iv;var M=j.decrypt.call(this,S,k,U.key,T);return M}})}()})}(sC)),sC.exports}var iC={exports:{}},P5;function o7e(){return P5||(P5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize;a.call(this,i,o,c,l),this._prevBlock=i.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=i.slice(o,o+c);a.call(this,i,o,c,l),this._prevBlock=u}});function a(i,o,l,c){var u,A=this._iv;A?(u=A.slice(0),this._iv=void 0):u=this._prevBlock,c.encryptBlock(u,0);for(var d=0;d<l;d++)i[o+d]^=u[d]}return n}(),r.mode.CFB})}(iC)),iC.exports}var oC={exports:{}},F5;function l7e(){return F5||(F5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._counter;u&&(A=this._counter=u.slice(0),this._iv=void 0);var d=A.slice(0);l.encryptBlock(d,0),A[c-1]=A[c-1]+1|0;for(var h=0;h<c;h++)i[o+h]^=d[h]}});return n.Decryptor=a,n}(),r.mode.CTR})}(oC)),oC.exports}var lC={exports:{}},D5;function c7e(){return D5||(D5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function a(l){if((l>>24&255)===255){var c=l>>16&255,u=l>>8&255,A=l&255;c===255?(c=0,u===255?(u=0,A===255?A=0:++A):++u):++c,l=0,l+=c<<16,l+=u<<8,l+=A}else l+=1<<24;return l}function i(l){return(l[0]=a(l[0]))===0&&(l[1]=a(l[1])),l}var o=n.Encryptor=n.extend({processBlock:function(l,c){var u=this._cipher,A=u.blockSize,d=this._iv,h=this._counter;d&&(h=this._counter=d.slice(0),this._iv=void 0),i(h);var f=h.slice(0);u.encryptBlock(f,0);for(var g=0;g<A;g++)l[c+g]^=f[g]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(lC)),lC.exports}var cC={exports:{}},O5;function u7e(){return O5||(O5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,o){var l=this._cipher,c=l.blockSize,u=this._iv,A=this._keystream;u&&(A=this._keystream=u.slice(0),this._iv=void 0),l.encryptBlock(A,0);for(var d=0;d<c;d++)i[o+d]^=A[d]}});return n.Decryptor=a,n}(),r.mode.OFB})}(cC)),cC.exports}var uC={exports:{}},R5;function A7e(){return R5||(R5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n}(),r.mode.ECB})}(uC)),uC.exports}var AC={exports:{}},U5;function d7e(){return U5||(U5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,o=a*4,l=o-i%o,c=i+l-1;n.clamp(),n.words[c>>>2]|=l<<24-c%4*8,n.sigBytes+=l},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Ansix923})}(AC)),AC.exports}var dC={exports:{}},M5;function h7e(){return M5||(M5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.pad.Iso10126={pad:function(n,a){var i=a*4,o=i-n.sigBytes%i;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},r.pad.Iso10126})}(dC)),dC.exports}var hC={exports:{}},Q5;function f7e(){return Q5||(Q5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.pad.Iso97971={pad:function(n,a){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,a)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(hC)),hC.exports}var fC={exports:{}},L5;function m7e(){return L5||(L5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(fC)),fC.exports}var mC={exports:{}},$5;function p7e(){return $5||($5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(mC)),mC.exports}var pC={exports:{}},H5;function g7e(){return H5||(H5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Cn())})(st,function(r){return function(n){var a=r,i=a.lib,o=i.CipherParams,l=a.enc,c=l.Hex,u=a.format;u.Hex={stringify:function(A){return A.ciphertext.toString(c)},parse:function(A){var d=c.parse(A);return o.create({ciphertext:d})}}}(),r.format.Hex})}(pC)),pC.exports}var gC={exports:{}},V5;function x7e(){return V5||(V5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,o=n.algo,l=[],c=[],u=[],A=[],d=[],h=[],f=[],g=[],p=[],m=[];(function(){for(var v=[],B=0;B<256;B++)B<128?v[B]=B<<1:v[B]=B<<1^283;for(var _=0,j=0,B=0;B<256;B++){var C=j^j<<1^j<<2^j<<3^j<<4;C=C>>>8^C&255^99,l[_]=C,c[C]=_;var E=v[_],N=v[E],S=v[N],k=v[C]*257^C*16843008;u[_]=k<<24|k>>>8,A[_]=k<<16|k>>>16,d[_]=k<<8|k>>>24,h[_]=k;var k=S*16843009^N*65537^E*257^_*16843008;f[C]=k<<24|k>>>8,g[C]=k<<16|k>>>16,p[C]=k<<8|k>>>24,m[C]=k,_?(_=E^v[v[v[S^E]]],j^=v[v[j]]):_=j=1}})();var y=[0,1,2,4,8,16,32,64,128,27,54],b=o.AES=i.extend({_doReset:function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,_=B.words,j=B.sigBytes/4,C=this._nRounds=j+6,E=(C+1)*4,N=this._keySchedule=[],S=0;S<E;S++)S<j?N[S]=_[S]:(v=N[S-1],S%j?j>6&&S%j==4&&(v=l[v>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[v&255]):(v=v<<8|v>>>24,v=l[v>>>24]<<24|l[v>>>16&255]<<16|l[v>>>8&255]<<8|l[v&255],v^=y[S/j|0]<<24),N[S]=N[S-j]^v);for(var k=this._invKeySchedule=[],I=0;I<E;I++){var S=E-I;if(I%4)var v=N[S];else var v=N[S-4];I<4||S<=4?k[I]=v:k[I]=f[l[v>>>24]]^g[l[v>>>16&255]]^p[l[v>>>8&255]]^m[l[v&255]]}}},encryptBlock:function(v,B){this._doCryptBlock(v,B,this._keySchedule,u,A,d,h,l)},decryptBlock:function(v,B){var _=v[B+1];v[B+1]=v[B+3],v[B+3]=_,this._doCryptBlock(v,B,this._invKeySchedule,f,g,p,m,c);var _=v[B+1];v[B+1]=v[B+3],v[B+3]=_},_doCryptBlock:function(v,B,_,j,C,E,N,S){for(var k=this._nRounds,I=v[B]^_[0],T=v[B+1]^_[1],U=v[B+2]^_[2],M=v[B+3]^_[3],L=4,O=1;O<k;O++){var D=j[I>>>24]^C[T>>>16&255]^E[U>>>8&255]^N[M&255]^_[L++],R=j[T>>>24]^C[U>>>16&255]^E[M>>>8&255]^N[I&255]^_[L++],Q=j[U>>>24]^C[M>>>16&255]^E[I>>>8&255]^N[T&255]^_[L++],K=j[M>>>24]^C[I>>>16&255]^E[T>>>8&255]^N[U&255]^_[L++];I=D,T=R,U=Q,M=K}var D=(S[I>>>24]<<24|S[T>>>16&255]<<16|S[U>>>8&255]<<8|S[M&255])^_[L++],R=(S[T>>>24]<<24|S[U>>>16&255]<<16|S[M>>>8&255]<<8|S[I&255])^_[L++],Q=(S[U>>>24]<<24|S[M>>>16&255]<<16|S[I>>>8&255]<<8|S[T&255])^_[L++],K=(S[M>>>24]<<24|S[I>>>16&255]<<16|S[T>>>8&255]<<8|S[U&255])^_[L++];v[B]=D,v[B+1]=R,v[B+2]=Q,v[B+3]=K},keySize:256/32});n.AES=i._createHelper(b)}(),r.AES})}(gC)),gC.exports}var xC={exports:{}},K5;function v7e(){return K5||(K5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.WordArray,o=a.BlockCipher,l=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],A=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],d=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=l.DES=o.extend({_doReset:function(){for(var y=this._key,b=y.words,v=[],B=0;B<56;B++){var _=c[B]-1;v[B]=b[_>>>5]>>>31-_%32&1}for(var j=this._subKeys=[],C=0;C<16;C++){for(var E=j[C]=[],N=A[C],B=0;B<24;B++)E[B/6|0]|=v[(u[B]-1+N)%28]<<31-B%6,E[4+(B/6|0)]|=v[28+(u[B+24]-1+N)%28]<<31-B%6;E[0]=E[0]<<1|E[0]>>>31;for(var B=1;B<7;B++)E[B]=E[B]>>>(B-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var S=this._invSubKeys=[],B=0;B<16;B++)S[B]=j[15-B]},encryptBlock:function(y,b){this._doCryptBlock(y,b,this._subKeys)},decryptBlock:function(y,b){this._doCryptBlock(y,b,this._invSubKeys)},_doCryptBlock:function(y,b,v){this._lBlock=y[b],this._rBlock=y[b+1],g.call(this,4,252645135),g.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),g.call(this,1,1431655765);for(var B=0;B<16;B++){for(var _=v[B],j=this._lBlock,C=this._rBlock,E=0,N=0;N<8;N++)E|=d[N][((C^_[N])&h[N])>>>0];this._lBlock=C,this._rBlock=j^E}var S=this._lBlock;this._lBlock=this._rBlock,this._rBlock=S,g.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),g.call(this,16,65535),g.call(this,4,252645135),y[b]=this._lBlock,y[b+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function g(y,b){var v=(this._lBlock>>>y^this._rBlock)&b;this._rBlock^=v,this._lBlock^=v<<y}function p(y,b){var v=(this._rBlock>>>y^this._lBlock)&b;this._lBlock^=v,this._rBlock^=v<<y}n.DES=o._createHelper(f);var m=l.TripleDES=o.extend({_doReset:function(){var y=this._key,b=y.words;if(b.length!==2&&b.length!==4&&b.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=b.slice(0,2),B=b.length<4?b.slice(0,2):b.slice(2,4),_=b.length<6?b.slice(0,2):b.slice(4,6);this._des1=f.createEncryptor(i.create(v)),this._des2=f.createEncryptor(i.create(B)),this._des3=f.createEncryptor(i.create(_))},encryptBlock:function(y,b){this._des1.encryptBlock(y,b),this._des2.decryptBlock(y,b),this._des3.encryptBlock(y,b)},decryptBlock:function(y,b){this._des3.decryptBlock(y,b),this._des2.encryptBlock(y,b),this._des1.decryptBlock(y,b)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),r.TripleDES})}(xC)),xC.exports}var vC={exports:{}},z5;function y7e(){return z5||(z5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,o=n.algo,l=o.RC4=i.extend({_doReset:function(){for(var A=this._key,d=A.words,h=A.sigBytes,f=this._S=[],g=0;g<256;g++)f[g]=g;for(var g=0,p=0;g<256;g++){var m=g%h,y=d[m>>>2]>>>24-m%4*8&255;p=(p+f[g]+y)%256;var b=f[g];f[g]=f[p],f[p]=b}this._i=this._j=0},_doProcessBlock:function(A,d){A[d]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var A=this._S,d=this._i,h=this._j,f=0,g=0;g<4;g++){d=(d+1)%256,h=(h+A[d])%256;var p=A[d];A[d]=A[h],A[h]=p,f|=A[(A[d]+A[h])%256]<<24-g*8}return this._i=d,this._j=h,f}n.RC4=i._createHelper(l);var u=o.RC4Drop=l.extend({cfg:l.cfg.extend({drop:192}),_doReset:function(){l._doReset.call(this);for(var A=this.cfg.drop;A>0;A--)c.call(this)}});n.RC4Drop=i._createHelper(u)}(),r.RC4})}(vC)),vC.exports}var yC={exports:{}},G5;function b7e(){return G5||(G5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.Rabbit=i.extend({_doReset:function(){for(var h=this._key.words,f=this.cfg.iv,g=0;g<4;g++)h[g]=(h[g]<<8|h[g]>>>24)&16711935|(h[g]<<24|h[g]>>>8)&4278255360;var p=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)d.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(f){var y=f.words,b=y[0],v=y[1],B=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,j=B>>>16|_&4294901760,C=_<<16|B&65535;m[0]^=B,m[1]^=j,m[2]^=_,m[3]^=C,m[4]^=B,m[5]^=j,m[6]^=_,m[7]^=C;for(var g=0;g<4;g++)d.call(this)}},_doProcessBlock:function(h,f){var g=this._X;d.call(this),l[0]=g[0]^g[5]>>>16^g[3]<<16,l[1]=g[2]^g[7]>>>16^g[5]<<16,l[2]=g[4]^g[1]>>>16^g[7]<<16,l[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,h[f+p]^=l[p]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,g=0;g<8;g++)c[g]=f[g];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var p=h[g]+f[g],m=p&65535,y=p>>>16,b=((m*m>>>17)+m*y>>>15)+y*y,v=((p&4294901760)*p|0)+((p&65535)*p|0);u[g]=b^v}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=i._createHelper(A)}(),r.Rabbit})}(yC)),yC.exports}var bC={exports:{}},W5;function w7e(){return W5||(W5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.StreamCipher,o=n.algo,l=[],c=[],u=[],A=o.RabbitLegacy=i.extend({_doReset:function(){var h=this._key.words,f=this.cfg.iv,g=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],p=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)d.call(this);for(var m=0;m<8;m++)p[m]^=g[m+4&7];if(f){var y=f.words,b=y[0],v=y[1],B=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,_=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,j=B>>>16|_&4294901760,C=_<<16|B&65535;p[0]^=B,p[1]^=j,p[2]^=_,p[3]^=C,p[4]^=B,p[5]^=j,p[6]^=_,p[7]^=C;for(var m=0;m<4;m++)d.call(this)}},_doProcessBlock:function(h,f){var g=this._X;d.call(this),l[0]=g[0]^g[5]>>>16^g[3]<<16,l[1]=g[2]^g[7]>>>16^g[5]<<16,l[2]=g[4]^g[1]>>>16^g[7]<<16,l[3]=g[6]^g[3]>>>16^g[1]<<16;for(var p=0;p<4;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360,h[f+p]^=l[p]},blockSize:128/32,ivSize:64/32});function d(){for(var h=this._X,f=this._C,g=0;g<8;g++)c[g]=f[g];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<c[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<c[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<c[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<c[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<c[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<c[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<c[6]>>>0?1:0)|0,this._b=f[7]>>>0<c[7]>>>0?1:0;for(var g=0;g<8;g++){var p=h[g]+f[g],m=p&65535,y=p>>>16,b=((m*m>>>17)+m*y>>>15)+y*y,v=((p&4294901760)*p|0)+((p&65535)*p|0);u[g]=b^v}h[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,h[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,h[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,h[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,h[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,h[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,h[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,h[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=i._createHelper(A)}(),r.RabbitLegacy})}(bC)),bC.exports}var wC={exports:{}},q5;function B7e(){return q5||(q5=1,function(t,e){(function(r,n,a){t.exports=n(Vt(),Qu(),Lu(),uc(),Cn())})(st,function(r){return function(){var n=r,a=n.lib,i=a.BlockCipher,o=n.algo;const l=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var A={pbox:[],sbox:[]};function d(m,y){let b=y>>24&255,v=y>>16&255,B=y>>8&255,_=y&255,j=m.sbox[0][b]+m.sbox[1][v];return j=j^m.sbox[2][B],j=j+m.sbox[3][_],j}function h(m,y,b){let v=y,B=b,_;for(let j=0;j<l;++j)v=v^m.pbox[j],B=d(m,v)^B,_=v,v=B,B=_;return _=v,v=B,B=_,B=B^m.pbox[l],v=v^m.pbox[l+1],{left:v,right:B}}function f(m,y,b){let v=y,B=b,_;for(let j=l+1;j>1;--j)v=v^m.pbox[j],B=d(m,v)^B,_=v,v=B,B=_;return _=v,v=B,B=_,B=B^m.pbox[1],v=v^m.pbox[0],{left:v,right:B}}function g(m,y,b){for(let C=0;C<4;C++){m.sbox[C]=[];for(let E=0;E<256;E++)m.sbox[C][E]=u[C][E]}let v=0;for(let C=0;C<l+2;C++)m.pbox[C]=c[C]^y[v],v++,v>=b&&(v=0);let B=0,_=0,j=0;for(let C=0;C<l+2;C+=2)j=h(m,B,_),B=j.left,_=j.right,m.pbox[C]=B,m.pbox[C+1]=_;for(let C=0;C<4;C++)for(let E=0;E<256;E+=2)j=h(m,B,_),B=j.left,_=j.right,m.sbox[C][E]=B,m.sbox[C][E+1]=_;return!0}var p=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,y=m.words,b=m.sigBytes/4;g(A,y,b)}},encryptBlock:function(m,y){var b=h(A,m[y],m[y+1]);m[y]=b.left,m[y+1]=b.right},decryptBlock:function(m,y){var b=f(A,m[y],m[y+1]);m[y]=b.left,m[y+1]=b.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=i._createHelper(p)}(),r.Blowfish})}(wC)),wC.exports}(function(t,e){(function(r,n,a){t.exports=n(Vt(),Dw(),Z9e(),e7e(),Qu(),t7e(),Lu(),RW(),Tk(),r7e(),UW(),n7e(),a7e(),s7e(),Ik(),i7e(),uc(),Cn(),o7e(),l7e(),c7e(),u7e(),A7e(),d7e(),h7e(),f7e(),m7e(),p7e(),g7e(),x7e(),v7e(),y7e(),b7e(),w7e(),B7e())})(st,function(r){return r})})(OW);var C7e=OW.exports;const yf=or(C7e);let _7e={data:""},j7e=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||_7e,E7e=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,S7e=/\/\*[^]*?\*\/|  +/g,X5=/\n+/g,il=(t,e)=>{let r="",n="",a="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?r=i+" "+o+";":n+=i[1]=="f"?il(o,i):i+"{"+il(o,i[1]=="k"?"":e)+"}":typeof o=="object"?n+=il(o,e?e.replace(/([^,])+/g,l=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=il.p?il.p(i,o):i+":"+o+";")}return r+(e&&a?e+"{"+a+"}":a)+n},Xi={},MW=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+MW(t[r]);return e}return t},N7e=(t,e,r,n,a)=>{let i=MW(t),o=Xi[i]||(Xi[i]=(c=>{let u=0,A=11;for(;u<c.length;)A=101*A+c.charCodeAt(u++)>>>0;return"go"+A})(i));if(!Xi[o]){let c=i!==t?t:(u=>{let A,d,h=[{}];for(;A=E7e.exec(u.replace(S7e,""));)A[4]?h.shift():A[3]?(d=A[3].replace(X5," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][A[1]]=A[2].replace(X5," ").trim();return h[0]})(t);Xi[o]=il(a?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&Xi.g?Xi.g:null;return r&&(Xi.g=Xi[o]),((c,u,A,d)=>{d?u.data=u.data.replace(d,c):u.data.indexOf(c)===-1&&(u.data=A?c+u.data:u.data+c)})(Xi[o],e,n,l),o},k7e=(t,e,r)=>t.reduce((n,a,i)=>{let o=e[i];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":il(l,""):l===!1?"":l}return n+a+(o??"")},"");function Ow(t){let e=this||{},r=t.call?t(e.p):t;return N7e(r.unshift?r.raw?k7e(r,[].slice.call(arguments,1),e.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(e.p):a),{}):r,j7e(e.target),e.g,e.o,e.k)}let QW,sS,iS;Ow.bind({g:1});let Eo=Ow.bind({k:1});function T7e(t,e,r,n){il.p=e,QW=t,sS=r,iS=n}function Ac(t,e){let r=this||{};return function(){let n=arguments;function a(i,o){let l=Object.assign({},i),c=l.className||a.className;r.p=Object.assign({theme:sS&&sS()},l),r.o=/ *go\d+/.test(c),l.className=Ow.apply(r,n)+(c?" "+c:"");let u=t;return t[0]&&(u=l.as||t,delete l.as),iS&&u[0]&&iS(l),QW(u,l)}return a}}var I7e=t=>typeof t=="function",oS=(t,e)=>I7e(t)?t(e):t,P7e=(()=>{let t=0;return()=>(++t).toString()})(),F7e=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),D7e=20,LW=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,D7e)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:r}=e;return LW(t,{type:t.toasts.find(i=>i.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=e;return{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},O7e=[],BC={toasts:[],pausedAt:void 0},Pk=t=>{BC=LW(BC,t),O7e.forEach(e=>{e(BC)})},R7e=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||P7e()}),pg=t=>(e,r)=>{let n=R7e(e,t,r);return Pk({type:2,toast:n}),n.id},za=(t,e)=>pg("blank")(t,e);za.error=pg("error");za.success=pg("success");za.loading=pg("loading");za.custom=pg("custom");za.dismiss=t=>{Pk({type:3,toastId:t})};za.remove=t=>Pk({type:4,toastId:t});za.promise=(t,e,r)=>{let n=za.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let i=e.success?oS(e.success,a):void 0;return i?za.success(i,{id:n,...r,...r==null?void 0:r.success}):za.dismiss(n),a}).catch(a=>{let i=e.error?oS(e.error,a):void 0;i?za.error(i,{id:n,...r,...r==null?void 0:r.error}):za.dismiss(n)}),t};var U7e=Eo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,M7e=Eo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Q7e=Eo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,L7e=Ac("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${U7e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${M7e} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Q7e} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$7e=Eo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H7e=Ac("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${$7e} 1s linear infinite;
`,V7e=Eo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,K7e=Eo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,z7e=Ac("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${V7e} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${K7e} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G7e=Ac("div")`
  position: absolute;
`,W7e=Ac("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,q7e=Eo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,X7e=Ac("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${q7e} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Y7e=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?x.createElement(X7e,null,e):e:r==="blank"?null:x.createElement(W7e,null,x.createElement(H7e,{...n}),r!=="loading"&&x.createElement(G7e,null,r==="error"?x.createElement(L7e,{...n}):x.createElement(z7e,{...n})))},J7e=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Z7e=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,eKe="0%{opacity:0;} 100%{opacity:1;}",tKe="0%{opacity:1;} 100%{opacity:0;}",rKe=Ac("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,nKe=Ac("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,aKe=(t,e)=>{let r=t.includes("top")?1:-1,[n,a]=F7e()?[eKe,tKe]:[J7e(r),Z7e(r)];return{animation:e?`${Eo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Eo(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};x.memo(({toast:t,position:e,style:r,children:n})=>{let a=t.height?aKe(t.position||e||"top-center",t.visible):{opacity:0},i=x.createElement(Y7e,{toast:t}),o=x.createElement(nKe,{...t.ariaProps},oS(t.message,t));return x.createElement(rKe,{className:t.className,style:{...a,...r,...t.style}},typeof n=="function"?n({icon:i,message:o}):x.createElement(x.Fragment,null,i,o))});T7e(x.createElement);Ow`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;var bf=za;function sKe(){const[t,e]=x.useState("dashboard"),[r,n]=x.useState(!1),[a,i]=x.useState(!0),[o,l]=x.useState([]),[c,u]=x.useState([]),[A,d]=x.useState([]),[h,f]=x.useState([]),[g,p]=x.useState([]),[m,y]=x.useState([]),[b,v]=x.useState([]),[B,_]=x.useState(null),[j,C]=x.useState(!1),[E,N]=x.useState(!1),[S,k]=x.useState(null),[I,T]=x.useState("service"),[U,M]=x.useState(null),[L,O]=x.useState(""),[D,R]=x.useState(""),[Q,K]=x.useState(null),[$,q]=x.useState(!1),[z,W]=x.useState([]),[ne,oe]=x.useState(null),[re,ce]=x.useState(!1);x.useEffect(()=>{(async()=>{i(!0);try{const we=await B7();l(we||[]);const Je=await Z.from("ppob_products").select("*");u(Je.data||[]);const Ke=await Z.from("ppob_transactions").select("*").order("transaction_date",{ascending:!1});p(Ke.data||[]);const{data:pt,error:er}=await Z.from("digiflazz_config").select("*").single();er?(console.error("Error loading Digiflazz config:",er),_({id:"",api_key:"",username:"",mode:"development"})):_(pt||{id:"",api_key:"",username:"",mode:"development"})}catch(we){console.error("Error loading data:",we),alert("Failed to load data")}finally{i(!1)}})()},[]),x.useEffect(()=>{t==="digiflazz"&&B&&B.api_key&&B.username&&(async()=>{i(!0);try{const Je=await fetch("/digiflazz-proxy/v1/price-list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,apiKey:B.api_key})});if(!Je.ok)throw new Error(`HTTP error! Status: ${Je.status}`);const Ke=await Je.json();if(console.log("Digiflazz API Response:",Ke),Ke&&Array.isArray(Ke.data)){d(Ke.data);const pt=[...new Set(Ke.data.map(er=>er.category))];f(pt.map(er=>({id:er,name:er})))}else console.error("Unexpected data structure from Digiflazz API",Ke),d([]),f([])}catch(we){console.error("Error fetching Digiflazz products:",we),d([]),f([]),alert("Failed to fetch products from Digiflazz API")}finally{i(!1)}})()},[t,B]),x.useEffect(()=>{t==="transactions"&&B&&B.api_key&&B.username&&(Ae(),ge())},[t,B]),x.useEffect(()=>{(async()=>{if(Z){i(!0);try{const{data:we,error:Je}=await Z.from("transaksi_digiflazz").select("*").order("updated_at",{ascending:!1}).limit(50);if(Je)throw Je;W(we||[])}catch(we){console.error("Error fetching transaction history:",we),W([])}finally{i(!1)}}})()},[Z]),x.useEffect(()=>{if(!Z)return;const ie=Z.channel("transactions").on("postgres_changes",{event:"INSERT",schema:"public",table:"transaksi_digiflazz"},we=>{console.log("New transaction received:",we),W(Je=>[we.new,...Je]),bf({title:"Transaksi Baru",description:`Transaksi baru dengan ID ${we.new.ref_id} telah diterima.`})}).subscribe();return oe(ie),()=>{ie&&(ie.unsubscribe(),oe(null))}},[Z,bf]);const Ae=async()=>{i(!0);try{const ie="/digiflazz-proxy/v1/transaction-history",we=`${B.username}${B.api_key}history`,Je=yf.MD5(we).toString(),Ke=await fetch(ie,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,sign:Je})});if(Ke.ok){const pt=await Ke.json();console.log("Digiflazz Transaction History Response:",pt),pt&&Array.isArray(pt.data)?y(pt.data):(console.error("Unexpected transaction data structure from Digiflazz API",pt),y([]))}else if(Ke.status===404)console.log("Transaction history endpoint not found. This feature may not be implemented in the proxy yet."),y([]);else throw new Error(`HTTP error! Status: ${Ke.status}`)}catch(ie){console.error("Error fetching Digiflazz transactions:",ie),y([]),alert("Failed to fetch transactions from Digiflazz API")}finally{i(!1)}},ge=async()=>{if(Z){ce(!0);try{const{data:ie,error:we}=await Z.from("transaksi_digiflazz").select("*").order("updated_at",{ascending:!1});if(we)throw we;v(ie||[])}catch(ie){console.error("Error fetching Supabase transactions:",ie),bf.error("Gagal memuat transaksi dari Supabase")}finally{ce(!1)}}},Y=async ie=>{if(Z)try{const{id:we,updated_at:Je,...Ke}=ie,{data:pt,error:er}=await Z.from("transaksi_digiflazz").upsert([Ke],{onConflict:"ref_id"});if(er)throw er;bf.success("Transaksi berhasil disimpan ke Supabase")}catch(we){console.error("Error saving transaction to Supabase:",we),bf.error("Gagal menyimpan transaksi ke Supabase")}},pe=ie=>{k(null),T(ie),C(!0)},Se=ie=>{if(k(ie),"category"in ie){const we=ie;T("service"),M(we.id)}else if("price"in ie&&!("ref_id"in ie)){const we=ie;T("product"),O(we.id)}else"ref_id"in ie?T("transaction"):T("digiflazz");C(!0)},Ue=async ie=>{N(!0);try{const we=ie.id;if(!we)return;const Je="category"in ie?"ppob_services":"ppob_products",{error:Ke}=await Z.from(Je).delete().eq("id",we);if(Ke)throw Ke;"category"in ie?l(o.filter(pt=>pt.id!==we)):u(c.filter(pt=>pt.id!==we)),alert("Deleted successfully")}catch(we){console.error("Error deleting item:",we),alert("Failed to delete item")}finally{N(!1)}},We=async(ie,we)=>{i(!0);try{if(we==="transaction")if(S&&S.id)await X(S.id,ie);else{const{error:Je}=await Z.from("transaksi_digiflazz").insert([ie]);if(Je)throw Je;alert("Transaksi berhasil ditambahkan ke database."),ge()}else{if(S){const Je=we==="service"?"ppob_services":we==="product"?"ppob_products":"digiflazz_config",Ke=we==="digiflazz"?"user_id":"id",pt=we==="digiflazz"?null:S.id,{error:er}=await Z.from(Je).update(ie).eq(Ke,pt);if(er)throw er;alert(`${we.charAt(0).toUpperCase()+we.slice(1)} berhasil diperbarui.`)}else{const Je=we==="service"?"ppob_services":we==="product"?"ppob_products":"digiflazz_config";we==="digiflazz"&&(ie.user_id=null);const{error:Ke}=await Z.from(Je).insert([ie]);if(Ke)throw Ke;alert(`${we.charAt(0).toUpperCase()+we.slice(1)} berhasil ditambahkan.`)}we==="service"?Ne():we==="product"?Be():ve()}}catch(Je){console.error(`Error saving ${we}:`,Je),alert(`Gagal menyimpan ${we}.`)}finally{i(!1),C(!1)}},gt=async()=>{if(!U){alert("Please select a service first");return}if(!L){alert("Please select a product");return}if(!D.trim()){alert("Please enter a customer number");return}i(!0);try{console.log("Selected Product for Purchase:",L);const ie=(B==null?void 0:B.username)||"",we=(B==null?void 0:B.api_key)||"",Je=`${Date.now()}-${Math.floor(Math.random()*1e3)}`,Ke=`${ie}${we}${Je}`,pt=yf.MD5(Ke).toString(),er=typeof L=="string"?L:L.buyer_sku_code,Vr={username:ie,buyer_sku_code:er||"",customer_no:D,ref_id:Je,sign:pt};console.log("Test Purchase Request Body:",Vr);const Nr=await fetch("/digiflazz-proxy/v1/transaction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Vr)});if(Nr.ok){const pr=await Nr.json();console.log("Test Purchase Response:",pr),alert(`Pembelian berhasil!: ${JSON.stringify(pr)}`),await Y({...pr.data,ref_id:Je}),R("")}else{const pr=await Nr.text();console.error("Test purchase failed:",pr),pr.includes("IP tidak diizinkan")?alert("Transaksi gagal: IP tidak diizinkan. Harap whitelist IP Anda di Digiflazz."):pr.includes("Produk sedang Gangguan")||pr.includes("Produk sedang tidak tersedia")||pr.includes("Non Aktif")?alert("Transaksi gagal: Produk sedang tidak tersedia atau non-aktif. Silakan coba produk lain."):alert(`Test purchase failed: ${pr}`)}}catch(ie){console.error("Error during test purchase:",ie),alert("An error occurred during test purchase")}finally{i(!1)}},Rt=async()=>{i(!0);try{const ie=`${B.username}${B.api_key}depo`,we=yf.MD5(ie).toString(),Je=await fetch("/digiflazz-proxy/v1/cek-saldo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,sign:we})}),Ke=await Je.text();if(console.log("Balance Check Response:",Je.status,Ke),!Je.ok)throw Ke.includes("IP Anda tidak kami kenali")?new Error("IP Anda tidak dikenali oleh Digiflazz. Harap whitelist IP Anda di pengaturan Digiflazz."):new Error(`HTTP error! Status: ${Je.status}, Details: ${Ke}`);const pt=JSON.parse(Ke);pt&&pt.data?alert(`Saldo Digiflazz: Rp ${pt.data.deposit.toLocaleString("id-ID")}`):alert("Gagal memeriksa saldo. Tidak ada data yang dikembalikan.")}catch(ie){console.error("Error checking balance:",ie),alert(`Gagal memeriksa saldo: ${ie.message}`)}finally{i(!1)}},Ut=async ie=>{N(!0);try{const{error:we}=await Z.from("transaksi_digiflazz").delete().eq("id",ie);if(we)throw we;alert("Transaksi berhasil dihapus dari database."),ge()}catch(we){console.error("Error deleting transaction:",we),alert("Gagal menghapus transaksi dari database.")}finally{N(!1)}},X=async(ie,we)=>{try{const{data:Je,error:Ke}=await Z.from("transaksi_digiflazz").update(we).eq("id",ie).select();if(Ke)throw Ke;return alert("Transaksi berhasil diperbarui di database."),ge(),Je}catch(Je){return console.error("Error updating transaction:",Je),alert("Gagal memperbarui transaksi di database."),null}},ee=ie=>{k(ie),T("transaction"),C(!0)},le=async()=>{if(!D){alert("Silakan masukkan nomor pelanggan PLN terlebih dahulu.");return}q(!0);try{const ie=`${B.username}${B.api_key}${D}`,we=yf.MD5(ie).toString(),Je=await fetch("/digiflazz-proxy/v1/inquiry-pln",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,customer_no:D,sign:we})});if(!Je.ok){const pt=await Je.text();throw console.error("PLN ID Validation Error:",Je.status,pt),K({status:"Gagal",message:`HTTP error! Status: ${Je.status}`,details:pt}),alert(`Validasi gagal! Status: ${Je.status}. Detail: ${pt}`),new Error(`HTTP error! Status: ${Je.status}, Details: ${pt}`)}const Ke=await Je.json();Ke&&Ke.data?(K(Ke.data),console.log("PLN Validation Full Response:",Ke),alert(`Status validasi: ${Ke.data.status}, Nama: ${Ke.data.name||"N/A"}, No. Pelanggan: ${Ke.data.customer_no||"N/A"}, No. Meter: ${Ke.data.meter_no||"N/A"}, ID Pelanggan: ${Ke.data.subscriber_id||"N/A"}, Daya: ${Ke.data.segment_power||"N/A"}`)):(K({status:"Gagal",message:"Tidak ada data yang dikembalikan dari Digiflazz API."}),alert("Validasi gagal. Tidak ada data yang dikembalikan."))}catch(ie){console.error("Error validating PLN ID:",ie),K({status:"Gagal",message:ie.message}),alert("Gagal memvalidasi nomor pelanggan PLN.")}finally{q(!1)}},Ce=()=>{const[ie,we]=x.useState(""),[Je,Ke]=x.useState(""),[pt,er]=x.useState(!1),Vr=async()=>{er(!0),Ke("");try{if(!B)throw new Error("Digiflazz configuration not loaded");let Nr=ie.split("/").pop();if((!Nr||Nr.length<5)&&(Nr=prompt("Please enter your Digiflazz Webhook ID (from Atur Koneksi > API > Webhook):")||""),!Nr)throw new Error("Webhook ID is required for testing");const pr=`TEST-${Date.now()}`,Qi=`${B.username}${B.api_key}${pr}`,Da=yf.MD5(Qi).toString(),js=await fetch("/api/test-webhook-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:B.username,ref_id:pr,sign:Da,webhook_url:ie,webhook_id:Nr,use_ping_endpoint:!0})}),rs=await js.text();let ba;try{ba=rs?JSON.parse(rs):{message:"No response content from proxy"}}catch{ba={error:"Invalid JSON response from proxy",rawResponse:rs}}js.ok?Ke(`Webhook test successful: ${JSON.stringify(ba)}`):Ke(`Webhook test failed: ${ba.error||js.statusText}`)}catch(Nr){Ke(`Error testing webhook: ${Nr.message}`)}finally{er(!1)}};return s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Webhook Management"}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{htmlFor:"webhookUrl",className:"block text-sm font-medium text-gray-700",children:"Webhook URL"}),s.jsx("input",{type:"text",id:"webhookUrl",value:ie,onChange:Nr=>we(Nr.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Enter your webhook URL"})]}),s.jsx("button",{onClick:Vr,disabled:pt||!ie,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:bg-gray-400 disabled:cursor-not-allowed",children:pt?"Testing...":"Test Webhook"}),Je&&s.jsx("div",{className:"mt-4 p-3 border rounded-md bg-gray-50",children:s.jsx("p",{className:"text-sm text-gray-700",children:Je})})]})]})},Ne=async()=>{console.log("Fetching services")},Be=async()=>{console.log("Fetching products")},ve=async()=>{console.log("Loading Digiflazz config")},qe=()=>s.jsxs("div",{className:"mt-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Riwayat Transaksi"}),s.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[s.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Riwayat Transaksi dari Database Supabase"}),re?s.jsx("div",{className:"text-center py-10",children:"Memuat data transaksi..."}):b.length===0?s.jsx("div",{className:"text-center py-10 text-gray-500",children:"Tidak ada data transaksi di database Supabase"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ref ID"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nomor Pelanggan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kode SKU Pembeli"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pesan"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"RC"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SN"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Harga"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Saldo Terakhir Pembeli"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tele"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"WA"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal Update"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(ie=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ie.ref_id||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.customer_no||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.buyer_sku_code||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.status||"-"}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:ie.message||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.rc||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.sn||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.price?"Rp "+ie.price.toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.buyer_last_saldo?"Rp "+ie.buyer_last_saldo.toLocaleString():"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.tele||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.wa||"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ie.updated_at?new Date(ie.updated_at).toLocaleString():"-"}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.jsx("button",{onClick:()=>ee(ie),className:"text-indigo-600 hover:text-indigo-900 mr-2",children:"Edit"}),s.jsx("button",{onClick:()=>Ut(ie.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},ie.id))})]})})]})]});return s.jsxs(W9e,{children:[s.jsxs(Zs,{children:[s.jsx("title",{children:"Admin PPOB - JPC Digi"}),s.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(J.download,{className:"mr-2 h-4 w-4"}),"Export"]}),s.jsxs(G,{size:"sm",onClick:()=>pe(t==="services"?"service":"product"),children:[s.jsx(J.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]}),s.jsx(G,{onClick:Rt,disabled:a||!B,className:"bg-green-600 hover:bg-green-700",children:a?"Memeriksa...":"Cek Saldo Digiflazz"}),s.jsx(G,{onClick:gt,disabled:a||!B||!U||!L||!D,className:"bg-blue-600 hover:bg-blue-700",children:a?"Membeli...":"Tes Pembelian"})]})]}),s.jsxs(Pa,{value:t,onValueChange:e,className:"space-y-4",children:[s.jsxs(ga,{className:"grid w-full grid-cols-6",children:[s.jsx(Nt,{value:"dashboard",children:"Dashboard"}),s.jsx(Nt,{value:"services",children:"Layanan"}),s.jsx(Nt,{value:"products",children:"Produk"}),s.jsx(Nt,{value:"transactions",children:"Transaksi"}),s.jsx(Nt,{value:"digiflazz",children:"Digiflazz API"}),s.jsx(Nt,{value:"test-purchase",children:"Tes Pembelian"}),s.jsx(Nt,{value:"webhook",children:"Webhook Management"})]}),s.jsxs(Xt,{value:"dashboard",className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"}),s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Transaksi Terbaru"}),s.jsx(dr,{children:"Daftar 5 transaksi terbaru di sistem"})]}),s.jsx(je,{children:a?s.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"ID"}),s.jsx(Pe,{children:"Pelanggan"}),s.jsx(Pe,{children:"Produk"}),s.jsx(Pe,{children:"Jumlah"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{children:"Tanggal"})]})}),s.jsx(ra,{children:g.slice(0,5).map(ie=>{var we;return s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:ie.id||"N/A"}),s.jsx(be,{children:ie.customer_name||"N/A"}),s.jsx(be,{children:ie.product_name||"N/A"}),s.jsxs(be,{children:["Rp ",((we=ie.amount)==null?void 0:we.toLocaleString())||"0"]}),s.jsx(be,{children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ie.status==="Sukses"?"bg-green-100 text-green-800":ie.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:ie.status||"Pending"})}),s.jsx(be,{children:ie.transaction_date?new Date(ie.transaction_date).toLocaleString():"N/A"})]},ie.id||"temp-"+Math.random().toString())})})]})})]}),s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Verifikasi Pengguna Terbaru"}),s.jsx(dr,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),s.jsx(je,{children:s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"ID"}),s.jsx(Pe,{children:"Pengguna"}),s.jsx(Pe,{children:"Dokumen"}),s.jsx(Pe,{children:"Tanggal Pengajuan"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{children:"Aksi"})]})}),s.jsx(ra,{})]})})]})]}),s.jsx(Xt,{value:"transactions",className:"space-y-4",children:s.jsx(qe,{})}),s.jsx(Xt,{value:"digiflazz",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Konfigurasi Digiflazz API"}),s.jsx(dr,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),s.jsx(je,{children:a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-4",children:[B?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),s.jsx("p",{className:"font-medium",children:B.username})]}),s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),s.jsx("p",{className:"font-medium",children:B.api_key?B.api_key.slice(0,4)+"****":"Not set"})]}),s.jsxs("div",{className:"border rounded-md p-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),s.jsx("p",{className:"font-medium",children:B.mode})]})]}):s.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),s.jsx(G,{onClick:()=>Se(B||{}),children:B?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),s.jsx(Xt,{value:"products",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Produk PPOB"}),s.jsx(dr,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),s.jsxs(je,{children:[s.jsx("div",{className:"mb-4",children:s.jsx(G,{onClick:()=>pe("product"),children:"Tambah Produk"})}),a?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Nama"}),s.jsx(Pe,{children:"Harga"}),s.jsx(Pe,{children:"Deskripsi"}),s.jsx(Pe,{children:"Layanan"}),s.jsx(Pe,{children:"Aksi"})]})}),s.jsx(ra,{children:c.map(ie=>{var we;return s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:ie.name}),s.jsxs(be,{children:["Rp ",(we=ie.price)==null?void 0:we.toLocaleString()]}),s.jsx(be,{children:ie.description||"-"}),s.jsx(be,{children:ie.service_id}),s.jsx(be,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(G,{variant:"outline",size:"sm",onClick:()=>Se(ie),children:"Edit"}),s.jsx(G,{variant:"destructive",size:"sm",onClick:()=>Ue(ie),disabled:E,children:"Hapus"})]})})]},ie.id)})})]}),B&&B.api_key&&s.jsxs(s.Fragment,{children:[s.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),A.length>0?s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"Nama Produk"}),s.jsx(Pe,{children:"Harga"}),s.jsx(Pe,{children:"Kategori"}),s.jsx(Pe,{children:"Brand"}),s.jsx(Pe,{children:"Status"})]})}),s.jsx(ra,{children:A.map(ie=>{var we;return s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:ie.product_name}),s.jsxs(be,{children:["Rp ",(we=ie.price)==null?void 0:we.toLocaleString()]}),s.jsx(be,{children:ie.category}),s.jsx(be,{children:ie.brand}),s.jsx(be,{children:ie.status==="active"?"Aktif":"Tidak Aktif"})]},ie.product_id||ie.buyer_sku_code)})})]}):s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."})]})]})]})]})}),s.jsx(Xt,{value:"services",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Daftar Layanan"}),s.jsx(dr,{children:"Kelola layanan PPOB"})]}),s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[s.jsx(he,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),s.jsxs(Rn,{defaultValue:"all",children:[s.jsx(vn,{className:"w-[180px]",children:s.jsx(Un,{placeholder:"Kategori"})}),s.jsxs(yn,{children:[s.jsx(vt,{value:"all",children:"Semua Kategori"}),s.jsx(vt,{value:"topup",children:"Top Up"}),s.jsx(vt,{value:"tagihan",children:"Tagihan"}),s.jsx(vt,{value:"investasi",children:"Investasi"}),s.jsx(vt,{value:"lainnya",children:"Lainnya"})]})]})]}),s.jsxs(G,{variant:"outline",children:[s.jsx(J.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),a?s.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsxs(xt,{children:[s.jsx(Pe,{children:"ID"}),s.jsx(Pe,{children:"Nama Layanan"}),s.jsx(Pe,{children:"Kategori"}),s.jsx(Pe,{children:"Route"}),s.jsx(Pe,{children:"Status"}),s.jsx(Pe,{children:"Aksi"})]})}),s.jsx(ra,{children:o.map(ie=>s.jsxs(xt,{children:[s.jsx(be,{className:"font-medium",children:ie.id||"N/A"}),s.jsx(be,{children:ie.name||"N/A"}),s.jsx(be,{children:ie.category||"N/A"}),s.jsx(be,{children:ie.route||"N/A"}),s.jsx(be,{children:s.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),s.jsx(be,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{variant:"ghost",size:"sm",onClick:()=>Se(ie),children:"Edit"}),s.jsx(G,{variant:"ghost",size:"sm",className:"text-red-500",disabled:E,onClick:()=>Ue(ie),children:"Nonaktifkan"})]})})]},ie.id||"temp-"+Math.random().toString()))})]})]})]})}),s.jsx(Xt,{value:"test-purchase",className:"space-y-4",children:s.jsxs(_e,{children:[s.jsxs(lt,{children:[s.jsx(ct,{children:"Tes Pembelian Produk Digiflazz"}),s.jsx(dr,{children:"Form untuk menguji pembelian produk seperti cek nama token, dll."})]}),s.jsx(je,{children:s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"service-select",className:"block text-sm font-medium mb-1",children:"Layanan"}),s.jsxs(Rn,{defaultValue:U,onValueChange:M,children:[s.jsx(vn,{id:"service-select",className:"w-full rounded-md border-gray-300 dark:border-gray-700",children:s.jsx(Un,{placeholder:"Pilih Layanan"})}),s.jsx(yn,{children:h.map(ie=>s.jsx(vt,{value:ie.id,children:ie.name},ie.id))})]})]}),U&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"product-select",className:"block text-sm font-medium mb-1",children:"Produk (SKU)"}),s.jsxs(Rn,{defaultValue:L,onValueChange:O,children:[s.jsx(vn,{id:"product-select",className:"w-full rounded-md border-gray-300 dark:border-gray-700",children:s.jsx(Un,{placeholder:"Pilih Produk"})}),s.jsx(yn,{children:(()=>{const ie=A.filter(we=>(console.log("Filtering products for category:",U),console.log("Product details:",we),we.category===U));return ie.length===0?s.jsxs("div",{className:"p-2 text-gray-500",children:["Tidak ada produk yang sesuai dengan layanan ",U,"."]}):ie.map(we=>s.jsx(vt,{value:we.buyer_sku_code,children:we.product_name},we.buyer_sku_code))})()})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Produk difilter berdasarkan kategori Digiflazz."})]}),U&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"customerNo",className:"block text-sm font-medium mb-1",children:"Nomor Pelanggan"}),s.jsxs("div",{className:"flex space-x-2 mt-1",children:[s.jsx("input",{type:"text",id:"customerNo",value:D,onChange:ie=>R(ie.target.value),placeholder:"Masukkan nomor pelanggan",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),s.jsx("button",{onClick:le,disabled:$||!D,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:$?"Memvalidasi...":"Cek ID PLN"})]}),Q&&s.jsxs("div",{className:"mt-2 p-3 border border-green-300 bg-green-50 rounded-md text-sm",children:[s.jsx("p",{className:"font-medium text-green-800",children:"Hasil Validasi ID PLN:"}),s.jsxs("ul",{className:"list-disc list-inside text-green-700 mt-1",children:[s.jsxs("li",{children:["Status: ",Q.status]}),s.jsxs("li",{children:["Nama: ",Q.name||"N/A"]}),s.jsxs("li",{children:["No. Pelanggan: ",Q.customer_no]}),s.jsxs("li",{children:["No. Meter: ",Q.meter_no||"N/A"]}),s.jsxs("li",{children:["ID Pelanggan: ",Q.subscriber_id||"N/A"]}),s.jsxs("li",{children:["Daya: ",Q.segment_power||"N/A"]})]})]})]}),s.jsx("div",{children:s.jsx(G,{onClick:gt,disabled:a||!U||!L||!D,className:"w-full mt-2 bg-green-600 hover:bg-green-700 text-white",children:a?"Loading...":"Test Pembelian"})})]})})]})}),s.jsx(Xt,{value:"webhook",className:"space-y-4",children:s.jsx(Ce,{})})]})]}),s.jsx(G9e,{isOpen:j,onClose:()=>C(!1),formType:I,selectedItem:S,onSave:We})]})}const iKe=new cee;function Tt({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:a}=Hr(),i=va(),o=i.pathname==="/verify-whatsapp",l=i.pathname==="/login",c=i.pathname==="/register",[u,A]=x.useState(null);return x.useEffect(()=>{let d=!0;const h=()=>n?s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?s.jsx(jx,{to:"/login",state:{from:i},replace:!0}):e&&!a&&!o&&r?s.jsx(jx,{to:"/verify-whatsapp",state:{from:i},replace:!0}):t,f=setTimeout(()=>{d&&A(h())},10);return()=>{d=!1,clearTimeout(f)}},[r,n,a,i.pathname,e,t,l,c,o]),s.jsx(s.Fragment,{children:u})}function oKe(){const[t,e]=x.useState(!1);return x.useEffect(()=>{const r=()=>{const a=window.location.pathname;e(a.startsWith("/admin")||a==="/admin-login"||a==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),s.jsx(hee,{client:iKe,children:s.jsxs(UQ,{children:[s.jsx(RY,{}),s.jsx(mJ,{}),s.jsx(Cue,{children:s.jsx(_ue,{children:s.jsxs(Hne,{children:[s.jsx(jue,{}),!t&&s.jsx(Vre,{}),s.jsxs(Dne,{children:[s.jsx(at,{path:"/",element:s.jsx(Tt,{element:s.jsx(d5,{})})}),s.jsx(at,{path:"/search",element:s.jsx(Tt,{element:s.jsx(kde,{})})}),s.jsx(at,{path:"/product/:id",element:s.jsx(Tt,{element:s.jsx(Vde,{})})}),s.jsx(at,{path:"/cart",element:s.jsx(Tt,{element:s.jsx(Kde,{})})}),s.jsx(at,{path:"/checkout",element:s.jsx(Tt,{element:s.jsx(uhe,{})})}),s.jsx(at,{path:"/profile",element:s.jsx(Tt,{element:s.jsx(Afe,{})})}),s.jsx(at,{path:"/address/:id?",element:s.jsx(Tt,{element:s.jsx(pfe,{})})}),s.jsx(at,{path:"/orders",element:s.jsx(Tt,{element:s.jsx(Vxe,{})})}),s.jsx(at,{path:"/order/:id",element:s.jsx(Tt,{element:s.jsx(Hxe,{})})}),s.jsx(at,{path:"/chat",element:s.jsx(Tt,{element:s.jsx(Ebe,{})})}),s.jsx(at,{path:"/ppob",element:s.jsx(Tt,{element:s.jsx(uB,{})})}),s.jsx(at,{path:"/ppob/dashboard",element:s.jsx(Tt,{element:s.jsx(uB,{})})}),s.jsx(at,{path:"/ppob/history",element:s.jsx(Tt,{element:s.jsx(Qbe,{})})}),s.jsx(at,{path:"/ppob/activity",element:s.jsx(Tt,{element:s.jsx(h1e,{})})}),s.jsx(at,{path:"/ppob/verification",element:s.jsx(Tt,{element:s.jsx(Dwe,{})})}),s.jsx(at,{path:"/ppob/wallet",element:s.jsx(Tt,{element:s.jsx(c1e,{})})}),s.jsx(at,{path:"/ppob/pulsa-data",element:s.jsx(Tt,{element:s.jsx(y1e,{})})}),s.jsx(at,{path:"/ppob/send",element:s.jsx(Tt,{element:s.jsx(w1e,{})})}),s.jsx(at,{path:"/ppob/request",element:s.jsx(Tt,{element:s.jsx(U1e,{})})}),s.jsx(at,{path:"/ppob/topup",element:s.jsx(Tt,{element:s.jsx(Q1e,{})})}),s.jsx(at,{path:"/ppob/video",element:s.jsx(Tt,{element:s.jsx(uB,{})})}),s.jsx(at,{path:"/ppob/games",element:s.jsx(Tt,{element:s.jsx(K1e,{})})}),s.jsx(at,{path:"/ppob/all",element:s.jsx(Tt,{element:s.jsx(z1e,{})})}),s.jsx(at,{path:"/ppob/test",element:s.jsx(Tt,{element:s.jsx(G1e,{})})}),s.jsx(at,{path:"/ppob/electricity",element:s.jsx(Tt,{element:s.jsx($1e,{})})}),s.jsx(at,{path:"/ppob/ewallet",element:s.jsx(Tt,{element:s.jsx(H1e,{})})}),s.jsx(at,{path:"/ppob/kredit",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/tv-internet",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/bpjs",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/pdam",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/pbb",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/telkom",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/pascabayar",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/donasi-zakat",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/investasi",element:s.jsx(Tt,{element:s.jsx(X1e,{})})}),s.jsx(at,{path:"/ppob/undang-teman",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/ppob/scan",element:s.jsx(Tt,{element:s.jsx(li,{})})}),s.jsx(at,{path:"/verify-whatsapp",element:s.jsx(Rbe,{})}),s.jsx(at,{path:"/login",element:s.jsx(Gxe,{})}),s.jsx(at,{path:"/register",element:s.jsx(qxe,{})}),s.jsx(at,{path:"/admin-login",element:s.jsx(Yxe,{})}),s.jsx(at,{path:"/admin-register",element:s.jsx(Zxe,{})}),s.jsx(at,{path:"/admin",element:s.jsx(d5,{})}),s.jsx(at,{path:"/admin/inventory",element:s.jsx(HVe,{})}),s.jsx(at,{path:"/admin/coal-inventory",element:s.jsx(zVe,{})}),s.jsx(at,{path:"/admin/shipping",element:s.jsx(WVe,{})}),s.jsx(at,{path:"/admin/users",element:s.jsx(XVe,{})}),s.jsx(at,{path:"/admin/orders",element:s.jsx(JVe,{})}),s.jsx(at,{path:"/admin/orders/:id",element:s.jsx(d9e,{})}),s.jsx(at,{path:"/admin/vouchers",element:s.jsx(L9e,{})}),s.jsx(at,{path:"/admin/broadcast",element:s.jsx($9e,{})}),s.jsx(at,{path:"/admin/analytics",element:s.jsx(h9e,{})}),s.jsx(at,{path:"/admin/settings",element:s.jsx(y9e,{})}),s.jsx(at,{path:"/admin/chats",element:s.jsx(b9e,{})}),s.jsx(at,{path:"/admin/chat/:customerId",element:s.jsx(w9e,{})}),s.jsx(at,{path:"/admin/ppob",element:s.jsx(sKe,{})}),s.jsx(at,{path:"*",element:s.jsx(Eue,{})})]})]})})})]})})}uM(document.getElementById("root")).render(s.jsx(g1e,{children:s.jsx(oKe,{})}));
