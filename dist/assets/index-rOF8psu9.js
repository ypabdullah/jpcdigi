var Ele=Object.defineProperty;var MQ=t=>{throw TypeError(t)};var Sle=(t,e,r)=>e in t?Ele(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Sg=(t,e,r)=>Sle(t,typeof e!="symbol"?e+"":e,r),zE=(t,e,r)=>e.has(t)||MQ("Cannot "+r);var Ae=(t,e,r)=>(zE(t,e,"read from private field"),r?r.call(t):e.get(t)),Qt=(t,e,r)=>e.has(t)?MQ("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),pt=(t,e,r,n)=>(zE(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),or=(t,e,r)=>(zE(t,e,"access private method"),r);var Iw=(t,e,r,n)=>({set _(s){pt(t,e,s,r)},get _(){return Ae(t,e,n)}});function Nle(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Tle(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var GE={exports:{}},Ng={},WE={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QQ;function kle(){if(QQ)return Yt;QQ=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function m($){return $===null||typeof $!="object"?null:($=f&&$[f]||$["@@iterator"],typeof $=="function"?$:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function v($,J,le){this.props=$,this.context=J,this.refs=x,this.updater=le||p}v.prototype.isReactComponent={},v.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},v.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function _(){}_.prototype=v.prototype;function j($,J,le){this.props=$,this.context=J,this.refs=x,this.updater=le||p}var S=j.prototype=new _;S.constructor=j,y(S,v.prototype),S.isPureReactComponent=!0;var C=Array.isArray,N=Object.prototype.hasOwnProperty,k={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T($,J,le){var ae,ee={},ue=null,xe=null;if(J!=null)for(ae in J.ref!==void 0&&(xe=J.ref),J.key!==void 0&&(ue=""+J.key),J)N.call(J,ae)&&!E.hasOwnProperty(ae)&&(ee[ae]=J[ae]);var me=arguments.length-2;if(me===1)ee.children=le;else if(1<me){for(var ye=Array(me),je=0;je<me;je++)ye[je]=arguments[je+2];ee.children=ye}if($&&$.defaultProps)for(ae in me=$.defaultProps,me)ee[ae]===void 0&&(ee[ae]=me[ae]);return{$$typeof:t,type:$,key:ue,ref:xe,props:ee,_owner:k.current}}function P($,J){return{$$typeof:t,type:$.type,key:J,ref:$.ref,props:$.props,_owner:$._owner}}function O($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function D($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(le){return J[le]})}var M=/\/+/g;function F($,J){return typeof $=="object"&&$!==null&&$.key!=null?D(""+$.key):J.toString(36)}function G($,J,le,ae,ee){var ue=typeof $;(ue==="undefined"||ue==="boolean")&&($=null);var xe=!1;if($===null)xe=!0;else switch(ue){case"string":case"number":xe=!0;break;case"object":switch($.$$typeof){case t:case e:xe=!0}}if(xe)return xe=$,ee=ee(xe),$=ae===""?"."+F(xe,0):ae,C(ee)?(le="",$!=null&&(le=$.replace(M,"$&/")+"/"),G(ee,J,le,"",function(je){return je})):ee!=null&&(O(ee)&&(ee=P(ee,le+(!ee.key||xe&&xe.key===ee.key?"":(""+ee.key).replace(M,"$&/")+"/")+$)),J.push(ee)),1;if(xe=0,ae=ae===""?".":ae+":",C($))for(var me=0;me<$.length;me++){ue=$[me];var ye=ae+F(ue,me);xe+=G(ue,J,le,ye,ee)}else if(ye=m($),typeof ye=="function")for($=ye.call($),me=0;!(ue=$.next()).done;)ue=ue.value,ye=ae+F(ue,me++),xe+=G(ue,J,le,ye,ee);else if(ue==="object")throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return xe}function W($,J,le){if($==null)return $;var ae=[],ee=0;return G($,ae,"","",function(ue){return J.call(le,ue,ee++)}),ae}function V($){if($._status===-1){var J=$._result;J=J(),J.then(function(le){($._status===0||$._status===-1)&&($._status=1,$._result=le)},function(le){($._status===0||$._status===-1)&&($._status=2,$._result=le)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var H={current:null},Q={transition:null},z={ReactCurrentDispatcher:H,ReactCurrentBatchConfig:Q,ReactCurrentOwner:k};function q(){throw Error("act(...) is not supported in production builds of React.")}return Yt.Children={map:W,forEach:function($,J,le){W($,function(){J.apply(this,arguments)},le)},count:function($){var J=0;return W($,function(){J++}),J},toArray:function($){return W($,function(J){return J})||[]},only:function($){if(!O($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Yt.Component=v,Yt.Fragment=r,Yt.Profiler=s,Yt.PureComponent=j,Yt.StrictMode=n,Yt.Suspense=c,Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,Yt.act=q,Yt.cloneElement=function($,J,le){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var ae=y({},$.props),ee=$.key,ue=$.ref,xe=$._owner;if(J!=null){if(J.ref!==void 0&&(ue=J.ref,xe=k.current),J.key!==void 0&&(ee=""+J.key),$.type&&$.type.defaultProps)var me=$.type.defaultProps;for(ye in J)N.call(J,ye)&&!E.hasOwnProperty(ye)&&(ae[ye]=J[ye]===void 0&&me!==void 0?me[ye]:J[ye])}var ye=arguments.length-2;if(ye===1)ae.children=le;else if(1<ye){me=Array(ye);for(var je=0;je<ye;je++)me[je]=arguments[je+2];ae.children=me}return{$$typeof:t,type:$.type,key:ee,ref:ue,props:ae,_owner:xe}},Yt.createContext=function($){return $={$$typeof:o,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},Yt.createElement=T,Yt.createFactory=function($){var J=T.bind(null,$);return J.type=$,J},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function($){return{$$typeof:l,render:$}},Yt.isValidElement=O,Yt.lazy=function($){return{$$typeof:d,_payload:{_status:-1,_result:$},_init:V}},Yt.memo=function($,J){return{$$typeof:u,type:$,compare:J===void 0?null:J}},Yt.startTransition=function($){var J=Q.transition;Q.transition={};try{$()}finally{Q.transition=J}},Yt.unstable_act=q,Yt.useCallback=function($,J){return H.current.useCallback($,J)},Yt.useContext=function($){return H.current.useContext($)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function($){return H.current.useDeferredValue($)},Yt.useEffect=function($,J){return H.current.useEffect($,J)},Yt.useId=function(){return H.current.useId()},Yt.useImperativeHandle=function($,J,le){return H.current.useImperativeHandle($,J,le)},Yt.useInsertionEffect=function($,J){return H.current.useInsertionEffect($,J)},Yt.useLayoutEffect=function($,J){return H.current.useLayoutEffect($,J)},Yt.useMemo=function($,J){return H.current.useMemo($,J)},Yt.useReducer=function($,J,le){return H.current.useReducer($,J,le)},Yt.useRef=function($){return H.current.useRef($)},Yt.useState=function($){return H.current.useState($)},Yt.useSyncExternalStore=function($,J,le){return H.current.useSyncExternalStore($,J,le)},Yt.useTransition=function(){return H.current.useTransition()},Yt.version="18.3.1",Yt}var LQ;function Ap(){return LQ||(LQ=1,WE.exports=kle()),WE.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HQ;function Ile(){if(HQ)return Ng;HQ=1;var t=Ap(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},m=null,p=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(p=c.ref);for(d in c)n.call(c,d)&&!a.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:m,ref:p,props:f,_owner:s.current}}return Ng.Fragment=r,Ng.jsx=o,Ng.jsxs=o,Ng}var $Q;function Ple(){return $Q||($Q=1,GE.exports=Ile()),GE.exports}var i=Ple(),Ow={},XE={exports:{}},wa={},JE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VQ;function Ole(){return VQ||(VQ=1,function(t){function e(Q,z){var q=Q.length;Q.push(z);e:for(;0<q;){var $=q-1>>>1,J=Q[$];if(0<s(J,z))Q[$]=z,Q[q]=J,q=$;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var z=Q[0],q=Q.pop();if(q!==z){Q[0]=q;e:for(var $=0,J=Q.length,le=J>>>1;$<le;){var ae=2*($+1)-1,ee=Q[ae],ue=ae+1,xe=Q[ue];if(0>s(ee,q))ue<J&&0>s(xe,ee)?(Q[$]=xe,Q[ue]=q,$=ue):(Q[$]=ee,Q[ae]=q,$=ae);else if(ue<J&&0>s(xe,q))Q[$]=xe,Q[ue]=q,$=ue;else break e}}return z}function s(Q,z){var q=Q.sortIndex-z.sortIndex;return q!==0?q:Q.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,p=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(Q){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=Q)n(u),z.sortIndex=z.expirationTime,e(c,z);else break;z=r(u)}}function C(Q){if(x=!1,S(Q),!y)if(r(c)!==null)y=!0,V(N);else{var z=r(u);z!==null&&H(C,z.startTime-Q)}}function N(Q,z){y=!1,x&&(x=!1,_(T),T=-1),p=!0;var q=m;try{for(S(z),f=r(c);f!==null&&(!(f.expirationTime>z)||Q&&!D());){var $=f.callback;if(typeof $=="function"){f.callback=null,m=f.priorityLevel;var J=$(f.expirationTime<=z);z=t.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),S(z)}else n(c);f=r(c)}if(f!==null)var le=!0;else{var ae=r(u);ae!==null&&H(C,ae.startTime-z),le=!1}return le}finally{f=null,m=q,p=!1}}var k=!1,E=null,T=-1,P=5,O=-1;function D(){return!(t.unstable_now()-O<P)}function M(){if(E!==null){var Q=t.unstable_now();O=Q;var z=!0;try{z=E(!0,Q)}finally{z?F():(k=!1,E=null)}}else k=!1}var F;if(typeof j=="function")F=function(){j(M)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,W=G.port2;G.port1.onmessage=M,F=function(){W.postMessage(null)}}else F=function(){v(M,0)};function V(Q){E=Q,k||(k=!0,F())}function H(Q,z){T=v(function(){Q(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,V(N))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var q=m;m=z;try{return Q()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,z){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var q=m;m=Q;try{return z()}finally{m=q}},t.unstable_scheduleCallback=function(Q,z,q){var $=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?$+q:$):q=$,Q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,Q={id:d++,callback:z,priorityLevel:Q,startTime:q,expirationTime:J,sortIndex:-1},q>$?(Q.sortIndex=q,e(u,Q),r(c)===null&&Q===r(u)&&(x?(_(T),T=-1):x=!0,H(C,q-$))):(Q.sortIndex=J,e(c,Q),y||p||(y=!0,V(N))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var z=m;return function(){var q=m;m=z;try{return Q.apply(this,arguments)}finally{m=q}}}}(YE)),YE}var KQ;function Fle(){return KQ||(KQ=1,JE.exports=Ole()),JE.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qQ;function Rle(){if(qQ)return wa;qQ=1;var t=Ap(),e=Fle();function r(A){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+A,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+A+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(A,h){o(A,h),o(A+"Capture",h)}function o(A,h){for(s[A]=h,A=0;A<h.length;A++)n.add(h[A])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(A){return c.call(f,A)?!0:c.call(d,A)?!1:u.test(A)?f[A]=!0:(d[A]=!0,!1)}function p(A,h,g,B){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return B?!1:g!==null?!g.acceptsBooleans:(A=A.toLowerCase().slice(0,5),A!=="data-"&&A!=="aria-");default:return!1}}function y(A,h,g,B){if(h===null||typeof h>"u"||p(A,h,g,B))return!0;if(B)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function x(A,h,g,B,I,U,K){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=B,this.attributeNamespace=I,this.mustUseProperty=g,this.propertyName=A,this.type=h,this.sanitizeURL=U,this.removeEmptyString=K}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(A){v[A]=new x(A,0,!1,A,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(A){var h=A[0];v[h]=new x(h,1,!1,A[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(A){v[A]=new x(A,2,!1,A.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(A){v[A]=new x(A,2,!1,A,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(A){v[A]=new x(A,3,!1,A.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(A){v[A]=new x(A,3,!0,A,null,!1,!1)}),["capture","download"].forEach(function(A){v[A]=new x(A,4,!1,A,null,!1,!1)}),["cols","rows","size","span"].forEach(function(A){v[A]=new x(A,6,!1,A,null,!1,!1)}),["rowSpan","start"].forEach(function(A){v[A]=new x(A,5,!1,A.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function j(A){return A[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(A){var h=A.replace(_,j);v[h]=new x(h,1,!1,A,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(A){var h=A.replace(_,j);v[h]=new x(h,1,!1,A,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(A){var h=A.replace(_,j);v[h]=new x(h,1,!1,A,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(A){v[A]=new x(A,1,!1,A.toLowerCase(),null,!1,!1)}),v.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(A){v[A]=new x(A,1,!1,A.toLowerCase(),null,!0,!0)});function S(A,h,g,B){var I=v.hasOwnProperty(h)?v[h]:null;(I!==null?I.type!==0:B||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(y(h,g,I,B)&&(g=null),B||I===null?m(h)&&(g===null?A.removeAttribute(h):A.setAttribute(h,""+g)):I.mustUseProperty?A[I.propertyName]=g===null?I.type===3?!1:"":g:(h=I.attributeName,B=I.attributeNamespace,g===null?A.removeAttribute(h):(I=I.type,g=I===3||I===4&&g===!0?"":""+g,B?A.setAttributeNS(B,h,g):A.setAttribute(h,g))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),k=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),H=Symbol.for("react.offscreen"),Q=Symbol.iterator;function z(A){return A===null||typeof A!="object"?null:(A=Q&&A[Q]||A["@@iterator"],typeof A=="function"?A:null)}var q=Object.assign,$;function J(A){if($===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||""}return`
`+$+A}var le=!1;function ae(A,h){if(!A||le)return"";le=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(we){var B=we}Reflect.construct(A,[],h)}else{try{h.call()}catch(we){B=we}A.call(h.prototype)}else{try{throw Error()}catch(we){B=we}A()}}catch(we){if(we&&B&&typeof we.stack=="string"){for(var I=we.stack.split(`
`),U=B.stack.split(`
`),K=I.length-1,te=U.length-1;1<=K&&0<=te&&I[K]!==U[te];)te--;for(;1<=K&&0<=te;K--,te--)if(I[K]!==U[te]){if(K!==1||te!==1)do if(K--,te--,0>te||I[K]!==U[te]){var ie=`
`+I[K].replace(" at new "," at ");return A.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",A.displayName)),ie}while(1<=K&&0<=te);break}}}finally{le=!1,Error.prepareStackTrace=g}return(A=A?A.displayName||A.name:"")?J(A):""}function ee(A){switch(A.tag){case 5:return J(A.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return A=ae(A.type,!1),A;case 11:return A=ae(A.type.render,!1),A;case 1:return A=ae(A.type,!0),A;default:return""}}function ue(A){if(A==null)return null;if(typeof A=="function")return A.displayName||A.name||null;if(typeof A=="string")return A;switch(A){case E:return"Fragment";case k:return"Portal";case P:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList"}if(typeof A=="object")switch(A.$$typeof){case D:return(A.displayName||"Context")+".Consumer";case O:return(A._context.displayName||"Context")+".Provider";case M:var h=A.render;return A=A.displayName,A||(A=h.displayName||h.name||"",A=A!==""?"ForwardRef("+A+")":"ForwardRef"),A;case W:return h=A.displayName||null,h!==null?h:ue(A.type)||"Memo";case V:h=A._payload,A=A._init;try{return ue(A(h))}catch{}}return null}function xe(A){var h=A.type;switch(A.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return A=h.render,A=A.displayName||A.name||"",h.displayName||(A!==""?"ForwardRef("+A+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(h);case 8:return h===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function me(A){switch(typeof A){case"boolean":case"number":case"string":case"undefined":return A;case"object":return A;default:return""}}function ye(A){var h=A.type;return(A=A.nodeName)&&A.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function je(A){var h=ye(A)?"checked":"value",g=Object.getOwnPropertyDescriptor(A.constructor.prototype,h),B=""+A[h];if(!A.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var I=g.get,U=g.set;return Object.defineProperty(A,h,{configurable:!0,get:function(){return I.call(this)},set:function(K){B=""+K,U.call(this,K)}}),Object.defineProperty(A,h,{enumerable:g.enumerable}),{getValue:function(){return B},setValue:function(K){B=""+K},stopTracking:function(){A._valueTracker=null,delete A[h]}}}}function Fe(A){A._valueTracker||(A._valueTracker=je(A))}function ne(A){if(!A)return!1;var h=A._valueTracker;if(!h)return!0;var g=h.getValue(),B="";return A&&(B=ye(A)?A.checked?"true":"false":A.value),A=B,A!==g?(h.setValue(A),!0):!1}function ke(A){if(A=A||(typeof document<"u"?document:void 0),typeof A>"u")return null;try{return A.activeElement||A.body}catch{return A.body}}function We(A,h){var g=h.checked;return q({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??A._wrapperState.initialChecked})}function ct(A,h){var g=h.defaultValue==null?"":h.defaultValue,B=h.checked!=null?h.checked:h.defaultChecked;g=me(h.value!=null?h.value:g),A._wrapperState={initialChecked:B,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ft(A,h){h=h.checked,h!=null&&S(A,"checked",h,!1)}function Xt(A,h){ft(A,h);var g=me(h.value),B=h.type;if(g!=null)B==="number"?(g===0&&A.value===""||A.value!=g)&&(A.value=""+g):A.value!==""+g&&(A.value=""+g);else if(B==="submit"||B==="reset"){A.removeAttribute("value");return}h.hasOwnProperty("value")?de(A,h.type,g):h.hasOwnProperty("defaultValue")&&de(A,h.type,me(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(A.defaultChecked=!!h.defaultChecked)}function re(A,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var B=h.type;if(!(B!=="submit"&&B!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+A._wrapperState.initialValue,g||h===A.value||(A.value=h),A.defaultValue=h}g=A.name,g!==""&&(A.name=""),A.defaultChecked=!!A._wrapperState.initialChecked,g!==""&&(A.name=g)}function de(A,h,g){(h!=="number"||ke(A.ownerDocument)!==A)&&(g==null?A.defaultValue=""+A._wrapperState.initialValue:A.defaultValue!==""+g&&(A.defaultValue=""+g))}var ge=Array.isArray;function Ie(A,h,g,B){if(A=A.options,h){h={};for(var I=0;I<g.length;I++)h["$"+g[I]]=!0;for(g=0;g<A.length;g++)I=h.hasOwnProperty("$"+A[g].value),A[g].selected!==I&&(A[g].selected=I),I&&B&&(A[g].defaultSelected=!0)}else{for(g=""+me(g),h=null,I=0;I<A.length;I++){if(A[I].value===g){A[I].selected=!0,B&&(A[I].defaultSelected=!0);return}h!==null||A[I].disabled||(h=A[I])}h!==null&&(h.selected=!0)}}function He(A,h){if(h.dangerouslySetInnerHTML!=null)throw Error(r(91));return q({},h,{value:void 0,defaultValue:void 0,children:""+A._wrapperState.initialValue})}function Re(A,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(r(92));if(ge(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),g=h}A._wrapperState={initialValue:me(g)}}function ut(A,h){var g=me(h.value),B=me(h.defaultValue);g!=null&&(g=""+g,g!==A.value&&(A.value=g),h.defaultValue==null&&A.defaultValue!==g&&(A.defaultValue=g)),B!=null&&(A.defaultValue=""+B)}function kt(A){var h=A.textContent;h===A._wrapperState.initialValue&&h!==""&&h!==null&&(A.value=h)}function jt(A){switch(A){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(A,h){return A==null||A==="http://www.w3.org/1999/xhtml"?jt(h):A==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":A}var Nn,da=function(A){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,B,I){MSApp.execUnsafeLocalFunction(function(){return A(h,g,B,I)})}:A}(function(A,h){if(A.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in A)A.innerHTML=h;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Nn.firstChild;A.firstChild;)A.removeChild(A.firstChild);for(;h.firstChild;)A.appendChild(h.firstChild)}});function Gs(A,h){if(h){var g=A.firstChild;if(g&&g===A.lastChild&&g.nodeType===3){g.nodeValue=h;return}}A.textContent=h}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oi=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(A){oi.forEach(function(h){h=h+A.charAt(0).toUpperCase()+A.substring(1),Fa[h]=Fa[A]})});function Qi(A,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Fa.hasOwnProperty(A)&&Fa[A]?(""+h).trim():h+"px"}function Cl(A,h){A=A.style;for(var g in h)if(h.hasOwnProperty(g)){var B=g.indexOf("--")===0,I=Qi(g,h[g],B);g==="float"&&(g="cssFloat"),B?A.setProperty(g,I):A[g]=I}}var li=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fa(A,h){if(h){if(li[A]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(r(137,A));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(r(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(r(61))}if(h.style!=null&&typeof h.style!="object")throw Error(r(62))}}function wA(A,h){if(A.indexOf("-")===-1)return typeof h.is=="string";switch(A){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=null;function xr(A){return A=A.target||A.srcElement||window,A.correspondingUseElement&&(A=A.correspondingUseElement),A.nodeType===3?A.parentNode:A}var gr=null,cn=null,wn=null;function Li(A){if(A=fg(A)){if(typeof gr!="function")throw Error(r(280));var h=A.stateNode;h&&(h=z0(h),gr(A.stateNode,A.type,h))}}function ci(A){cn?wn?wn.push(A):wn=[A]:cn=A}function Vp(){if(cn){var A=cn,h=wn;if(wn=cn=null,Li(A),h)for(A=0;A<h.length;A++)Li(h[A])}}function bA(A,h){return A(h)}function Kp(){}var Bl=!1;function qp(A,h,g){if(Bl)return A(h,g);Bl=!0;try{return bA(A,h,g)}finally{Bl=!1,(cn!==null||wn!==null)&&(Kp(),Vp())}}function bn(A,h){var g=A.stateNode;if(g===null)return null;var B=z0(g);if(B===null)return null;g=B[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(B=!B.disabled)||(A=A.type,B=!(A==="button"||A==="input"||A==="select"||A==="textarea")),A=!B;break e;default:A=!1}if(A)return null;if(g&&typeof g!="function")throw Error(r(231,h,typeof g));return g}var pf=!1;if(l)try{var Hi={};Object.defineProperty(Hi,"passive",{get:function(){pf=!0}}),window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{pf=!1}function _A(A,h,g,B,I,U,K,te,ie){var we=Array.prototype.slice.call(arguments,3);try{h.apply(g,we)}catch(De){this.onError(De)}}var jA=!1,gf=null,$i=!1,zp=null,wB={onError:function(A){jA=!0,gf=A}};function vf(A,h,g,B,I,U,K,te,ie){jA=!1,gf=null,_A.apply(wB,arguments)}function v0(A,h,g,B,I,U,K,te,ie){if(vf.apply(this,arguments),jA){if(jA){var we=gf;jA=!1,gf=null}else throw Error(r(198));$i||($i=!0,zp=we)}}function Vi(A){var h=A,g=A;if(A.alternate)for(;h.return;)h=h.return;else{A=h;do h=A,(h.flags&4098)!==0&&(g=h.return),A=h.return;while(A)}return h.tag===3?g:null}function CA(A){if(A.tag===13){var h=A.memoizedState;if(h===null&&(A=A.alternate,A!==null&&(h=A.memoizedState)),h!==null)return h.dehydrated}return null}function Ki(A){if(Vi(A)!==A)throw Error(r(188))}function y0(A){var h=A.alternate;if(!h){if(h=Vi(A),h===null)throw Error(r(188));return h!==A?null:A}for(var g=A,B=h;;){var I=g.return;if(I===null)break;var U=I.alternate;if(U===null){if(B=I.return,B!==null){g=B;continue}break}if(I.child===U.child){for(U=I.child;U;){if(U===g)return Ki(I),A;if(U===B)return Ki(I),h;U=U.sibling}throw Error(r(188))}if(g.return!==B.return)g=I,B=U;else{for(var K=!1,te=I.child;te;){if(te===g){K=!0,g=I,B=U;break}if(te===B){K=!0,B=I,g=U;break}te=te.sibling}if(!K){for(te=U.child;te;){if(te===g){K=!0,g=U,B=I;break}if(te===B){K=!0,B=U,g=I;break}te=te.sibling}if(!K)throw Error(r(189))}}if(g.alternate!==B)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?A:h}function Gp(A){return A=y0(A),A!==null?yf(A):null}function yf(A){if(A.tag===5||A.tag===6)return A;for(A=A.child;A!==null;){var h=yf(A);if(h!==null)return h;A=A.sibling}return null}var xf=e.unstable_scheduleCallback,Wp=e.unstable_cancelCallback,x0=e.unstable_shouldYield,bB=e.unstable_requestPaint,Gr=e.unstable_now,w0=e.unstable_getCurrentPriorityLevel,BA=e.unstable_ImmediatePriority,Sc=e.unstable_UserBlockingPriority,ui=e.unstable_NormalPriority,Xp=e.unstable_LowPriority,b0=e.unstable_IdlePriority,EA=null,Ra=null;function _0(A){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(EA,A,void 0,(A.current.flags&128)===128)}catch{}}var Ws=Math.clz32?Math.clz32:C0,Jp=Math.log,j0=Math.LN2;function C0(A){return A>>>=0,A===0?32:31-(Jp(A)/j0|0)|0}var wf=64,bf=4194304;function Nc(A){switch(A&-A){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return A&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return A}}function SA(A,h){var g=A.pendingLanes;if(g===0)return 0;var B=0,I=A.suspendedLanes,U=A.pingedLanes,K=g&268435455;if(K!==0){var te=K&~I;te!==0?B=Nc(te):(U&=K,U!==0&&(B=Nc(U)))}else K=g&~I,K!==0?B=Nc(K):U!==0&&(B=Nc(U));if(B===0)return 0;if(h!==0&&h!==B&&(h&I)===0&&(I=B&-B,U=h&-h,I>=U||I===16&&(U&4194240)!==0))return h;if((B&4)!==0&&(B|=g&16),h=A.entangledLanes,h!==0)for(A=A.entanglements,h&=B;0<h;)g=31-Ws(h),I=1<<g,B|=A[g],h&=~I;return B}function _B(A,h){switch(A){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function El(A,h){for(var g=A.suspendedLanes,B=A.pingedLanes,I=A.expirationTimes,U=A.pendingLanes;0<U;){var K=31-Ws(U),te=1<<K,ie=I[K];ie===-1?((te&g)===0||(te&B)!==0)&&(I[K]=_B(te,h)):ie<=h&&(A.expiredLanes|=te),U&=~te}}function Da(A){return A=A.pendingLanes&-1073741825,A!==0?A:A&1073741824?1073741824:0}function NA(){var A=wf;return wf<<=1,(wf&4194240)===0&&(wf=64),A}function Tc(A){for(var h=[],g=0;31>g;g++)h.push(A);return h}function kc(A,h,g){A.pendingLanes|=h,h!==536870912&&(A.suspendedLanes=0,A.pingedLanes=0),A=A.eventTimes,h=31-Ws(h),A[h]=g}function Lr(A,h){var g=A.pendingLanes&~h;A.pendingLanes=h,A.suspendedLanes=0,A.pingedLanes=0,A.expiredLanes&=h,A.mutableReadLanes&=h,A.entangledLanes&=h,h=A.entanglements;var B=A.eventTimes;for(A=A.expirationTimes;0<g;){var I=31-Ws(g),U=1<<I;h[I]=0,B[I]=-1,A[I]=-1,g&=~U}}function Ic(A,h){var g=A.entangledLanes|=h;for(A=A.entanglements;g;){var B=31-Ws(g),I=1<<B;I&h|A[B]&h&&(A[B]|=h),g&=~I}}var ir=0;function Pc(A){return A&=-A,1<A?4<A?(A&268435455)!==0?16:536870912:4:1}var B0,_f,E0,S0,N0,Yp=!1,Fo=[],ls=null,qi=null,zi=null,Oc=new Map,Ai=new Map,Ro=[],jB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(A,h){switch(A){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Oc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(h.pointerId)}}function ha(A,h,g,B,I,U){return A===null||A.nativeEvent!==U?(A={blockedOn:h,domEventName:g,eventSystemFlags:B,nativeEvent:U,targetContainers:[I]},h!==null&&(h=fg(h),h!==null&&_f(h)),A):(A.eventSystemFlags|=B,h=A.targetContainers,I!==null&&h.indexOf(I)===-1&&h.push(I),A)}function CB(A,h,g,B,I){switch(h){case"focusin":return ls=ha(ls,A,h,g,B,I),!0;case"dragenter":return qi=ha(qi,A,h,g,B,I),!0;case"mouseover":return zi=ha(zi,A,h,g,B,I),!0;case"pointerover":var U=I.pointerId;return Oc.set(U,ha(Oc.get(U)||null,A,h,g,B,I)),!0;case"gotpointercapture":return U=I.pointerId,Ai.set(U,ha(Ai.get(U)||null,A,h,g,B,I)),!0}return!1}function k0(A){var h=OA(A.target);if(h!==null){var g=Vi(h);if(g!==null){if(h=g.tag,h===13){if(h=CA(g),h!==null){A.blockedOn=h,N0(A.priority,function(){E0(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){A.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}A.blockedOn=null}function Sl(A){if(A.blockedOn!==null)return!1;for(var h=A.targetContainers;0<h.length;){var g=jf(A.domEventName,A.eventSystemFlags,h[0],A.nativeEvent);if(g===null){g=A.nativeEvent;var B=new g.constructor(g.type,g);Pt=B,g.target.dispatchEvent(B),Pt=null}else return h=fg(g),h!==null&&_f(h),A.blockedOn=g,!1;h.shift()}return!0}function TA(A,h,g){Sl(A)&&g.delete(h)}function I0(){Yp=!1,ls!==null&&Sl(ls)&&(ls=null),qi!==null&&Sl(qi)&&(qi=null),zi!==null&&Sl(zi)&&(zi=null),Oc.forEach(TA),Ai.forEach(TA)}function Gi(A,h){A.blockedOn===h&&(A.blockedOn=null,Yp||(Yp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,I0)))}function Wi(A){function h(I){return Gi(I,A)}if(0<Fo.length){Gi(Fo[0],A);for(var g=1;g<Fo.length;g++){var B=Fo[g];B.blockedOn===A&&(B.blockedOn=null)}}for(ls!==null&&Gi(ls,A),qi!==null&&Gi(qi,A),zi!==null&&Gi(zi,A),Oc.forEach(h),Ai.forEach(h),g=0;g<Ro.length;g++)B=Ro[g],B.blockedOn===A&&(B.blockedOn=null);for(;0<Ro.length&&(g=Ro[0],g.blockedOn===null);)k0(g),g.blockedOn===null&&Ro.shift()}var Nl=C.ReactCurrentBatchConfig,Fc=!0;function nn(A,h,g,B){var I=ir,U=Nl.transition;Nl.transition=null;try{ir=1,Zp(A,h,g,B)}finally{ir=I,Nl.transition=U}}function BB(A,h,g,B){var I=ir,U=Nl.transition;Nl.transition=null;try{ir=4,Zp(A,h,g,B)}finally{ir=I,Nl.transition=U}}function Zp(A,h,g,B){if(Fc){var I=jf(A,h,g,B);if(I===null)DB(A,h,B,kA,g),T0(A,B);else if(CB(I,A,h,g,B))B.stopPropagation();else if(T0(A,B),h&4&&-1<jB.indexOf(A)){for(;I!==null;){var U=fg(I);if(U!==null&&B0(U),U=jf(A,h,g,B),U===null&&DB(A,h,B,kA,g),U===I)break;I=U}I!==null&&B.stopPropagation()}else DB(A,h,B,null,g)}}var kA=null;function jf(A,h,g,B){if(kA=null,A=xr(B),A=OA(A),A!==null)if(h=Vi(A),h===null)A=null;else if(g=h.tag,g===13){if(A=CA(h),A!==null)return A;A=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;A=null}else h!==A&&(A=null);return kA=A,null}function eg(A){switch(A){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(w0()){case BA:return 1;case Sc:return 4;case ui:case Xp:return 16;case b0:return 536870912;default:return 16}default:return 16}}var Ua=null,Cf=null,ma=null;function tg(){if(ma)return ma;var A,h=Cf,g=h.length,B,I="value"in Ua?Ua.value:Ua.textContent,U=I.length;for(A=0;A<g&&h[A]===I[A];A++);var K=g-A;for(B=1;B<=K&&h[g-B]===I[U-B];B++);return ma=I.slice(A,1<B?1-B:void 0)}function Bf(A){var h=A.keyCode;return"charCode"in A?(A=A.charCode,A===0&&h===13&&(A=13)):A=h,A===10&&(A=13),32<=A||A===13?A:0}function Do(){return!0}function rg(){return!1}function cs(A){function h(g,B,I,U,K){this._reactName=g,this._targetInst=I,this.type=B,this.nativeEvent=U,this.target=K,this.currentTarget=null;for(var te in A)A.hasOwnProperty(te)&&(g=A[te],this[te]=g?g(U):U[te]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Do:rg,this.isPropagationStopped=rg,this}return q(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),h}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(A){return A.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ef=cs(Xi),Uo=q({},Xi,{view:0,detail:0}),EB=cs(Uo),Sf,Tl,Rc,IA=q({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(A){return A.relatedTarget===void 0?A.fromElement===A.srcElement?A.toElement:A.fromElement:A.relatedTarget},movementX:function(A){return"movementX"in A?A.movementX:(A!==Rc&&(Rc&&A.type==="mousemove"?(Sf=A.screenX-Rc.screenX,Tl=A.screenY-Rc.screenY):Tl=Sf=0,Rc=A),Sf)},movementY:function(A){return"movementY"in A?A.movementY:Tl}}),Nf=cs(IA),ng=q({},IA,{dataTransfer:0}),P0=cs(ng),Tf=q({},Uo,{relatedTarget:0}),kf=cs(Tf),O0=q({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),kl=cs(O0),F0=q({},Xi,{clipboardData:function(A){return"clipboardData"in A?A.clipboardData:window.clipboardData}}),R0=cs(F0),D0=q({},Xi,{data:0}),sg=cs(D0),If={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function M0(A){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(A):(A=U0[A])?!!h[A]:!1}function Mo(){return M0}var b=q({},Uo,{key:function(A){if(A.key){var h=If[A.key]||A.key;if(h!=="Unidentified")return h}return A.type==="keypress"?(A=Bf(A),A===13?"Enter":String.fromCharCode(A)):A.type==="keydown"||A.type==="keyup"?Xs[A.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(A){return A.type==="keypress"?Bf(A):0},keyCode:function(A){return A.type==="keydown"||A.type==="keyup"?A.keyCode:0},which:function(A){return A.type==="keypress"?Bf(A):A.type==="keydown"||A.type==="keyup"?A.keyCode:0}}),R=cs(b),L=q({},IA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X=cs(L),fe=q({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),be=cs(fe),Ge=q({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),kr=cs(Ge),Dn=q({},IA,{deltaX:function(A){return"deltaX"in A?A.deltaX:"wheelDeltaX"in A?-A.wheelDeltaX:0},deltaY:function(A){return"deltaY"in A?A.deltaY:"wheelDeltaY"in A?-A.wheelDeltaY:"wheelDelta"in A?-A.wheelDelta:0},deltaZ:0,deltaMode:0}),dr=cs(Dn),Wn=[9,13,27,32],Tn=l&&"CompositionEvent"in window,di=null;l&&"documentMode"in document&&(di=document.documentMode);var Ma=l&&"TextEvent"in window&&!di,PA=l&&(!Tn||di&&8<di&&11>=di),Pf=" ",PU=!1;function OU(A,h){switch(A){case"keyup":return Wn.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FU(A){return A=A.detail,typeof A=="object"&&"data"in A?A.data:null}var Of=!1;function joe(A,h){switch(A){case"compositionend":return FU(h);case"keypress":return h.which!==32?null:(PU=!0,Pf);case"textInput":return A=h.data,A===Pf&&PU?null:A;default:return null}}function Coe(A,h){if(Of)return A==="compositionend"||!Tn&&OU(A,h)?(A=tg(),ma=Cf=Ua=null,Of=!1,A):null;switch(A){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return PA&&h.locale!=="ko"?null:h.data;default:return null}}var Boe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RU(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h==="input"?!!Boe[A.type]:h==="textarea"}function DU(A,h,g,B){ci(B),h=V0(h,"onChange"),0<h.length&&(g=new Ef("onChange","change",null,g,B),A.push({event:g,listeners:h}))}var ag=null,ig=null;function Eoe(A){tM(A,0)}function Q0(A){var h=Mf(A);if(ne(h))return A}function Soe(A,h){if(A==="change")return h}var UU=!1;if(l){var SB;if(l){var NB="oninput"in document;if(!NB){var MU=document.createElement("div");MU.setAttribute("oninput","return;"),NB=typeof MU.oninput=="function"}SB=NB}else SB=!1;UU=SB&&(!document.documentMode||9<document.documentMode)}function QU(){ag&&(ag.detachEvent("onpropertychange",LU),ig=ag=null)}function LU(A){if(A.propertyName==="value"&&Q0(ig)){var h=[];DU(h,ig,A,xr(A)),qp(Eoe,h)}}function Noe(A,h,g){A==="focusin"?(QU(),ag=h,ig=g,ag.attachEvent("onpropertychange",LU)):A==="focusout"&&QU()}function Toe(A){if(A==="selectionchange"||A==="keyup"||A==="keydown")return Q0(ig)}function koe(A,h){if(A==="click")return Q0(h)}function Ioe(A,h){if(A==="input"||A==="change")return Q0(h)}function Poe(A,h){return A===h&&(A!==0||1/A===1/h)||A!==A&&h!==h}var Ji=typeof Object.is=="function"?Object.is:Poe;function og(A,h){if(Ji(A,h))return!0;if(typeof A!="object"||A===null||typeof h!="object"||h===null)return!1;var g=Object.keys(A),B=Object.keys(h);if(g.length!==B.length)return!1;for(B=0;B<g.length;B++){var I=g[B];if(!c.call(h,I)||!Ji(A[I],h[I]))return!1}return!0}function HU(A){for(;A&&A.firstChild;)A=A.firstChild;return A}function $U(A,h){var g=HU(A);A=0;for(var B;g;){if(g.nodeType===3){if(B=A+g.textContent.length,A<=h&&B>=h)return{node:g,offset:h-A};A=B}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=HU(g)}}function VU(A,h){return A&&h?A===h?!0:A&&A.nodeType===3?!1:h&&h.nodeType===3?VU(A,h.parentNode):"contains"in A?A.contains(h):A.compareDocumentPosition?!!(A.compareDocumentPosition(h)&16):!1:!1}function KU(){for(var A=window,h=ke();h instanceof A.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)A=h.contentWindow;else break;h=ke(A.document)}return h}function TB(A){var h=A&&A.nodeName&&A.nodeName.toLowerCase();return h&&(h==="input"&&(A.type==="text"||A.type==="search"||A.type==="tel"||A.type==="url"||A.type==="password")||h==="textarea"||A.contentEditable==="true")}function Ooe(A){var h=KU(),g=A.focusedElem,B=A.selectionRange;if(h!==g&&g&&g.ownerDocument&&VU(g.ownerDocument.documentElement,g)){if(B!==null&&TB(g)){if(h=B.start,A=B.end,A===void 0&&(A=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(A,g.value.length);else if(A=(h=g.ownerDocument||document)&&h.defaultView||window,A.getSelection){A=A.getSelection();var I=g.textContent.length,U=Math.min(B.start,I);B=B.end===void 0?U:Math.min(B.end,I),!A.extend&&U>B&&(I=B,B=U,U=I),I=$U(g,U);var K=$U(g,B);I&&K&&(A.rangeCount!==1||A.anchorNode!==I.node||A.anchorOffset!==I.offset||A.focusNode!==K.node||A.focusOffset!==K.offset)&&(h=h.createRange(),h.setStart(I.node,I.offset),A.removeAllRanges(),U>B?(A.addRange(h),A.extend(K.node,K.offset)):(h.setEnd(K.node,K.offset),A.addRange(h)))}}for(h=[],A=g;A=A.parentNode;)A.nodeType===1&&h.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)A=h[g],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}var Foe=l&&"documentMode"in document&&11>=document.documentMode,Ff=null,kB=null,lg=null,IB=!1;function qU(A,h,g){var B=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;IB||Ff==null||Ff!==ke(B)||(B=Ff,"selectionStart"in B&&TB(B)?B={start:B.selectionStart,end:B.selectionEnd}:(B=(B.ownerDocument&&B.ownerDocument.defaultView||window).getSelection(),B={anchorNode:B.anchorNode,anchorOffset:B.anchorOffset,focusNode:B.focusNode,focusOffset:B.focusOffset}),lg&&og(lg,B)||(lg=B,B=V0(kB,"onSelect"),0<B.length&&(h=new Ef("onSelect","select",null,h,g),A.push({event:h,listeners:B}),h.target=Ff)))}function L0(A,h){var g={};return g[A.toLowerCase()]=h.toLowerCase(),g["Webkit"+A]="webkit"+h,g["Moz"+A]="moz"+h,g}var Rf={animationend:L0("Animation","AnimationEnd"),animationiteration:L0("Animation","AnimationIteration"),animationstart:L0("Animation","AnimationStart"),transitionend:L0("Transition","TransitionEnd")},PB={},zU={};l&&(zU=document.createElement("div").style,"AnimationEvent"in window||(delete Rf.animationend.animation,delete Rf.animationiteration.animation,delete Rf.animationstart.animation),"TransitionEvent"in window||delete Rf.transitionend.transition);function H0(A){if(PB[A])return PB[A];if(!Rf[A])return A;var h=Rf[A],g;for(g in h)if(h.hasOwnProperty(g)&&g in zU)return PB[A]=h[g];return A}var GU=H0("animationend"),WU=H0("animationiteration"),XU=H0("animationstart"),JU=H0("transitionend"),YU=new Map,ZU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dc(A,h){YU.set(A,h),a(h,[A])}for(var OB=0;OB<ZU.length;OB++){var FB=ZU[OB],Roe=FB.toLowerCase(),Doe=FB[0].toUpperCase()+FB.slice(1);Dc(Roe,"on"+Doe)}Dc(GU,"onAnimationEnd"),Dc(WU,"onAnimationIteration"),Dc(XU,"onAnimationStart"),Dc("dblclick","onDoubleClick"),Dc("focusin","onFocus"),Dc("focusout","onBlur"),Dc(JU,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uoe=new Set("cancel close invalid load scroll toggle".split(" ").concat(cg));function eM(A,h,g){var B=A.type||"unknown-event";A.currentTarget=g,v0(B,h,void 0,A),A.currentTarget=null}function tM(A,h){h=(h&4)!==0;for(var g=0;g<A.length;g++){var B=A[g],I=B.event;B=B.listeners;e:{var U=void 0;if(h)for(var K=B.length-1;0<=K;K--){var te=B[K],ie=te.instance,we=te.currentTarget;if(te=te.listener,ie!==U&&I.isPropagationStopped())break e;eM(I,te,we),U=ie}else for(K=0;K<B.length;K++){if(te=B[K],ie=te.instance,we=te.currentTarget,te=te.listener,ie!==U&&I.isPropagationStopped())break e;eM(I,te,we),U=ie}}}if($i)throw A=zp,$i=!1,zp=null,A}function Zr(A,h){var g=h[$B];g===void 0&&(g=h[$B]=new Set);var B=A+"__bubble";g.has(B)||(rM(h,A,2,!1),g.add(B))}function RB(A,h,g){var B=0;h&&(B|=4),rM(g,A,B,h)}var $0="_reactListening"+Math.random().toString(36).slice(2);function ug(A){if(!A[$0]){A[$0]=!0,n.forEach(function(g){g!=="selectionchange"&&(Uoe.has(g)||RB(g,!1,A),RB(g,!0,A))});var h=A.nodeType===9?A:A.ownerDocument;h===null||h[$0]||(h[$0]=!0,RB("selectionchange",!1,h))}}function rM(A,h,g,B){switch(eg(h)){case 1:var I=nn;break;case 4:I=BB;break;default:I=Zp}g=I.bind(null,h,g,A),I=void 0,!pf||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(I=!0),B?I!==void 0?A.addEventListener(h,g,{capture:!0,passive:I}):A.addEventListener(h,g,!0):I!==void 0?A.addEventListener(h,g,{passive:I}):A.addEventListener(h,g,!1)}function DB(A,h,g,B,I){var U=B;if((h&1)===0&&(h&2)===0&&B!==null)e:for(;;){if(B===null)return;var K=B.tag;if(K===3||K===4){var te=B.stateNode.containerInfo;if(te===I||te.nodeType===8&&te.parentNode===I)break;if(K===4)for(K=B.return;K!==null;){var ie=K.tag;if((ie===3||ie===4)&&(ie=K.stateNode.containerInfo,ie===I||ie.nodeType===8&&ie.parentNode===I))return;K=K.return}for(;te!==null;){if(K=OA(te),K===null)return;if(ie=K.tag,ie===5||ie===6){B=U=K;continue e}te=te.parentNode}}B=B.return}qp(function(){var we=U,De=xr(g),Le=[];e:{var Oe=YU.get(A);if(Oe!==void 0){var st=Ef,mt=A;switch(A){case"keypress":if(Bf(g)===0)break e;case"keydown":case"keyup":st=R;break;case"focusin":mt="focus",st=kf;break;case"focusout":mt="blur",st=kf;break;case"beforeblur":case"afterblur":st=kf;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=P0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=be;break;case GU:case WU:case XU:st=kl;break;case JU:st=kr;break;case"scroll":st=EB;break;case"wheel":st=dr;break;case"copy":case"cut":case"paste":st=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=X}var vt=(h&4)!==0,_n=!vt&&A==="scroll",he=vt?Oe!==null?Oe+"Capture":null:Oe;vt=[];for(var ce=we,ve;ce!==null;){ve=ce;var Ke=ve.stateNode;if(ve.tag===5&&Ke!==null&&(ve=Ke,he!==null&&(Ke=bn(ce,he),Ke!=null&&vt.push(Ag(ce,Ke,ve)))),_n)break;ce=ce.return}0<vt.length&&(Oe=new st(Oe,mt,null,g,De),Le.push({event:Oe,listeners:vt}))}}if((h&7)===0){e:{if(Oe=A==="mouseover"||A==="pointerover",st=A==="mouseout"||A==="pointerout",Oe&&g!==Pt&&(mt=g.relatedTarget||g.fromElement)&&(OA(mt)||mt[Il]))break e;if((st||Oe)&&(Oe=De.window===De?De:(Oe=De.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,st?(mt=g.relatedTarget||g.toElement,st=we,mt=mt?OA(mt):null,mt!==null&&(_n=Vi(mt),mt!==_n||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(st=null,mt=we),st!==mt)){if(vt=Nf,Ke="onMouseLeave",he="onMouseEnter",ce="mouse",(A==="pointerout"||A==="pointerover")&&(vt=X,Ke="onPointerLeave",he="onPointerEnter",ce="pointer"),_n=st==null?Oe:Mf(st),ve=mt==null?Oe:Mf(mt),Oe=new vt(Ke,ce+"leave",st,g,De),Oe.target=_n,Oe.relatedTarget=ve,Ke=null,OA(De)===we&&(vt=new vt(he,ce+"enter",mt,g,De),vt.target=ve,vt.relatedTarget=_n,Ke=vt),_n=Ke,st&&mt)t:{for(vt=st,he=mt,ce=0,ve=vt;ve;ve=Df(ve))ce++;for(ve=0,Ke=he;Ke;Ke=Df(Ke))ve++;for(;0<ce-ve;)vt=Df(vt),ce--;for(;0<ve-ce;)he=Df(he),ve--;for(;ce--;){if(vt===he||he!==null&&vt===he.alternate)break t;vt=Df(vt),he=Df(he)}vt=null}else vt=null;st!==null&&nM(Le,Oe,st,vt,!1),mt!==null&&_n!==null&&nM(Le,_n,mt,vt,!0)}}e:{if(Oe=we?Mf(we):window,st=Oe.nodeName&&Oe.nodeName.toLowerCase(),st==="select"||st==="input"&&Oe.type==="file")var wt=Soe;else if(RU(Oe))if(UU)wt=Ioe;else{wt=Toe;var Bt=Noe}else(st=Oe.nodeName)&&st.toLowerCase()==="input"&&(Oe.type==="checkbox"||Oe.type==="radio")&&(wt=koe);if(wt&&(wt=wt(A,we))){DU(Le,wt,g,De);break e}Bt&&Bt(A,Oe,we),A==="focusout"&&(Bt=Oe._wrapperState)&&Bt.controlled&&Oe.type==="number"&&de(Oe,"number",Oe.value)}switch(Bt=we?Mf(we):window,A){case"focusin":(RU(Bt)||Bt.contentEditable==="true")&&(Ff=Bt,kB=we,lg=null);break;case"focusout":lg=kB=Ff=null;break;case"mousedown":IB=!0;break;case"contextmenu":case"mouseup":case"dragend":IB=!1,qU(Le,g,De);break;case"selectionchange":if(Foe)break;case"keydown":case"keyup":qU(Le,g,De)}var Et;if(Tn)e:{switch(A){case"compositionstart":var Mt="onCompositionStart";break e;case"compositionend":Mt="onCompositionEnd";break e;case"compositionupdate":Mt="onCompositionUpdate";break e}Mt=void 0}else Of?OU(A,g)&&(Mt="onCompositionEnd"):A==="keydown"&&g.keyCode===229&&(Mt="onCompositionStart");Mt&&(PA&&g.locale!=="ko"&&(Of||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Of&&(Et=tg()):(Ua=De,Cf="value"in Ua?Ua.value:Ua.textContent,Of=!0)),Bt=V0(we,Mt),0<Bt.length&&(Mt=new sg(Mt,A,null,g,De),Le.push({event:Mt,listeners:Bt}),Et?Mt.data=Et:(Et=FU(g),Et!==null&&(Mt.data=Et)))),(Et=Ma?joe(A,g):Coe(A,g))&&(we=V0(we,"onBeforeInput"),0<we.length&&(De=new sg("onBeforeInput","beforeinput",null,g,De),Le.push({event:De,listeners:we}),De.data=Et))}tM(Le,h)})}function Ag(A,h,g){return{instance:A,listener:h,currentTarget:g}}function V0(A,h){for(var g=h+"Capture",B=[];A!==null;){var I=A,U=I.stateNode;I.tag===5&&U!==null&&(I=U,U=bn(A,g),U!=null&&B.unshift(Ag(A,U,I)),U=bn(A,h),U!=null&&B.push(Ag(A,U,I))),A=A.return}return B}function Df(A){if(A===null)return null;do A=A.return;while(A&&A.tag!==5);return A||null}function nM(A,h,g,B,I){for(var U=h._reactName,K=[];g!==null&&g!==B;){var te=g,ie=te.alternate,we=te.stateNode;if(ie!==null&&ie===B)break;te.tag===5&&we!==null&&(te=we,I?(ie=bn(g,U),ie!=null&&K.unshift(Ag(g,ie,te))):I||(ie=bn(g,U),ie!=null&&K.push(Ag(g,ie,te)))),g=g.return}K.length!==0&&A.push({event:h,listeners:K})}var Moe=/\r\n?/g,Qoe=/\u0000|\uFFFD/g;function sM(A){return(typeof A=="string"?A:""+A).replace(Moe,`
`).replace(Qoe,"")}function K0(A,h,g){if(h=sM(h),sM(A)!==h&&g)throw Error(r(425))}function q0(){}var UB=null,MB=null;function QB(A,h){return A==="textarea"||A==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var LB=typeof setTimeout=="function"?setTimeout:void 0,Loe=typeof clearTimeout=="function"?clearTimeout:void 0,aM=typeof Promise=="function"?Promise:void 0,Hoe=typeof queueMicrotask=="function"?queueMicrotask:typeof aM<"u"?function(A){return aM.resolve(null).then(A).catch($oe)}:LB;function $oe(A){setTimeout(function(){throw A})}function HB(A,h){var g=h,B=0;do{var I=g.nextSibling;if(A.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"){if(B===0){A.removeChild(I),Wi(h);return}B--}else g!=="$"&&g!=="$?"&&g!=="$!"||B++;g=I}while(g);Wi(h)}function Uc(A){for(;A!=null;A=A.nextSibling){var h=A.nodeType;if(h===1||h===3)break;if(h===8){if(h=A.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return A}function iM(A){A=A.previousSibling;for(var h=0;A;){if(A.nodeType===8){var g=A.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return A;h--}else g==="/$"&&h++}A=A.previousSibling}return null}var Uf=Math.random().toString(36).slice(2),Qo="__reactFiber$"+Uf,dg="__reactProps$"+Uf,Il="__reactContainer$"+Uf,$B="__reactEvents$"+Uf,Voe="__reactListeners$"+Uf,Koe="__reactHandles$"+Uf;function OA(A){var h=A[Qo];if(h)return h;for(var g=A.parentNode;g;){if(h=g[Il]||g[Qo]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(A=iM(A);A!==null;){if(g=A[Qo])return g;A=iM(A)}return h}A=g,g=A.parentNode}return null}function fg(A){return A=A[Qo]||A[Il],!A||A.tag!==5&&A.tag!==6&&A.tag!==13&&A.tag!==3?null:A}function Mf(A){if(A.tag===5||A.tag===6)return A.stateNode;throw Error(r(33))}function z0(A){return A[dg]||null}var VB=[],Qf=-1;function Mc(A){return{current:A}}function en(A){0>Qf||(A.current=VB[Qf],VB[Qf]=null,Qf--)}function Wr(A,h){Qf++,VB[Qf]=A.current,A.current=h}var Qc={},Ss=Mc(Qc),pa=Mc(!1),FA=Qc;function Lf(A,h){var g=A.type.contextTypes;if(!g)return Qc;var B=A.stateNode;if(B&&B.__reactInternalMemoizedUnmaskedChildContext===h)return B.__reactInternalMemoizedMaskedChildContext;var I={},U;for(U in g)I[U]=h[U];return B&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=h,A.__reactInternalMemoizedMaskedChildContext=I),I}function ga(A){return A=A.childContextTypes,A!=null}function G0(){en(pa),en(Ss)}function oM(A,h,g){if(Ss.current!==Qc)throw Error(r(168));Wr(Ss,h),Wr(pa,g)}function lM(A,h,g){var B=A.stateNode;if(h=h.childContextTypes,typeof B.getChildContext!="function")return g;B=B.getChildContext();for(var I in B)if(!(I in h))throw Error(r(108,xe(A)||"Unknown",I));return q({},g,B)}function W0(A){return A=(A=A.stateNode)&&A.__reactInternalMemoizedMergedChildContext||Qc,FA=Ss.current,Wr(Ss,A),Wr(pa,pa.current),!0}function cM(A,h,g){var B=A.stateNode;if(!B)throw Error(r(169));g?(A=lM(A,h,FA),B.__reactInternalMemoizedMergedChildContext=A,en(pa),en(Ss),Wr(Ss,A)):en(pa),Wr(pa,g)}var Pl=null,X0=!1,KB=!1;function uM(A){Pl===null?Pl=[A]:Pl.push(A)}function qoe(A){X0=!0,uM(A)}function Lc(){if(!KB&&Pl!==null){KB=!0;var A=0,h=ir;try{var g=Pl;for(ir=1;A<g.length;A++){var B=g[A];do B=B(!0);while(B!==null)}Pl=null,X0=!1}catch(I){throw Pl!==null&&(Pl=Pl.slice(A+1)),xf(BA,Lc),I}finally{ir=h,KB=!1}}return null}var Hf=[],$f=0,J0=null,Y0=0,fi=[],hi=0,RA=null,Ol=1,Fl="";function DA(A,h){Hf[$f++]=Y0,Hf[$f++]=J0,J0=A,Y0=h}function AM(A,h,g){fi[hi++]=Ol,fi[hi++]=Fl,fi[hi++]=RA,RA=A;var B=Ol;A=Fl;var I=32-Ws(B)-1;B&=~(1<<I),g+=1;var U=32-Ws(h)+I;if(30<U){var K=I-I%5;U=(B&(1<<K)-1).toString(32),B>>=K,I-=K,Ol=1<<32-Ws(h)+I|g<<I|B,Fl=U+A}else Ol=1<<U|g<<I|B,Fl=A}function qB(A){A.return!==null&&(DA(A,1),AM(A,1,0))}function zB(A){for(;A===J0;)J0=Hf[--$f],Hf[$f]=null,Y0=Hf[--$f],Hf[$f]=null;for(;A===RA;)RA=fi[--hi],fi[hi]=null,Fl=fi[--hi],fi[hi]=null,Ol=fi[--hi],fi[hi]=null}var Qa=null,La=null,sn=!1,Yi=null;function dM(A,h){var g=vi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=A,h=A.deletions,h===null?(A.deletions=[g],A.flags|=16):h.push(g)}function fM(A,h){switch(A.tag){case 5:var g=A.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(A.stateNode=h,Qa=A,La=Uc(h.firstChild),!0):!1;case 6:return h=A.pendingProps===""||h.nodeType!==3?null:h,h!==null?(A.stateNode=h,Qa=A,La=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=RA!==null?{id:Ol,overflow:Fl}:null,A.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=vi(18,null,null,0),g.stateNode=h,g.return=A,A.child=g,Qa=A,La=null,!0):!1;default:return!1}}function GB(A){return(A.mode&1)!==0&&(A.flags&128)===0}function WB(A){if(sn){var h=La;if(h){var g=h;if(!fM(A,h)){if(GB(A))throw Error(r(418));h=Uc(g.nextSibling);var B=Qa;h&&fM(A,h)?dM(B,g):(A.flags=A.flags&-4097|2,sn=!1,Qa=A)}}else{if(GB(A))throw Error(r(418));A.flags=A.flags&-4097|2,sn=!1,Qa=A}}}function hM(A){for(A=A.return;A!==null&&A.tag!==5&&A.tag!==3&&A.tag!==13;)A=A.return;Qa=A}function Z0(A){if(A!==Qa)return!1;if(!sn)return hM(A),sn=!0,!1;var h;if((h=A.tag!==3)&&!(h=A.tag!==5)&&(h=A.type,h=h!=="head"&&h!=="body"&&!QB(A.type,A.memoizedProps)),h&&(h=La)){if(GB(A))throw mM(),Error(r(418));for(;h;)dM(A,h),h=Uc(h.nextSibling)}if(hM(A),A.tag===13){if(A=A.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));e:{for(A=A.nextSibling,h=0;A;){if(A.nodeType===8){var g=A.data;if(g==="/$"){if(h===0){La=Uc(A.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}A=A.nextSibling}La=null}}else La=Qa?Uc(A.stateNode.nextSibling):null;return!0}function mM(){for(var A=La;A;)A=Uc(A.nextSibling)}function Vf(){La=Qa=null,sn=!1}function XB(A){Yi===null?Yi=[A]:Yi.push(A)}var zoe=C.ReactCurrentBatchConfig;function hg(A,h,g){if(A=g.ref,A!==null&&typeof A!="function"&&typeof A!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(r(309));var B=g.stateNode}if(!B)throw Error(r(147,A));var I=B,U=""+A;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===U?h.ref:(h=function(K){var te=I.refs;K===null?delete te[U]:te[U]=K},h._stringRef=U,h)}if(typeof A!="string")throw Error(r(284));if(!g._owner)throw Error(r(290,A))}return A}function ew(A,h){throw A=Object.prototype.toString.call(h),Error(r(31,A==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":A))}function pM(A){var h=A._init;return h(A._payload)}function gM(A){function h(he,ce){if(A){var ve=he.deletions;ve===null?(he.deletions=[ce],he.flags|=16):ve.push(ce)}}function g(he,ce){if(!A)return null;for(;ce!==null;)h(he,ce),ce=ce.sibling;return null}function B(he,ce){for(he=new Map;ce!==null;)ce.key!==null?he.set(ce.key,ce):he.set(ce.index,ce),ce=ce.sibling;return he}function I(he,ce){return he=Wc(he,ce),he.index=0,he.sibling=null,he}function U(he,ce,ve){return he.index=ve,A?(ve=he.alternate,ve!==null?(ve=ve.index,ve<ce?(he.flags|=2,ce):ve):(he.flags|=2,ce)):(he.flags|=1048576,ce)}function K(he){return A&&he.alternate===null&&(he.flags|=2),he}function te(he,ce,ve,Ke){return ce===null||ce.tag!==6?(ce=LE(ve,he.mode,Ke),ce.return=he,ce):(ce=I(ce,ve),ce.return=he,ce)}function ie(he,ce,ve,Ke){var wt=ve.type;return wt===E?De(he,ce,ve.props.children,Ke,ve.key):ce!==null&&(ce.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===V&&pM(wt)===ce.type)?(Ke=I(ce,ve.props),Ke.ref=hg(he,ce,ve),Ke.return=he,Ke):(Ke=jw(ve.type,ve.key,ve.props,null,he.mode,Ke),Ke.ref=hg(he,ce,ve),Ke.return=he,Ke)}function we(he,ce,ve,Ke){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==ve.containerInfo||ce.stateNode.implementation!==ve.implementation?(ce=HE(ve,he.mode,Ke),ce.return=he,ce):(ce=I(ce,ve.children||[]),ce.return=he,ce)}function De(he,ce,ve,Ke,wt){return ce===null||ce.tag!==7?(ce=KA(ve,he.mode,Ke,wt),ce.return=he,ce):(ce=I(ce,ve),ce.return=he,ce)}function Le(he,ce,ve){if(typeof ce=="string"&&ce!==""||typeof ce=="number")return ce=LE(""+ce,he.mode,ve),ce.return=he,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case N:return ve=jw(ce.type,ce.key,ce.props,null,he.mode,ve),ve.ref=hg(he,null,ce),ve.return=he,ve;case k:return ce=HE(ce,he.mode,ve),ce.return=he,ce;case V:var Ke=ce._init;return Le(he,Ke(ce._payload),ve)}if(ge(ce)||z(ce))return ce=KA(ce,he.mode,ve,null),ce.return=he,ce;ew(he,ce)}return null}function Oe(he,ce,ve,Ke){var wt=ce!==null?ce.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number")return wt!==null?null:te(he,ce,""+ve,Ke);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case N:return ve.key===wt?ie(he,ce,ve,Ke):null;case k:return ve.key===wt?we(he,ce,ve,Ke):null;case V:return wt=ve._init,Oe(he,ce,wt(ve._payload),Ke)}if(ge(ve)||z(ve))return wt!==null?null:De(he,ce,ve,Ke,null);ew(he,ve)}return null}function st(he,ce,ve,Ke,wt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return he=he.get(ve)||null,te(ce,he,""+Ke,wt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case N:return he=he.get(Ke.key===null?ve:Ke.key)||null,ie(ce,he,Ke,wt);case k:return he=he.get(Ke.key===null?ve:Ke.key)||null,we(ce,he,Ke,wt);case V:var Bt=Ke._init;return st(he,ce,ve,Bt(Ke._payload),wt)}if(ge(Ke)||z(Ke))return he=he.get(ve)||null,De(ce,he,Ke,wt,null);ew(ce,Ke)}return null}function mt(he,ce,ve,Ke){for(var wt=null,Bt=null,Et=ce,Mt=ce=0,Yn=null;Et!==null&&Mt<ve.length;Mt++){Et.index>Mt?(Yn=Et,Et=null):Yn=Et.sibling;var wr=Oe(he,Et,ve[Mt],Ke);if(wr===null){Et===null&&(Et=Yn);break}A&&Et&&wr.alternate===null&&h(he,Et),ce=U(wr,ce,Mt),Bt===null?wt=wr:Bt.sibling=wr,Bt=wr,Et=Yn}if(Mt===ve.length)return g(he,Et),sn&&DA(he,Mt),wt;if(Et===null){for(;Mt<ve.length;Mt++)Et=Le(he,ve[Mt],Ke),Et!==null&&(ce=U(Et,ce,Mt),Bt===null?wt=Et:Bt.sibling=Et,Bt=Et);return sn&&DA(he,Mt),wt}for(Et=B(he,Et);Mt<ve.length;Mt++)Yn=st(Et,he,Mt,ve[Mt],Ke),Yn!==null&&(A&&Yn.alternate!==null&&Et.delete(Yn.key===null?Mt:Yn.key),ce=U(Yn,ce,Mt),Bt===null?wt=Yn:Bt.sibling=Yn,Bt=Yn);return A&&Et.forEach(function(Xc){return h(he,Xc)}),sn&&DA(he,Mt),wt}function vt(he,ce,ve,Ke){var wt=z(ve);if(typeof wt!="function")throw Error(r(150));if(ve=wt.call(ve),ve==null)throw Error(r(151));for(var Bt=wt=null,Et=ce,Mt=ce=0,Yn=null,wr=ve.next();Et!==null&&!wr.done;Mt++,wr=ve.next()){Et.index>Mt?(Yn=Et,Et=null):Yn=Et.sibling;var Xc=Oe(he,Et,wr.value,Ke);if(Xc===null){Et===null&&(Et=Yn);break}A&&Et&&Xc.alternate===null&&h(he,Et),ce=U(Xc,ce,Mt),Bt===null?wt=Xc:Bt.sibling=Xc,Bt=Xc,Et=Yn}if(wr.done)return g(he,Et),sn&&DA(he,Mt),wt;if(Et===null){for(;!wr.done;Mt++,wr=ve.next())wr=Le(he,wr.value,Ke),wr!==null&&(ce=U(wr,ce,Mt),Bt===null?wt=wr:Bt.sibling=wr,Bt=wr);return sn&&DA(he,Mt),wt}for(Et=B(he,Et);!wr.done;Mt++,wr=ve.next())wr=st(Et,he,Mt,wr.value,Ke),wr!==null&&(A&&wr.alternate!==null&&Et.delete(wr.key===null?Mt:wr.key),ce=U(wr,ce,Mt),Bt===null?wt=wr:Bt.sibling=wr,Bt=wr);return A&&Et.forEach(function(Ble){return h(he,Ble)}),sn&&DA(he,Mt),wt}function _n(he,ce,ve,Ke){if(typeof ve=="object"&&ve!==null&&ve.type===E&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case N:e:{for(var wt=ve.key,Bt=ce;Bt!==null;){if(Bt.key===wt){if(wt=ve.type,wt===E){if(Bt.tag===7){g(he,Bt.sibling),ce=I(Bt,ve.props.children),ce.return=he,he=ce;break e}}else if(Bt.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===V&&pM(wt)===Bt.type){g(he,Bt.sibling),ce=I(Bt,ve.props),ce.ref=hg(he,Bt,ve),ce.return=he,he=ce;break e}g(he,Bt);break}else h(he,Bt);Bt=Bt.sibling}ve.type===E?(ce=KA(ve.props.children,he.mode,Ke,ve.key),ce.return=he,he=ce):(Ke=jw(ve.type,ve.key,ve.props,null,he.mode,Ke),Ke.ref=hg(he,ce,ve),Ke.return=he,he=Ke)}return K(he);case k:e:{for(Bt=ve.key;ce!==null;){if(ce.key===Bt)if(ce.tag===4&&ce.stateNode.containerInfo===ve.containerInfo&&ce.stateNode.implementation===ve.implementation){g(he,ce.sibling),ce=I(ce,ve.children||[]),ce.return=he,he=ce;break e}else{g(he,ce);break}else h(he,ce);ce=ce.sibling}ce=HE(ve,he.mode,Ke),ce.return=he,he=ce}return K(he);case V:return Bt=ve._init,_n(he,ce,Bt(ve._payload),Ke)}if(ge(ve))return mt(he,ce,ve,Ke);if(z(ve))return vt(he,ce,ve,Ke);ew(he,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"?(ve=""+ve,ce!==null&&ce.tag===6?(g(he,ce.sibling),ce=I(ce,ve),ce.return=he,he=ce):(g(he,ce),ce=LE(ve,he.mode,Ke),ce.return=he,he=ce),K(he)):g(he,ce)}return _n}var Kf=gM(!0),vM=gM(!1),tw=Mc(null),rw=null,qf=null,JB=null;function YB(){JB=qf=rw=null}function ZB(A){var h=tw.current;en(tw),A._currentValue=h}function eE(A,h,g){for(;A!==null;){var B=A.alternate;if((A.childLanes&h)!==h?(A.childLanes|=h,B!==null&&(B.childLanes|=h)):B!==null&&(B.childLanes&h)!==h&&(B.childLanes|=h),A===g)break;A=A.return}}function zf(A,h){rw=A,JB=qf=null,A=A.dependencies,A!==null&&A.firstContext!==null&&((A.lanes&h)!==0&&(va=!0),A.firstContext=null)}function mi(A){var h=A._currentValue;if(JB!==A)if(A={context:A,memoizedValue:h,next:null},qf===null){if(rw===null)throw Error(r(308));qf=A,rw.dependencies={lanes:0,firstContext:A}}else qf=qf.next=A;return h}var UA=null;function tE(A){UA===null?UA=[A]:UA.push(A)}function yM(A,h,g,B){var I=h.interleaved;return I===null?(g.next=g,tE(h)):(g.next=I.next,I.next=g),h.interleaved=g,Rl(A,B)}function Rl(A,h){A.lanes|=h;var g=A.alternate;for(g!==null&&(g.lanes|=h),g=A,A=A.return;A!==null;)A.childLanes|=h,g=A.alternate,g!==null&&(g.childLanes|=h),g=A,A=A.return;return g.tag===3?g.stateNode:null}var Hc=!1;function rE(A){A.updateQueue={baseState:A.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xM(A,h){A=A.updateQueue,h.updateQueue===A&&(h.updateQueue={baseState:A.baseState,firstBaseUpdate:A.firstBaseUpdate,lastBaseUpdate:A.lastBaseUpdate,shared:A.shared,effects:A.effects})}function Dl(A,h){return{eventTime:A,lane:h,tag:0,payload:null,callback:null,next:null}}function $c(A,h,g){var B=A.updateQueue;if(B===null)return null;if(B=B.shared,(vr&2)!==0){var I=B.pending;return I===null?h.next=h:(h.next=I.next,I.next=h),B.pending=h,Rl(A,g)}return I=B.interleaved,I===null?(h.next=h,tE(B)):(h.next=I.next,I.next=h),B.interleaved=h,Rl(A,g)}function nw(A,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var B=h.lanes;B&=A.pendingLanes,g|=B,h.lanes=g,Ic(A,g)}}function wM(A,h){var g=A.updateQueue,B=A.alternate;if(B!==null&&(B=B.updateQueue,g===B)){var I=null,U=null;if(g=g.firstBaseUpdate,g!==null){do{var K={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};U===null?I=U=K:U=U.next=K,g=g.next}while(g!==null);U===null?I=U=h:U=U.next=h}else I=U=h;g={baseState:B.baseState,firstBaseUpdate:I,lastBaseUpdate:U,shared:B.shared,effects:B.effects},A.updateQueue=g;return}A=g.lastBaseUpdate,A===null?g.firstBaseUpdate=h:A.next=h,g.lastBaseUpdate=h}function sw(A,h,g,B){var I=A.updateQueue;Hc=!1;var U=I.firstBaseUpdate,K=I.lastBaseUpdate,te=I.shared.pending;if(te!==null){I.shared.pending=null;var ie=te,we=ie.next;ie.next=null,K===null?U=we:K.next=we,K=ie;var De=A.alternate;De!==null&&(De=De.updateQueue,te=De.lastBaseUpdate,te!==K&&(te===null?De.firstBaseUpdate=we:te.next=we,De.lastBaseUpdate=ie))}if(U!==null){var Le=I.baseState;K=0,De=we=ie=null,te=U;do{var Oe=te.lane,st=te.eventTime;if((B&Oe)===Oe){De!==null&&(De=De.next={eventTime:st,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});e:{var mt=A,vt=te;switch(Oe=h,st=g,vt.tag){case 1:if(mt=vt.payload,typeof mt=="function"){Le=mt.call(st,Le,Oe);break e}Le=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=vt.payload,Oe=typeof mt=="function"?mt.call(st,Le,Oe):mt,Oe==null)break e;Le=q({},Le,Oe);break e;case 2:Hc=!0}}te.callback!==null&&te.lane!==0&&(A.flags|=64,Oe=I.effects,Oe===null?I.effects=[te]:Oe.push(te))}else st={eventTime:st,lane:Oe,tag:te.tag,payload:te.payload,callback:te.callback,next:null},De===null?(we=De=st,ie=Le):De=De.next=st,K|=Oe;if(te=te.next,te===null){if(te=I.shared.pending,te===null)break;Oe=te,te=Oe.next,Oe.next=null,I.lastBaseUpdate=Oe,I.shared.pending=null}}while(!0);if(De===null&&(ie=Le),I.baseState=ie,I.firstBaseUpdate=we,I.lastBaseUpdate=De,h=I.shared.interleaved,h!==null){I=h;do K|=I.lane,I=I.next;while(I!==h)}else U===null&&(I.shared.lanes=0);LA|=K,A.lanes=K,A.memoizedState=Le}}function bM(A,h,g){if(A=h.effects,h.effects=null,A!==null)for(h=0;h<A.length;h++){var B=A[h],I=B.callback;if(I!==null){if(B.callback=null,B=g,typeof I!="function")throw Error(r(191,I));I.call(B)}}}var mg={},Lo=Mc(mg),pg=Mc(mg),gg=Mc(mg);function MA(A){if(A===mg)throw Error(r(174));return A}function nE(A,h){switch(Wr(gg,h),Wr(pg,A),Wr(Lo,mg),A=h.nodeType,A){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:St(null,"");break;default:A=A===8?h.parentNode:h,h=A.namespaceURI||null,A=A.tagName,h=St(h,A)}en(Lo),Wr(Lo,h)}function Gf(){en(Lo),en(pg),en(gg)}function _M(A){MA(gg.current);var h=MA(Lo.current),g=St(h,A.type);h!==g&&(Wr(pg,A),Wr(Lo,g))}function sE(A){pg.current===A&&(en(Lo),en(pg))}var un=Mc(0);function aw(A){for(var h=A;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var aE=[];function iE(){for(var A=0;A<aE.length;A++)aE[A]._workInProgressVersionPrimary=null;aE.length=0}var iw=C.ReactCurrentDispatcher,oE=C.ReactCurrentBatchConfig,QA=0,An=null,Un=null,Xn=null,ow=!1,vg=!1,yg=0,Goe=0;function Ns(){throw Error(r(321))}function lE(A,h){if(h===null)return!1;for(var g=0;g<h.length&&g<A.length;g++)if(!Ji(A[g],h[g]))return!1;return!0}function cE(A,h,g,B,I,U){if(QA=U,An=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,iw.current=A===null||A.memoizedState===null?Yoe:Zoe,A=g(B,I),vg){U=0;do{if(vg=!1,yg=0,25<=U)throw Error(r(301));U+=1,Xn=Un=null,h.updateQueue=null,iw.current=ele,A=g(B,I)}while(vg)}if(iw.current=uw,h=Un!==null&&Un.next!==null,QA=0,Xn=Un=An=null,ow=!1,h)throw Error(r(300));return A}function uE(){var A=yg!==0;return yg=0,A}function Ho(){var A={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xn===null?An.memoizedState=Xn=A:Xn=Xn.next=A,Xn}function pi(){if(Un===null){var A=An.alternate;A=A!==null?A.memoizedState:null}else A=Un.next;var h=Xn===null?An.memoizedState:Xn.next;if(h!==null)Xn=h,Un=A;else{if(A===null)throw Error(r(310));Un=A,A={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Xn===null?An.memoizedState=Xn=A:Xn=Xn.next=A}return Xn}function xg(A,h){return typeof h=="function"?h(A):h}function AE(A){var h=pi(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=A;var B=Un,I=B.baseQueue,U=g.pending;if(U!==null){if(I!==null){var K=I.next;I.next=U.next,U.next=K}B.baseQueue=I=U,g.pending=null}if(I!==null){U=I.next,B=B.baseState;var te=K=null,ie=null,we=U;do{var De=we.lane;if((QA&De)===De)ie!==null&&(ie=ie.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),B=we.hasEagerState?we.eagerState:A(B,we.action);else{var Le={lane:De,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};ie===null?(te=ie=Le,K=B):ie=ie.next=Le,An.lanes|=De,LA|=De}we=we.next}while(we!==null&&we!==U);ie===null?K=B:ie.next=te,Ji(B,h.memoizedState)||(va=!0),h.memoizedState=B,h.baseState=K,h.baseQueue=ie,g.lastRenderedState=B}if(A=g.interleaved,A!==null){I=A;do U=I.lane,An.lanes|=U,LA|=U,I=I.next;while(I!==A)}else I===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function dE(A){var h=pi(),g=h.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=A;var B=g.dispatch,I=g.pending,U=h.memoizedState;if(I!==null){g.pending=null;var K=I=I.next;do U=A(U,K.action),K=K.next;while(K!==I);Ji(U,h.memoizedState)||(va=!0),h.memoizedState=U,h.baseQueue===null&&(h.baseState=U),g.lastRenderedState=U}return[U,B]}function jM(){}function CM(A,h){var g=An,B=pi(),I=h(),U=!Ji(B.memoizedState,I);if(U&&(B.memoizedState=I,va=!0),B=B.queue,fE(SM.bind(null,g,B,A),[A]),B.getSnapshot!==h||U||Xn!==null&&Xn.memoizedState.tag&1){if(g.flags|=2048,wg(9,EM.bind(null,g,B,I,h),void 0,null),Jn===null)throw Error(r(349));(QA&30)!==0||BM(g,h,I)}return I}function BM(A,h,g){A.flags|=16384,A={getSnapshot:h,value:g},h=An.updateQueue,h===null?(h={lastEffect:null,stores:null},An.updateQueue=h,h.stores=[A]):(g=h.stores,g===null?h.stores=[A]:g.push(A))}function EM(A,h,g,B){h.value=g,h.getSnapshot=B,NM(h)&&TM(A)}function SM(A,h,g){return g(function(){NM(h)&&TM(A)})}function NM(A){var h=A.getSnapshot;A=A.value;try{var g=h();return!Ji(A,g)}catch{return!0}}function TM(A){var h=Rl(A,1);h!==null&&ro(h,A,1,-1)}function kM(A){var h=Ho();return typeof A=="function"&&(A=A()),h.memoizedState=h.baseState=A,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:A},h.queue=A,A=A.dispatch=Joe.bind(null,An,A),[h.memoizedState,A]}function wg(A,h,g,B){return A={tag:A,create:h,destroy:g,deps:B,next:null},h=An.updateQueue,h===null?(h={lastEffect:null,stores:null},An.updateQueue=h,h.lastEffect=A.next=A):(g=h.lastEffect,g===null?h.lastEffect=A.next=A:(B=g.next,g.next=A,A.next=B,h.lastEffect=A)),A}function IM(){return pi().memoizedState}function lw(A,h,g,B){var I=Ho();An.flags|=A,I.memoizedState=wg(1|h,g,void 0,B===void 0?null:B)}function cw(A,h,g,B){var I=pi();B=B===void 0?null:B;var U=void 0;if(Un!==null){var K=Un.memoizedState;if(U=K.destroy,B!==null&&lE(B,K.deps)){I.memoizedState=wg(h,g,U,B);return}}An.flags|=A,I.memoizedState=wg(1|h,g,U,B)}function PM(A,h){return lw(8390656,8,A,h)}function fE(A,h){return cw(2048,8,A,h)}function OM(A,h){return cw(4,2,A,h)}function FM(A,h){return cw(4,4,A,h)}function RM(A,h){if(typeof h=="function")return A=A(),h(A),function(){h(null)};if(h!=null)return A=A(),h.current=A,function(){h.current=null}}function DM(A,h,g){return g=g!=null?g.concat([A]):null,cw(4,4,RM.bind(null,h,A),g)}function hE(){}function UM(A,h){var g=pi();h=h===void 0?null:h;var B=g.memoizedState;return B!==null&&h!==null&&lE(h,B[1])?B[0]:(g.memoizedState=[A,h],A)}function MM(A,h){var g=pi();h=h===void 0?null:h;var B=g.memoizedState;return B!==null&&h!==null&&lE(h,B[1])?B[0]:(A=A(),g.memoizedState=[A,h],A)}function QM(A,h,g){return(QA&21)===0?(A.baseState&&(A.baseState=!1,va=!0),A.memoizedState=g):(Ji(g,h)||(g=NA(),An.lanes|=g,LA|=g,A.baseState=!0),h)}function Woe(A,h){var g=ir;ir=g!==0&&4>g?g:4,A(!0);var B=oE.transition;oE.transition={};try{A(!1),h()}finally{ir=g,oE.transition=B}}function LM(){return pi().memoizedState}function Xoe(A,h,g){var B=zc(A);if(g={lane:B,action:g,hasEagerState:!1,eagerState:null,next:null},HM(A))$M(h,g);else if(g=yM(A,h,g,B),g!==null){var I=Ys();ro(g,A,B,I),VM(g,h,B)}}function Joe(A,h,g){var B=zc(A),I={lane:B,action:g,hasEagerState:!1,eagerState:null,next:null};if(HM(A))$M(h,I);else{var U=A.alternate;if(A.lanes===0&&(U===null||U.lanes===0)&&(U=h.lastRenderedReducer,U!==null))try{var K=h.lastRenderedState,te=U(K,g);if(I.hasEagerState=!0,I.eagerState=te,Ji(te,K)){var ie=h.interleaved;ie===null?(I.next=I,tE(h)):(I.next=ie.next,ie.next=I),h.interleaved=I;return}}catch{}finally{}g=yM(A,h,I,B),g!==null&&(I=Ys(),ro(g,A,B,I),VM(g,h,B))}}function HM(A){var h=A.alternate;return A===An||h!==null&&h===An}function $M(A,h){vg=ow=!0;var g=A.pending;g===null?h.next=h:(h.next=g.next,g.next=h),A.pending=h}function VM(A,h,g){if((g&4194240)!==0){var B=h.lanes;B&=A.pendingLanes,g|=B,h.lanes=g,Ic(A,g)}}var uw={readContext:mi,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useInsertionEffect:Ns,useLayoutEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useMutableSource:Ns,useSyncExternalStore:Ns,useId:Ns,unstable_isNewReconciler:!1},Yoe={readContext:mi,useCallback:function(A,h){return Ho().memoizedState=[A,h===void 0?null:h],A},useContext:mi,useEffect:PM,useImperativeHandle:function(A,h,g){return g=g!=null?g.concat([A]):null,lw(4194308,4,RM.bind(null,h,A),g)},useLayoutEffect:function(A,h){return lw(4194308,4,A,h)},useInsertionEffect:function(A,h){return lw(4,2,A,h)},useMemo:function(A,h){var g=Ho();return h=h===void 0?null:h,A=A(),g.memoizedState=[A,h],A},useReducer:function(A,h,g){var B=Ho();return h=g!==void 0?g(h):h,B.memoizedState=B.baseState=h,A={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A,lastRenderedState:h},B.queue=A,A=A.dispatch=Xoe.bind(null,An,A),[B.memoizedState,A]},useRef:function(A){var h=Ho();return A={current:A},h.memoizedState=A},useState:kM,useDebugValue:hE,useDeferredValue:function(A){return Ho().memoizedState=A},useTransition:function(){var A=kM(!1),h=A[0];return A=Woe.bind(null,A[1]),Ho().memoizedState=A,[h,A]},useMutableSource:function(){},useSyncExternalStore:function(A,h,g){var B=An,I=Ho();if(sn){if(g===void 0)throw Error(r(407));g=g()}else{if(g=h(),Jn===null)throw Error(r(349));(QA&30)!==0||BM(B,h,g)}I.memoizedState=g;var U={value:g,getSnapshot:h};return I.queue=U,PM(SM.bind(null,B,U,A),[A]),B.flags|=2048,wg(9,EM.bind(null,B,U,g,h),void 0,null),g},useId:function(){var A=Ho(),h=Jn.identifierPrefix;if(sn){var g=Fl,B=Ol;g=(B&~(1<<32-Ws(B)-1)).toString(32)+g,h=":"+h+"R"+g,g=yg++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=Goe++,h=":"+h+"r"+g.toString(32)+":";return A.memoizedState=h},unstable_isNewReconciler:!1},Zoe={readContext:mi,useCallback:UM,useContext:mi,useEffect:fE,useImperativeHandle:DM,useInsertionEffect:OM,useLayoutEffect:FM,useMemo:MM,useReducer:AE,useRef:IM,useState:function(){return AE(xg)},useDebugValue:hE,useDeferredValue:function(A){var h=pi();return QM(h,Un.memoizedState,A)},useTransition:function(){var A=AE(xg)[0],h=pi().memoizedState;return[A,h]},useMutableSource:jM,useSyncExternalStore:CM,useId:LM,unstable_isNewReconciler:!1},ele={readContext:mi,useCallback:UM,useContext:mi,useEffect:fE,useImperativeHandle:DM,useInsertionEffect:OM,useLayoutEffect:FM,useMemo:MM,useReducer:dE,useRef:IM,useState:function(){return dE(xg)},useDebugValue:hE,useDeferredValue:function(A){var h=pi();return Un===null?h.memoizedState=A:QM(h,Un.memoizedState,A)},useTransition:function(){var A=dE(xg)[0],h=pi().memoizedState;return[A,h]},useMutableSource:jM,useSyncExternalStore:CM,useId:LM,unstable_isNewReconciler:!1};function Zi(A,h){if(A&&A.defaultProps){h=q({},h),A=A.defaultProps;for(var g in A)h[g]===void 0&&(h[g]=A[g]);return h}return h}function mE(A,h,g,B){h=A.memoizedState,g=g(B,h),g=g==null?h:q({},h,g),A.memoizedState=g,A.lanes===0&&(A.updateQueue.baseState=g)}var Aw={isMounted:function(A){return(A=A._reactInternals)?Vi(A)===A:!1},enqueueSetState:function(A,h,g){A=A._reactInternals;var B=Ys(),I=zc(A),U=Dl(B,I);U.payload=h,g!=null&&(U.callback=g),h=$c(A,U,I),h!==null&&(ro(h,A,I,B),nw(h,A,I))},enqueueReplaceState:function(A,h,g){A=A._reactInternals;var B=Ys(),I=zc(A),U=Dl(B,I);U.tag=1,U.payload=h,g!=null&&(U.callback=g),h=$c(A,U,I),h!==null&&(ro(h,A,I,B),nw(h,A,I))},enqueueForceUpdate:function(A,h){A=A._reactInternals;var g=Ys(),B=zc(A),I=Dl(g,B);I.tag=2,h!=null&&(I.callback=h),h=$c(A,I,B),h!==null&&(ro(h,A,B,g),nw(h,A,B))}};function KM(A,h,g,B,I,U,K){return A=A.stateNode,typeof A.shouldComponentUpdate=="function"?A.shouldComponentUpdate(B,U,K):h.prototype&&h.prototype.isPureReactComponent?!og(g,B)||!og(I,U):!0}function qM(A,h,g){var B=!1,I=Qc,U=h.contextType;return typeof U=="object"&&U!==null?U=mi(U):(I=ga(h)?FA:Ss.current,B=h.contextTypes,U=(B=B!=null)?Lf(A,I):Qc),h=new h(g,U),A.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Aw,A.stateNode=h,h._reactInternals=A,B&&(A=A.stateNode,A.__reactInternalMemoizedUnmaskedChildContext=I,A.__reactInternalMemoizedMaskedChildContext=U),h}function zM(A,h,g,B){A=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,B),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,B),h.state!==A&&Aw.enqueueReplaceState(h,h.state,null)}function pE(A,h,g,B){var I=A.stateNode;I.props=g,I.state=A.memoizedState,I.refs={},rE(A);var U=h.contextType;typeof U=="object"&&U!==null?I.context=mi(U):(U=ga(h)?FA:Ss.current,I.context=Lf(A,U)),I.state=A.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(mE(A,h,U,g),I.state=A.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(h=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),h!==I.state&&Aw.enqueueReplaceState(I,I.state,null),sw(A,g,I,B),I.state=A.memoizedState),typeof I.componentDidMount=="function"&&(A.flags|=4194308)}function Wf(A,h){try{var g="",B=h;do g+=ee(B),B=B.return;while(B);var I=g}catch(U){I=`
Error generating stack: `+U.message+`
`+U.stack}return{value:A,source:h,stack:I,digest:null}}function gE(A,h,g){return{value:A,source:null,stack:g??null,digest:h??null}}function vE(A,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var tle=typeof WeakMap=="function"?WeakMap:Map;function GM(A,h,g){g=Dl(-1,g),g.tag=3,g.payload={element:null};var B=h.value;return g.callback=function(){vw||(vw=!0,PE=B),vE(A,h)},g}function WM(A,h,g){g=Dl(-1,g),g.tag=3;var B=A.type.getDerivedStateFromError;if(typeof B=="function"){var I=h.value;g.payload=function(){return B(I)},g.callback=function(){vE(A,h)}}var U=A.stateNode;return U!==null&&typeof U.componentDidCatch=="function"&&(g.callback=function(){vE(A,h),typeof B!="function"&&(Kc===null?Kc=new Set([this]):Kc.add(this));var K=h.stack;this.componentDidCatch(h.value,{componentStack:K!==null?K:""})}),g}function XM(A,h,g){var B=A.pingCache;if(B===null){B=A.pingCache=new tle;var I=new Set;B.set(h,I)}else I=B.get(h),I===void 0&&(I=new Set,B.set(h,I));I.has(g)||(I.add(g),A=mle.bind(null,A,h,g),h.then(A,A))}function JM(A){do{var h;if((h=A.tag===13)&&(h=A.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return A;A=A.return}while(A!==null);return null}function YM(A,h,g,B,I){return(A.mode&1)===0?(A===h?A.flags|=65536:(A.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=Dl(-1,1),h.tag=2,$c(g,h,1))),g.lanes|=1),A):(A.flags|=65536,A.lanes=I,A)}var rle=C.ReactCurrentOwner,va=!1;function Js(A,h,g,B){h.child=A===null?vM(h,null,g,B):Kf(h,A.child,g,B)}function ZM(A,h,g,B,I){g=g.render;var U=h.ref;return zf(h,I),B=cE(A,h,g,B,U,I),g=uE(),A!==null&&!va?(h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~I,Ul(A,h,I)):(sn&&g&&qB(h),h.flags|=1,Js(A,h,B,I),h.child)}function eQ(A,h,g,B,I){if(A===null){var U=g.type;return typeof U=="function"&&!QE(U)&&U.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=U,tQ(A,h,U,B,I)):(A=jw(g.type,null,B,h,h.mode,I),A.ref=h.ref,A.return=h,h.child=A)}if(U=A.child,(A.lanes&I)===0){var K=U.memoizedProps;if(g=g.compare,g=g!==null?g:og,g(K,B)&&A.ref===h.ref)return Ul(A,h,I)}return h.flags|=1,A=Wc(U,B),A.ref=h.ref,A.return=h,h.child=A}function tQ(A,h,g,B,I){if(A!==null){var U=A.memoizedProps;if(og(U,B)&&A.ref===h.ref)if(va=!1,h.pendingProps=B=U,(A.lanes&I)!==0)(A.flags&131072)!==0&&(va=!0);else return h.lanes=A.lanes,Ul(A,h,I)}return yE(A,h,g,B,I)}function rQ(A,h,g){var B=h.pendingProps,I=B.children,U=A!==null?A.memoizedState:null;if(B.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Jf,Ha),Ha|=g;else{if((g&1073741824)===0)return A=U!==null?U.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:A,cachePool:null,transitions:null},h.updateQueue=null,Wr(Jf,Ha),Ha|=A,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},B=U!==null?U.baseLanes:g,Wr(Jf,Ha),Ha|=B}else U!==null?(B=U.baseLanes|g,h.memoizedState=null):B=g,Wr(Jf,Ha),Ha|=B;return Js(A,h,I,g),h.child}function nQ(A,h){var g=h.ref;(A===null&&g!==null||A!==null&&A.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function yE(A,h,g,B,I){var U=ga(g)?FA:Ss.current;return U=Lf(h,U),zf(h,I),g=cE(A,h,g,B,U,I),B=uE(),A!==null&&!va?(h.updateQueue=A.updateQueue,h.flags&=-2053,A.lanes&=~I,Ul(A,h,I)):(sn&&B&&qB(h),h.flags|=1,Js(A,h,g,I),h.child)}function sQ(A,h,g,B,I){if(ga(g)){var U=!0;W0(h)}else U=!1;if(zf(h,I),h.stateNode===null)fw(A,h),qM(h,g,B),pE(h,g,B,I),B=!0;else if(A===null){var K=h.stateNode,te=h.memoizedProps;K.props=te;var ie=K.context,we=g.contextType;typeof we=="object"&&we!==null?we=mi(we):(we=ga(g)?FA:Ss.current,we=Lf(h,we));var De=g.getDerivedStateFromProps,Le=typeof De=="function"||typeof K.getSnapshotBeforeUpdate=="function";Le||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==B||ie!==we)&&zM(h,K,B,we),Hc=!1;var Oe=h.memoizedState;K.state=Oe,sw(h,B,K,I),ie=h.memoizedState,te!==B||Oe!==ie||pa.current||Hc?(typeof De=="function"&&(mE(h,g,De,B),ie=h.memoizedState),(te=Hc||KM(h,g,te,B,Oe,ie,we))?(Le||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(h.flags|=4194308)):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=B,h.memoizedState=ie),K.props=B,K.state=ie,K.context=we,B=te):(typeof K.componentDidMount=="function"&&(h.flags|=4194308),B=!1)}else{K=h.stateNode,xM(A,h),te=h.memoizedProps,we=h.type===h.elementType?te:Zi(h.type,te),K.props=we,Le=h.pendingProps,Oe=K.context,ie=g.contextType,typeof ie=="object"&&ie!==null?ie=mi(ie):(ie=ga(g)?FA:Ss.current,ie=Lf(h,ie));var st=g.getDerivedStateFromProps;(De=typeof st=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(te!==Le||Oe!==ie)&&zM(h,K,B,ie),Hc=!1,Oe=h.memoizedState,K.state=Oe,sw(h,B,K,I);var mt=h.memoizedState;te!==Le||Oe!==mt||pa.current||Hc?(typeof st=="function"&&(mE(h,g,st,B),mt=h.memoizedState),(we=Hc||KM(h,g,we,B,Oe,mt,ie)||!1)?(De||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(B,mt,ie),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(B,mt,ie)),typeof K.componentDidUpdate=="function"&&(h.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof K.componentDidUpdate!="function"||te===A.memoizedProps&&Oe===A.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===A.memoizedProps&&Oe===A.memoizedState||(h.flags|=1024),h.memoizedProps=B,h.memoizedState=mt),K.props=B,K.state=mt,K.context=ie,B=we):(typeof K.componentDidUpdate!="function"||te===A.memoizedProps&&Oe===A.memoizedState||(h.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||te===A.memoizedProps&&Oe===A.memoizedState||(h.flags|=1024),B=!1)}return xE(A,h,g,B,U,I)}function xE(A,h,g,B,I,U){nQ(A,h);var K=(h.flags&128)!==0;if(!B&&!K)return I&&cM(h,g,!1),Ul(A,h,U);B=h.stateNode,rle.current=h;var te=K&&typeof g.getDerivedStateFromError!="function"?null:B.render();return h.flags|=1,A!==null&&K?(h.child=Kf(h,A.child,null,U),h.child=Kf(h,null,te,U)):Js(A,h,te,U),h.memoizedState=B.state,I&&cM(h,g,!0),h.child}function aQ(A){var h=A.stateNode;h.pendingContext?oM(A,h.pendingContext,h.pendingContext!==h.context):h.context&&oM(A,h.context,!1),nE(A,h.containerInfo)}function iQ(A,h,g,B,I){return Vf(),XB(I),h.flags|=256,Js(A,h,g,B),h.child}var wE={dehydrated:null,treeContext:null,retryLane:0};function bE(A){return{baseLanes:A,cachePool:null,transitions:null}}function oQ(A,h,g){var B=h.pendingProps,I=un.current,U=!1,K=(h.flags&128)!==0,te;if((te=K)||(te=A!==null&&A.memoizedState===null?!1:(I&2)!==0),te?(U=!0,h.flags&=-129):(A===null||A.memoizedState!==null)&&(I|=1),Wr(un,I&1),A===null)return WB(h),A=h.memoizedState,A!==null&&(A=A.dehydrated,A!==null)?((h.mode&1)===0?h.lanes=1:A.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(K=B.children,A=B.fallback,U?(B=h.mode,U=h.child,K={mode:"hidden",children:K},(B&1)===0&&U!==null?(U.childLanes=0,U.pendingProps=K):U=Cw(K,B,0,null),A=KA(A,B,g,null),U.return=h,A.return=h,U.sibling=A,h.child=U,h.child.memoizedState=bE(g),h.memoizedState=wE,A):_E(h,K));if(I=A.memoizedState,I!==null&&(te=I.dehydrated,te!==null))return nle(A,h,K,B,te,I,g);if(U){U=B.fallback,K=h.mode,I=A.child,te=I.sibling;var ie={mode:"hidden",children:B.children};return(K&1)===0&&h.child!==I?(B=h.child,B.childLanes=0,B.pendingProps=ie,h.deletions=null):(B=Wc(I,ie),B.subtreeFlags=I.subtreeFlags&14680064),te!==null?U=Wc(te,U):(U=KA(U,K,g,null),U.flags|=2),U.return=h,B.return=h,B.sibling=U,h.child=B,B=U,U=h.child,K=A.child.memoizedState,K=K===null?bE(g):{baseLanes:K.baseLanes|g,cachePool:null,transitions:K.transitions},U.memoizedState=K,U.childLanes=A.childLanes&~g,h.memoizedState=wE,B}return U=A.child,A=U.sibling,B=Wc(U,{mode:"visible",children:B.children}),(h.mode&1)===0&&(B.lanes=g),B.return=h,B.sibling=null,A!==null&&(g=h.deletions,g===null?(h.deletions=[A],h.flags|=16):g.push(A)),h.child=B,h.memoizedState=null,B}function _E(A,h){return h=Cw({mode:"visible",children:h},A.mode,0,null),h.return=A,A.child=h}function dw(A,h,g,B){return B!==null&&XB(B),Kf(h,A.child,null,g),A=_E(h,h.pendingProps.children),A.flags|=2,h.memoizedState=null,A}function nle(A,h,g,B,I,U,K){if(g)return h.flags&256?(h.flags&=-257,B=gE(Error(r(422))),dw(A,h,K,B)):h.memoizedState!==null?(h.child=A.child,h.flags|=128,null):(U=B.fallback,I=h.mode,B=Cw({mode:"visible",children:B.children},I,0,null),U=KA(U,I,K,null),U.flags|=2,B.return=h,U.return=h,B.sibling=U,h.child=B,(h.mode&1)!==0&&Kf(h,A.child,null,K),h.child.memoizedState=bE(K),h.memoizedState=wE,U);if((h.mode&1)===0)return dw(A,h,K,null);if(I.data==="$!"){if(B=I.nextSibling&&I.nextSibling.dataset,B)var te=B.dgst;return B=te,U=Error(r(419)),B=gE(U,B,void 0),dw(A,h,K,B)}if(te=(K&A.childLanes)!==0,va||te){if(B=Jn,B!==null){switch(K&-K){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=(I&(B.suspendedLanes|K))!==0?0:I,I!==0&&I!==U.retryLane&&(U.retryLane=I,Rl(A,I),ro(B,A,I,-1))}return ME(),B=gE(Error(r(421))),dw(A,h,K,B)}return I.data==="$?"?(h.flags|=128,h.child=A.child,h=ple.bind(null,A),I._reactRetry=h,null):(A=U.treeContext,La=Uc(I.nextSibling),Qa=h,sn=!0,Yi=null,A!==null&&(fi[hi++]=Ol,fi[hi++]=Fl,fi[hi++]=RA,Ol=A.id,Fl=A.overflow,RA=h),h=_E(h,B.children),h.flags|=4096,h)}function lQ(A,h,g){A.lanes|=h;var B=A.alternate;B!==null&&(B.lanes|=h),eE(A.return,h,g)}function jE(A,h,g,B,I){var U=A.memoizedState;U===null?A.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:B,tail:g,tailMode:I}:(U.isBackwards=h,U.rendering=null,U.renderingStartTime=0,U.last=B,U.tail=g,U.tailMode=I)}function cQ(A,h,g){var B=h.pendingProps,I=B.revealOrder,U=B.tail;if(Js(A,h,B.children,g),B=un.current,(B&2)!==0)B=B&1|2,h.flags|=128;else{if(A!==null&&(A.flags&128)!==0)e:for(A=h.child;A!==null;){if(A.tag===13)A.memoizedState!==null&&lQ(A,g,h);else if(A.tag===19)lQ(A,g,h);else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===h)break e;for(;A.sibling===null;){if(A.return===null||A.return===h)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}B&=1}if(Wr(un,B),(h.mode&1)===0)h.memoizedState=null;else switch(I){case"forwards":for(g=h.child,I=null;g!==null;)A=g.alternate,A!==null&&aw(A)===null&&(I=g),g=g.sibling;g=I,g===null?(I=h.child,h.child=null):(I=g.sibling,g.sibling=null),jE(h,!1,I,g,U);break;case"backwards":for(g=null,I=h.child,h.child=null;I!==null;){if(A=I.alternate,A!==null&&aw(A)===null){h.child=I;break}A=I.sibling,I.sibling=g,g=I,I=A}jE(h,!0,g,null,U);break;case"together":jE(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function fw(A,h){(h.mode&1)===0&&A!==null&&(A.alternate=null,h.alternate=null,h.flags|=2)}function Ul(A,h,g){if(A!==null&&(h.dependencies=A.dependencies),LA|=h.lanes,(g&h.childLanes)===0)return null;if(A!==null&&h.child!==A.child)throw Error(r(153));if(h.child!==null){for(A=h.child,g=Wc(A,A.pendingProps),h.child=g,g.return=h;A.sibling!==null;)A=A.sibling,g=g.sibling=Wc(A,A.pendingProps),g.return=h;g.sibling=null}return h.child}function sle(A,h,g){switch(h.tag){case 3:aQ(h),Vf();break;case 5:_M(h);break;case 1:ga(h.type)&&W0(h);break;case 4:nE(h,h.stateNode.containerInfo);break;case 10:var B=h.type._context,I=h.memoizedProps.value;Wr(tw,B._currentValue),B._currentValue=I;break;case 13:if(B=h.memoizedState,B!==null)return B.dehydrated!==null?(Wr(un,un.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?oQ(A,h,g):(Wr(un,un.current&1),A=Ul(A,h,g),A!==null?A.sibling:null);Wr(un,un.current&1);break;case 19:if(B=(g&h.childLanes)!==0,(A.flags&128)!==0){if(B)return cQ(A,h,g);h.flags|=128}if(I=h.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),Wr(un,un.current),B)break;return null;case 22:case 23:return h.lanes=0,rQ(A,h,g)}return Ul(A,h,g)}var uQ,CE,AQ,dQ;uQ=function(A,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)A.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},CE=function(){},AQ=function(A,h,g,B){var I=A.memoizedProps;if(I!==B){A=h.stateNode,MA(Lo.current);var U=null;switch(g){case"input":I=We(A,I),B=We(A,B),U=[];break;case"select":I=q({},I,{value:void 0}),B=q({},B,{value:void 0}),U=[];break;case"textarea":I=He(A,I),B=He(A,B),U=[];break;default:typeof I.onClick!="function"&&typeof B.onClick=="function"&&(A.onclick=q0)}fa(g,B);var K;g=null;for(we in I)if(!B.hasOwnProperty(we)&&I.hasOwnProperty(we)&&I[we]!=null)if(we==="style"){var te=I[we];for(K in te)te.hasOwnProperty(K)&&(g||(g={}),g[K]="")}else we!=="dangerouslySetInnerHTML"&&we!=="children"&&we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&we!=="autoFocus"&&(s.hasOwnProperty(we)?U||(U=[]):(U=U||[]).push(we,null));for(we in B){var ie=B[we];if(te=I!=null?I[we]:void 0,B.hasOwnProperty(we)&&ie!==te&&(ie!=null||te!=null))if(we==="style")if(te){for(K in te)!te.hasOwnProperty(K)||ie&&ie.hasOwnProperty(K)||(g||(g={}),g[K]="");for(K in ie)ie.hasOwnProperty(K)&&te[K]!==ie[K]&&(g||(g={}),g[K]=ie[K])}else g||(U||(U=[]),U.push(we,g)),g=ie;else we==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,te=te?te.__html:void 0,ie!=null&&te!==ie&&(U=U||[]).push(we,ie)):we==="children"?typeof ie!="string"&&typeof ie!="number"||(U=U||[]).push(we,""+ie):we!=="suppressContentEditableWarning"&&we!=="suppressHydrationWarning"&&(s.hasOwnProperty(we)?(ie!=null&&we==="onScroll"&&Zr("scroll",A),U||te===ie||(U=[])):(U=U||[]).push(we,ie))}g&&(U=U||[]).push("style",g);var we=U;(h.updateQueue=we)&&(h.flags|=4)}},dQ=function(A,h,g,B){g!==B&&(h.flags|=4)};function bg(A,h){if(!sn)switch(A.tailMode){case"hidden":h=A.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?A.tail=null:g.sibling=null;break;case"collapsed":g=A.tail;for(var B=null;g!==null;)g.alternate!==null&&(B=g),g=g.sibling;B===null?h||A.tail===null?A.tail=null:A.tail.sibling=null:B.sibling=null}}function Ts(A){var h=A.alternate!==null&&A.alternate.child===A.child,g=0,B=0;if(h)for(var I=A.child;I!==null;)g|=I.lanes|I.childLanes,B|=I.subtreeFlags&14680064,B|=I.flags&14680064,I.return=A,I=I.sibling;else for(I=A.child;I!==null;)g|=I.lanes|I.childLanes,B|=I.subtreeFlags,B|=I.flags,I.return=A,I=I.sibling;return A.subtreeFlags|=B,A.childLanes=g,h}function ale(A,h,g){var B=h.pendingProps;switch(zB(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ts(h),null;case 1:return ga(h.type)&&G0(),Ts(h),null;case 3:return B=h.stateNode,Gf(),en(pa),en(Ss),iE(),B.pendingContext&&(B.context=B.pendingContext,B.pendingContext=null),(A===null||A.child===null)&&(Z0(h)?h.flags|=4:A===null||A.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Yi!==null&&(RE(Yi),Yi=null))),CE(A,h),Ts(h),null;case 5:sE(h);var I=MA(gg.current);if(g=h.type,A!==null&&h.stateNode!=null)AQ(A,h,g,B,I),A.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!B){if(h.stateNode===null)throw Error(r(166));return Ts(h),null}if(A=MA(Lo.current),Z0(h)){B=h.stateNode,g=h.type;var U=h.memoizedProps;switch(B[Qo]=h,B[dg]=U,A=(h.mode&1)!==0,g){case"dialog":Zr("cancel",B),Zr("close",B);break;case"iframe":case"object":case"embed":Zr("load",B);break;case"video":case"audio":for(I=0;I<cg.length;I++)Zr(cg[I],B);break;case"source":Zr("error",B);break;case"img":case"image":case"link":Zr("error",B),Zr("load",B);break;case"details":Zr("toggle",B);break;case"input":ct(B,U),Zr("invalid",B);break;case"select":B._wrapperState={wasMultiple:!!U.multiple},Zr("invalid",B);break;case"textarea":Re(B,U),Zr("invalid",B)}fa(g,U),I=null;for(var K in U)if(U.hasOwnProperty(K)){var te=U[K];K==="children"?typeof te=="string"?B.textContent!==te&&(U.suppressHydrationWarning!==!0&&K0(B.textContent,te,A),I=["children",te]):typeof te=="number"&&B.textContent!==""+te&&(U.suppressHydrationWarning!==!0&&K0(B.textContent,te,A),I=["children",""+te]):s.hasOwnProperty(K)&&te!=null&&K==="onScroll"&&Zr("scroll",B)}switch(g){case"input":Fe(B),re(B,U,!0);break;case"textarea":Fe(B),kt(B);break;case"select":case"option":break;default:typeof U.onClick=="function"&&(B.onclick=q0)}B=I,h.updateQueue=B,B!==null&&(h.flags|=4)}else{K=I.nodeType===9?I:I.ownerDocument,A==="http://www.w3.org/1999/xhtml"&&(A=jt(g)),A==="http://www.w3.org/1999/xhtml"?g==="script"?(A=K.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild)):typeof B.is=="string"?A=K.createElement(g,{is:B.is}):(A=K.createElement(g),g==="select"&&(K=A,B.multiple?K.multiple=!0:B.size&&(K.size=B.size))):A=K.createElementNS(A,g),A[Qo]=h,A[dg]=B,uQ(A,h,!1,!1),h.stateNode=A;e:{switch(K=wA(g,B),g){case"dialog":Zr("cancel",A),Zr("close",A),I=B;break;case"iframe":case"object":case"embed":Zr("load",A),I=B;break;case"video":case"audio":for(I=0;I<cg.length;I++)Zr(cg[I],A);I=B;break;case"source":Zr("error",A),I=B;break;case"img":case"image":case"link":Zr("error",A),Zr("load",A),I=B;break;case"details":Zr("toggle",A),I=B;break;case"input":ct(A,B),I=We(A,B),Zr("invalid",A);break;case"option":I=B;break;case"select":A._wrapperState={wasMultiple:!!B.multiple},I=q({},B,{value:void 0}),Zr("invalid",A);break;case"textarea":Re(A,B),I=He(A,B),Zr("invalid",A);break;default:I=B}fa(g,I),te=I;for(U in te)if(te.hasOwnProperty(U)){var ie=te[U];U==="style"?Cl(A,ie):U==="dangerouslySetInnerHTML"?(ie=ie?ie.__html:void 0,ie!=null&&da(A,ie)):U==="children"?typeof ie=="string"?(g!=="textarea"||ie!=="")&&Gs(A,ie):typeof ie=="number"&&Gs(A,""+ie):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(s.hasOwnProperty(U)?ie!=null&&U==="onScroll"&&Zr("scroll",A):ie!=null&&S(A,U,ie,K))}switch(g){case"input":Fe(A),re(A,B,!1);break;case"textarea":Fe(A),kt(A);break;case"option":B.value!=null&&A.setAttribute("value",""+me(B.value));break;case"select":A.multiple=!!B.multiple,U=B.value,U!=null?Ie(A,!!B.multiple,U,!1):B.defaultValue!=null&&Ie(A,!!B.multiple,B.defaultValue,!0);break;default:typeof I.onClick=="function"&&(A.onclick=q0)}switch(g){case"button":case"input":case"select":case"textarea":B=!!B.autoFocus;break e;case"img":B=!0;break e;default:B=!1}}B&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Ts(h),null;case 6:if(A&&h.stateNode!=null)dQ(A,h,A.memoizedProps,B);else{if(typeof B!="string"&&h.stateNode===null)throw Error(r(166));if(g=MA(gg.current),MA(Lo.current),Z0(h)){if(B=h.stateNode,g=h.memoizedProps,B[Qo]=h,(U=B.nodeValue!==g)&&(A=Qa,A!==null))switch(A.tag){case 3:K0(B.nodeValue,g,(A.mode&1)!==0);break;case 5:A.memoizedProps.suppressHydrationWarning!==!0&&K0(B.nodeValue,g,(A.mode&1)!==0)}U&&(h.flags|=4)}else B=(g.nodeType===9?g:g.ownerDocument).createTextNode(B),B[Qo]=h,h.stateNode=B}return Ts(h),null;case 13:if(en(un),B=h.memoizedState,A===null||A.memoizedState!==null&&A.memoizedState.dehydrated!==null){if(sn&&La!==null&&(h.mode&1)!==0&&(h.flags&128)===0)mM(),Vf(),h.flags|=98560,U=!1;else if(U=Z0(h),B!==null&&B.dehydrated!==null){if(A===null){if(!U)throw Error(r(318));if(U=h.memoizedState,U=U!==null?U.dehydrated:null,!U)throw Error(r(317));U[Qo]=h}else Vf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ts(h),U=!1}else Yi!==null&&(RE(Yi),Yi=null),U=!0;if(!U)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(B=B!==null,B!==(A!==null&&A.memoizedState!==null)&&B&&(h.child.flags|=8192,(h.mode&1)!==0&&(A===null||(un.current&1)!==0?Mn===0&&(Mn=3):ME())),h.updateQueue!==null&&(h.flags|=4),Ts(h),null);case 4:return Gf(),CE(A,h),A===null&&ug(h.stateNode.containerInfo),Ts(h),null;case 10:return ZB(h.type._context),Ts(h),null;case 17:return ga(h.type)&&G0(),Ts(h),null;case 19:if(en(un),U=h.memoizedState,U===null)return Ts(h),null;if(B=(h.flags&128)!==0,K=U.rendering,K===null)if(B)bg(U,!1);else{if(Mn!==0||A!==null&&(A.flags&128)!==0)for(A=h.child;A!==null;){if(K=aw(A),K!==null){for(h.flags|=128,bg(U,!1),B=K.updateQueue,B!==null&&(h.updateQueue=B,h.flags|=4),h.subtreeFlags=0,B=g,g=h.child;g!==null;)U=g,A=B,U.flags&=14680066,K=U.alternate,K===null?(U.childLanes=0,U.lanes=A,U.child=null,U.subtreeFlags=0,U.memoizedProps=null,U.memoizedState=null,U.updateQueue=null,U.dependencies=null,U.stateNode=null):(U.childLanes=K.childLanes,U.lanes=K.lanes,U.child=K.child,U.subtreeFlags=0,U.deletions=null,U.memoizedProps=K.memoizedProps,U.memoizedState=K.memoizedState,U.updateQueue=K.updateQueue,U.type=K.type,A=K.dependencies,U.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),g=g.sibling;return Wr(un,un.current&1|2),h.child}A=A.sibling}U.tail!==null&&Gr()>Yf&&(h.flags|=128,B=!0,bg(U,!1),h.lanes=4194304)}else{if(!B)if(A=aw(K),A!==null){if(h.flags|=128,B=!0,g=A.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),bg(U,!0),U.tail===null&&U.tailMode==="hidden"&&!K.alternate&&!sn)return Ts(h),null}else 2*Gr()-U.renderingStartTime>Yf&&g!==1073741824&&(h.flags|=128,B=!0,bg(U,!1),h.lanes=4194304);U.isBackwards?(K.sibling=h.child,h.child=K):(g=U.last,g!==null?g.sibling=K:h.child=K,U.last=K)}return U.tail!==null?(h=U.tail,U.rendering=h,U.tail=h.sibling,U.renderingStartTime=Gr(),h.sibling=null,g=un.current,Wr(un,B?g&1|2:g&1),h):(Ts(h),null);case 22:case 23:return UE(),B=h.memoizedState!==null,A!==null&&A.memoizedState!==null!==B&&(h.flags|=8192),B&&(h.mode&1)!==0?(Ha&1073741824)!==0&&(Ts(h),h.subtreeFlags&6&&(h.flags|=8192)):Ts(h),null;case 24:return null;case 25:return null}throw Error(r(156,h.tag))}function ile(A,h){switch(zB(h),h.tag){case 1:return ga(h.type)&&G0(),A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 3:return Gf(),en(pa),en(Ss),iE(),A=h.flags,(A&65536)!==0&&(A&128)===0?(h.flags=A&-65537|128,h):null;case 5:return sE(h),null;case 13:if(en(un),A=h.memoizedState,A!==null&&A.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Vf()}return A=h.flags,A&65536?(h.flags=A&-65537|128,h):null;case 19:return en(un),null;case 4:return Gf(),null;case 10:return ZB(h.type._context),null;case 22:case 23:return UE(),null;case 24:return null;default:return null}}var hw=!1,ks=!1,ole=typeof WeakSet=="function"?WeakSet:Set,At=null;function Xf(A,h){var g=A.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(B){hn(A,h,B)}else g.current=null}function BE(A,h,g){try{g()}catch(B){hn(A,h,B)}}var fQ=!1;function lle(A,h){if(UB=Fc,A=KU(),TB(A)){if("selectionStart"in A)var g={start:A.selectionStart,end:A.selectionEnd};else e:{g=(g=A.ownerDocument)&&g.defaultView||window;var B=g.getSelection&&g.getSelection();if(B&&B.rangeCount!==0){g=B.anchorNode;var I=B.anchorOffset,U=B.focusNode;B=B.focusOffset;try{g.nodeType,U.nodeType}catch{g=null;break e}var K=0,te=-1,ie=-1,we=0,De=0,Le=A,Oe=null;t:for(;;){for(var st;Le!==g||I!==0&&Le.nodeType!==3||(te=K+I),Le!==U||B!==0&&Le.nodeType!==3||(ie=K+B),Le.nodeType===3&&(K+=Le.nodeValue.length),(st=Le.firstChild)!==null;)Oe=Le,Le=st;for(;;){if(Le===A)break t;if(Oe===g&&++we===I&&(te=K),Oe===U&&++De===B&&(ie=K),(st=Le.nextSibling)!==null)break;Le=Oe,Oe=Le.parentNode}Le=st}g=te===-1||ie===-1?null:{start:te,end:ie}}else g=null}g=g||{start:0,end:0}}else g=null;for(MB={focusedElem:A,selectionRange:g},Fc=!1,At=h;At!==null;)if(h=At,A=h.child,(h.subtreeFlags&1028)!==0&&A!==null)A.return=h,At=A;else for(;At!==null;){h=At;try{var mt=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var vt=mt.memoizedProps,_n=mt.memoizedState,he=h.stateNode,ce=he.getSnapshotBeforeUpdate(h.elementType===h.type?vt:Zi(h.type,vt),_n);he.__reactInternalSnapshotBeforeUpdate=ce}break;case 3:var ve=h.stateNode.containerInfo;ve.nodeType===1?ve.textContent="":ve.nodeType===9&&ve.documentElement&&ve.removeChild(ve.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Ke){hn(h,h.return,Ke)}if(A=h.sibling,A!==null){A.return=h.return,At=A;break}At=h.return}return mt=fQ,fQ=!1,mt}function _g(A,h,g){var B=h.updateQueue;if(B=B!==null?B.lastEffect:null,B!==null){var I=B=B.next;do{if((I.tag&A)===A){var U=I.destroy;I.destroy=void 0,U!==void 0&&BE(h,g,U)}I=I.next}while(I!==B)}}function mw(A,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&A)===A){var B=g.create;g.destroy=B()}g=g.next}while(g!==h)}}function EE(A){var h=A.ref;if(h!==null){var g=A.stateNode;switch(A.tag){case 5:A=g;break;default:A=g}typeof h=="function"?h(A):h.current=A}}function hQ(A){var h=A.alternate;h!==null&&(A.alternate=null,hQ(h)),A.child=null,A.deletions=null,A.sibling=null,A.tag===5&&(h=A.stateNode,h!==null&&(delete h[Qo],delete h[dg],delete h[$B],delete h[Voe],delete h[Koe])),A.stateNode=null,A.return=null,A.dependencies=null,A.memoizedProps=null,A.memoizedState=null,A.pendingProps=null,A.stateNode=null,A.updateQueue=null}function mQ(A){return A.tag===5||A.tag===3||A.tag===4}function pQ(A){e:for(;;){for(;A.sibling===null;){if(A.return===null||mQ(A.return))return null;A=A.return}for(A.sibling.return=A.return,A=A.sibling;A.tag!==5&&A.tag!==6&&A.tag!==18;){if(A.flags&2||A.child===null||A.tag===4)continue e;A.child.return=A,A=A.child}if(!(A.flags&2))return A.stateNode}}function SE(A,h,g){var B=A.tag;if(B===5||B===6)A=A.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(A,h):g.insertBefore(A,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(A,g)):(h=g,h.appendChild(A)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=q0));else if(B!==4&&(A=A.child,A!==null))for(SE(A,h,g),A=A.sibling;A!==null;)SE(A,h,g),A=A.sibling}function NE(A,h,g){var B=A.tag;if(B===5||B===6)A=A.stateNode,h?g.insertBefore(A,h):g.appendChild(A);else if(B!==4&&(A=A.child,A!==null))for(NE(A,h,g),A=A.sibling;A!==null;)NE(A,h,g),A=A.sibling}var us=null,eo=!1;function Vc(A,h,g){for(g=g.child;g!==null;)gQ(A,h,g),g=g.sibling}function gQ(A,h,g){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(EA,g)}catch{}switch(g.tag){case 5:ks||Xf(g,h);case 6:var B=us,I=eo;us=null,Vc(A,h,g),us=B,eo=I,us!==null&&(eo?(A=us,g=g.stateNode,A.nodeType===8?A.parentNode.removeChild(g):A.removeChild(g)):us.removeChild(g.stateNode));break;case 18:us!==null&&(eo?(A=us,g=g.stateNode,A.nodeType===8?HB(A.parentNode,g):A.nodeType===1&&HB(A,g),Wi(A)):HB(us,g.stateNode));break;case 4:B=us,I=eo,us=g.stateNode.containerInfo,eo=!0,Vc(A,h,g),us=B,eo=I;break;case 0:case 11:case 14:case 15:if(!ks&&(B=g.updateQueue,B!==null&&(B=B.lastEffect,B!==null))){I=B=B.next;do{var U=I,K=U.destroy;U=U.tag,K!==void 0&&((U&2)!==0||(U&4)!==0)&&BE(g,h,K),I=I.next}while(I!==B)}Vc(A,h,g);break;case 1:if(!ks&&(Xf(g,h),B=g.stateNode,typeof B.componentWillUnmount=="function"))try{B.props=g.memoizedProps,B.state=g.memoizedState,B.componentWillUnmount()}catch(te){hn(g,h,te)}Vc(A,h,g);break;case 21:Vc(A,h,g);break;case 22:g.mode&1?(ks=(B=ks)||g.memoizedState!==null,Vc(A,h,g),ks=B):Vc(A,h,g);break;default:Vc(A,h,g)}}function vQ(A){var h=A.updateQueue;if(h!==null){A.updateQueue=null;var g=A.stateNode;g===null&&(g=A.stateNode=new ole),h.forEach(function(B){var I=gle.bind(null,A,B);g.has(B)||(g.add(B),B.then(I,I))})}}function to(A,h){var g=h.deletions;if(g!==null)for(var B=0;B<g.length;B++){var I=g[B];try{var U=A,K=h,te=K;e:for(;te!==null;){switch(te.tag){case 5:us=te.stateNode,eo=!1;break e;case 3:us=te.stateNode.containerInfo,eo=!0;break e;case 4:us=te.stateNode.containerInfo,eo=!0;break e}te=te.return}if(us===null)throw Error(r(160));gQ(U,K,I),us=null,eo=!1;var ie=I.alternate;ie!==null&&(ie.return=null),I.return=null}catch(we){hn(I,h,we)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)yQ(h,A),h=h.sibling}function yQ(A,h){var g=A.alternate,B=A.flags;switch(A.tag){case 0:case 11:case 14:case 15:if(to(h,A),$o(A),B&4){try{_g(3,A,A.return),mw(3,A)}catch(vt){hn(A,A.return,vt)}try{_g(5,A,A.return)}catch(vt){hn(A,A.return,vt)}}break;case 1:to(h,A),$o(A),B&512&&g!==null&&Xf(g,g.return);break;case 5:if(to(h,A),$o(A),B&512&&g!==null&&Xf(g,g.return),A.flags&32){var I=A.stateNode;try{Gs(I,"")}catch(vt){hn(A,A.return,vt)}}if(B&4&&(I=A.stateNode,I!=null)){var U=A.memoizedProps,K=g!==null?g.memoizedProps:U,te=A.type,ie=A.updateQueue;if(A.updateQueue=null,ie!==null)try{te==="input"&&U.type==="radio"&&U.name!=null&&ft(I,U),wA(te,K);var we=wA(te,U);for(K=0;K<ie.length;K+=2){var De=ie[K],Le=ie[K+1];De==="style"?Cl(I,Le):De==="dangerouslySetInnerHTML"?da(I,Le):De==="children"?Gs(I,Le):S(I,De,Le,we)}switch(te){case"input":Xt(I,U);break;case"textarea":ut(I,U);break;case"select":var Oe=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!U.multiple;var st=U.value;st!=null?Ie(I,!!U.multiple,st,!1):Oe!==!!U.multiple&&(U.defaultValue!=null?Ie(I,!!U.multiple,U.defaultValue,!0):Ie(I,!!U.multiple,U.multiple?[]:"",!1))}I[dg]=U}catch(vt){hn(A,A.return,vt)}}break;case 6:if(to(h,A),$o(A),B&4){if(A.stateNode===null)throw Error(r(162));I=A.stateNode,U=A.memoizedProps;try{I.nodeValue=U}catch(vt){hn(A,A.return,vt)}}break;case 3:if(to(h,A),$o(A),B&4&&g!==null&&g.memoizedState.isDehydrated)try{Wi(h.containerInfo)}catch(vt){hn(A,A.return,vt)}break;case 4:to(h,A),$o(A);break;case 13:to(h,A),$o(A),I=A.child,I.flags&8192&&(U=I.memoizedState!==null,I.stateNode.isHidden=U,!U||I.alternate!==null&&I.alternate.memoizedState!==null||(IE=Gr())),B&4&&vQ(A);break;case 22:if(De=g!==null&&g.memoizedState!==null,A.mode&1?(ks=(we=ks)||De,to(h,A),ks=we):to(h,A),$o(A),B&8192){if(we=A.memoizedState!==null,(A.stateNode.isHidden=we)&&!De&&(A.mode&1)!==0)for(At=A,De=A.child;De!==null;){for(Le=At=De;At!==null;){switch(Oe=At,st=Oe.child,Oe.tag){case 0:case 11:case 14:case 15:_g(4,Oe,Oe.return);break;case 1:Xf(Oe,Oe.return);var mt=Oe.stateNode;if(typeof mt.componentWillUnmount=="function"){B=Oe,g=Oe.return;try{h=B,mt.props=h.memoizedProps,mt.state=h.memoizedState,mt.componentWillUnmount()}catch(vt){hn(B,g,vt)}}break;case 5:Xf(Oe,Oe.return);break;case 22:if(Oe.memoizedState!==null){bQ(Le);continue}}st!==null?(st.return=Oe,At=st):bQ(Le)}De=De.sibling}e:for(De=null,Le=A;;){if(Le.tag===5){if(De===null){De=Le;try{I=Le.stateNode,we?(U=I.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none"):(te=Le.stateNode,ie=Le.memoizedProps.style,K=ie!=null&&ie.hasOwnProperty("display")?ie.display:null,te.style.display=Qi("display",K))}catch(vt){hn(A,A.return,vt)}}}else if(Le.tag===6){if(De===null)try{Le.stateNode.nodeValue=we?"":Le.memoizedProps}catch(vt){hn(A,A.return,vt)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===A)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===A)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===A)break e;De===Le&&(De=null),Le=Le.return}De===Le&&(De=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:to(h,A),$o(A),B&4&&vQ(A);break;case 21:break;default:to(h,A),$o(A)}}function $o(A){var h=A.flags;if(h&2){try{e:{for(var g=A.return;g!==null;){if(mQ(g)){var B=g;break e}g=g.return}throw Error(r(160))}switch(B.tag){case 5:var I=B.stateNode;B.flags&32&&(Gs(I,""),B.flags&=-33);var U=pQ(A);NE(A,U,I);break;case 3:case 4:var K=B.stateNode.containerInfo,te=pQ(A);SE(A,te,K);break;default:throw Error(r(161))}}catch(ie){hn(A,A.return,ie)}A.flags&=-3}h&4096&&(A.flags&=-4097)}function cle(A,h,g){At=A,xQ(A)}function xQ(A,h,g){for(var B=(A.mode&1)!==0;At!==null;){var I=At,U=I.child;if(I.tag===22&&B){var K=I.memoizedState!==null||hw;if(!K){var te=I.alternate,ie=te!==null&&te.memoizedState!==null||ks;te=hw;var we=ks;if(hw=K,(ks=ie)&&!we)for(At=I;At!==null;)K=At,ie=K.child,K.tag===22&&K.memoizedState!==null?_Q(I):ie!==null?(ie.return=K,At=ie):_Q(I);for(;U!==null;)At=U,xQ(U),U=U.sibling;At=I,hw=te,ks=we}wQ(A)}else(I.subtreeFlags&8772)!==0&&U!==null?(U.return=I,At=U):wQ(A)}}function wQ(A){for(;At!==null;){var h=At;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:ks||mw(5,h);break;case 1:var B=h.stateNode;if(h.flags&4&&!ks)if(g===null)B.componentDidMount();else{var I=h.elementType===h.type?g.memoizedProps:Zi(h.type,g.memoizedProps);B.componentDidUpdate(I,g.memoizedState,B.__reactInternalSnapshotBeforeUpdate)}var U=h.updateQueue;U!==null&&bM(h,U,B);break;case 3:var K=h.updateQueue;if(K!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}bM(h,K,g)}break;case 5:var te=h.stateNode;if(g===null&&h.flags&4){g=te;var ie=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ie.autoFocus&&g.focus();break;case"img":ie.src&&(g.src=ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var we=h.alternate;if(we!==null){var De=we.memoizedState;if(De!==null){var Le=De.dehydrated;Le!==null&&Wi(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ks||h.flags&512&&EE(h)}catch(Oe){hn(h,h.return,Oe)}}if(h===A){At=null;break}if(g=h.sibling,g!==null){g.return=h.return,At=g;break}At=h.return}}function bQ(A){for(;At!==null;){var h=At;if(h===A){At=null;break}var g=h.sibling;if(g!==null){g.return=h.return,At=g;break}At=h.return}}function _Q(A){for(;At!==null;){var h=At;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{mw(4,h)}catch(ie){hn(h,g,ie)}break;case 1:var B=h.stateNode;if(typeof B.componentDidMount=="function"){var I=h.return;try{B.componentDidMount()}catch(ie){hn(h,I,ie)}}var U=h.return;try{EE(h)}catch(ie){hn(h,U,ie)}break;case 5:var K=h.return;try{EE(h)}catch(ie){hn(h,K,ie)}}}catch(ie){hn(h,h.return,ie)}if(h===A){At=null;break}var te=h.sibling;if(te!==null){te.return=h.return,At=te;break}At=h.return}}var ule=Math.ceil,pw=C.ReactCurrentDispatcher,TE=C.ReactCurrentOwner,gi=C.ReactCurrentBatchConfig,vr=0,Jn=null,kn=null,As=0,Ha=0,Jf=Mc(0),Mn=0,jg=null,LA=0,gw=0,kE=0,Cg=null,ya=null,IE=0,Yf=1/0,Ml=null,vw=!1,PE=null,Kc=null,yw=!1,qc=null,xw=0,Bg=0,OE=null,ww=-1,bw=0;function Ys(){return(vr&6)!==0?Gr():ww!==-1?ww:ww=Gr()}function zc(A){return(A.mode&1)===0?1:(vr&2)!==0&&As!==0?As&-As:zoe.transition!==null?(bw===0&&(bw=NA()),bw):(A=ir,A!==0||(A=window.event,A=A===void 0?16:eg(A.type)),A)}function ro(A,h,g,B){if(50<Bg)throw Bg=0,OE=null,Error(r(185));kc(A,g,B),((vr&2)===0||A!==Jn)&&(A===Jn&&((vr&2)===0&&(gw|=g),Mn===4&&Gc(A,As)),xa(A,B),g===1&&vr===0&&(h.mode&1)===0&&(Yf=Gr()+500,X0&&Lc()))}function xa(A,h){var g=A.callbackNode;El(A,h);var B=SA(A,A===Jn?As:0);if(B===0)g!==null&&Wp(g),A.callbackNode=null,A.callbackPriority=0;else if(h=B&-B,A.callbackPriority!==h){if(g!=null&&Wp(g),h===1)A.tag===0?qoe(CQ.bind(null,A)):uM(CQ.bind(null,A)),Hoe(function(){(vr&6)===0&&Lc()}),g=null;else{switch(Pc(B)){case 1:g=BA;break;case 4:g=Sc;break;case 16:g=ui;break;case 536870912:g=b0;break;default:g=ui}g=PQ(g,jQ.bind(null,A))}A.callbackPriority=h,A.callbackNode=g}}function jQ(A,h){if(ww=-1,bw=0,(vr&6)!==0)throw Error(r(327));var g=A.callbackNode;if(Zf()&&A.callbackNode!==g)return null;var B=SA(A,A===Jn?As:0);if(B===0)return null;if((B&30)!==0||(B&A.expiredLanes)!==0||h)h=_w(A,B);else{h=B;var I=vr;vr|=2;var U=EQ();(Jn!==A||As!==h)&&(Ml=null,Yf=Gr()+500,$A(A,h));do try{fle();break}catch(te){BQ(A,te)}while(!0);YB(),pw.current=U,vr=I,kn!==null?h=0:(Jn=null,As=0,h=Mn)}if(h!==0){if(h===2&&(I=Da(A),I!==0&&(B=I,h=FE(A,I))),h===1)throw g=jg,$A(A,0),Gc(A,B),xa(A,Gr()),g;if(h===6)Gc(A,B);else{if(I=A.current.alternate,(B&30)===0&&!Ale(I)&&(h=_w(A,B),h===2&&(U=Da(A),U!==0&&(B=U,h=FE(A,U))),h===1))throw g=jg,$A(A,0),Gc(A,B),xa(A,Gr()),g;switch(A.finishedWork=I,A.finishedLanes=B,h){case 0:case 1:throw Error(r(345));case 2:VA(A,ya,Ml);break;case 3:if(Gc(A,B),(B&130023424)===B&&(h=IE+500-Gr(),10<h)){if(SA(A,0)!==0)break;if(I=A.suspendedLanes,(I&B)!==B){Ys(),A.pingedLanes|=A.suspendedLanes&I;break}A.timeoutHandle=LB(VA.bind(null,A,ya,Ml),h);break}VA(A,ya,Ml);break;case 4:if(Gc(A,B),(B&4194240)===B)break;for(h=A.eventTimes,I=-1;0<B;){var K=31-Ws(B);U=1<<K,K=h[K],K>I&&(I=K),B&=~U}if(B=I,B=Gr()-B,B=(120>B?120:480>B?480:1080>B?1080:1920>B?1920:3e3>B?3e3:4320>B?4320:1960*ule(B/1960))-B,10<B){A.timeoutHandle=LB(VA.bind(null,A,ya,Ml),B);break}VA(A,ya,Ml);break;case 5:VA(A,ya,Ml);break;default:throw Error(r(329))}}}return xa(A,Gr()),A.callbackNode===g?jQ.bind(null,A):null}function FE(A,h){var g=Cg;return A.current.memoizedState.isDehydrated&&($A(A,h).flags|=256),A=_w(A,h),A!==2&&(h=ya,ya=g,h!==null&&RE(h)),A}function RE(A){ya===null?ya=A:ya.push.apply(ya,A)}function Ale(A){for(var h=A;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var B=0;B<g.length;B++){var I=g[B],U=I.getSnapshot;I=I.value;try{if(!Ji(U(),I))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===A)break;for(;h.sibling===null;){if(h.return===null||h.return===A)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Gc(A,h){for(h&=~kE,h&=~gw,A.suspendedLanes|=h,A.pingedLanes&=~h,A=A.expirationTimes;0<h;){var g=31-Ws(h),B=1<<g;A[g]=-1,h&=~B}}function CQ(A){if((vr&6)!==0)throw Error(r(327));Zf();var h=SA(A,0);if((h&1)===0)return xa(A,Gr()),null;var g=_w(A,h);if(A.tag!==0&&g===2){var B=Da(A);B!==0&&(h=B,g=FE(A,B))}if(g===1)throw g=jg,$A(A,0),Gc(A,h),xa(A,Gr()),g;if(g===6)throw Error(r(345));return A.finishedWork=A.current.alternate,A.finishedLanes=h,VA(A,ya,Ml),xa(A,Gr()),null}function DE(A,h){var g=vr;vr|=1;try{return A(h)}finally{vr=g,vr===0&&(Yf=Gr()+500,X0&&Lc())}}function HA(A){qc!==null&&qc.tag===0&&(vr&6)===0&&Zf();var h=vr;vr|=1;var g=gi.transition,B=ir;try{if(gi.transition=null,ir=1,A)return A()}finally{ir=B,gi.transition=g,vr=h,(vr&6)===0&&Lc()}}function UE(){Ha=Jf.current,en(Jf)}function $A(A,h){A.finishedWork=null,A.finishedLanes=0;var g=A.timeoutHandle;if(g!==-1&&(A.timeoutHandle=-1,Loe(g)),kn!==null)for(g=kn.return;g!==null;){var B=g;switch(zB(B),B.tag){case 1:B=B.type.childContextTypes,B!=null&&G0();break;case 3:Gf(),en(pa),en(Ss),iE();break;case 5:sE(B);break;case 4:Gf();break;case 13:en(un);break;case 19:en(un);break;case 10:ZB(B.type._context);break;case 22:case 23:UE()}g=g.return}if(Jn=A,kn=A=Wc(A.current,null),As=Ha=h,Mn=0,jg=null,kE=gw=LA=0,ya=Cg=null,UA!==null){for(h=0;h<UA.length;h++)if(g=UA[h],B=g.interleaved,B!==null){g.interleaved=null;var I=B.next,U=g.pending;if(U!==null){var K=U.next;U.next=I,B.next=K}g.pending=B}UA=null}return A}function BQ(A,h){do{var g=kn;try{if(YB(),iw.current=uw,ow){for(var B=An.memoizedState;B!==null;){var I=B.queue;I!==null&&(I.pending=null),B=B.next}ow=!1}if(QA=0,Xn=Un=An=null,vg=!1,yg=0,TE.current=null,g===null||g.return===null){Mn=1,jg=h,kn=null;break}e:{var U=A,K=g.return,te=g,ie=h;if(h=As,te.flags|=32768,ie!==null&&typeof ie=="object"&&typeof ie.then=="function"){var we=ie,De=te,Le=De.tag;if((De.mode&1)===0&&(Le===0||Le===11||Le===15)){var Oe=De.alternate;Oe?(De.updateQueue=Oe.updateQueue,De.memoizedState=Oe.memoizedState,De.lanes=Oe.lanes):(De.updateQueue=null,De.memoizedState=null)}var st=JM(K);if(st!==null){st.flags&=-257,YM(st,K,te,U,h),st.mode&1&&XM(U,we,h),h=st,ie=we;var mt=h.updateQueue;if(mt===null){var vt=new Set;vt.add(ie),h.updateQueue=vt}else mt.add(ie);break e}else{if((h&1)===0){XM(U,we,h),ME();break e}ie=Error(r(426))}}else if(sn&&te.mode&1){var _n=JM(K);if(_n!==null){(_n.flags&65536)===0&&(_n.flags|=256),YM(_n,K,te,U,h),XB(Wf(ie,te));break e}}U=ie=Wf(ie,te),Mn!==4&&(Mn=2),Cg===null?Cg=[U]:Cg.push(U),U=K;do{switch(U.tag){case 3:U.flags|=65536,h&=-h,U.lanes|=h;var he=GM(U,ie,h);wM(U,he);break e;case 1:te=ie;var ce=U.type,ve=U.stateNode;if((U.flags&128)===0&&(typeof ce.getDerivedStateFromError=="function"||ve!==null&&typeof ve.componentDidCatch=="function"&&(Kc===null||!Kc.has(ve)))){U.flags|=65536,h&=-h,U.lanes|=h;var Ke=WM(U,te,h);wM(U,Ke);break e}}U=U.return}while(U!==null)}NQ(g)}catch(wt){h=wt,kn===g&&g!==null&&(kn=g=g.return);continue}break}while(!0)}function EQ(){var A=pw.current;return pw.current=uw,A===null?uw:A}function ME(){(Mn===0||Mn===3||Mn===2)&&(Mn=4),Jn===null||(LA&268435455)===0&&(gw&268435455)===0||Gc(Jn,As)}function _w(A,h){var g=vr;vr|=2;var B=EQ();(Jn!==A||As!==h)&&(Ml=null,$A(A,h));do try{dle();break}catch(I){BQ(A,I)}while(!0);if(YB(),vr=g,pw.current=B,kn!==null)throw Error(r(261));return Jn=null,As=0,Mn}function dle(){for(;kn!==null;)SQ(kn)}function fle(){for(;kn!==null&&!x0();)SQ(kn)}function SQ(A){var h=IQ(A.alternate,A,Ha);A.memoizedProps=A.pendingProps,h===null?NQ(A):kn=h,TE.current=null}function NQ(A){var h=A;do{var g=h.alternate;if(A=h.return,(h.flags&32768)===0){if(g=ale(g,h,Ha),g!==null){kn=g;return}}else{if(g=ile(g,h),g!==null){g.flags&=32767,kn=g;return}if(A!==null)A.flags|=32768,A.subtreeFlags=0,A.deletions=null;else{Mn=6,kn=null;return}}if(h=h.sibling,h!==null){kn=h;return}kn=h=A}while(h!==null);Mn===0&&(Mn=5)}function VA(A,h,g){var B=ir,I=gi.transition;try{gi.transition=null,ir=1,hle(A,h,g,B)}finally{gi.transition=I,ir=B}return null}function hle(A,h,g,B){do Zf();while(qc!==null);if((vr&6)!==0)throw Error(r(327));g=A.finishedWork;var I=A.finishedLanes;if(g===null)return null;if(A.finishedWork=null,A.finishedLanes=0,g===A.current)throw Error(r(177));A.callbackNode=null,A.callbackPriority=0;var U=g.lanes|g.childLanes;if(Lr(A,U),A===Jn&&(kn=Jn=null,As=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||yw||(yw=!0,PQ(ui,function(){return Zf(),null})),U=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||U){U=gi.transition,gi.transition=null;var K=ir;ir=1;var te=vr;vr|=4,TE.current=null,lle(A,g),yQ(g,A),Ooe(MB),Fc=!!UB,MB=UB=null,A.current=g,cle(g),bB(),vr=te,ir=K,gi.transition=U}else A.current=g;if(yw&&(yw=!1,qc=A,xw=I),U=A.pendingLanes,U===0&&(Kc=null),_0(g.stateNode),xa(A,Gr()),h!==null)for(B=A.onRecoverableError,g=0;g<h.length;g++)I=h[g],B(I.value,{componentStack:I.stack,digest:I.digest});if(vw)throw vw=!1,A=PE,PE=null,A;return(xw&1)!==0&&A.tag!==0&&Zf(),U=A.pendingLanes,(U&1)!==0?A===OE?Bg++:(Bg=0,OE=A):Bg=0,Lc(),null}function Zf(){if(qc!==null){var A=Pc(xw),h=gi.transition,g=ir;try{if(gi.transition=null,ir=16>A?16:A,qc===null)var B=!1;else{if(A=qc,qc=null,xw=0,(vr&6)!==0)throw Error(r(331));var I=vr;for(vr|=4,At=A.current;At!==null;){var U=At,K=U.child;if((At.flags&16)!==0){var te=U.deletions;if(te!==null){for(var ie=0;ie<te.length;ie++){var we=te[ie];for(At=we;At!==null;){var De=At;switch(De.tag){case 0:case 11:case 15:_g(8,De,U)}var Le=De.child;if(Le!==null)Le.return=De,At=Le;else for(;At!==null;){De=At;var Oe=De.sibling,st=De.return;if(hQ(De),De===we){At=null;break}if(Oe!==null){Oe.return=st,At=Oe;break}At=st}}}var mt=U.alternate;if(mt!==null){var vt=mt.child;if(vt!==null){mt.child=null;do{var _n=vt.sibling;vt.sibling=null,vt=_n}while(vt!==null)}}At=U}}if((U.subtreeFlags&2064)!==0&&K!==null)K.return=U,At=K;else e:for(;At!==null;){if(U=At,(U.flags&2048)!==0)switch(U.tag){case 0:case 11:case 15:_g(9,U,U.return)}var he=U.sibling;if(he!==null){he.return=U.return,At=he;break e}At=U.return}}var ce=A.current;for(At=ce;At!==null;){K=At;var ve=K.child;if((K.subtreeFlags&2064)!==0&&ve!==null)ve.return=K,At=ve;else e:for(K=ce;At!==null;){if(te=At,(te.flags&2048)!==0)try{switch(te.tag){case 0:case 11:case 15:mw(9,te)}}catch(wt){hn(te,te.return,wt)}if(te===K){At=null;break e}var Ke=te.sibling;if(Ke!==null){Ke.return=te.return,At=Ke;break e}At=te.return}}if(vr=I,Lc(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(EA,A)}catch{}B=!0}return B}finally{ir=g,gi.transition=h}}return!1}function TQ(A,h,g){h=Wf(g,h),h=GM(A,h,1),A=$c(A,h,1),h=Ys(),A!==null&&(kc(A,1,h),xa(A,h))}function hn(A,h,g){if(A.tag===3)TQ(A,A,g);else for(;h!==null;){if(h.tag===3){TQ(h,A,g);break}else if(h.tag===1){var B=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof B.componentDidCatch=="function"&&(Kc===null||!Kc.has(B))){A=Wf(g,A),A=WM(h,A,1),h=$c(h,A,1),A=Ys(),h!==null&&(kc(h,1,A),xa(h,A));break}}h=h.return}}function mle(A,h,g){var B=A.pingCache;B!==null&&B.delete(h),h=Ys(),A.pingedLanes|=A.suspendedLanes&g,Jn===A&&(As&g)===g&&(Mn===4||Mn===3&&(As&130023424)===As&&500>Gr()-IE?$A(A,0):kE|=g),xa(A,h)}function kQ(A,h){h===0&&((A.mode&1)===0?h=1:(h=bf,bf<<=1,(bf&130023424)===0&&(bf=4194304)));var g=Ys();A=Rl(A,h),A!==null&&(kc(A,h,g),xa(A,g))}function ple(A){var h=A.memoizedState,g=0;h!==null&&(g=h.retryLane),kQ(A,g)}function gle(A,h){var g=0;switch(A.tag){case 13:var B=A.stateNode,I=A.memoizedState;I!==null&&(g=I.retryLane);break;case 19:B=A.stateNode;break;default:throw Error(r(314))}B!==null&&B.delete(h),kQ(A,g)}var IQ;IQ=function(A,h,g){if(A!==null)if(A.memoizedProps!==h.pendingProps||pa.current)va=!0;else{if((A.lanes&g)===0&&(h.flags&128)===0)return va=!1,sle(A,h,g);va=(A.flags&131072)!==0}else va=!1,sn&&(h.flags&1048576)!==0&&AM(h,Y0,h.index);switch(h.lanes=0,h.tag){case 2:var B=h.type;fw(A,h),A=h.pendingProps;var I=Lf(h,Ss.current);zf(h,g),I=cE(null,h,B,A,I,g);var U=uE();return h.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ga(B)?(U=!0,W0(h)):U=!1,h.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,rE(h),I.updater=Aw,h.stateNode=I,I._reactInternals=h,pE(h,B,A,g),h=xE(null,h,B,!0,U,g)):(h.tag=0,sn&&U&&qB(h),Js(null,h,I,g),h=h.child),h;case 16:B=h.elementType;e:{switch(fw(A,h),A=h.pendingProps,I=B._init,B=I(B._payload),h.type=B,I=h.tag=yle(B),A=Zi(B,A),I){case 0:h=yE(null,h,B,A,g);break e;case 1:h=sQ(null,h,B,A,g);break e;case 11:h=ZM(null,h,B,A,g);break e;case 14:h=eQ(null,h,B,Zi(B.type,A),g);break e}throw Error(r(306,B,""))}return h;case 0:return B=h.type,I=h.pendingProps,I=h.elementType===B?I:Zi(B,I),yE(A,h,B,I,g);case 1:return B=h.type,I=h.pendingProps,I=h.elementType===B?I:Zi(B,I),sQ(A,h,B,I,g);case 3:e:{if(aQ(h),A===null)throw Error(r(387));B=h.pendingProps,U=h.memoizedState,I=U.element,xM(A,h),sw(h,B,null,g);var K=h.memoizedState;if(B=K.element,U.isDehydrated)if(U={element:B,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},h.updateQueue.baseState=U,h.memoizedState=U,h.flags&256){I=Wf(Error(r(423)),h),h=iQ(A,h,B,g,I);break e}else if(B!==I){I=Wf(Error(r(424)),h),h=iQ(A,h,B,g,I);break e}else for(La=Uc(h.stateNode.containerInfo.firstChild),Qa=h,sn=!0,Yi=null,g=vM(h,null,B,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Vf(),B===I){h=Ul(A,h,g);break e}Js(A,h,B,g)}h=h.child}return h;case 5:return _M(h),A===null&&WB(h),B=h.type,I=h.pendingProps,U=A!==null?A.memoizedProps:null,K=I.children,QB(B,I)?K=null:U!==null&&QB(B,U)&&(h.flags|=32),nQ(A,h),Js(A,h,K,g),h.child;case 6:return A===null&&WB(h),null;case 13:return oQ(A,h,g);case 4:return nE(h,h.stateNode.containerInfo),B=h.pendingProps,A===null?h.child=Kf(h,null,B,g):Js(A,h,B,g),h.child;case 11:return B=h.type,I=h.pendingProps,I=h.elementType===B?I:Zi(B,I),ZM(A,h,B,I,g);case 7:return Js(A,h,h.pendingProps,g),h.child;case 8:return Js(A,h,h.pendingProps.children,g),h.child;case 12:return Js(A,h,h.pendingProps.children,g),h.child;case 10:e:{if(B=h.type._context,I=h.pendingProps,U=h.memoizedProps,K=I.value,Wr(tw,B._currentValue),B._currentValue=K,U!==null)if(Ji(U.value,K)){if(U.children===I.children&&!pa.current){h=Ul(A,h,g);break e}}else for(U=h.child,U!==null&&(U.return=h);U!==null;){var te=U.dependencies;if(te!==null){K=U.child;for(var ie=te.firstContext;ie!==null;){if(ie.context===B){if(U.tag===1){ie=Dl(-1,g&-g),ie.tag=2;var we=U.updateQueue;if(we!==null){we=we.shared;var De=we.pending;De===null?ie.next=ie:(ie.next=De.next,De.next=ie),we.pending=ie}}U.lanes|=g,ie=U.alternate,ie!==null&&(ie.lanes|=g),eE(U.return,g,h),te.lanes|=g;break}ie=ie.next}}else if(U.tag===10)K=U.type===h.type?null:U.child;else if(U.tag===18){if(K=U.return,K===null)throw Error(r(341));K.lanes|=g,te=K.alternate,te!==null&&(te.lanes|=g),eE(K,g,h),K=U.sibling}else K=U.child;if(K!==null)K.return=U;else for(K=U;K!==null;){if(K===h){K=null;break}if(U=K.sibling,U!==null){U.return=K.return,K=U;break}K=K.return}U=K}Js(A,h,I.children,g),h=h.child}return h;case 9:return I=h.type,B=h.pendingProps.children,zf(h,g),I=mi(I),B=B(I),h.flags|=1,Js(A,h,B,g),h.child;case 14:return B=h.type,I=Zi(B,h.pendingProps),I=Zi(B.type,I),eQ(A,h,B,I,g);case 15:return tQ(A,h,h.type,h.pendingProps,g);case 17:return B=h.type,I=h.pendingProps,I=h.elementType===B?I:Zi(B,I),fw(A,h),h.tag=1,ga(B)?(A=!0,W0(h)):A=!1,zf(h,g),qM(h,B,I),pE(h,B,I,g),xE(null,h,B,!0,A,g);case 19:return cQ(A,h,g);case 22:return rQ(A,h,g)}throw Error(r(156,h.tag))};function PQ(A,h){return xf(A,h)}function vle(A,h,g,B){this.tag=A,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=B,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vi(A,h,g,B){return new vle(A,h,g,B)}function QE(A){return A=A.prototype,!(!A||!A.isReactComponent)}function yle(A){if(typeof A=="function")return QE(A)?1:0;if(A!=null){if(A=A.$$typeof,A===M)return 11;if(A===W)return 14}return 2}function Wc(A,h){var g=A.alternate;return g===null?(g=vi(A.tag,h,A.key,A.mode),g.elementType=A.elementType,g.type=A.type,g.stateNode=A.stateNode,g.alternate=A,A.alternate=g):(g.pendingProps=h,g.type=A.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=A.flags&14680064,g.childLanes=A.childLanes,g.lanes=A.lanes,g.child=A.child,g.memoizedProps=A.memoizedProps,g.memoizedState=A.memoizedState,g.updateQueue=A.updateQueue,h=A.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=A.sibling,g.index=A.index,g.ref=A.ref,g}function jw(A,h,g,B,I,U){var K=2;if(B=A,typeof A=="function")QE(A)&&(K=1);else if(typeof A=="string")K=5;else e:switch(A){case E:return KA(g.children,I,U,h);case T:K=8,I|=8;break;case P:return A=vi(12,g,h,I|2),A.elementType=P,A.lanes=U,A;case F:return A=vi(13,g,h,I),A.elementType=F,A.lanes=U,A;case G:return A=vi(19,g,h,I),A.elementType=G,A.lanes=U,A;case H:return Cw(g,I,U,h);default:if(typeof A=="object"&&A!==null)switch(A.$$typeof){case O:K=10;break e;case D:K=9;break e;case M:K=11;break e;case W:K=14;break e;case V:K=16,B=null;break e}throw Error(r(130,A==null?A:typeof A,""))}return h=vi(K,g,h,I),h.elementType=A,h.type=B,h.lanes=U,h}function KA(A,h,g,B){return A=vi(7,A,B,h),A.lanes=g,A}function Cw(A,h,g,B){return A=vi(22,A,B,h),A.elementType=H,A.lanes=g,A.stateNode={isHidden:!1},A}function LE(A,h,g){return A=vi(6,A,null,h),A.lanes=g,A}function HE(A,h,g){return h=vi(4,A.children!==null?A.children:[],A.key,h),h.lanes=g,h.stateNode={containerInfo:A.containerInfo,pendingChildren:null,implementation:A.implementation},h}function xle(A,h,g,B,I){this.tag=h,this.containerInfo=A,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tc(0),this.expirationTimes=Tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tc(0),this.identifierPrefix=B,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function $E(A,h,g,B,I,U,K,te,ie){return A=new xle(A,h,g,te,ie),h===1?(h=1,U===!0&&(h|=8)):h=0,U=vi(3,null,null,h),A.current=U,U.stateNode=A,U.memoizedState={element:B,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},rE(U),A}function wle(A,h,g){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:B==null?null:""+B,children:A,containerInfo:h,implementation:g}}function OQ(A){if(!A)return Qc;A=A._reactInternals;e:{if(Vi(A)!==A||A.tag!==1)throw Error(r(170));var h=A;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ga(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(r(171))}if(A.tag===1){var g=A.type;if(ga(g))return lM(A,g,h)}return h}function FQ(A,h,g,B,I,U,K,te,ie){return A=$E(g,B,!0,A,I,U,K,te,ie),A.context=OQ(null),g=A.current,B=Ys(),I=zc(g),U=Dl(B,I),U.callback=h??null,$c(g,U,I),A.current.lanes=I,kc(A,I,B),xa(A,B),A}function Bw(A,h,g,B){var I=h.current,U=Ys(),K=zc(I);return g=OQ(g),h.context===null?h.context=g:h.pendingContext=g,h=Dl(U,K),h.payload={element:A},B=B===void 0?null:B,B!==null&&(h.callback=B),A=$c(I,h,K),A!==null&&(ro(A,I,K,U),nw(A,I,K)),K}function Ew(A){if(A=A.current,!A.child)return null;switch(A.child.tag){case 5:return A.child.stateNode;default:return A.child.stateNode}}function RQ(A,h){if(A=A.memoizedState,A!==null&&A.dehydrated!==null){var g=A.retryLane;A.retryLane=g!==0&&g<h?g:h}}function VE(A,h){RQ(A,h),(A=A.alternate)&&RQ(A,h)}function ble(){return null}var DQ=typeof reportError=="function"?reportError:function(A){console.error(A)};function KE(A){this._internalRoot=A}Sw.prototype.render=KE.prototype.render=function(A){var h=this._internalRoot;if(h===null)throw Error(r(409));Bw(A,h,null,null)},Sw.prototype.unmount=KE.prototype.unmount=function(){var A=this._internalRoot;if(A!==null){this._internalRoot=null;var h=A.containerInfo;HA(function(){Bw(null,A,null,null)}),h[Il]=null}};function Sw(A){this._internalRoot=A}Sw.prototype.unstable_scheduleHydration=function(A){if(A){var h=S0();A={blockedOn:null,target:A,priority:h};for(var g=0;g<Ro.length&&h!==0&&h<Ro[g].priority;g++);Ro.splice(g,0,A),g===0&&k0(A)}};function qE(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11)}function Nw(A){return!(!A||A.nodeType!==1&&A.nodeType!==9&&A.nodeType!==11&&(A.nodeType!==8||A.nodeValue!==" react-mount-point-unstable "))}function UQ(){}function _le(A,h,g,B,I){if(I){if(typeof B=="function"){var U=B;B=function(){var we=Ew(K);U.call(we)}}var K=FQ(h,B,A,0,null,!1,!1,"",UQ);return A._reactRootContainer=K,A[Il]=K.current,ug(A.nodeType===8?A.parentNode:A),HA(),K}for(;I=A.lastChild;)A.removeChild(I);if(typeof B=="function"){var te=B;B=function(){var we=Ew(ie);te.call(we)}}var ie=$E(A,0,!1,null,null,!1,!1,"",UQ);return A._reactRootContainer=ie,A[Il]=ie.current,ug(A.nodeType===8?A.parentNode:A),HA(function(){Bw(h,ie,g,B)}),ie}function Tw(A,h,g,B,I){var U=g._reactRootContainer;if(U){var K=U;if(typeof I=="function"){var te=I;I=function(){var ie=Ew(K);te.call(ie)}}Bw(h,K,A,I)}else K=_le(g,h,A,I,B);return Ew(K)}B0=function(A){switch(A.tag){case 3:var h=A.stateNode;if(h.current.memoizedState.isDehydrated){var g=Nc(h.pendingLanes);g!==0&&(Ic(h,g|1),xa(h,Gr()),(vr&6)===0&&(Yf=Gr()+500,Lc()))}break;case 13:HA(function(){var B=Rl(A,1);if(B!==null){var I=Ys();ro(B,A,1,I)}}),VE(A,1)}},_f=function(A){if(A.tag===13){var h=Rl(A,134217728);if(h!==null){var g=Ys();ro(h,A,134217728,g)}VE(A,134217728)}},E0=function(A){if(A.tag===13){var h=zc(A),g=Rl(A,h);if(g!==null){var B=Ys();ro(g,A,h,B)}VE(A,h)}},S0=function(){return ir},N0=function(A,h){var g=ir;try{return ir=A,h()}finally{ir=g}},gr=function(A,h,g){switch(h){case"input":if(Xt(A,g),h=g.name,g.type==="radio"&&h!=null){for(g=A;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var B=g[h];if(B!==A&&B.form===A.form){var I=z0(B);if(!I)throw Error(r(90));ne(B),Xt(B,I)}}}break;case"textarea":ut(A,g);break;case"select":h=g.value,h!=null&&Ie(A,!!g.multiple,h,!1)}},bA=DE,Kp=HA;var jle={usingClientEntryPoint:!1,Events:[fg,Mf,z0,ci,Vp,DE]},Eg={findFiberByHostInstance:OA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cle={bundleType:Eg.bundleType,version:Eg.version,rendererPackageName:Eg.rendererPackageName,rendererConfig:Eg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){return A=Gp(A),A===null?null:A.stateNode},findFiberByHostInstance:Eg.findFiberByHostInstance||ble,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kw.isDisabled&&kw.supportsFiber)try{EA=kw.inject(Cle),Ra=kw}catch{}}return wa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jle,wa.createPortal=function(A,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qE(h))throw Error(r(200));return wle(A,h,null,g)},wa.createRoot=function(A,h){if(!qE(A))throw Error(r(299));var g=!1,B="",I=DQ;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(B=h.identifierPrefix),h.onRecoverableError!==void 0&&(I=h.onRecoverableError)),h=$E(A,1,!1,null,null,g,!1,B,I),A[Il]=h.current,ug(A.nodeType===8?A.parentNode:A),new KE(h)},wa.findDOMNode=function(A){if(A==null)return null;if(A.nodeType===1)return A;var h=A._reactInternals;if(h===void 0)throw typeof A.render=="function"?Error(r(188)):(A=Object.keys(A).join(","),Error(r(268,A)));return A=Gp(h),A=A===null?null:A.stateNode,A},wa.flushSync=function(A){return HA(A)},wa.hydrate=function(A,h,g){if(!Nw(h))throw Error(r(200));return Tw(null,A,h,!0,g)},wa.hydrateRoot=function(A,h,g){if(!qE(A))throw Error(r(405));var B=g!=null&&g.hydratedSources||null,I=!1,U="",K=DQ;if(g!=null&&(g.unstable_strictMode===!0&&(I=!0),g.identifierPrefix!==void 0&&(U=g.identifierPrefix),g.onRecoverableError!==void 0&&(K=g.onRecoverableError)),h=FQ(h,null,A,1,g??null,I,!1,U,K),A[Il]=h.current,ug(A),B)for(A=0;A<B.length;A++)g=B[A],I=g._getVersion,I=I(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,I]:h.mutableSourceEagerHydrationData.push(g,I);return new Sw(h)},wa.render=function(A,h,g){if(!Nw(h))throw Error(r(200));return Tw(null,A,h,!1,g)},wa.unmountComponentAtNode=function(A){if(!Nw(A))throw Error(r(40));return A._reactRootContainer?(HA(function(){Tw(null,null,A,!1,function(){A._reactRootContainer=null,A[Il]=null})}),!0):!1},wa.unstable_batchedUpdates=DE,wa.unstable_renderSubtreeIntoContainer=function(A,h,g,B){if(!Nw(g))throw Error(r(200));if(A==null||A._reactInternals===void 0)throw Error(r(38));return Tw(A,h,g,!1,B)},wa.version="18.3.1-next-f1338f8080-20240426",wa}var zQ;function lz(){if(zQ)return XE.exports;zQ=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),XE.exports=Rle(),XE.exports}var GQ;function Dle(){if(GQ)return Ow;GQ=1;var t=lz();return Ow.createRoot=t.createRoot,Ow.hydrateRoot=t.hydrateRoot,Ow}var Ule=Dle(),w=Ap();const Y=yr(w),cz=Nle({__proto__:null,default:Y},[w]),Mle=1,Qle=1e6;let ZE=0;function Lle(){return ZE=(ZE+1)%Number.MAX_SAFE_INTEGER,ZE.toString()}const eS=new Map,WQ=t=>{if(eS.has(t))return;const e=setTimeout(()=>{eS.delete(t),Cv({type:"REMOVE_TOAST",toastId:t})},Qle);eS.set(t,e)},Hle=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Mle)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?WQ(r):t.toasts.forEach(n=>{WQ(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Hb=[];let $b={toasts:[]};function Cv(t){$b=Hle($b,t),Hb.forEach(e=>{e($b)})}function Se({...t}){const e=Lle(),r=s=>Cv({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>Cv({type:"DISMISS_TOAST",toastId:e});return Cv({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function No(){const[t,e]=w.useState($b);return w.useEffect(()=>(Hb.push(e),()=>{const r=Hb.indexOf(e);r>-1&&Hb.splice(r,1)}),[t]),{...t,toast:Se,dismiss:r=>Cv({type:"DISMISS_TOAST",toastId:r})}}var dp=lz();const uz=yr(dp);function Ye(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $le(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Az(...t){return e=>t.forEach(r=>$le(r,e))}function Ht(...t){return w.useCallback(Az(...t),t)}function Vle(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:p,...y}=f,x=(m==null?void 0:m[t][c])||l,v=w.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:v,children:p})}function d(f,m){const p=(m==null?void 0:m[t][c])||l,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Kle(s,...e)]}function Kle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var lc=w.forwardRef((t,e)=>{const{children:r,...n}=t,s=w.Children.toArray(r),a=s.find(qle);if(a){const o=a.props.children,l=s.map(c=>c===a?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:c);return i.jsx(kP,{...n,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,l):null})}return i.jsx(kP,{...n,ref:e,children:r})});lc.displayName="Slot";var kP=w.forwardRef((t,e)=>{const{children:r,...n}=t;if(w.isValidElement(r)){const s=Gle(r);return w.cloneElement(r,{...zle(n,r.props),ref:e?Az(e,s):s})}return w.Children.count(r)>1?w.Children.only(null):null});kP.displayName="SlotClone";var cR=({children:t})=>i.jsx(i.Fragment,{children:t});function qle(t){return w.isValidElement(t)&&t.type===cR}function zle(t,e){const r={...e};for(const n in e){const s=t[n],a=e[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{a(...l),s(...l)}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...t,...r}}function Gle(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function _j(t){const e=t+"CollectionProvider",[r,n]=Vle(e),[s,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:x}=p,v=Y.useRef(null),_=Y.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:_,collectionRef:v,children:x})};o.displayName=e;const l=t+"CollectionSlot",c=Y.forwardRef((p,y)=>{const{scope:x,children:v}=p,_=a(l,x),j=Ht(y,_.collectionRef);return i.jsx(lc,{ref:j,children:v})});c.displayName=l;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Y.forwardRef((p,y)=>{const{scope:x,children:v,..._}=p,j=Y.useRef(null),S=Ht(y,j),C=a(u,x);return Y.useEffect(()=>(C.itemMap.set(j,{ref:j,..._}),()=>void C.itemMap.delete(j))),i.jsx(lc,{[d]:"",ref:S,children:v})});f.displayName=u;function m(p){const y=a(t+"CollectionConsumer",p);return Y.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const _=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((C,N)=>_.indexOf(C.ref.current)-_.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},m,n]}function Wle(t,e){const r=w.createContext(e),n=a=>{const{children:o,...l}=a,c=w.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function s(a){const o=w.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,s]}function Pa(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var _;const{scope:m,children:p,...y}=f,x=((_=m==null?void 0:m[t])==null?void 0:_[c])||l,v=w.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:v,children:p})};u.displayName=a+"Provider";function d(f,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Xle(s,...e)]}function Xle(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Jle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],yt=Jle.reduce((t,e)=>{const r=w.forwardRef((n,s)=>{const{asChild:a,...o}=n,l=a?lc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function dz(t,e){t&&dp.flushSync(()=>t.dispatchEvent(e))}function vn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Yle(t,e=globalThis==null?void 0:globalThis.document){const r=vn(t);w.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Zle="DismissableLayer",IP="dismissableLayer.update",ece="dismissableLayer.pointerDownOutside",tce="dismissableLayer.focusOutside",XQ,fz=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fp=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=w.useContext(fz),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=w.useState({}),y=Ht(e,E=>f(E)),x=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(v),j=d?x.indexOf(d):-1,S=u.layersWithOutsidePointerEventsDisabled.size>0,C=j>=_,N=nce(E=>{const T=E.target,P=[...u.branches].some(O=>O.contains(T));!C||P||(s==null||s(E),o==null||o(E),E.defaultPrevented||l==null||l())},m),k=sce(E=>{const T=E.target;[...u.branches].some(O=>O.contains(T))||(a==null||a(E),o==null||o(E),E.defaultPrevented||l==null||l())},m);return Yle(E=>{j===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},m),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(XQ=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),JQ(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=XQ)}},[d,m,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),JQ())},[d,u]),w.useEffect(()=>{const E=()=>p({});return document.addEventListener(IP,E),()=>document.removeEventListener(IP,E)},[]),i.jsx(yt.div,{...c,ref:y,style:{pointerEvents:S?C?"auto":"none":void 0,...t.style},onFocusCapture:Ye(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Ye(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ye(t.onPointerDownCapture,N.onPointerDownCapture)})});fp.displayName=Zle;var rce="DismissableLayerBranch",hz=w.forwardRef((t,e)=>{const r=w.useContext(fz),n=w.useRef(null),s=Ht(e,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(yt.div,{...t,ref:s})});hz.displayName=rce;function nce(t,e=globalThis==null?void 0:globalThis.document){const r=vn(t),n=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){mz(ece,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function sce(t,e=globalThis==null?void 0:globalThis.document){const r=vn(t),n=w.useRef(!1);return w.useEffect(()=>{const s=a=>{a.target&&!n.current&&mz(tce,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function JQ(){const t=new CustomEvent(IP);document.dispatchEvent(t)}function mz(t,e,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?dz(s,a):s.dispatchEvent(a)}var ace=fp,ice=hz,qn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},oce="Portal",Tx=w.forwardRef((t,e)=>{var l;const{container:r,...n}=t,[s,a]=w.useState(!1);qn(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?uz.createPortal(i.jsx(yt.div,{...n,ref:e}),o):null});Tx.displayName=oce;function lce(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var ua=t=>{const{present:e,children:r}=t,n=cce(e),s=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Ht(n.ref,uce(s));return typeof r=="function"||n.isPresent?w.cloneElement(s,{ref:a}):null};ua.displayName="Presence";function cce(t){const[e,r]=w.useState(),n=w.useRef({}),s=w.useRef(t),a=w.useRef("none"),o=t?"mounted":"unmounted",[l,c]=lce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Fw(n.current);a.current=l==="mounted"?u:"none"},[l]),qn(()=>{const u=n.current,d=s.current;if(d!==t){const m=a.current,p=Fw(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),qn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=p=>{const x=Fw(n.current).includes(p.animationName);if(p.target===e&&x&&(c("ANIMATION_END"),!s.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},m=p=>{p.target===e&&(a.current=Fw(n.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Fw(t){return(t==null?void 0:t.animationName)||"none"}function uce(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Ri({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,s]=Ace({defaultProp:e,onChange:r}),a=t!==void 0,o=a?t:n,l=vn(r),c=w.useCallback(u=>{if(a){const f=typeof u=="function"?u(t):u;f!==t&&l(f)}else s(u)},[a,t,s,l]);return[o,c]}function Ace({defaultProp:t,onChange:e}){const r=w.useState(t),[n]=r,s=w.useRef(n),a=vn(e);return w.useEffect(()=>{s.current!==n&&(a(n),s.current=n)},[n,s,a]),r}var dce="VisuallyHidden",kx=w.forwardRef((t,e)=>i.jsx(yt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));kx.displayName=dce;var fce=kx,uR="ToastProvider",[AR,hce,mce]=_j("Toast"),[pz,cze]=Pa("Toast",[mce]),[pce,jj]=pz(uR),gz=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:o}=t,[l,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),m=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${uR}\`. Expected non-empty \`string\`.`),i.jsx(AR.Provider,{scope:e,children:i.jsx(pce,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>d(p=>p+1),[]),onToastRemove:w.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};gz.displayName=uR;var vz="ToastViewport",gce=["F8"],PP="toast.viewportPause",OP="toast.viewportResume",yz=w.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=gce,label:s="Notifications ({hotkey})",...a}=t,o=jj(vz,r),l=hce(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),m=Ht(e,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const v=_=>{var S;n.length!==0&&n.every(C=>_[C]||_.code===C)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),w.useEffect(()=>{const v=c.current,_=f.current;if(y&&v&&_){const j=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(PP);_.dispatchEvent(k),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(OP);_.dispatchEvent(k),o.isClosePausedRef.current=!1}},C=k=>{!v.contains(k.relatedTarget)&&S()},N=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",j),v.addEventListener("focusout",C),v.addEventListener("pointermove",j),v.addEventListener("pointerleave",N),window.addEventListener("blur",j),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",j),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",j),v.removeEventListener("pointerleave",N),window.removeEventListener("blur",j),window.removeEventListener("focus",S)}}},[y,o.isClosePausedRef]);const x=w.useCallback(({tabbingDirection:v})=>{const j=l().map(S=>{const C=S.ref.current,N=[C,...Tce(C)];return v==="forwards"?N:N.reverse()});return(v==="forwards"?j.reverse():j).flat()},[l]);return w.useEffect(()=>{const v=f.current;if(v){const _=j=>{var N,k,E;const S=j.altKey||j.ctrlKey||j.metaKey;if(j.key==="Tab"&&!S){const T=document.activeElement,P=j.shiftKey;if(j.target===v&&P){(N=u.current)==null||N.focus();return}const M=x({tabbingDirection:P?"backwards":"forwards"}),F=M.findIndex(G=>G===T);tS(M.slice(F+1))?j.preventDefault():P?(k=u.current)==null||k.focus():(E=d.current)==null||E.focus()}};return v.addEventListener("keydown",_),()=>v.removeEventListener("keydown",_)}},[l,x]),i.jsxs(ice,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&i.jsx(FP,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});tS(v)}}),i.jsx(AR.Slot,{scope:r,children:i.jsx(yt.ol,{tabIndex:-1,...a,ref:m})}),y&&i.jsx(FP,{ref:d,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});tS(v)}})]})});yz.displayName=vz;var xz="ToastFocusProxy",FP=w.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,a=jj(xz,r);return i.jsx(kx,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&n()}})});FP.displayName=xz;var Cj="Toast",vce="toast.swipeStart",yce="toast.swipeMove",xce="toast.swipeCancel",wce="toast.swipeEnd",wz=w.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:a,...o}=t,[l=!0,c]=Ri({prop:n,defaultProp:s,onChange:a});return i.jsx(ua,{present:r||l,children:i.jsx(jce,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:vn(t.onPause),onResume:vn(t.onResume),onSwipeStart:Ye(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ye(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ye(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ye(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});wz.displayName=Cj;var[bce,_ce]=pz(Cj,{onClose(){}}),jce=w.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:p,...y}=t,x=jj(Cj,r),[v,_]=w.useState(null),j=Ht(e,G=>_(G)),S=w.useRef(null),C=w.useRef(null),N=s||x.duration,k=w.useRef(0),E=w.useRef(N),T=w.useRef(0),{onToastAdd:P,onToastRemove:O}=x,D=vn(()=>{var W;(v==null?void 0:v.contains(document.activeElement))&&((W=x.viewport)==null||W.focus()),o()}),M=w.useCallback(G=>{!G||G===1/0||(window.clearTimeout(T.current),k.current=new Date().getTime(),T.current=window.setTimeout(D,G))},[D]);w.useEffect(()=>{const G=x.viewport;if(G){const W=()=>{M(E.current),u==null||u()},V=()=>{const H=new Date().getTime()-k.current;E.current=E.current-H,window.clearTimeout(T.current),c==null||c()};return G.addEventListener(PP,V),G.addEventListener(OP,W),()=>{G.removeEventListener(PP,V),G.removeEventListener(OP,W)}}},[x.viewport,N,c,u,M]),w.useEffect(()=>{a&&!x.isClosePausedRef.current&&M(N)},[a,N,x.isClosePausedRef,M]),w.useEffect(()=>(P(),()=>O()),[P,O]);const F=w.useMemo(()=>v?Sz(v):null,[v]);return x.viewport?i.jsxs(i.Fragment,{children:[F&&i.jsx(Cce,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),i.jsx(bce,{scope:r,onClose:D,children:dp.createPortal(i.jsx(AR.ItemSlot,{scope:r,children:i.jsx(ace,{asChild:!0,onEscapeKeyDown:Ye(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||D(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(yt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:j,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ye(t.onKeyDown,G=>{G.key==="Escape"&&(l==null||l(G.nativeEvent),G.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:Ye(t.onPointerDown,G=>{G.button===0&&(S.current={x:G.clientX,y:G.clientY})}),onPointerMove:Ye(t.onPointerMove,G=>{if(!S.current)return;const W=G.clientX-S.current.x,V=G.clientY-S.current.y,H=!!C.current,Q=["left","right"].includes(x.swipeDirection),z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,q=Q?z(0,W):0,$=Q?0:z(0,V),J=G.pointerType==="touch"?10:2,le={x:q,y:$},ae={originalEvent:G,delta:le};H?(C.current=le,Rw(yce,f,ae,{discrete:!1})):YQ(le,x.swipeDirection,J)?(C.current=le,Rw(vce,d,ae,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(W)>J||Math.abs(V)>J)&&(S.current=null)}),onPointerUp:Ye(t.onPointerUp,G=>{const W=C.current,V=G.target;if(V.hasPointerCapture(G.pointerId)&&V.releasePointerCapture(G.pointerId),C.current=null,S.current=null,W){const H=G.currentTarget,Q={originalEvent:G,delta:W};YQ(W,x.swipeDirection,x.swipeThreshold)?Rw(wce,p,Q,{discrete:!0}):Rw(xce,m,Q,{discrete:!0}),H.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),Cce=t=>{const{__scopeToast:e,children:r,...n}=t,s=jj(Cj,e),[a,o]=w.useState(!1),[l,c]=w.useState(!1);return Sce(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Tx,{asChild:!0,children:i.jsx(kx,{...n,children:a&&i.jsxs(i.Fragment,{children:[s.label," ",r]})})})},Bce="ToastTitle",bz=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(yt.div,{...n,ref:e})});bz.displayName=Bce;var Ece="ToastDescription",_z=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return i.jsx(yt.div,{...n,ref:e})});_z.displayName=Ece;var jz="ToastAction",Cz=w.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?i.jsx(Ez,{altText:r,asChild:!0,children:i.jsx(dR,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jz}\`. Expected non-empty \`string\`.`),null)});Cz.displayName=jz;var Bz="ToastClose",dR=w.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=_ce(Bz,r);return i.jsx(Ez,{asChild:!0,children:i.jsx(yt.button,{type:"button",...n,ref:e,onClick:Ye(t.onClick,s.onClose)})})});dR.displayName=Bz;var Ez=w.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return i.jsx(yt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function Sz(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),Nce(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Sz(n))}}),e}function Rw(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?dz(s,a):s.dispatchEvent(a)}var YQ=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),a=n>s;return e==="left"||e==="right"?a&&n>r:!a&&s>r};function Sce(t=()=>{}){const e=vn(t);qn(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function Nce(t){return t.nodeType===t.ELEMENT_NODE}function Tce(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function tS(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var kce=gz,Nz=yz,Tz=wz,kz=bz,Iz=_z,Pz=Cz,Oz=dR;function Fz(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Fz(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function pr(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Fz(t))&&(n&&(n+=" "),n+=e);return n}const ZQ=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,eL=pr,hp=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return eL(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=e,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const m=ZQ(d)||ZQ(f);return s[u][m]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:m,...p}=d;return Object.entries(p).every(y=>{let[x,v]=y;return Array.isArray(v)?v.includes({...a,...l}[x]):{...a,...l}[x]===v})?[...u,f,m]:u},[]);return eL(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rz=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pce={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>w.createElement("svg",{ref:c,...Pce,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Rz("lucide",s),...l},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(t,e)=>{const r=w.forwardRef(({className:n,...s},a)=>w.createElement(Oce,{ref:a,iconNode:e,className:Rz(`lucide-${Ice(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=Qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Qe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Qe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=Qe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=Qe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=Qe("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=Qe("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Qe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Qe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=Qe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=Qe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fR=Qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=Qe("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=Qe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=Qe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Qe("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=Qe("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=Qe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Qe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=Qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=Qe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=Qe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=Qe("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=Qe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=Qe("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=Qe("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=Qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=Qe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=Qe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=Qe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=Qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=Qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=Qe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=Qe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=Qe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=Qe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=Qe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=Qe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=Qe("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=Qe("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=Qe("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=Qe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=Qe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=Qe("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=Qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=Qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=Qe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=Qe("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=Qe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=Qe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=Qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=Qe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=Qe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Qe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Qe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=Qe("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=Qe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Qe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=Qe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=Qe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=Qe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=Qe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=Qe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Qe("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Qe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Qe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=Qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=Qe("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=Qe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Qe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=Qe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=Qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=Qe("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=Qe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=Qe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Qe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=Qe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=Qe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=Qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=Qe("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Qe("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=Qe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=Qe("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=Qe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=Qe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=Qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=Qe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=Qe("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=Qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=Qe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Qe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=Qe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=Qe("Warehouse",[["path",{d:"M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z",key:"gksnxg"}],["path",{d:"M6 18h12",key:"9pbo8z"}],["path",{d:"M6 14h12",key:"4cwo0f"}],["rect",{width:"12",height:"12",x:"6",y:"10",key:"apd30q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=Qe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=Qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=Qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),bR="-",jue=t=>{const e=Bue(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(bR);return l[0]===""&&l.length!==1&&l.shift(),Xz(l,e)||Cue(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},Xz=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Xz(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(bR);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},cL=/^\[(.+)\]$/,Cue=t=>{if(cL.test(t)){const e=cL.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Bue=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Sue(Object.entries(t.classGroups),r).forEach(([a,o])=>{$P(o,n,a,e)}),n},$P=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:uL(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(Eue(s)){$P(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{$P(o,uL(e,a),r,n)})})},uL=(t,e)=>{let r=t;return e.split(bR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Eue=t=>t.isThemeGetter,Sue=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,s]}):t,Nue=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},Jz="!",Tue=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let _=l[v];if(u===0){if(_===s&&(n||l.slice(v,v+a)===e)){c.push(l.slice(d,v)),d=v+a;continue}if(_==="/"){f=v;continue}}_==="["?u++:_==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(Jz),y=p?m.substring(1):m,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},kue=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Iue=t=>({cache:Nue(t.cacheSize),parseClassName:Tue(t),...jue(t)}),Pue=/\s+/,Oue=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],o=t.trim().split(Pue);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=r(u);let y=!!p,x=n(y?m.substring(0,p):m);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(m),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const v=kue(d).join(":"),_=f?v+Jz:v,j=_+x;if(a.includes(j))continue;a.push(j);const S=s(x,y);for(let C=0;C<S.length;++C){const N=S[C];a.push(_+N)}l=u+(l.length>0?" "+l:l)}return l};function Fue(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Yz(e))&&(n&&(n+=" "),n+=r);return n}const Yz=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Yz(t[n]))&&(r&&(r+=" "),r+=e);return r};function Rue(t,...e){let r,n,s,a=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=Iue(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Oue(c,r);return s(c,d),d}return function(){return a(Fue.apply(null,arguments))}}const tn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Zz=/^\[(?:([a-z-]+):)?(.+)\]$/i,Due=/^\d+\/\d+$/,Uue=new Set(["px","full","screen"]),Mue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Que=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,$ue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ql=t=>Kh(t)||Uue.has(t)||Due.test(t),Jc=t=>pp(t,"length",Jue),Kh=t=>!!t&&!Number.isNaN(Number(t)),rS=t=>pp(t,"number",Kh),Tg=t=>!!t&&Number.isInteger(Number(t)),Vue=t=>t.endsWith("%")&&Kh(t.slice(0,-1)),Gt=t=>Zz.test(t),Yc=t=>Mue.test(t),Kue=new Set(["length","size","percentage"]),que=t=>pp(t,Kue,eG),zue=t=>pp(t,"position",eG),Gue=new Set(["image","url"]),Wue=t=>pp(t,Gue,Zue),Xue=t=>pp(t,"",Yue),kg=()=>!0,pp=(t,e,r)=>{const n=Zz.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Jue=t=>Que.test(t)&&!Lue.test(t),eG=()=>!1,Yue=t=>Hue.test(t),Zue=t=>$ue.test(t),eAe=()=>{const t=tn("colors"),e=tn("spacing"),r=tn("blur"),n=tn("brightness"),s=tn("borderColor"),a=tn("borderRadius"),o=tn("borderSpacing"),l=tn("borderWidth"),c=tn("contrast"),u=tn("grayscale"),d=tn("hueRotate"),f=tn("invert"),m=tn("gap"),p=tn("gradientColorStops"),y=tn("gradientColorStopPositions"),x=tn("inset"),v=tn("margin"),_=tn("opacity"),j=tn("padding"),S=tn("saturate"),C=tn("scale"),N=tn("sepia"),k=tn("skew"),E=tn("space"),T=tn("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Gt,e],M=()=>[Gt,e],F=()=>["",Ql,Jc],G=()=>["auto",Kh,Gt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],z=()=>["","0",Gt],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[Kh,Gt];return{cacheSize:500,separator:":",theme:{colors:[kg],spacing:[Ql,Jc],blur:["none","",Yc,Gt],brightness:$(),borderColor:[t],borderRadius:["none","","full",Yc,Gt],borderSpacing:M(),borderWidth:F(),contrast:$(),grayscale:z(),hueRotate:$(),invert:z(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[Vue,Jc],inset:D(),margin:D(),opacity:$(),padding:M(),saturate:$(),scale:$(),sepia:z(),skew:$(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Gt]}],container:["container"],columns:[{columns:[Yc]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),Gt]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Tg,Gt]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Gt]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",Tg,Gt]}],"grid-cols":[{"grid-cols":[kg]}],"col-start-end":[{col:["auto",{span:["full",Tg,Gt]},Gt]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[kg]}],"row-start-end":[{row:["auto",{span:[Tg,Gt]},Gt]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Gt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Gt]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Gt,e]}],"min-w":[{"min-w":[Gt,e,"min","max","fit"]}],"max-w":[{"max-w":[Gt,e,"none","full","min","max","fit","prose",{screen:[Yc]},Yc]}],h:[{h:[Gt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Gt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Gt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Gt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yc,Jc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rS]}],"font-family":[{font:[kg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Gt]}],"line-clamp":[{"line-clamp":["none",Kh,rS]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ql,Gt]}],"list-image":[{"list-image":["none",Gt]}],"list-style-type":[{list:["none","disc","decimal",Gt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ql,Jc]}],"underline-offset":[{"underline-offset":["auto",Ql,Gt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),zue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",que]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Wue]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:V()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Ql,Gt]}],"outline-w":[{outline:[Ql,Jc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ql,Jc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yc,Xue]}],"shadow-color":[{shadow:[kg]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Yc,Gt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Gt]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",Gt]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",Gt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Tg,Gt]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Gt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Gt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Gt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ql,Jc,rS]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},tAe=Rue(eAe);function Ee(...t){return tAe(pr(t))}function Te(t){return new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t).replace(/^IDR\s*/,"Rp")}const rAe=kce,tG=w.forwardRef(({className:t,...e},r)=>i.jsx(Nz,{ref:r,className:Ee("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));tG.displayName=Nz.displayName;const nAe=hp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),rG=w.forwardRef(({className:t,variant:e,...r},n)=>i.jsx(Tz,{ref:n,className:Ee(nAe({variant:e}),t),...r}));rG.displayName=Tz.displayName;const sAe=w.forwardRef(({className:t,...e},r)=>i.jsx(Pz,{ref:r,className:Ee("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));sAe.displayName=Pz.displayName;const nG=w.forwardRef(({className:t,...e},r)=>i.jsx(Oz,{ref:r,className:Ee("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Nj,{className:"h-4 w-4"})}));nG.displayName=Oz.displayName;const sG=w.forwardRef(({className:t,...e},r)=>i.jsx(kz,{ref:r,className:Ee("text-sm font-semibold",t),...e}));sG.displayName=kz.displayName;const aG=w.forwardRef(({className:t,...e},r)=>i.jsx(Iz,{ref:r,className:Ee("text-sm opacity-90",t),...e}));aG.displayName=Iz.displayName;function aAe(){const{toasts:t}=No();return i.jsxs(rAe,{children:[t.map(function({id:e,title:r,description:n,action:s,...a}){return i.jsxs(rG,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(sG,{children:r}),n&&i.jsx(aG,{children:n})]}),s,i.jsx(nG,{})]},e)}),i.jsx(tG,{})]})}var AL=["light","dark"],iAe="(prefers-color-scheme: dark)",oAe=w.createContext(void 0),lAe={setTheme:t=>{},themes:[]},cAe=()=>{var t;return(t=w.useContext(oAe))!=null?t:lAe};w.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:a,value:o,attrs:l,nonce:c})=>{let u=a==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?AL.includes(a)&&a?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${a}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(y,x=!1,v=!0)=>{let _=o?o[y]:y,j=x?y+"|| ''":`'${_}'`,S="";return s&&v&&!x&&AL.includes(y)&&(S+=`d.style.colorScheme = '${y}';`),r==="class"?x||_?S+=`c.add(${j})`:S+="null":_&&(S+=`d[s](n,${j})`),S},p=t?`!function(){${d}${m(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${iAe}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${u?"":"else{"+m(a,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(a,!1,!1)};}${f}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var uAe=t=>{switch(t){case"success":return fAe;case"info":return mAe;case"warning":return hAe;case"error":return pAe;default:return null}},AAe=Array(12).fill(0),dAe=({visible:t})=>Y.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},Y.createElement("div",{className:"sonner-spinner"},AAe.map((e,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),fAe=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hAe=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mAe=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pAe=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gAe=()=>{let[t,e]=Y.useState(document.hidden);return Y.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},VP=1,vAe=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...s}=e,a=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:VP++,o=this.toasts.find(c=>c.id===a),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...e,id:a,title:n}),{...c,...e,id:a,dismissible:l,title:n}):c):this.addToast({title:n,...s,dismissible:l,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0;return s.then(async o=>{if(xAe(o)&&!o.ok){a=!1;let l=typeof r.error=="function"?await r.error(`HTTP error! status: ${o.status}`):r.error,c=typeof r.description=="function"?await r.description(`HTTP error! status: ${o.status}`):r.description;this.create({id:n,type:"error",message:l,description:c})}else if(r.success!==void 0){a=!1;let l=typeof r.success=="function"?await r.success(o):r.success,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"success",message:l,description:c})}}).catch(async o=>{if(r.error!==void 0){a=!1;let l=typeof r.error=="function"?await r.error(o):r.error,c=typeof r.description=="function"?await r.description(o):r.description;this.create({id:n,type:"error",message:l,description:c})}}).finally(()=>{var o;a&&(this.dismiss(n),n=void 0),(o=r.finally)==null||o.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||VP++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Wa=new vAe,yAe=(t,e)=>{let r=(e==null?void 0:e.id)||VP++;return Wa.addToast({title:t,...e,id:r}),r},xAe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",wAe=yAe,bAe=()=>Wa.toasts;Object.assign(wAe,{success:Wa.success,info:Wa.info,warning:Wa.warning,error:Wa.error,custom:Wa.custom,message:Wa.message,promise:Wa.promise,dismiss:Wa.dismiss,loading:Wa.loading},{getHistory:bAe});function _Ae(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}_Ae(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dw(t){return t.label!==void 0}var jAe=3,CAe="32px",BAe=4e3,EAe=356,SAe=14,NAe=20,TAe=200;function kAe(...t){return t.filter(Boolean).join(" ")}var IAe=t=>{var e,r,n,s,a,o,l,c,u,d;let{invert:f,toast:m,unstyled:p,interacting:y,setHeights:x,visibleToasts:v,heights:_,index:j,toasts:S,expanded:C,removeToast:N,defaultRichColors:k,closeButton:E,style:T,cancelButtonStyle:P,actionButtonStyle:O,className:D="",descriptionClassName:M="",duration:F,position:G,gap:W,loadingIcon:V,expandByDefault:H,classNames:Q,icons:z,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:$,cn:J}=t,[le,ae]=Y.useState(!1),[ee,ue]=Y.useState(!1),[xe,me]=Y.useState(!1),[ye,je]=Y.useState(!1),[Fe,ne]=Y.useState(0),[ke,We]=Y.useState(0),ct=Y.useRef(null),ft=Y.useRef(null),Xt=j===0,re=j+1<=v,de=m.type,ge=m.dismissible!==!1,Ie=m.className||"",He=m.descriptionClassName||"",Re=Y.useMemo(()=>_.findIndex(Pt=>Pt.toastId===m.id)||0,[_,m.id]),ut=Y.useMemo(()=>{var Pt;return(Pt=m.closeButton)!=null?Pt:E},[m.closeButton,E]),kt=Y.useMemo(()=>m.duration||F||BAe,[m.duration,F]),jt=Y.useRef(0),St=Y.useRef(0),Nn=Y.useRef(0),da=Y.useRef(null),[Gs,Fa]=G.split("-"),oi=Y.useMemo(()=>_.reduce((Pt,xr,gr)=>gr>=Re?Pt:Pt+xr.height,0),[_,Re]),Qi=gAe(),Cl=m.invert||f,li=de==="loading";St.current=Y.useMemo(()=>Re*W+oi,[Re,oi]),Y.useEffect(()=>{ae(!0)},[]),Y.useLayoutEffect(()=>{if(!le)return;let Pt=ft.current,xr=Pt.style.height;Pt.style.height="auto";let gr=Pt.getBoundingClientRect().height;Pt.style.height=xr,We(gr),x(cn=>cn.find(wn=>wn.toastId===m.id)?cn.map(wn=>wn.toastId===m.id?{...wn,height:gr}:wn):[{toastId:m.id,height:gr,position:m.position},...cn])},[le,m.title,m.description,x,m.id]);let fa=Y.useCallback(()=>{ue(!0),ne(St.current),x(Pt=>Pt.filter(xr=>xr.toastId!==m.id)),setTimeout(()=>{N(m)},TAe)},[m,N,x,St]);Y.useEffect(()=>{if(m.promise&&de==="loading"||m.duration===1/0||m.type==="loading")return;let Pt,xr=kt;return C||y||$&&Qi?(()=>{if(Nn.current<jt.current){let gr=new Date().getTime()-jt.current;xr=xr-gr}Nn.current=new Date().getTime()})():xr!==1/0&&(jt.current=new Date().getTime(),Pt=setTimeout(()=>{var gr;(gr=m.onAutoClose)==null||gr.call(m,m),fa()},xr)),()=>clearTimeout(Pt)},[C,y,H,m,kt,fa,m.promise,de,$,Qi]),Y.useEffect(()=>{let Pt=ft.current;if(Pt){let xr=Pt.getBoundingClientRect().height;return We(xr),x(gr=>[{toastId:m.id,height:xr,position:m.position},...gr]),()=>x(gr=>gr.filter(cn=>cn.toastId!==m.id))}},[x,m.id]),Y.useEffect(()=>{m.delete&&fa()},[fa,m.delete]);function wA(){return z!=null&&z.loading?Y.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},z.loading):V?Y.createElement("div",{className:"sonner-loader","data-visible":de==="loading"},V):Y.createElement(dAe,{visible:de==="loading"})}return Y.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:ft,className:J(D,Ie,Q==null?void 0:Q.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,Q==null?void 0:Q.default,Q==null?void 0:Q[de],(r=m==null?void 0:m.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:k,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":le,"data-promise":!!m.promise,"data-removed":ee,"data-visible":re,"data-y-position":Gs,"data-x-position":Fa,"data-index":j,"data-front":Xt,"data-swiping":xe,"data-dismissible":ge,"data-type":de,"data-invert":Cl,"data-swipe-out":ye,"data-expanded":!!(C||H&&le),style:{"--index":j,"--toasts-before":j,"--z-index":S.length-j,"--offset":`${ee?Fe:St.current}px`,"--initial-height":H?"auto":`${ke}px`,...T,...m.style},onPointerDown:Pt=>{li||!ge||(ct.current=new Date,ne(St.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(me(!0),da.current={x:Pt.clientX,y:Pt.clientY}))},onPointerUp:()=>{var Pt,xr,gr,cn;if(ye||!ge)return;da.current=null;let wn=Number(((Pt=ft.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Li=new Date().getTime()-((xr=ct.current)==null?void 0:xr.getTime()),ci=Math.abs(wn)/Li;if(Math.abs(wn)>=NAe||ci>.11){ne(St.current),(gr=m.onDismiss)==null||gr.call(m,m),fa(),je(!0);return}(cn=ft.current)==null||cn.style.setProperty("--swipe-amount","0px"),me(!1)},onPointerMove:Pt=>{var xr;if(!da.current||!ge)return;let gr=Pt.clientY-da.current.y,cn=Pt.clientX-da.current.x,wn=(Gs==="top"?Math.min:Math.max)(0,gr),Li=Pt.pointerType==="touch"?10:2;Math.abs(wn)>Li?(xr=ft.current)==null||xr.style.setProperty("--swipe-amount",`${gr}px`):Math.abs(cn)>Li&&(da.current=null)}},ut&&!m.jsx?Y.createElement("button",{"aria-label":q,"data-disabled":li,"data-close-button":!0,onClick:li||!ge?()=>{}:()=>{var Pt;fa(),(Pt=m.onDismiss)==null||Pt.call(m,m)},className:J(Q==null?void 0:Q.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||Y.isValidElement(m.title)?m.jsx||m.title:Y.createElement(Y.Fragment,null,de||m.icon||m.promise?Y.createElement("div",{"data-icon":"",className:J(Q==null?void 0:Q.icon,(a=m==null?void 0:m.classNames)==null?void 0:a.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||wA():null,m.type!=="loading"?m.icon||(z==null?void 0:z[de])||uAe(de):null):null,Y.createElement("div",{"data-content":"",className:J(Q==null?void 0:Q.content,(o=m==null?void 0:m.classNames)==null?void 0:o.content)},Y.createElement("div",{"data-title":"",className:J(Q==null?void 0:Q.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},m.title),m.description?Y.createElement("div",{"data-description":"",className:J(M,He,Q==null?void 0:Q.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},m.description):null),Y.isValidElement(m.cancel)?m.cancel:m.cancel&&Dw(m.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||P,onClick:Pt=>{var xr,gr;Dw(m.cancel)&&ge&&((gr=(xr=m.cancel).onClick)==null||gr.call(xr,Pt),fa())},className:J(Q==null?void 0:Q.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Y.isValidElement(m.action)?m.action:m.action&&Dw(m.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Pt=>{var xr,gr;Dw(m.action)&&(Pt.defaultPrevented||((gr=(xr=m.action).onClick)==null||gr.call(xr,Pt),fa()))},className:J(Q==null?void 0:Q.actionButton,(d=m==null?void 0:m.classNames)==null?void 0:d.actionButton)},m.action.label):null))};function dL(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var PAe=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:m=jAe,toastOptions:p,dir:y=dL(),gap:x=SAe,loadingIcon:v,icons:_,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:S,cn:C=kAe}=t,[N,k]=Y.useState([]),E=Y.useMemo(()=>Array.from(new Set([r].concat(N.filter($=>$.position).map($=>$.position)))),[N,r]),[T,P]=Y.useState([]),[O,D]=Y.useState(!1),[M,F]=Y.useState(!1),[G,W]=Y.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Y.useRef(null),H=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=Y.useRef(null),z=Y.useRef(!1),q=Y.useCallback($=>{var J;(J=N.find(le=>le.id===$.id))!=null&&J.delete||Wa.dismiss($.id),k(le=>le.filter(({id:ae})=>ae!==$.id))},[N]);return Y.useEffect(()=>Wa.subscribe($=>{if($.dismiss){k(J=>J.map(le=>le.id===$.id?{...le,delete:!0}:le));return}setTimeout(()=>{uz.flushSync(()=>{k(J=>{let le=J.findIndex(ae=>ae.id===$.id);return le!==-1?[...J.slice(0,le),{...J[le],...$},...J.slice(le+1)]:[$,...J]})})})}),[]),Y.useEffect(()=>{if(c!=="system"){W(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{W($?"dark":"light")})},[c]),Y.useEffect(()=>{N.length<=1&&D(!1)},[N]),Y.useEffect(()=>{let $=J=>{var le,ae;n.every(ee=>J[ee]||J.code===ee)&&(D(!0),(le=V.current)==null||le.focus()),J.code==="Escape"&&(document.activeElement===V.current||(ae=V.current)!=null&&ae.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[n]),Y.useEffect(()=>{if(V.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,z.current=!1)}},[V.current]),N.length?Y.createElement("section",{"aria-label":`${j} ${H}`,tabIndex:-1},E.map(($,J)=>{var le;let[ae,ee]=$.split("-");return Y.createElement("ol",{key:$,dir:y==="auto"?dL():y,tabIndex:-1,ref:V,className:o,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":ae,"data-x-position":ee,style:{"--front-toast-height":`${((le=T[0])==null?void 0:le.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||CAe,"--width":`${EAe}px`,"--gap":`${x}px`,...f},onBlur:ue=>{z.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(z.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||z.current||(z.current=!0,Q.current=ue.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{M||D(!1)},onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},N.filter(ue=>!ue.position&&J===0||ue.position===$).map((ue,xe)=>{var me,ye;return Y.createElement(IAe,{key:ue.id,icons:_,index:xe,toast:ue,defaultRichColors:u,duration:(me=p==null?void 0:p.duration)!=null?me:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:m,closeButton:(ye=p==null?void 0:p.closeButton)!=null?ye:a,interacting:M,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:q,toasts:N.filter(je=>je.position==ue.position),heights:T.filter(je=>je.position==ue.position),setHeights:P,expandByDefault:s,gap:x,loadingIcon:v,expanded:O,pauseWhenPageIsHidden:S,cn:C})}))})):null};const OAe=({...t})=>{const{theme:e="system"}=cAe();return i.jsx(PAe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var FAe=cz.useId||(()=>{}),RAe=0;function il(t){const[e,r]=w.useState(FAe());return qn(()=>{r(n=>n??String(RAe++))},[t]),e?`radix-${e}`:""}const DAe=["top","right","bottom","left"],Ku=Math.min,Ya=Math.max,y1=Math.round,Uw=Math.floor,qu=t=>({x:t,y:t}),UAe={left:"right",right:"left",bottom:"top",top:"bottom"},MAe={start:"end",end:"start"};function KP(t,e,r){return Ya(t,Ku(e,r))}function uc(t,e){return typeof t=="function"?t(e):t}function Ac(t){return t.split("-")[0]}function gp(t){return t.split("-")[1]}function _R(t){return t==="x"?"y":"x"}function jR(t){return t==="y"?"height":"width"}function zu(t){return["top","bottom"].includes(Ac(t))?"y":"x"}function CR(t){return _R(zu(t))}function QAe(t,e,r){r===void 0&&(r=!1);const n=gp(t),s=CR(t),a=jR(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=x1(o)),[o,x1(o)]}function LAe(t){const e=x1(t);return[qP(t),e,qP(e)]}function qP(t){return t.replace(/start|end/g,e=>MAe[e])}function HAe(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:o;default:return[]}}function $Ae(t,e,r,n){const s=gp(t);let a=HAe(Ac(t),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),e&&(a=a.concat(a.map(qP)))),a}function x1(t){return t.replace(/left|right|bottom|top/g,e=>UAe[e])}function VAe(t){return{top:0,right:0,bottom:0,left:0,...t}}function iG(t){return typeof t!="number"?VAe(t):{top:t,right:t,bottom:t,left:t}}function w1(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function fL(t,e,r){let{reference:n,floating:s}=t;const a=zu(e),o=CR(e),l=jR(o),c=Ac(e),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,m=n[l]/2-s[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-s.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-s.width,y:f};break;default:p={x:n.x,y:n.y}}switch(gp(e)){case"start":p[o]-=m*(r&&u?-1:1);break;case"end":p[o]+=m*(r&&u?-1:1);break}return p}const KAe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=fL(u,n,c),m=n,p={},y=0;for(let x=0;x<l.length;x++){const{name:v,fn:_}=l[x],{x:j,y:S,data:C,reset:N}=await _({x:d,y:f,initialPlacement:n,placement:m,strategy:s,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});d=j??d,f=S??f,p={...p,[v]:{...p[v],...C}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(m=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):N.rects),{x:d,y:f}=fL(u,m,c)),x=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:p}};async function ey(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=uc(e,t),y=iG(p),v=l[m?f==="floating"?"reference":"floating":f],_=w1(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(v)))==null||r?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),j=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),C=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},N=w1(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:j,offsetParent:S,strategy:c}):j);return{top:(_.top-N.top+y.top)/C.y,bottom:(N.bottom-_.bottom+y.bottom)/C.y,left:(_.left-N.left+y.left)/C.x,right:(N.right-_.right+y.right)/C.x}}const qAe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=uc(t,e)||{};if(u==null)return{};const f=iG(d),m={x:r,y:n},p=CR(s),y=jR(p),x=await o.getDimensions(u),v=p==="y",_=v?"top":"left",j=v?"bottom":"right",S=v?"clientHeight":"clientWidth",C=a.reference[y]+a.reference[p]-m[p]-a.floating[y],N=m[p]-a.reference[p],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=k?k[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(k)))&&(E=l.floating[S]||a.floating[y]);const T=C/2-N/2,P=E/2-x[y]/2-1,O=Ku(f[_],P),D=Ku(f[j],P),M=O,F=E-x[y]-D,G=E/2-x[y]/2+T,W=KP(M,G,F),V=!c.arrow&&gp(s)!=null&&G!==W&&a.reference[y]/2-(G<M?O:D)-x[y]/2<0,H=V?G<M?G-M:G-F:0;return{[p]:m[p]+H,data:{[p]:W,centerOffset:G-W-H,...V&&{alignmentOffset:H}},reset:V}}}),zAe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=uc(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const _=Ac(s),j=zu(l),S=Ac(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=m||(S||!x?[x1(l)]:LAe(l)),k=y!=="none";!m&&k&&N.push(...$Ae(l,x,y,C));const E=[l,...N],T=await ey(e,v),P=[];let O=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(T[_]),f){const G=QAe(s,o,C);P.push(T[G[0]],T[G[1]])}if(O=[...O,{placement:s,overflows:P}],!P.every(G=>G<=0)){var D,M;const G=(((D=a.flip)==null?void 0:D.index)||0)+1,W=E[G];if(W)return{data:{index:G,overflows:O},reset:{placement:W}};let V=(M=O.filter(H=>H.overflows[0]<=0).sort((H,Q)=>H.overflows[1]-Q.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(p){case"bestFit":{var F;const H=(F=O.filter(Q=>{if(k){const z=zu(Q.placement);return z===j||z==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(z=>z>0).reduce((z,q)=>z+q,0)]).sort((Q,z)=>Q[1]-z[1])[0])==null?void 0:F[0];H&&(V=H);break}case"initialPlacement":V=l;break}if(s!==V)return{reset:{placement:V}}}return{}}}};function hL(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function mL(t){return DAe.some(e=>t[e]>=0)}const GAe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=uc(t,e);switch(n){case"referenceHidden":{const a=await ey(e,{...s,elementContext:"reference"}),o=hL(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mL(o)}}}case"escaped":{const a=await ey(e,{...s,altBoundary:!0}),o=hL(a,r.floating);return{data:{escapedOffsets:o,escaped:mL(o)}}}default:return{}}}}};async function WAe(t,e){const{placement:r,platform:n,elements:s}=t,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ac(r),l=gp(r),c=zu(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=uc(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const XAe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=e,c=await WAe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},JAe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:_,y:j}=v;return{x:_,y:j}}},...c}=uc(t,e),u={x:r,y:n},d=await ey(e,c),f=zu(Ac(s)),m=_R(f);let p=u[m],y=u[f];if(a){const v=m==="y"?"top":"left",_=m==="y"?"bottom":"right",j=p+d[v],S=p-d[_];p=KP(j,p,S)}if(o){const v=f==="y"?"top":"left",_=f==="y"?"bottom":"right",j=y+d[v],S=y-d[_];y=KP(j,y,S)}const x=l.fn({...e,[m]:p,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:a,[f]:o}}}}}},YAe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uc(t,e),d={x:r,y:n},f=zu(s),m=_R(f);let p=d[m],y=d[f];const x=uc(l,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const S=m==="y"?"height":"width",C=a.reference[m]-a.floating[S]+v.mainAxis,N=a.reference[m]+a.reference[S]-v.mainAxis;p<C?p=C:p>N&&(p=N)}if(u){var _,j;const S=m==="y"?"width":"height",C=["top","left"].includes(Ac(s)),N=a.reference[f]-a.floating[S]+(C&&((_=o.offset)==null?void 0:_[f])||0)+(C?0:v.crossAxis),k=a.reference[f]+a.reference[S]+(C?0:((j=o.offset)==null?void 0:j[f])||0)-(C?v.crossAxis:0);y<N?y=N:y>k&&(y=k)}return{[m]:p,[f]:y}}}},ZAe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=uc(t,e),d=await ey(e,u),f=Ac(s),m=gp(s),p=zu(s)==="y",{width:y,height:x}=a.floating;let v,_;f==="top"||f==="bottom"?(v=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(_=f,v=m==="end"?"top":"bottom");const j=x-d.top-d.bottom,S=y-d.left-d.right,C=Ku(x-d[v],j),N=Ku(y-d[_],S),k=!e.middlewareData.shift;let E=C,T=N;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(T=S),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=j),k&&!m){const O=Ya(d.left,0),D=Ya(d.right,0),M=Ya(d.top,0),F=Ya(d.bottom,0);p?T=y-2*(O!==0||D!==0?O+D:Ya(d.left,d.right)):E=x-2*(M!==0||F!==0?M+F:Ya(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:E});const P=await o.getDimensions(l.floating);return y!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function Tj(){return typeof window<"u"}function vp(t){return oG(t)?(t.nodeName||"").toLowerCase():"#document"}function ni(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function xl(t){var e;return(e=(oG(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function oG(t){return Tj()?t instanceof Node||t instanceof ni(t).Node:!1}function Co(t){return Tj()?t instanceof Element||t instanceof ni(t).Element:!1}function dl(t){return Tj()?t instanceof HTMLElement||t instanceof ni(t).HTMLElement:!1}function pL(t){return!Tj()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ni(t).ShadowRoot}function Px(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Bo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function ede(t){return["table","td","th"].includes(vp(t))}function kj(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function BR(t){const e=ER(),r=Co(t)?Bo(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function tde(t){let e=Gu(t);for(;dl(e)&&!xm(e);){if(BR(e))return e;if(kj(e))return null;e=Gu(e)}return null}function ER(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xm(t){return["html","body","#document"].includes(vp(t))}function Bo(t){return ni(t).getComputedStyle(t)}function Ij(t){return Co(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gu(t){if(vp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||pL(t)&&t.host||xl(t);return pL(e)?e.host:e}function lG(t){const e=Gu(t);return xm(e)?t.ownerDocument?t.ownerDocument.body:t.body:dl(e)&&Px(e)?e:lG(e)}function ty(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=lG(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),o=ni(s);if(a){const l=zP(o);return e.concat(o,o.visualViewport||[],Px(s)?s:[],l&&r?ty(l):[])}return e.concat(s,ty(s,[],r))}function zP(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cG(t){const e=Bo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=dl(t),a=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=y1(r)!==a||y1(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function SR(t){return Co(t)?t:t.contextElement}function qh(t){const e=SR(t);if(!dl(e))return qu(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=cG(e);let o=(a?y1(r.width):r.width)/n,l=(a?y1(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const rde=qu(0);function uG(t){const e=ni(t);return!ER()||!e.visualViewport?rde:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function nde(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ni(t)?!1:e}function Qd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=SR(t);let o=qu(1);e&&(n?Co(n)&&(o=qh(n)):o=qh(t));const l=nde(a,r,n)?uG(a):qu(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const m=ni(a),p=n&&Co(n)?ni(n):n;let y=m,x=zP(y);for(;x&&n&&p!==y;){const v=qh(x),_=x.getBoundingClientRect(),j=Bo(x),S=_.left+(x.clientLeft+parseFloat(j.paddingLeft))*v.x,C=_.top+(x.clientTop+parseFloat(j.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=S,u+=C,y=ni(x),x=zP(y)}}return w1({width:d,height:f,x:c,y:u})}function sde(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",o=xl(n),l=e?kj(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=qu(1);const d=qu(0),f=dl(n);if((f||!f&&!a)&&((vp(n)!=="body"||Px(o))&&(c=Ij(n)),dl(n))){const m=Qd(n);u=qh(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function ade(t){return Array.from(t.getClientRects())}function GP(t,e){const r=Ij(t).scrollLeft;return e?e.left+r:Qd(xl(t)).left+r}function ide(t){const e=xl(t),r=Ij(t),n=t.ownerDocument.body,s=Ya(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ya(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+GP(t);const l=-r.scrollTop;return Bo(n).direction==="rtl"&&(o+=Ya(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}function ode(t,e){const r=ni(t),n=xl(t),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const u=ER();(!u||u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:o,x:l,y:c}}function lde(t,e){const r=Qd(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=dl(t)?qh(t):qu(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function gL(t,e,r){let n;if(e==="viewport")n=ode(t,r);else if(e==="document")n=ide(xl(t));else if(Co(e))n=lde(e,r);else{const s=uG(t);n={...e,x:e.x-s.x,y:e.y-s.y}}return w1(n)}function AG(t,e){const r=Gu(t);return r===e||!Co(r)||xm(r)?!1:Bo(r).position==="fixed"||AG(r,e)}function cde(t,e){const r=e.get(t);if(r)return r;let n=ty(t,[],!1).filter(l=>Co(l)&&vp(l)!=="body"),s=null;const a=Bo(t).position==="fixed";let o=a?Gu(t):t;for(;Co(o)&&!xm(o);){const l=Bo(o),c=BR(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Px(o)&&!c&&AG(t,o))?n=n.filter(d=>d!==o):s=l,o=Gu(o)}return e.set(t,n),n}function ude(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?kj(e)?[]:cde(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=gL(e,d,s);return u.top=Ya(f.top,u.top),u.right=Ku(f.right,u.right),u.bottom=Ku(f.bottom,u.bottom),u.left=Ya(f.left,u.left),u},gL(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ade(t){const{width:e,height:r}=cG(t);return{width:e,height:r}}function dde(t,e,r){const n=dl(e),s=xl(e),a=r==="fixed",o=Qd(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=qu(0);if(n||!n&&!a)if((vp(e)!=="body"||Px(s))&&(l=Ij(e)),n){const p=Qd(e,!0,a,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=GP(s));let u=0,d=0;if(s&&!n&&!a){const p=s.getBoundingClientRect();d=p.top+l.scrollTop,u=p.left+l.scrollLeft-GP(s,p)}const f=o.left+l.scrollLeft-c.x-u,m=o.top+l.scrollTop-c.y-d;return{x:f,y:m,width:o.width,height:o.height}}function nS(t){return Bo(t).position==="static"}function vL(t,e){if(!dl(t)||Bo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return xl(t)===r&&(r=r.ownerDocument.body),r}function dG(t,e){const r=ni(t);if(kj(t))return r;if(!dl(t)){let s=Gu(t);for(;s&&!xm(s);){if(Co(s)&&!nS(s))return s;s=Gu(s)}return r}let n=vL(t,e);for(;n&&ede(n)&&nS(n);)n=vL(n,e);return n&&xm(n)&&nS(n)&&!BR(n)?r:n||tde(t)||r}const fde=async function(t){const e=this.getOffsetParent||dG,r=this.getDimensions,n=await r(t.floating);return{reference:dde(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function hde(t){return Bo(t).direction==="rtl"}const mde={convertOffsetParentRelativeRectToViewportRelativeRect:sde,getDocumentElement:xl,getClippingRect:ude,getOffsetParent:dG,getElementRects:fde,getClientRects:ade,getDimensions:Ade,getScale:qh,isElement:Co,isRTL:hde};function pde(t,e){let r=null,n;const s=xl(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const{left:u,top:d,width:f,height:m}=t.getBoundingClientRect();if(l||e(),!f||!m)return;const p=Uw(d),y=Uw(s.clientWidth-(u+f)),x=Uw(s.clientHeight-(d+m)),v=Uw(u),j={rootMargin:-p+"px "+-y+"px "+-x+"px "+-v+"px",threshold:Ya(0,Ku(1,c))||1};let S=!0;function C(N){const k=N[0].intersectionRatio;if(k!==c){if(!S)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}S=!1}try{r=new IntersectionObserver(C,{...j,root:s.ownerDocument})}catch{r=new IntersectionObserver(C,j)}r.observe(t)}return o(!0),a}function gde(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=SR(t),d=s||a?[...u?ty(u):[],...ty(e)]:[];d.forEach(_=>{s&&_.addEventListener("scroll",r,{passive:!0}),a&&_.addEventListener("resize",r)});const f=u&&l?pde(u,r):null;let m=-1,p=null;o&&(p=new ResizeObserver(_=>{let[j]=_;j&&j.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let y,x=c?Qd(t):null;c&&v();function v(){const _=Qd(t);x&&(_.x!==x.x||_.y!==x.y||_.width!==x.width||_.height!==x.height)&&r(),x=_,y=requestAnimationFrame(v)}return r(),()=>{var _;d.forEach(j=>{s&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),f==null||f(),(_=p)==null||_.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const vde=XAe,yde=JAe,xde=zAe,wde=ZAe,bde=GAe,yL=qAe,_de=YAe,jde=(t,e,r)=>{const n=new Map,s={platform:mde,...r},a={...s.platform,_c:n};return KAe(t,e,{...s,platform:a})};var Kb=typeof document<"u"?w.useLayoutEffect:w.useEffect;function b1(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!b1(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!b1(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function fG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xL(t,e){const r=fG(t);return Math.round(e*r)/r}function sS(t){const e=w.useRef(t);return Kb(()=>{e.current=t}),e}function Cde(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=w.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=w.useState(n);b1(m,n)||p(n);const[y,x]=w.useState(null),[v,_]=w.useState(null),j=w.useCallback(Q=>{Q!==k.current&&(k.current=Q,x(Q))},[]),S=w.useCallback(Q=>{Q!==E.current&&(E.current=Q,_(Q))},[]),C=a||y,N=o||v,k=w.useRef(null),E=w.useRef(null),T=w.useRef(d),P=c!=null,O=sS(c),D=sS(s),M=sS(u),F=w.useCallback(()=>{if(!k.current||!E.current)return;const Q={placement:e,strategy:r,middleware:m};D.current&&(Q.platform=D.current),jde(k.current,E.current,Q).then(z=>{const q={...z,isPositioned:M.current!==!1};G.current&&!b1(T.current,q)&&(T.current=q,dp.flushSync(()=>{f(q)}))})},[m,e,r,D,M]);Kb(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,f(Q=>({...Q,isPositioned:!1})))},[u]);const G=w.useRef(!1);Kb(()=>(G.current=!0,()=>{G.current=!1}),[]),Kb(()=>{if(C&&(k.current=C),N&&(E.current=N),C&&N){if(O.current)return O.current(C,N,F);F()}},[C,N,F,O,P]);const W=w.useMemo(()=>({reference:k,floating:E,setReference:j,setFloating:S}),[j,S]),V=w.useMemo(()=>({reference:C,floating:N}),[C,N]),H=w.useMemo(()=>{const Q={position:r,left:0,top:0};if(!V.floating)return Q;const z=xL(V.floating,d.x),q=xL(V.floating,d.y);return l?{...Q,transform:"translate("+z+"px, "+q+"px)",...fG(V.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:q}},[r,l,V.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:F,refs:W,elements:V,floatingStyles:H}),[d,F,W,V,H])}const Bde=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?yL({element:n.current,padding:s}).fn(r):{}:n?yL({element:n,padding:s}).fn(r):{}}}},Ede=(t,e)=>({...vde(t),options:[t,e]}),Sde=(t,e)=>({...yde(t),options:[t,e]}),Nde=(t,e)=>({..._de(t),options:[t,e]}),Tde=(t,e)=>({...xde(t),options:[t,e]}),kde=(t,e)=>({...wde(t),options:[t,e]}),Ide=(t,e)=>({...bde(t),options:[t,e]}),Pde=(t,e)=>({...Bde(t),options:[t,e]});var Ode="Arrow",hG=w.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...a}=t;return i.jsx(yt.svg,{...a,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});hG.displayName=Ode;var Fde=hG;function Rde(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:p,...y}=f,x=(m==null?void 0:m[t][c])||l,v=w.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:v,children:p})}function d(f,m){const p=(m==null?void 0:m[t][c])||l,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,Dde(s,...e)]}function Dde(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Ox(t){const[e,r]=w.useState(void 0);return qn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var NR="Popper",[mG,yp]=Rde(NR),[Ude,pG]=mG(NR),gG=t=>{const{__scopePopper:e,children:r}=t,[n,s]=w.useState(null);return i.jsx(Ude,{scope:e,anchor:n,onAnchorChange:s,children:r})};gG.displayName=NR;var vG="PopperAnchor",yG=w.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,a=pG(vG,r),o=w.useRef(null),l=Ht(e,o);return w.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:i.jsx(yt.div,{...s,ref:l})});yG.displayName=vG;var TR="PopperContent",[Mde,Qde]=mG(TR),xG=w.forwardRef((t,e)=>{var xe,me,ye,je,Fe,ne;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=t,v=pG(TR,r),[_,j]=w.useState(null),S=Ht(e,ke=>j(ke)),[C,N]=w.useState(null),k=Ox(C),E=(k==null?void 0:k.width)??0,T=(k==null?void 0:k.height)??0,P=n+(a!=="center"?"-"+a:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],M=D.length>0,F={padding:O,boundary:D.filter(Hde),altBoundary:M},{refs:G,floatingStyles:W,placement:V,isPositioned:H,middlewareData:Q}=Cde({strategy:"fixed",placement:P,whileElementsMounted:(...ke)=>gde(...ke,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[Ede({mainAxis:s+T,alignmentAxis:o}),c&&Sde({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Nde():void 0,...F}),c&&Tde({...F}),kde({...F,apply:({elements:ke,rects:We,availableWidth:ct,availableHeight:ft})=>{const{width:Xt,height:re}=We.reference,de=ke.floating.style;de.setProperty("--radix-popper-available-width",`${ct}px`),de.setProperty("--radix-popper-available-height",`${ft}px`),de.setProperty("--radix-popper-anchor-width",`${Xt}px`),de.setProperty("--radix-popper-anchor-height",`${re}px`)}}),C&&Pde({element:C,padding:l}),$de({arrowWidth:E,arrowHeight:T}),m&&Ide({strategy:"referenceHidden",...F})]}),[z,q]=_G(V),$=vn(y);qn(()=>{H&&($==null||$())},[H,$]);const J=(xe=Q.arrow)==null?void 0:xe.x,le=(me=Q.arrow)==null?void 0:me.y,ae=((ye=Q.arrow)==null?void 0:ye.centerOffset)!==0,[ee,ue]=w.useState();return qn(()=>{_&&ue(window.getComputedStyle(_).zIndex)},[_]),i.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:H?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(je=Q.transformOrigin)==null?void 0:je.x,(Fe=Q.transformOrigin)==null?void 0:Fe.y].join(" "),...((ne=Q.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:i.jsx(Mde,{scope:r,placedSide:z,onArrowChange:N,arrowX:J,arrowY:le,shouldHideArrow:ae,children:i.jsx(yt.div,{"data-side":z,"data-align":q,...x,ref:S,style:{...x.style,animation:H?void 0:"none"}})})})});xG.displayName=TR;var wG="PopperArrow",Lde={top:"bottom",right:"left",bottom:"top",left:"right"},bG=w.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,a=Qde(wG,n),o=Lde[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Fde,{...s,ref:r,style:{...s.style,display:"block"}})})});bG.displayName=wG;function Hde(t){return t!==null}var $de=t=>({name:"transformOrigin",options:t,fn(e){var v,_,j;const{placement:r,rects:n,middlewareData:s}=e,o=((v=s.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=_G(r),f={start:"0%",center:"50%",end:"100%"}[d],m=(((_=s.arrow)==null?void 0:_.x)??0)+l/2,p=(((j=s.arrow)==null?void 0:j.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${m}px`,x=`${-c}px`):u==="top"?(y=o?f:`${m}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${p}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${p}px`),{data:{x:y,y:x}}}});function _G(t){const[e,r="center"]=t.split("-");return[e,r]}var kR=gG,Pj=yG,IR=xG,PR=bG,[Oj,Aze]=Pa("Tooltip",[yp]),Fj=yp(),jG="TooltipProvider",Vde=700,WP="tooltip.open",[Kde,OR]=Oj(jG),CG=t=>{const{__scopeTooltip:e,delayDuration:r=Vde,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:a}=t,[o,l]=w.useState(!0),c=w.useRef(!1),u=w.useRef(0);return w.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(Kde,{scope:e,isOpenDelayed:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(u.current),l(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:a})};CG.displayName=jG;var Rj="Tooltip",[qde,Dj]=Oj(Rj),BG=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:s=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=OR(Rj,t.__scopeTooltip),u=Fj(e),[d,f]=w.useState(null),m=il(),p=w.useRef(0),y=o??c.disableHoverableContent,x=l??c.delayDuration,v=w.useRef(!1),[_=!1,j]=Ri({prop:n,defaultProp:s,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(WP))):c.onClose(),a==null||a(E)}}),S=w.useMemo(()=>_?v.current?"delayed-open":"instant-open":"closed",[_]),C=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,j(!0)},[j]),N=w.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),k=w.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,j(!0),p.current=0},x)},[x,j]);return w.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),i.jsx(kR,{...u,children:i.jsx(qde,{scope:e,contentId:m,open:_,stateAttribute:S,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayed?k():C()},[c.isOpenDelayed,k,C]),onTriggerLeave:w.useCallback(()=>{y?N():(window.clearTimeout(p.current),p.current=0)},[N,y]),onOpen:C,onClose:N,disableHoverableContent:y,children:r})})};BG.displayName=Rj;var XP="TooltipTrigger",EG=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Dj(XP,r),a=OR(XP,r),o=Fj(r),l=w.useRef(null),c=Ht(e,l,s.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),i.jsx(Pj,{asChild:!0,...o,children:i.jsx(yt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:Ye(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ye(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:Ye(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ye(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:Ye(t.onBlur,s.onClose),onClick:Ye(t.onClick,s.onClose)})})});EG.displayName=XP;var zde="TooltipPortal",[dze,Gde]=Oj(zde,{forceMount:void 0}),wm="TooltipContent",SG=w.forwardRef((t,e)=>{const r=Gde(wm,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...a}=t,o=Dj(wm,t.__scopeTooltip);return i.jsx(ua,{present:n||o.open,children:o.disableHoverableContent?i.jsx(NG,{side:s,...a,ref:e}):i.jsx(Wde,{side:s,...a,ref:e})})}),Wde=w.forwardRef((t,e)=>{const r=Dj(wm,t.__scopeTooltip),n=OR(wm,t.__scopeTooltip),s=w.useRef(null),a=Ht(e,s),[o,l]=w.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,m=w.useCallback(()=>{l(null),f(!1)},[f]),p=w.useCallback((y,x)=>{const v=y.currentTarget,_={x:y.clientX,y:y.clientY},j=Zde(_,v.getBoundingClientRect()),S=efe(_,j),C=tfe(x.getBoundingClientRect()),N=nfe([...S,...C]);l(N),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(c&&d){const y=v=>p(v,d),x=v=>p(v,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,p,m]),w.useEffect(()=>{if(o){const y=x=>{const v=x.target,_={x:x.clientX,y:x.clientY},j=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),S=!rfe(_,o);j?m():S&&(m(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,m]),i.jsx(NG,{...t,ref:a})}),[Xde,Jde]=Oj(Rj,{isInside:!1}),NG=w.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=Dj(wm,r),u=Fj(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(WP,d),()=>document.removeEventListener(WP,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=m=>{const p=m.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),i.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:i.jsxs(IR,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(cR,{children:n}),i.jsx(Xde,{scope:r,isInside:!0,children:i.jsx(fce,{id:c.contentId,role:"tooltip",children:s||n})})]})})});SG.displayName=wm;var TG="TooltipArrow",Yde=w.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Fj(r);return Jde(TG,r).isInside?null:i.jsx(PR,{...s,...n,ref:e})});Yde.displayName=TG;function Zde(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,s,a)){case a:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function efe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function tfe(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function rfe(t,e){const{x:r,y:n}=t;let s=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a].x,c=e[a].y,u=e[o].x,d=e[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(s=!s)}return s}function nfe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),sfe(e)}function sfe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(s.y-o.y)>=(a.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var afe=CG,ife=BG,ofe=EG,kG=SG;const IG=afe,lfe=ife,cfe=ofe,PG=w.forwardRef(({className:t,sideOffset:e=4,...r},n)=>i.jsx(kG,{ref:n,sideOffset:e,className:Ee("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));PG.displayName=kG.displayName;var Fx=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ld=typeof window>"u"||"Deno"in globalThis;function ji(){}function ufe(t,e){return typeof t=="function"?t(e):t}function JP(t){return typeof t=="number"&&t>=0&&t!==1/0}function OG(t,e){return Math.max(t+(e||0)-Date.now(),0)}function zh(t,e){return typeof t=="function"?t(e):t}function fo(t,e){return typeof t=="function"?t(e):t}function wL(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==FR(o,e.options))return!1}else if(!ny(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||a&&!a(e))}function bL(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(ry(e.options.mutationKey)!==ry(a))return!1}else if(!ny(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function FR(t,e){return((e==null?void 0:e.queryKeyHashFn)||ry)(t)}function ry(t){return JSON.stringify(t,(e,r)=>ZP(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ny(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ny(t[r],e[r])):!1}function FG(t,e){if(t===e)return t;const r=_L(t)&&_L(e);if(r||ZP(t)&&ZP(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=FG(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function YP(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function _L(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ZP(t){if(!jL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!jL(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function jL(t){return Object.prototype.toString.call(t)==="[object Object]"}function Afe(t){return new Promise(e=>{setTimeout(e,t)})}function e2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?FG(t,e):e}function dfe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function ffe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var RR=Symbol();function RG(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===RR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jd,yu,am,Z7,hfe=(Z7=class extends Fx{constructor(){super();Qt(this,jd);Qt(this,yu);Qt(this,am);pt(this,am,e=>{if(!Ld&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){Ae(this,yu)||this.setEventListener(Ae(this,am))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,yu))==null||e.call(this),pt(this,yu,void 0))}setEventListener(e){var r;pt(this,am,e),(r=Ae(this,yu))==null||r.call(this),pt(this,yu,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){Ae(this,jd)!==e&&(pt(this,jd,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof Ae(this,jd)=="boolean"?Ae(this,jd):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jd=new WeakMap,yu=new WeakMap,am=new WeakMap,Z7),DR=new hfe,im,xu,om,ez,mfe=(ez=class extends Fx{constructor(){super();Qt(this,im,!0);Qt(this,xu);Qt(this,om);pt(this,om,e=>{if(!Ld&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){Ae(this,xu)||this.setEventListener(Ae(this,om))}onUnsubscribe(){var e;this.hasListeners()||((e=Ae(this,xu))==null||e.call(this),pt(this,xu,void 0))}setEventListener(e){var r;pt(this,om,e),(r=Ae(this,xu))==null||r.call(this),pt(this,xu,e(this.setOnline.bind(this)))}setOnline(e){Ae(this,im)!==e&&(pt(this,im,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return Ae(this,im)}},im=new WeakMap,xu=new WeakMap,om=new WeakMap,ez),_1=new mfe;function t2(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function pfe(t){return Math.min(1e3*2**t,3e4)}function DG(t){return(t??"online")==="online"?_1.isOnline():!0}var UG=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function aS(t){return t instanceof UG}function MG(t){let e=!1,r=0,n=!1,s;const a=t2(),o=x=>{var v;n||(m(new UG(x)),(v=t.abort)==null||v.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>DR.isFocused()&&(t.networkMode==="always"||_1.isOnline())&&t.canRun(),d=()=>DG(t.networkMode)&&t.canRun(),f=x=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,x),s==null||s(),a.resolve(x))},m=x=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,x),s==null||s(),a.reject(x))},p=()=>new Promise(x=>{var v;s=_=>{(n||u())&&x(_)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;s=void 0,n||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(n)return;let x;const v=r===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(_){x=Promise.reject(_)}Promise.resolve(x).then(f).catch(_=>{var k;if(n)return;const j=t.retry??(Ld?0:3),S=t.retryDelay??pfe,C=typeof S=="function"?S(r,_):S,N=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,_);if(e||!N){m(_);return}r++,(k=t.onFail)==null||k.call(t,r,_),Afe(C).then(()=>u()?void 0:p()).then(()=>{e?m(_):y()})})};return{promise:a,cancel:o,continue:()=>(s==null||s(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():p().then(y),a)}}function gfe(){let t=[],e=0,r=l=>{l()},n=l=>{l()},s=l=>setTimeout(l,0);const a=l=>{e?t.push(l):s(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var gs=gfe(),Cd,tz,QG=(tz=class{constructor(){Qt(this,Cd)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JP(this.gcTime)&&pt(this,Cd,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ld?1/0:5*60*1e3))}clearGcTimeout(){Ae(this,Cd)&&(clearTimeout(Ae(this,Cd)),pt(this,Cd,void 0))}},Cd=new WeakMap,tz),lm,cm,_i,Ps,Bx,Bd,io,ql,rz,vfe=(rz=class extends QG{constructor(r){super();Qt(this,io);Qt(this,lm);Qt(this,cm);Qt(this,_i);Qt(this,Ps);Qt(this,Bx);Qt(this,Bd);pt(this,Bd,!1),pt(this,Bx,r.defaultOptions),this.setOptions(r.options),this.observers=[],pt(this,_i,r.cache),this.queryKey=r.queryKey,this.queryHash=r.queryHash,pt(this,lm,yfe(this.options)),this.state=r.state??Ae(this,lm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=Ae(this,Ps))==null?void 0:r.promise}setOptions(r){this.options={...Ae(this,Bx),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Ae(this,_i).remove(this)}setData(r,n){const s=e2(this.state.data,r,this.options);return or(this,io,ql).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(r,n){or(this,io,ql).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var s,a;const n=(s=Ae(this,Ps))==null?void 0:s.promise;return(a=Ae(this,Ps))==null||a.cancel(r),n?n.then(ji).catch(ji):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Ae(this,lm))}isActive(){return this.observers.some(r=>fo(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(r=0){return this.state.isInvalidated||this.state.data===void 0||!OG(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(s=>s.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=Ae(this,Ps))==null||n.continue()}onOnline(){var n;const r=this.observers.find(s=>s.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=Ae(this,Ps))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),Ae(this,_i).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(Ae(this,Ps)&&(Ae(this,Bd)?Ae(this,Ps).cancel({revert:!0}):Ae(this,Ps).cancelRetry()),this.scheduleGc()),Ae(this,_i).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||or(this,io,ql).call(this,{type:"invalidate"})}fetch(r,n){var u,d,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Ae(this,Ps))return Ae(this,Ps).continueRetry(),Ae(this,Ps).promise}if(r&&this.setOptions(r),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(pt(this,Bd,!0),s.signal)})},o=()=>{const m=RG(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return a(p),pt(this,Bd,!1),this.options.persister?this.options.persister(m,p,this):m(p)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(l),(u=this.options.behavior)==null||u.onFetch(l,this),pt(this,cm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&or(this,io,ql).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var p,y,x,v;aS(m)&&m.silent||or(this,io,ql).call(this,{type:"error",error:m}),aS(m)||((y=(p=Ae(this,_i).config).onError)==null||y.call(p,m,this),(v=(x=Ae(this,_i).config).onSettled)==null||v.call(x,this.state.data,m,this)),this.scheduleGc()};return pt(this,Ps,MG({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var p,y,x,v;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(_){c(_);return}(y=(p=Ae(this,_i).config).onSuccess)==null||y.call(p,m,this),(v=(x=Ae(this,_i).config).onSettled)==null||v.call(x,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,p)=>{or(this,io,ql).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{or(this,io,ql).call(this,{type:"pause"})},onContinue:()=>{or(this,io,ql).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Ae(this,Ps).start()}},lm=new WeakMap,cm=new WeakMap,_i=new WeakMap,Ps=new WeakMap,Bx=new WeakMap,Bd=new WeakMap,io=new WeakSet,ql=function(r){const n=s=>{switch(r.type){case"failed":return{...s,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...LG(s.data,this.options),fetchMeta:r.meta??null};case"success":return{...s,data:r.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=r.error;return aS(a)&&a.revert&&Ae(this,cm)?{...Ae(this,cm),fetchStatus:"idle"}:{...s,error:a,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...r.state}}};this.state=n(this.state),gs.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Ae(this,_i).notify({query:this,type:"updated",action:r})})},rz);function LG(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DG(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yfe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wo,nz,xfe=(nz=class extends Fx{constructor(e={}){super();Qt(this,Wo);this.config=e,pt(this,Wo,new Map)}build(e,r,n){const s=r.queryKey,a=r.queryHash??FR(s,r);let o=this.get(a);return o||(o=new vfe({cache:this,queryKey:s,queryHash:a,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Ae(this,Wo).has(e.queryHash)||(Ae(this,Wo).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=Ae(this,Wo).get(e.queryHash);r&&(e.destroy(),r===e&&Ae(this,Wo).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Ae(this,Wo).get(e)}getAll(){return[...Ae(this,Wo).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>wL(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>wL(e,n)):r}notify(e){gs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){gs.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gs.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Wo=new WeakMap,nz),Xo,ea,Ed,Jo,su,sz,wfe=(sz=class extends QG{constructor(r){super();Qt(this,Jo);Qt(this,Xo);Qt(this,ea);Qt(this,Ed);this.mutationId=r.mutationId,pt(this,ea,r.mutationCache),pt(this,Xo,[]),this.state=r.state||bfe(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){Ae(this,Xo).includes(r)||(Ae(this,Xo).push(r),this.clearGcTimeout(),Ae(this,ea).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){pt(this,Xo,Ae(this,Xo).filter(n=>n!==r)),this.scheduleGc(),Ae(this,ea).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){Ae(this,Xo).length||(this.state.status==="pending"?this.scheduleGc():Ae(this,ea).remove(this))}continue(){var r;return((r=Ae(this,Ed))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var a,o,l,c,u,d,f,m,p,y,x,v,_,j,S,C,N,k,E,T;pt(this,Ed,MG({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{or(this,Jo,su).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{or(this,Jo,su).call(this,{type:"pause"})},onContinue:()=>{or(this,Jo,su).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Ae(this,ea).canRun(this)}));const n=this.state.status==="pending",s=!Ae(this,Ed).canStart();try{if(!n){or(this,Jo,su).call(this,{type:"pending",variables:r,isPaused:s}),await((o=(a=Ae(this,ea).config).onMutate)==null?void 0:o.call(a,r,this));const O=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,r));O!==this.state.context&&or(this,Jo,su).call(this,{type:"pending",context:O,variables:r,isPaused:s})}const P=await Ae(this,Ed).start();return await((d=(u=Ae(this,ea).config).onSuccess)==null?void 0:d.call(u,P,r,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,P,r,this.state.context)),await((y=(p=Ae(this,ea).config).onSettled)==null?void 0:y.call(p,P,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,P,null,r,this.state.context)),or(this,Jo,su).call(this,{type:"success",data:P}),P}catch(P){try{throw await((j=(_=Ae(this,ea).config).onError)==null?void 0:j.call(_,P,r,this.state.context,this)),await((C=(S=this.options).onError)==null?void 0:C.call(S,P,r,this.state.context)),await((k=(N=Ae(this,ea).config).onSettled)==null?void 0:k.call(N,void 0,P,this.state.variables,this.state.context,this)),await((T=(E=this.options).onSettled)==null?void 0:T.call(E,void 0,P,r,this.state.context)),P}finally{or(this,Jo,su).call(this,{type:"error",error:P})}}finally{Ae(this,ea).runNext(this)}}},Xo=new WeakMap,ea=new WeakMap,Ed=new WeakMap,Jo=new WeakSet,su=function(r){const n=s=>{switch(r.type){case"failed":return{...s,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...s,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:r.error,failureCount:s.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gs.batch(()=>{Ae(this,Xo).forEach(s=>{s.onMutationUpdate(r)}),Ae(this,ea).notify({mutation:this,type:"updated",action:r})})},sz);function bfe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ga,Ex,az,_fe=(az=class extends Fx{constructor(e={}){super();Qt(this,Ga);Qt(this,Ex);this.config=e,pt(this,Ga,new Map),pt(this,Ex,Date.now())}build(e,r,n){const s=new wfe({mutationCache:this,mutationId:++Iw(this,Ex)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){const r=Mw(e),n=Ae(this,Ga).get(r)??[];n.push(e),Ae(this,Ga).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Mw(e);if(Ae(this,Ga).has(r)){const s=(n=Ae(this,Ga).get(r))==null?void 0:n.filter(a=>a!==e);s&&(s.length===0?Ae(this,Ga).delete(r):Ae(this,Ga).set(r,s))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=Ae(this,Ga).get(Mw(e)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=Ae(this,Ga).get(Mw(e)))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){gs.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Ae(this,Ga).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bL(r,n))}findAll(e={}){return this.getAll().filter(r=>bL(e,r))}notify(e){gs.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return gs.batch(()=>Promise.all(e.map(r=>r.continue().catch(ji))))}},Ga=new WeakMap,Ex=new WeakMap,az);function Mw(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function CL(t){return{onFetch:(e,r)=>{var d,f,m,p,y;const n=e.options,s=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,a=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let x=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},_=RG(e.options,e.fetchOptions),j=async(S,C,N)=>{if(x)return Promise.reject();if(C==null&&S.pages.length)return Promise.resolve(S);const k={queryKey:e.queryKey,pageParam:C,direction:N?"backward":"forward",meta:e.options.meta};v(k);const E=await _(k),{maxPages:T}=e.options,P=N?ffe:dfe;return{pages:P(S.pages,E,T),pageParams:P(S.pageParams,C,T)}};if(s&&a.length){const S=s==="backward",C=S?jfe:BL,N={pages:a,pageParams:o},k=C(n,N);l=await j(N,k,S)}else{const S=t??a.length;do{const C=c===0?o[0]??n.initialPageParam:BL(n,l);if(c>0&&C==null)break;l=await j(l,C),c++}while(c<S)}return l};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function BL(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function jfe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var mn,wu,bu,um,Am,_u,dm,fm,iz,Cfe=(iz=class{constructor(t={}){Qt(this,mn);Qt(this,wu);Qt(this,bu);Qt(this,um);Qt(this,Am);Qt(this,_u);Qt(this,dm);Qt(this,fm);pt(this,mn,t.queryCache||new xfe),pt(this,wu,t.mutationCache||new _fe),pt(this,bu,t.defaultOptions||{}),pt(this,um,new Map),pt(this,Am,new Map),pt(this,_u,0)}mount(){Iw(this,_u)._++,Ae(this,_u)===1&&(pt(this,dm,DR.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,mn).onFocus())})),pt(this,fm,_1.subscribe(async t=>{t&&(await this.resumePausedMutations(),Ae(this,mn).onOnline())})))}unmount(){var t,e;Iw(this,_u)._--,Ae(this,_u)===0&&((t=Ae(this,dm))==null||t.call(this),pt(this,dm,void 0),(e=Ae(this,fm))==null||e.call(this),pt(this,fm,void 0))}isFetching(t){return Ae(this,mn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Ae(this,wu).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ae(this,mn).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=Ae(this,mn).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(zh(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return Ae(this,mn).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=Ae(this,mn).get(n.queryHash),a=s==null?void 0:s.state.data,o=ufe(e,a);if(o!==void 0)return Ae(this,mn).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return gs.batch(()=>Ae(this,mn).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=Ae(this,mn).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=Ae(this,mn);gs.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=Ae(this,mn),n={type:"active",...t};return gs.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=gs.batch(()=>Ae(this,mn).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ji).catch(ji)}invalidateQueries(t={},e={}){return gs.batch(()=>{if(Ae(this,mn).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=gs.batch(()=>Ae(this,mn).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(ji)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(ji)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=Ae(this,mn).build(this,e);return r.isStaleByTime(zh(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ji).catch(ji)}fetchInfiniteQuery(t){return t.behavior=CL(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ji).catch(ji)}ensureInfiniteQueryData(t){return t.behavior=CL(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _1.isOnline()?Ae(this,wu).resumePausedMutations():Promise.resolve()}getQueryCache(){return Ae(this,mn)}getMutationCache(){return Ae(this,wu)}getDefaultOptions(){return Ae(this,bu)}setDefaultOptions(t){pt(this,bu,t)}setQueryDefaults(t,e){Ae(this,um).set(ry(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Ae(this,um).values()];let r={};return e.forEach(n=>{ny(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){Ae(this,Am).set(ry(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Ae(this,Am).values()];let r={};return e.forEach(n=>{ny(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Ae(this,bu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=FR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===RR&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Ae(this,bu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Ae(this,mn).clear(),Ae(this,wu).clear()}},mn=new WeakMap,wu=new WeakMap,bu=new WeakMap,um=new WeakMap,Am=new WeakMap,_u=new WeakMap,dm=new WeakMap,fm=new WeakMap,iz),Ca,lr,Sx,ta,Sd,hm,ju,Yo,Nx,mm,pm,Nd,Td,Cu,gm,Tr,ov,r2,n2,s2,a2,i2,o2,l2,HG,oz,Bfe=(oz=class extends Fx{constructor(e,r){super();Qt(this,Tr);Qt(this,Ca);Qt(this,lr);Qt(this,Sx);Qt(this,ta);Qt(this,Sd);Qt(this,hm);Qt(this,ju);Qt(this,Yo);Qt(this,Nx);Qt(this,mm);Qt(this,pm);Qt(this,Nd);Qt(this,Td);Qt(this,Cu);Qt(this,gm,new Set);this.options=r,pt(this,Ca,e),pt(this,Yo,null),pt(this,ju,t2()),this.options.experimental_prefetchInRender||Ae(this,ju).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Ae(this,lr).addObserver(this),EL(Ae(this,lr),this.options)?or(this,Tr,ov).call(this):this.updateResult(),or(this,Tr,a2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c2(Ae(this,lr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c2(Ae(this,lr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,or(this,Tr,i2).call(this),or(this,Tr,o2).call(this),Ae(this,lr).removeObserver(this)}setOptions(e,r){const n=this.options,s=Ae(this,lr);if(this.options=Ae(this,Ca).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof fo(this.options.enabled,Ae(this,lr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");or(this,Tr,l2).call(this),Ae(this,lr).setOptions(this.options),n._defaulted&&!YP(this.options,n)&&Ae(this,Ca).getQueryCache().notify({type:"observerOptionsUpdated",query:Ae(this,lr),observer:this});const a=this.hasListeners();a&&SL(Ae(this,lr),s,this.options,n)&&or(this,Tr,ov).call(this),this.updateResult(r),a&&(Ae(this,lr)!==s||fo(this.options.enabled,Ae(this,lr))!==fo(n.enabled,Ae(this,lr))||zh(this.options.staleTime,Ae(this,lr))!==zh(n.staleTime,Ae(this,lr)))&&or(this,Tr,r2).call(this);const o=or(this,Tr,n2).call(this);a&&(Ae(this,lr)!==s||fo(this.options.enabled,Ae(this,lr))!==fo(n.enabled,Ae(this,lr))||o!==Ae(this,Cu))&&or(this,Tr,s2).call(this,o)}getOptimisticResult(e){const r=Ae(this,Ca).getQueryCache().build(Ae(this,Ca),e),n=this.createResult(r,e);return Sfe(this,n)&&(pt(this,ta,n),pt(this,hm,this.options),pt(this,Sd,Ae(this,lr).state)),n}getCurrentResult(){return Ae(this,ta)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){Ae(this,gm).add(e)}getCurrentQuery(){return Ae(this,lr)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=Ae(this,Ca).defaultQueryOptions(e),n=Ae(this,Ca).getQueryCache().build(Ae(this,Ca),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return or(this,Tr,ov).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Ae(this,ta)))}createResult(e,r){var T;const n=Ae(this,lr),s=this.options,a=Ae(this,ta),o=Ae(this,Sd),l=Ae(this,hm),u=e!==n?e.state:Ae(this,Sx),{state:d}=e;let f={...d},m=!1,p;if(r._optimisticResults){const P=this.hasListeners(),O=!P&&EL(e,r),D=P&&SL(e,n,r,s);(O||D)&&(f={...f,...LG(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:x,status:v}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===Ae(this,Nx))p=Ae(this,mm);else try{pt(this,Nx,r.select),p=r.select(f.data),p=e2(a==null?void 0:a.data,p,r),pt(this,mm,p),pt(this,Yo,null)}catch(P){pt(this,Yo,P)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&v==="pending"){let P;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))P=a.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((T=Ae(this,pm))==null?void 0:T.state.data,Ae(this,pm)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),pt(this,Yo,null)}catch(O){pt(this,Yo,O)}P!==void 0&&(v="success",p=e2(a==null?void 0:a.data,P,r),m=!0)}Ae(this,Yo)&&(y=Ae(this,Yo),p=Ae(this,mm),x=Date.now(),v="error");const _=f.fetchStatus==="fetching",j=v==="pending",S=v==="error",C=j&&_,N=p!==void 0,E={status:v,fetchStatus:f.fetchStatus,isPending:j,isSuccess:v==="success",isError:S,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:x,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!j,isLoadingError:S&&!N,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:S&&N,isStale:UR(e,r),refetch:this.refetch,promise:Ae(this,ju)};if(this.options.experimental_prefetchInRender){const P=M=>{E.status==="error"?M.reject(E.error):E.data!==void 0&&M.resolve(E.data)},O=()=>{const M=pt(this,ju,E.promise=t2());P(M)},D=Ae(this,ju);switch(D.status){case"pending":e.queryHash===n.queryHash&&P(D);break;case"fulfilled":(E.status==="error"||E.data!==D.value)&&O();break;case"rejected":(E.status!=="error"||E.error!==D.reason)&&O();break}}return E}updateResult(e){const r=Ae(this,ta),n=this.createResult(Ae(this,lr),this.options);if(pt(this,Sd,Ae(this,lr).state),pt(this,hm,this.options),Ae(this,Sd).data!==void 0&&pt(this,pm,Ae(this,lr)),YP(n,r))return;pt(this,ta,n);const s={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Ae(this,gm).size)return!0;const c=new Set(l??Ae(this,gm));return this.options.throwOnError&&c.add("error"),Object.keys(Ae(this,ta)).some(u=>{const d=u;return Ae(this,ta)[d]!==r[d]&&c.has(d)})};(e==null?void 0:e.listeners)!==!1&&a()&&(s.listeners=!0),or(this,Tr,HG).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&or(this,Tr,a2).call(this)}},Ca=new WeakMap,lr=new WeakMap,Sx=new WeakMap,ta=new WeakMap,Sd=new WeakMap,hm=new WeakMap,ju=new WeakMap,Yo=new WeakMap,Nx=new WeakMap,mm=new WeakMap,pm=new WeakMap,Nd=new WeakMap,Td=new WeakMap,Cu=new WeakMap,gm=new WeakMap,Tr=new WeakSet,ov=function(e){or(this,Tr,l2).call(this);let r=Ae(this,lr).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ji)),r},r2=function(){or(this,Tr,i2).call(this);const e=zh(this.options.staleTime,Ae(this,lr));if(Ld||Ae(this,ta).isStale||!JP(e))return;const n=OG(Ae(this,ta).dataUpdatedAt,e)+1;pt(this,Nd,setTimeout(()=>{Ae(this,ta).isStale||this.updateResult()},n))},n2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Ae(this,lr)):this.options.refetchInterval)??!1},s2=function(e){or(this,Tr,o2).call(this),pt(this,Cu,e),!(Ld||fo(this.options.enabled,Ae(this,lr))===!1||!JP(Ae(this,Cu))||Ae(this,Cu)===0)&&pt(this,Td,setInterval(()=>{(this.options.refetchIntervalInBackground||DR.isFocused())&&or(this,Tr,ov).call(this)},Ae(this,Cu)))},a2=function(){or(this,Tr,r2).call(this),or(this,Tr,s2).call(this,or(this,Tr,n2).call(this))},i2=function(){Ae(this,Nd)&&(clearTimeout(Ae(this,Nd)),pt(this,Nd,void 0))},o2=function(){Ae(this,Td)&&(clearInterval(Ae(this,Td)),pt(this,Td,void 0))},l2=function(){const e=Ae(this,Ca).getQueryCache().build(Ae(this,Ca),this.options);if(e===Ae(this,lr))return;const r=Ae(this,lr);pt(this,lr,e),pt(this,Sx,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},HG=function(e){gs.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(Ae(this,ta))}),Ae(this,Ca).getQueryCache().notify({query:Ae(this,lr),type:"observerResultsUpdated"})})},oz);function Efe(t,e){return fo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function EL(t,e){return Efe(t,e)||t.state.data!==void 0&&c2(t,e,e.refetchOnMount)}function c2(t,e,r){if(fo(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&UR(t,e)}return!1}function SL(t,e,r,n){return(t!==e||fo(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&UR(t,r)}function UR(t,e){return fo(e.enabled,t)!==!1&&t.isStaleByTime(zh(e.staleTime,t))}function Sfe(t,e){return!YP(t.getCurrentResult(),e)}var $G=w.createContext(void 0),VG=t=>{const e=w.useContext($G);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Nfe=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx($G.Provider,{value:t,children:e})),KG=w.createContext(!1),Tfe=()=>w.useContext(KG);KG.Provider;function kfe(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Ife=w.createContext(kfe()),Pfe=()=>w.useContext(Ife);function Ofe(t,e){return typeof t=="function"?t(...e):!!t}function Ffe(){}var Rfe=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Dfe=t=>{w.useEffect(()=>{t.clearReset()},[t])},Ufe=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Ofe(r,[t.error,n]),Mfe=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Qfe=(t,e)=>t.isLoading&&t.isFetching&&!e,Lfe=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,NL=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Hfe(t,e,r){var d,f,m,p,y;const n=VG(),s=Tfe(),a=Pfe(),o=n.defaultQueryOptions(t);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=s?"isRestoring":"optimistic",Mfe(o),Rfe(o,a),Dfe(a);const l=!n.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new e(n,o)),u=c.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(x=>{const v=s?()=>{}:c.subscribe(gs.batchCalls(x));return c.updateResult(),v},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Lfe(o,u))throw NL(o,c,a);if(Ufe({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(m=n.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,o,u),o.experimental_prefetchInRender&&!Ld&&Qfe(u,s)){const x=l?NL(o,c,a):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;x==null||x.catch(Ffe).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function $fe(t,e){return Hfe(t,Bfe)}const Vfe="modulepreload",Kfe=function(t){return"/"+t},TL={},bm=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(r.map(u=>{if(u=Kfe(u),u in TL)return;TL[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Vfe,d||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),d)return new Promise((p,y)=>{m.addEventListener("load",p),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})},qfe=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bm(async()=>{const{default:n}=await Promise.resolve().then(()=>xp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class MR extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class zfe extends MR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Gfe extends MR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Wfe extends MR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var u2;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(u2||(u2={}));var Xfe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Jfe{constructor(e,{headers:r={},customFetch:n,region:s=u2.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=qfe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Xfe(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(l["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(y=>{throw new zfe(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new Gfe(d);if(!d.ok)throw new Wfe(d);let m=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(s){return{data:null,error:s}}})}}var Zn={},eh={},th={},rh={},nh={},sh={},Yfe=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_m=Yfe();const Zfe=_m.fetch,qG=_m.fetch.bind(_m),zG=_m.Headers,ehe=_m.Request,the=_m.Response,xp=Object.freeze(Object.defineProperty({__proto__:null,Headers:zG,Request:ehe,Response:the,default:qG,fetch:Zfe},Symbol.toStringTag,{value:"Module"})),rhe=Tle(xp);var Qw={},kL;function GG(){if(kL)return Qw;kL=1,Object.defineProperty(Qw,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Qw.default=t,Qw}var IL;function WG(){if(IL)return sh;IL=1;var t=sh&&sh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(sh,"__esModule",{value:!0});const e=t(rhe),r=t(GG());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,m;let p=null,y=null,x=null,v=u.status,_=u.statusText;if(u.ok){if(this.method!=="HEAD"){const N=await u.text();N===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=N:y=JSON.parse(N))}const S=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),C=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");S&&C&&C.length>1&&(x=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,v=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const S=await u.text();try{p=JSON.parse(S),Array.isArray(p)&&u.status===404&&(y=[],p=null,v=200,_="OK")}catch{u.status===404&&S===""?(v=204,_="No Content"):p={message:S}}if(p&&this.isMaybeSingle&&(!((m=p==null?void 0:p.details)===null||m===void 0)&&m.includes("0 rows"))&&(p=null,v=200,_="OK"),p&&this.shouldThrowOnError)throw new r.default(p)}return{error:p,data:y,count:x,status:v,statusText:_}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,m;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(m=u==null?void 0:u.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return sh.default=n,sh}var PL;function XG(){if(PL)return nh;PL=1;var t=nh&&nh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nh,"__esModule",{value:!0});const e=t(WG());class r extends e.default{select(s){let a=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${a-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[s?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${m}"; options=${f};`,u==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return nh.default=r,nh}var OL;function QR(){if(OL)return rh;OL=1;var t=rh&&rh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rh,"__esModule",{value:!0});const e=t(XG());class r extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return rh.default=r,rh}var FL;function JG(){if(FL)return th;FL=1;var t=th&&th.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(th,"__esModule",{value:!0});const e=t(QR());class r{constructor(s,{headers:a={},schema:o,fetch:l}){this.url=s,this.headers=a,this.schema=o,this.fetch=l}select(s,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(s)){const u=s.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const f=s.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const a="DELETE",o=[];return s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return th.default=r,th}var Ig={},Pg={},RL;function nhe(){return RL||(RL=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.version=void 0,Pg.version="0.0.0-automated"),Pg}var DL;function she(){if(DL)return Ig;DL=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.DEFAULT_HEADERS=void 0;const t=nhe();return Ig.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Ig}var UL;function ahe(){if(UL)return eh;UL=1;var t=eh&&eh.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(eh,"__esModule",{value:!0});const e=t(JG()),r=t(QR()),n=she();class s{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new s(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:d}={}){let f;const m=new URL(`${this.url}/rpc/${o}`);let p;c||u?(f=c?"HEAD":"GET",Object.entries(l).filter(([x,v])=>v!==void 0).map(([x,v])=>[x,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([x,v])=>{m.searchParams.append(x,v)})):(f="POST",p=l);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new r.default({method:f,url:m,headers:y,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return eh.default=s,eh}var ML;function ihe(){if(ML)return Zn;ML=1;var t=Zn&&Zn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.PostgrestError=Zn.PostgrestBuilder=Zn.PostgrestTransformBuilder=Zn.PostgrestFilterBuilder=Zn.PostgrestQueryBuilder=Zn.PostgrestClient=void 0;const e=t(ahe());Zn.PostgrestClient=e.default;const r=t(JG());Zn.PostgrestQueryBuilder=r.default;const n=t(QR());Zn.PostgrestFilterBuilder=n.default;const s=t(XG());Zn.PostgrestTransformBuilder=s.default;const a=t(WG());Zn.PostgrestBuilder=a.default;const o=t(GG());return Zn.PostgrestError=o.default,Zn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:a.default,PostgrestError:o.default},Zn}var ohe=ihe();const lhe=yr(ohe),{PostgrestClient:che,PostgrestQueryBuilder:mze,PostgrestFilterBuilder:pze,PostgrestTransformBuilder:gze,PostgrestBuilder:vze,PostgrestError:yze}=lhe,uhe="2.11.2",Ahe={"X-Client-Info":`realtime-js/${uhe}`},dhe="1.0.0",YG=1e4,fhe=1e3;var Gh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gh||(Gh={}));var qa;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(qa||(qa={}));var oo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(oo||(oo={}));var A2;(function(t){t.websocket="websocket"})(A2||(A2={}));var ld;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ld||(ld={}));class hhe{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class ZG{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Xr||(Xr={}));const QL=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=mhe(o,t,e,s),a),{})},mhe=(t,e,r,n)=>{const s=e.find(l=>l.name===t),a=s==null?void 0:s.type,o=r[t];return a&&!n.includes(a)?eW(a,o):d2(o)},eW=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return yhe(e,r)}switch(t){case Xr.bool:return phe(e);case Xr.float4:case Xr.float8:case Xr.int2:case Xr.int4:case Xr.int8:case Xr.numeric:case Xr.oid:return ghe(e);case Xr.json:case Xr.jsonb:return vhe(e);case Xr.timestamp:return xhe(e);case Xr.abstime:case Xr.date:case Xr.daterange:case Xr.int4range:case Xr.int8range:case Xr.money:case Xr.reltime:case Xr.text:case Xr.time:case Xr.timestamptz:case Xr.timetz:case Xr.tsrange:case Xr.tstzrange:return d2(e);default:return d2(e)}},d2=t=>t,phe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ghe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vhe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yhe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>eW(e,l))}return t},xhe=t=>typeof t=="string"?t.replace(" ","T"):t,tW=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class iS{constructor(e,r,n={},s=YG){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var LL;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(LL||(LL={}));class Bv{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bv.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Bv.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Bv.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const m=d.map(v=>v.presence_ref),p=f.map(v=>v.presence_ref),y=d.filter(v=>p.indexOf(v.presence_ref)<0),x=f.filter(v=>m.indexOf(v.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var HL;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(HL||(HL={}));var $L;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($L||($L={}));var Gl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Gl||(Gl={}));class LR{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=qa.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iS(this,oo.join,this.params,this.timeout),this.rejoinTimer=new ZG(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qa.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qa.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=qa.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qa.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oo.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Bv(this),this.broadcastEndpointURL=tW(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>e==null?void 0:e(Gl.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Gl.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e==null||e(Gl.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,y=[];for(let x=0;x<p;x++){const v=m[x],{filter:{event:_,schema:j,table:S,filter:C}}=v,N=d&&d[x];if(N&&N.event===_&&N.schema===j&&N.table===S&&N.filter===C)y.push(Object.assign(Object.assign({},v),{id:N.id}));else{this.unsubscribe(),e==null||e(Gl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(Gl.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(Gl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Gl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=qa.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oo.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new iS(this,oo.leave,{},e);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iS(this,e,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oo;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var y,x,v;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(x=p.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(m,n)):(a=this.bindings[o])===null||a===void 0||a.filter(p=>{var y,x,v,_,j,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return C&&((x=r.ids)===null||x===void 0?void 0:x.includes(C))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const C=(j=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:x,table:v,commit_timestamp:_,type:j,errors:S}=y;m=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:_,eventType:j,new:{},old:{},errors:S}),this._getPayloadRecords(y))}p.callback(m,n)})}_isClosed(){return this.state===qa.closed}_isJoined(){return this.state===qa.joined}_isJoining(){return this.state===qa.joining}_isLeaving(){return this.state===qa.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&LR.isEqual(s.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(oo.close,{},e)}_onError(e){this._on(oo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qa.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=QL(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=QL(e.columns,e.old_record)),r}}const whe=()=>{},bhe=typeof WebSocket<"u",_he=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class jhe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Ahe,this.params={},this.timeout=YG,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=whe,this.conn=null,this.sendBuffer=[],this.serializer=new hhe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>bm(async()=>{const{default:c}=await Promise.resolve().then(()=>xp);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${A2.websocket}`,this.httpEndpoint=tW(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ZG(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(bhe){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Che(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),bm(async()=>{const{default:e}=await import("./browser-DxybzQV_.js").then(r=>r.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:dhe}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Gh.connecting:return ld.Connecting;case Gh.open:return ld.Open;case Gh.closing:return ld.Closing;default:return ld.Closed}}isConnected(){return this.connectionState()===ld.Open}channel(e,r={config:{}}){const n=new LR(`realtime:${e}`,r,this);return this.channels.push(n),n}push(e){const{topic:r,event:n,payload:s,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(oo.access_token,{access_token:r})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(fhe,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(oo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([_he],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Che{constructor(e,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Gh.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class HR extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ts(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Bhe extends HR{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class f2 extends HR{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Ehe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const rW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bm(async()=>{const{default:n}=await Promise.resolve().then(()=>xp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},She=()=>Ehe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bm(()=>Promise.resolve().then(()=>xp),void 0)).Response:Response}),h2=t=>{if(Array.isArray(t))return t.map(r=>h2(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=h2(n)}),e};var cf=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const oS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Nhe=(t,e,r)=>cf(void 0,void 0,void 0,function*(){const n=yield She();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{e(new Bhe(oS(s),t.status||500))}).catch(s=>{e(new f2(oS(s),s))}):e(new f2(oS(t),t))}),The=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Rx(t,e,r,n,s,a){return cf(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,The(e,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Nhe(c,l,n))})})}function j1(t,e,r,n){return cf(this,void 0,void 0,function*(){return Rx(t,"GET",e,r,n)})}function uu(t,e,r,n,s){return cf(this,void 0,void 0,function*(){return Rx(t,"POST",e,n,s,r)})}function khe(t,e,r,n,s){return cf(this,void 0,void 0,function*(){return Rx(t,"PUT",e,n,s,r)})}function Ihe(t,e,r,n){return cf(this,void 0,void 0,function*(){return Rx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function nW(t,e,r,n,s){return cf(this,void 0,void 0,function*(){return Rx(t,"DELETE",e,n,s,r)})}var ba=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Phe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},VL={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ohe{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=rW(s)}uploadOrUpdate(e,r,n,s){return ba(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},VL),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(ts(a))return{data:null,error:a};throw a}})}upload(e,r,n){return ba(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return ba(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:VL.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),m=yield f.json();return f.ok?{data:{path:a,fullPath:m.Key},error:null}:{data:null,error:m}}catch(c){if(ts(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return ba(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield uu(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new HR("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ts(n))return{data:null,error:n};throw n}})}update(e,r,n){return ba(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return ba(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ts(s))return{data:null,error:s};throw s}})}copy(e,r,n){return ba(this,void 0,void 0,function*(){try{return{data:{path:(yield uu(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ts(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return ba(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield uu(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if(ts(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return ba(this,void 0,void 0,function*(){try{const s=yield uu(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if(ts(s))return{data:null,error:s};throw s}})}download(e,r){return ba(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield j1(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ts(l))return{data:null,error:l};throw l}})}info(e){return ba(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield j1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:h2(n),error:null}}catch(n){if(ts(n))return{data:null,error:n};throw n}})}exists(e){return ba(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Ihe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ts(n)&&n instanceof f2){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return ba(this,void 0,void 0,function*(){try{return{data:yield nW(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ts(r))return{data:null,error:r};throw r}})}list(e,r,n){return ba(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Phe),r),{prefix:e||""});return{data:yield uu(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ts(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Fhe="2.7.1",Rhe={"X-Client-Info":`storage-js/${Fhe}`};var ah=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Dhe{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},Rhe),r),this.fetch=rW(n)}listBuckets(){return ah(this,void 0,void 0,function*(){try{return{data:yield j1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ts(e))return{data:null,error:e};throw e}})}getBucket(e){return ah(this,void 0,void 0,function*(){try{return{data:yield j1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ts(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ah(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ts(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ah(this,void 0,void 0,function*(){try{return{data:yield khe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ts(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ah(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ts(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ah(this,void 0,void 0,function*(){try{return{data:yield nW(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ts(r))return{data:null,error:r};throw r}})}}class Uhe extends Dhe{constructor(e,r={},n){super(e,r,n)}from(e){return new Ohe(this.url,this.headers,e,this.fetch)}}const Mhe="2.49.7";let lv="";typeof Deno<"u"?lv="deno":typeof document<"u"?lv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lv="react-native":lv="node";const Qhe={"X-Client-Info":`supabase-js-${lv}/${Mhe}`},Lhe={headers:Qhe},Hhe={schema:"public"},$he={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Vhe={};var Khe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const qhe=t=>{let e;return t?e=t:typeof fetch>"u"?e=qG:e=fetch,(...r)=>e(...r)},zhe=()=>typeof Headers>"u"?zG:Headers,Ghe=(t,e,r)=>{const n=qhe(r),s=zhe();return(a,o)=>Khe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var Whe=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Xhe(t){return t.replace(/\/$/,"")}function Jhe(t,e){var r,n;const{db:s,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Whe(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const sW="2.69.1",Ih=30*1e3,m2=3,lS=m2*Ih,Yhe="http://localhost:9999",Zhe="supabase.auth.token",eme={"X-Client-Info":`gotrue-js/${sW}`},p2="X-Supabase-Api-Version",aW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tme=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rme=6e5;class $R extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Wt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nme extends $R{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function sme(t){return Wt(t)&&t.name==="AuthApiError"}class iW extends $R{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class uA extends $R{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class au extends uA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ame(t){return Wt(t)&&t.name==="AuthSessionMissingError"}class cS extends uA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lw extends uA{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hw extends uA{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ime(t){return Wt(t)&&t.name==="AuthImplicitGrantRedirectError"}class KL extends uA{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class g2 extends uA{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function uS(t){return Wt(t)&&t.name==="AuthRetryableFetchError"}class qL extends uA{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ev extends uA{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),GL=` 	
\r=`.split(""),ome=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<GL.length;e+=1)t[GL[e].charCodeAt(0)]=-2;for(let e=0;e<zL.length;e+=1)t[zL[e].charCodeAt(0)]=e;return t})();function oW(t,e,r){const n=ome[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function WL(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{ume(o,n,r)};for(let o=0;o<t.length;o+=1)oW(t.charCodeAt(o),s,a);return e.join("")}function lme(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cme(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}lme(n,e)}}function ume(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ame(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)oW(t.charCodeAt(s),r,n);return new Uint8Array(e)}function dme(t){const e=[];return cme(t,r=>e.push(r)),new Uint8Array(e)}function fme(t){return Math.round(Date.now()/1e3)+t}function hme(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const zo=()=>typeof window<"u"&&typeof document<"u",qA={tested:!1,writable:!1},Sv=()=>{if(!zo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qA.tested)return qA.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),qA.tested=!0,qA.writable=!0}catch{qA.tested=!0,qA.writable=!1}return qA.writable};function mme(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const lW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>bm(async()=>{const{default:n}=await Promise.resolve().then(()=>xp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},pme=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",cW=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},$w=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Vw=async(t,e)=>{await t.removeItem(e)};let uW=class AW{constructor(){this.promise=new AW.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}};uW.promiseConstructor=Promise;function AS(t){const e=t.split(".");if(e.length!==3)throw new Ev("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!tme.test(e[n]))throw new Ev("JWT not in base64url format");return{header:JSON.parse(WL(e[0])),payload:JSON.parse(WL(e[1])),signature:Ame(e[2]),raw:{header:e[0],payload:e[1]}}}async function gme(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vme(t,e){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){s(o);return}}})()})}function yme(t){return("0"+t.toString(16)).substr(-2)}function xme(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,yme).join("")}async function wme(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function bme(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wme(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ih(t,e,r=!1){const n=xme();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await cW(t,`${e}-code-verifier`,s);const a=await bme(n);return[a,n===a?"plain":"s256"]}const _me=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jme(t){const e=t.headers.get(p2);if(!e||!e.match(_me))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Cme(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bme(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Eme=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ZA=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Sme=[502,503,504];async function XL(t){var e;if(!pme(t))throw new g2(ZA(t),0);if(Sme.includes(t.status))throw new g2(ZA(t),t.status);let r;try{r=await t.json()}catch(a){throw new iW(ZA(a),a)}let n;const s=jme(t);if(s&&s.getTime()>=aW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qL(ZA(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new au}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new qL(ZA(r),t.status,r.weak_password.reasons);throw new nme(ZA(r),t.status||500,n)}const Nme=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function rr(t,e,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[p2]||(a[p2]=aW["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Tme(t,e,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Tme(t,e,r,n,s,a){const o=Nme(e,n,s,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new g2(ZA(c),0)}if(l.ok||await XL(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await XL(c)}}function iu(t){var e;let r=null;Ome(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fme(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function JL(t){const e=iu(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function fu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function kme(t){return{data:t,error:null}}function Ime(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=t,o=Eme(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Pme(t){return t}function Ome(t){return t.access_token&&t.refresh_token&&t.expires_in}var Fme=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Rme{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=lW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r="global"){try{return await rr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await rr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fu})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Fme(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await rr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ime,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Wt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await rr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fu})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await rr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Pme});if(d.error)throw d.error;const f=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Wt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){try{return await rr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fu})}catch(r){if(Wt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){try{return await rr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:fu})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){try{return await rr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:fu})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:r,error:n}=await rr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){try{return{data:await rr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}}const Dme={getItem:t=>Sv()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Sv()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Sv()&&globalThis.localStorage.removeItem(t)}};function YL(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ume(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const oh={debug:!!(globalThis&&Sv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dW extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mme extends dW{}async function Qme(t,e,r){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),oh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Mme(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oh.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ume();const Lme={url:Yhe,storageKey:Zhe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:eme,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ZL(t,e,r){return await r()}class sy{constructor(e){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sy.nextInstanceID,sy.nextInstanceID+=1,this.instanceID>0&&zo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Lme),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Rme({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lW(s.fetch),this.lock=s.lock||ZL,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:zo()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Qme:this.lock=ZL,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Sv()?this.storage=Dme:(this.memoryStorage={},this.storage=YL(this.memoryStorage)):(this.memoryStorage={},this.storage=YL(this.memoryStorage)),zo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sW}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=mme(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),zo()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),ime(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Wt(r)?{error:r}:{error:new iW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const a=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:iu}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Wt(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,s;try{let a;if("email"in e){const{email:d,password:f,options:m}=e;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await ih(this.storage,this.storageKey)),a=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:iu})}else if("phone"in e){const{phone:d,password:f,options:m}=e;a=await rr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:iu})}else throw new Lw("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(Wt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:JL})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await rr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:JL})}else throw new Lw("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cS}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Wt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const r=await $w(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await rr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:iu});if(await Vw(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new cS}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(Wt(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=e,l=await rr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:iu}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new cS}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Wt(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ih(this.storage,this.storageKey));const{error:f}=await rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await rr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Lw("You must provide either an email or phone number.")}catch(l){if(Wt(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let s,a;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await rr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:iu});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Wt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ih(this.storage,this.storageKey)),await rr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:kme})}catch(a){if(Wt(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new au;const{error:s}=await rr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Wt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:a}=e,{error:o}=await rr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:a}=e,{data:o,error:l}=await rr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Lw("You must provide either an email or phone number and a type")}catch(r){if(Wt(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await $w(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<lS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fu}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new au}:await rr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:fu})})}catch(r){if(Wt(r))return ame(r)&&(await this._removeSession(),await Vw(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new au;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await ih(this.storage,this.storageKey));const{data:u,error:d}=await rr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:fu});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Wt(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new au;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=AS(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(Wt(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new au;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Wt(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!zo())throw new Hw("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hw(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new KL("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hw("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new KL("No code detected.");const{data:j,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new Hw("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let m=d+f;c&&(m=parseInt(c));const p=m-d;p*1e3<=Ih&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:x,error:v}=await this._getUser(a);if(v)throw v;const _={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(Wt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await $w(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(sme(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Vw(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=hme(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ih(this.storage,this.storageKey,!0));try{return await rr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Wt(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:m}=a;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await rr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return zo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Wt(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await rr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vme(async s=>(s>0&&await gme(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await rr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:iu})),(s,a)=>{const o=200*Math.pow(2,s);return a&&uS(a)&&Date.now()+o-n<Ih})}catch(n){if(this._debug(r,"error",n),Wt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),zo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await $w(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<lS;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${lS}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),uS(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new au;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new uW;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new au;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),Wt(a)){const o={session:null,error:a};return uS(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await cW(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Vw(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&zo()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ih);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Ih);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ih}ms, refresh threshold is ${m2} ticks`),s<=m2&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dW)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zo()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ih(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await rr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await rr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await rr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Wt(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=AS(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+rme>Date.now()))return n;const{data:s,error:a}=await rr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Ev("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===e),!n)throw new Ev("No matching signing key found in JWKS");return n}async getClaims(e,r={keys:[]}){try{let n=e;if(!n){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};n=p.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=AS(n);if(Cme(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:o},error:null}}const u=Bme(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,dme(`${l}.${c}`)))throw new Ev("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(Wt(n))return{data:null,error:n};throw n}}}sy.nextInstanceID=0;const Hme=sy;class $me extends Hme{constructor(e){super(e)}}var Vme=function(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Kme{constructor(e,r,n){var s,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Xhe(e),c=new URL(l);this.realtimeUrl=new URL("/realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("/auth/v1",c),this.storageUrl=new URL("/storage/v1",c),this.functionsUrl=new URL("/functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Hhe,realtime:Vhe,auth:Object.assign(Object.assign({},$he),{storageKey:u}),global:Lhe},f=Jhe(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Ghe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new che(`${l}/rest/v1`,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Jfe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uhe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Vme(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $me({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new jhe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const qme=(t,e,r)=>new Kme(t,e,r),zme="https://vpztrjwitxvldrdhndlr.supabase.co",Gme="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",oe=qme(zme,Gme,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storageKey:"jpc-digi-auth"}});oe.auth.onAuthStateChange((t,e)=>{t==="TOKEN_REFRESHED"&&!e&&(console.log("Token refresh failed, redirecting to login"),oe.auth.signOut().catch(r=>console.error("Error signing out:",r)),window.location.pathname.includes("/login")||setTimeout(()=>{window.location.href="/login"},500))});const zA={isEnabled:!1,workingDays:[{day:"monday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"tuesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"wednesday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"thursday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"friday",isActive:!0,openTime:"08:00",closeTime:"17:00"},{day:"saturday",isActive:!0,openTime:"08:00",closeTime:"15:00"},{day:"sunday",isActive:!1,openTime:"08:00",closeTime:"15:00"}],offWorkMessage:"Maaf, kami sedang tutup. Silakan kembali pada jam operasional kami."};class Wme{constructor(){Sg(this,"settings",null);Sg(this,"lastFetchTime",0);Sg(this,"CACHE_DURATION_MS",5*60*1e3);Sg(this,"LOCAL_STORAGE_KEY","business_hours_settings")}async getBusinessHours(){const e=Date.now();if(this.settings&&e-this.lastFetchTime<this.CACHE_DURATION_MS)return console.debug("Menggunakan cache untuk pengaturan jam kerja"),this.settings;try{console.debug("Mengambil pengaturan jam kerja dari Supabase");const{data:r,error:n}=await oe.from("settings").select("value").eq("key","business_hours").maybeSingle();if(n){console.debug("Supabase error, coba gunakan localStorage:",n);const s=this.getFromLocalStorage();return s?(this.settings=s,this.lastFetchTime=e,s):(this.settings=zA,this.lastFetchTime=e,zA)}if(r&&r.value){const s=r.value;return this.settings=s,this.lastFetchTime=e,this.saveToLocalStorage(s),s}return this.settings=zA,this.lastFetchTime=e,zA}catch{return console.debug("Error fetching from Supabase, using default settings"),this.settings=zA,this.lastFetchTime=e,zA}}async updateBusinessHours(e){try{console.debug("Menyimpan pengaturan jam kerja ke Supabase");const{error:r}=await oe.from("settings").upsert({key:"business_hours",value:e,updated_at:new Date().toISOString()},{onConflict:"key"});return r?(console.error("Error updating business hours in Supabase:",r),this.saveToLocalStorage(e),{success:!1,message:`Gagal menyimpan ke database: ${r.message}. Data disimpan lokal sebagai cadangan.`}):(this.settings=e,this.lastFetchTime=Date.now(),this.saveToLocalStorage(e),console.debug("Business hours saved to Supabase successfully"),{success:!0,message:"Pengaturan jam kerja berhasil disimpan ke database."})}catch(r){return console.error("Exception updating business hours:",r),this.saveToLocalStorage(e),this.settings=e,this.lastFetchTime=Date.now(),{success:!1,message:`Terjadi kesalahan: ${r instanceof Error?r.message:"Unknown error"}. Data disimpan lokal.`}}}async isWithinBusinessHours(e){const r=await this.getBusinessHours();if(!r||!r.isEnabled)return console.debug("Jam kerja dinonaktifkan, status: BUKA"),!0;const n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],s=e||new Date,a=new Intl.DateTimeFormat("id-ID",{timeZone:"Asia/Jakarta",hour:"numeric",minute:"numeric",hour12:!1,weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(s);console.debug(`Waktu Jakarta (WIB): ${a}`);const o={Minggu:"sunday",Senin:"monday",Selasa:"tuesday",Rabu:"wednesday",Kamis:"thursday",Jumat:"friday",Sabtu:"saturday"},l=a.split(",")[0],c=o[l]||n[s.getDay()],u=a.match(/(\d{1,2})\.(\d{2})/);let d=s.getHours(),f=s.getMinutes();u&&u.length>=3&&(d=parseInt(u[1],10),f=parseInt(u[2],10)),(isNaN(d)||isNaN(f))&&(d=(s.getUTCHours()+7)%24,f=s.getUTCMinutes()),console.debug(`Waktu saat ini: ${c} ${d}:${f.toString().padStart(2,"0")}`);const m=r.workingDays.find(N=>N.day===c);if(!m||!m.isActive)return console.debug(`Hari ${c} tidak aktif, status: TUTUP`),!1;const[p,y]=m.openTime.split(":").map(Number),[x,v]=m.closeTime.split(":").map(Number),_=d*60+f,j=p*60+y,S=x*60+v;console.debug(`Jam buka: ${p}:${y.toString().padStart(2,"0")} (${j} menit)`),console.debug(`Jam tutup: ${x}:${v.toString().padStart(2,"0")} (${S} menit)`),console.debug(`Waktu saat ini: ${d}:${f.toString().padStart(2,"0")} (${_} menit)`);let C=!1;return S<j?(C=_>=j||_<=S,console.debug(`Mode operasi: MELEWATI TENGAH MALAM, status: ${C?"BUKA":"TUTUP"}`)):(C=_>=j&&_<=S,console.debug(`Mode operasi: NORMAL, status: ${C?"BUKA":"TUTUP"}`)),C}async getCurrentStatus(e){try{const r=await this.getBusinessHours();if(!r||!r.isEnabled)return{isOpen:!0,message:""};if(await this.isWithinBusinessHours(e))return{isOpen:!0,message:""};{const s=new Date,a=new Date(s);a.setDate(a.getDate()+1);const o=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],l={sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"},c=o[s.getDay()],u=o[a.getDay()],d=r.workingDays.find(p=>p.day===c),f=r.workingDays.find(p=>p.day===u);let m=r.offWorkMessage;if(d&&d.isActive){const[p,y]=d.openTime.split(":").map(Number),x=s.getHours(),v=s.getMinutes(),_=x*60+v,j=p*60+y;_<j&&(m+=` Kami akan buka hari ini pukul ${this.formatTimeIndonesia(d.openTime)}.`)}else if(f&&f.isActive)m+=` Kami akan buka besok (${l[u]}) pukul ${this.formatTimeIndonesia(f.openTime)}.`;else{let p=this.findNextOpenDay(r.workingDays,o.indexOf(c));if(p){const y=this.getIndonesianDayName(p.day),x=this.formatTimeIndonesia(p.openTime);m+=` Kami akan buka kembali pada hari ${y} pukul ${x} WIB.`}}return{isOpen:!1,message:m}}}catch(r){return console.debug("Error getting current status, defaulting to open",r),{isOpen:!0,message:""}}}formatTimeIndonesia(e){const[r,n]=e.split(":").map(Number);return`${r.toString().padStart(2,"0")}.${n.toString().padStart(2,"0")}`}getIndonesianDayName(e){return{sunday:"Minggu",monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu"}[e]||e}findNextOpenDay(e,r){for(let n=r+1;n<e.length+r;n++){const s=n%e.length;if(e[s].isActive)return e[s]}return null}saveToLocalStorage(e){try{localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(e)),console.debug("Pengaturan jam kerja disimpan ke localStorage")}catch(r){console.debug("Error saving business hours to localStorage:",r)}}getFromLocalStorage(){try{const e=localStorage.getItem(this.LOCAL_STORAGE_KEY);if(e){const r=JSON.parse(e);return console.debug("Berhasil mengambil pengaturan jam kerja dari localStorage"),r}return console.debug("Tidak ada data jam kerja di localStorage"),null}catch(e){return console.debug("Error reading business hours from localStorage:",e),null}}async resetToDefault(){try{return console.debug("Reset pengaturan jam kerja ke default"),await this.updateBusinessHours(zA)}catch(e){return console.error("Error resetting business hours:",e),{success:!1,message:`Gagal reset pengaturan: ${e instanceof Error?e.message:"Unknown error"}`}}}}const ed=new Wme,Uj=hp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Z=w.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},a)=>{const o=n?lc:"button";return i.jsx(o,{className:Ee(Uj({variant:e,size:r,className:t})),ref:a,...s})});Z.displayName="Button";function Xme(){const[t,e]=w.useState(!1),[r,n]=w.useState(""),[s,a]=w.useState(!0),[o,l]=w.useState(""),[c,u]=w.useState(0),[d,f]=w.useState(""),m=w.useCallback(async()=>{a(!0),f("");try{const p=new Date,y=`${p.getHours()}:${p.getMinutes().toString().padStart(2,"0")}`;l(y),console.debug(`[BusinessHoursOverlay] Memeriksa jam kerja pada ${y}`);const x=await ed.getCurrentStatus();console.debug(`[BusinessHoursOverlay] Status toko: ${x.isOpen?"BUKA":"TUTUP"}`),console.debug(`[BusinessHoursOverlay] Pesan: ${x.message}`),e(!x.isOpen),n(x.message),u(v=>v+1)}catch(p){console.error("[BusinessHoursOverlay] Error checking business hours:",p),f("Terjadi kesalahan saat memeriksa jam kerja"),e(!1)}finally{a(!1)}},[]);return w.useEffect(()=>{m();const p=setInterval(m,6e4);return()=>clearInterval(p)},[m]),s||!t?null:i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full p-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-amber-100 flex items-center justify-center mb-4",children:i.jsx(vm,{className:"h-10 w-10 text-amber-600"})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Di Luar Jam Operasional"})]}),i.jsx("div",{className:"bg-amber-50 border border-amber-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Jv,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-2"}),i.jsx("p",{className:"text-gray-700",children:r})]})}),d&&i.jsx("div",{className:"bg-red-50 border border-red-100 rounded-md p-3 mb-4 text-left",children:i.jsx("p",{className:"text-red-600 text-sm",children:d})}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsxs(Z,{variant:"outline",onClick:m,className:"w-full flex items-center justify-center",disabled:s,children:[i.jsx(Yv,{className:"h-4 w-4 mr-2"}),s?"Memuat...":"Periksa Kembali"]}),i.jsx(Z,{variant:"default",onClick:()=>window.location.reload(),className:"w-full",children:"Muat Ulang Halaman"}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:["Terakhir diperiksa: ",o," (",c,"x)"]})]})]})})}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ay(){return ay=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ay.apply(this,arguments)}var Bu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bu||(Bu={}));const e5="popstate";function Jme(t){t===void 0&&(t={});function e(n,s){let{pathname:a,search:o,hash:l}=n.location;return v2("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:C1(s)}return Zme(e,r,null,t)}function En(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fW(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yme(){return Math.random().toString(36).substr(2,8)}function t5(t,e){return{usr:t.state,key:t.key,idx:e}}function v2(t,e,r,n){return r===void 0&&(r=null),ay({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wp(e):e,{state:r,key:e&&e.key||n||Yme()})}function C1(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Zme(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Bu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(ay({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Bu.Pop;let v=d(),_=v==null?null:v-u;u=v,c&&c({action:l,location:x.location,delta:_})}function m(v,_){l=Bu.Push;let j=v2(x.location,v,_);u=d()+1;let S=t5(j,u),C=x.createHref(j);try{o.pushState(S,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;s.location.assign(C)}a&&c&&c({action:l,location:x.location,delta:1})}function p(v,_){l=Bu.Replace;let j=v2(x.location,v,_);u=d();let S=t5(j,u),C=x.createHref(j);o.replaceState(S,"",C),a&&c&&c({action:l,location:x.location,delta:0})}function y(v){let _=s.location.origin!=="null"?s.location.origin:s.location.href,j=typeof v=="string"?v:C1(v);return j=j.replace(/ $/,"%20"),En(_,"No window.location.(origin|href) available to create URL for href: "+j),new URL(j,_)}let x={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(e5,f),c=v,()=>{s.removeEventListener(e5,f),c=null}},createHref(v){return e(s,v)},createURL:y,encodeLocation(v){let _=y(v);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:p,go(v){return o.go(v)}};return x}var r5;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r5||(r5={}));function epe(t,e,r){return r===void 0&&(r="/"),tpe(t,e,r)}function tpe(t,e,r,n){let s=typeof e=="string"?wp(e):e,a=VR(s.pathname||"/",r);if(a==null)return null;let o=hW(t);rpe(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=hpe(a);l=Ape(o[c],u)}return l}function hW(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(En(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ou([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(En(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hW(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:cpe(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of mW(a.path))s(a,o,c)}),e}function mW(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=mW(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function rpe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:upe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const npe=/^:[\w-]+$/,spe=3,ape=2,ipe=1,ope=10,lpe=-2,n5=t=>t==="*";function cpe(t,e){let r=t.split("/"),n=r.length;return r.some(n5)&&(n+=lpe),e&&(n+=ape),r.filter(s=>!n5(s)).reduce((s,a)=>s+(npe.test(a)?spe:a===""?ipe:ope),n)}function upe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Ape(t,e,r){let{routesMeta:n}=t,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=dpe({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ou([a,f.pathname]),pathnameBase:vpe(Ou([a,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(a=Ou([a,f.pathnameBase]))}return o}function dpe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=fpe(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let x=l[f]||"";o=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function fpe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),fW(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function hpe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fW(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function VR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function mpe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?wp(t):t;return{pathname:r?r.startsWith("/")?r:ppe(r,e):e,search:ype(n),hash:xpe(s)}}function ppe(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dS(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gpe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function KR(t,e){let r=gpe(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function qR(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=wp(t):(s=ay({},t),En(!s.pathname||!s.pathname.includes("?"),dS("?","pathname","search",s)),En(!s.pathname||!s.pathname.includes("#"),dS("#","pathname","hash",s)),En(!s.search||!s.search.includes("#"),dS("#","search","hash",s)));let a=t===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}l=f>=0?e[f]:"/"}let c=mpe(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ou=t=>t.join("/").replace(/\/\/+/g,"/"),vpe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ype=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xpe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wpe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const pW=["post","put","patch","delete"];new Set(pW);const bpe=["get",...pW];new Set(bpe);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iy.apply(this,arguments)}const zR=w.createContext(null),_pe=w.createContext(null),AA=w.createContext(null),Mj=w.createContext(null),bc=w.createContext({outlet:null,matches:[],isDataRoute:!1}),gW=w.createContext(null);function jpe(t,e){let{relative:r}=e===void 0?{}:e;bp()||En(!1);let{basename:n,navigator:s}=w.useContext(AA),{hash:a,pathname:o,search:l}=yW(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ou([n,o])),s.createHref({pathname:c,search:l,hash:a})}function bp(){return w.useContext(Mj)!=null}function Aa(){return bp()||En(!1),w.useContext(Mj).location}function vW(t){w.useContext(AA).static||w.useLayoutEffect(t)}function ar(){let{isDataRoute:t}=w.useContext(bc);return t?Dpe():Cpe()}function Cpe(){bp()||En(!1);let t=w.useContext(zR),{basename:e,future:r,navigator:n}=w.useContext(AA),{matches:s}=w.useContext(bc),{pathname:a}=Aa(),o=JSON.stringify(KR(s,r.v7_relativeSplatPath)),l=w.useRef(!1);return vW(()=>{l.current=!0}),w.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=qR(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ou([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}function Dx(){let{matches:t}=w.useContext(bc),e=t[t.length-1];return e?e.params:{}}function yW(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=w.useContext(AA),{matches:s}=w.useContext(bc),{pathname:a}=Aa(),o=JSON.stringify(KR(s,n.v7_relativeSplatPath));return w.useMemo(()=>qR(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Bpe(t,e){return Epe(t,e)}function Epe(t,e,r,n){bp()||En(!1);let{navigator:s}=w.useContext(AA),{matches:a}=w.useContext(bc),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Aa(),d;if(e){var f;let v=typeof e=="string"?wp(e):e;c==="/"||(f=v.pathname)!=null&&f.startsWith(c)||En(!1),d=v}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=epe(t,{pathname:p}),x=Ipe(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ou([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ou([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return e&&x?w.createElement(Mj.Provider,{value:{location:iy({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bu.Pop}},x):x}function Spe(){let t=Rpe(),e=wpe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),r?w.createElement("pre",{style:s},r):null,null)}const Npe=w.createElement(Spe,null);class Tpe extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?w.createElement(bc.Provider,{value:this.props.routeContext},w.createElement(gW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kpe(t){let{routeContext:e,match:r,children:n}=t,s=w.useContext(zR);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),w.createElement(bc.Provider,{value:e},n)}function Ipe(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||En(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:p}=r,y=f.route.loader&&m[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let p,y=!1,x=null,v=null;r&&(p=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Npe,c&&(u<0&&m===0?(Upe("route-fallback"),y=!0,v=null):u===m&&(y=!0,v=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),j=()=>{let S;return p?S=x:y?S=v:f.route.Component?S=w.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,w.createElement(kpe,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:S})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Tpe,{location:r.location,revalidation:r.revalidation,component:x,error:p,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):j()},null)}var xW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xW||{}),wW=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wW||{});function Ppe(t){let e=w.useContext(zR);return e||En(!1),e}function Ope(t){let e=w.useContext(_pe);return e||En(!1),e}function Fpe(t){let e=w.useContext(bc);return e||En(!1),e}function bW(t){let e=Fpe(),r=e.matches[e.matches.length-1];return r.route.id||En(!1),r.route.id}function Rpe(){var t;let e=w.useContext(gW),r=Ope(),n=bW();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Dpe(){let{router:t}=Ppe(xW.UseNavigateStable),e=bW(wW.UseNavigateStable),r=w.useRef(!1);return vW(()=>{r.current=!0}),w.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,iy({fromRouteId:e},a)))},[t,e])}const s5={};function Upe(t,e,r){s5[t]||(s5[t]=!0)}function B1(t){let{to:e,replace:r,state:n,relative:s}=t;bp()||En(!1);let{future:a,static:o}=w.useContext(AA),{matches:l}=w.useContext(bc),{pathname:c}=Aa(),u=ar(),d=qR(e,KR(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return w.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function bt(t){En(!1)}function Mpe(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Bu.Pop,navigator:a,static:o=!1,future:l}=t;bp()&&En(!1);let c=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:iy({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=wp(n));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,x=w.useMemo(()=>{let v=VR(d,c);return v==null?null:{location:{pathname:v,search:f,hash:m,state:p,key:y},navigationType:s}},[c,d,f,m,p,y,s]);return x==null?null:w.createElement(AA.Provider,{value:u},w.createElement(Mj.Provider,{children:r,value:x}))}function Qpe(t){let{children:e,location:r}=t;return Bpe(y2(e),r)}new Promise(()=>{});function y2(t,e){e===void 0&&(e=[]);let r=[];return w.Children.forEach(t,(n,s)=>{if(!w.isValidElement(n))return;let a=[...e,s];if(n.type===w.Fragment){r.push.apply(r,y2(n.props.children,a));return}n.type!==bt&&En(!1),!n.props.index||!n.props.children||En(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=y2(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x2(){return x2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x2.apply(this,arguments)}function Lpe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Hpe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $pe(t,e){return t.button===0&&(!e||e==="_self")&&!Hpe(t)}function w2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Vpe(t,e){let r=w2(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(a=>{r.append(s,a)})}),r}const Kpe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qpe="6";try{window.__reactRouterVersion=qpe}catch{}const zpe="startTransition",a5=cz[zpe];function Gpe(t){let{basename:e,children:r,future:n,window:s}=t,a=w.useRef();a.current==null&&(a.current=Jme({window:s,v5Compat:!0}));let o=a.current,[l,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=w.useCallback(f=>{u&&a5?a5(()=>c(f)):c(f)},[c,u]);return w.useLayoutEffect(()=>o.listen(d),[o,d]),w.createElement(Mpe,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Wpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xpe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=w.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,m=Lpe(e,Kpe),{basename:p}=w.useContext(AA),y,x=!1;if(typeof u=="string"&&Xpe.test(u)&&(y=u,Wpe))try{let S=new URL(window.location.href),C=u.startsWith("//")?new URL(S.protocol+u):new URL(u),N=VR(C.pathname,p);C.origin===S.origin&&N!=null?u=N+C.search+C.hash:x=!0}catch{}let v=jpe(u,{relative:s}),_=Jpe(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function j(S){n&&n(S),S.defaultPrevented||_(S)}return w.createElement("a",x2({},m,{href:y||v,onClick:x||a?n:j,ref:r,target:c}))});var i5;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(i5||(i5={}));var o5;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(o5||(o5={}));function Jpe(t,e){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=ar(),u=Aa(),d=yW(t,{relative:o});return w.useCallback(f=>{if($pe(f,r)){f.preventDefault();let m=n!==void 0?n:C1(u)===C1(d);c(t,{replace:m,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,a,o,l])}function Ype(t){let e=w.useRef(w2(t)),r=w.useRef(!1),n=Aa(),s=w.useMemo(()=>Vpe(n.search,r.current?null:e.current),[n.search]),a=ar(),o=w.useCallback((l,c)=>{const u=w2(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}const Zpe=()=>{};var l5={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},ege=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[r++];e[n++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[r++],o=t[r++],l=t[r++],c=((s&7)<<18|(a&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(a&63)<<6|o&63)}}return e.join("")},jW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const a=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=a>>2,f=(a&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,o||(m=64)),n.push(r[d],r[f],r[m],r[p])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_W(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ege(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const a=r[t.charAt(s++)],l=s<t.length?r[t.charAt(s)]:0;++s;const u=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,a==null||l==null||u==null||f==null)throw new tge;const m=a<<2|l>>4;if(n.push(m),u!==64){const p=l<<4&240|u>>2;if(n.push(p),f!==64){const y=u<<6&192|f;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rge=function(t){const e=_W(t);return jW.encodeByteArray(e,!0)},E1=function(t){return rge(t).replace(/\./g,"")},nge=function(t){try{return jW.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sge=()=>CW().__FIREBASE_DEFAULTS__,age=()=>{if(typeof process>"u"||typeof l5>"u")return;const t=l5.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ige=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nge(t[1]);return e&&JSON.parse(e)},GR=()=>{try{return Zpe()||sge()||age()||ige()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oge=t=>{var e,r;return(r=(e=GR())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},lge=t=>{const e=oge(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},BW=()=>{var t;return(t=GR())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(t){return t.endsWith(".cloudworkstations.dev")}async function uge(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Age(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[E1(JSON.stringify(r)),E1(JSON.stringify(o)),""].join(".")}const Nv={};function dge(){const t={prod:[],emulator:[]};for(const e of Object.keys(Nv))Nv[e]?t.emulator.push(e):t.prod.push(e);return t}function fge(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let c5=!1;function hge(t,e){if(typeof window>"u"||typeof document>"u"||!WR(window.location.host)||Nv[t]===e||Nv[t]||c5)return;Nv[t]=e;function r(m){return`__firebase__banner__${m}`}const n="__firebase__banner",a=dge().prod.length>0;function o(){const m=document.getElementById(n);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{c5=!0,o()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=fge(n),p=r("text"),y=document.getElementById(p)||document.createElement("span"),x=r("learnmore"),v=document.getElementById(x)||document.createElement("a"),_=r("preprendIcon"),j=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),d(v,x);const C=u();c(j,_),S.append(j,y,v,C),document.body.appendChild(S)}a?(y.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EW(){var t;const e=(t=GR())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SW(){return!EW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NW(){return!EW()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function XR(){try{return typeof indexedDB=="object"}catch{return!1}}function TW(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}function mge(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pge="FirebaseError";class uf extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=pge,Object.setPrototypeOf(this,uf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qj.prototype.create)}}class Qj{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,a=this.errors[e],o=a?gge(a,n):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new uf(s,l,n)}}function gge(t,e){return t.replace(vge,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const vge=/\{\$([^}]+)}/g;function N1(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const a=t[s],o=e[s];if(u5(a)&&u5(o)){if(!N1(a,o))return!1}else if(a!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function u5(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yge{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new cge;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wge(e))try{this.getOrInitializeService({instanceIdentifier:td})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:s});n.resolve(a)}catch{}}}}clearInstance(e=td){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=td){return this.instances.has(e)}getOptions(e=td){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);n===l&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(s,a);const o=this.instances.get(s);return o&&e(o,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:xge(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=td){return this.component?this.component.multipleInstances?e:td:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xge(t){return t===td?void 0:t}function wge(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bge{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new yge(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(hr||(hr={}));const _ge={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},jge=hr.INFO,Cge={[hr.DEBUG]:"log",[hr.VERBOSE]:"log",[hr.INFO]:"info",[hr.WARN]:"warn",[hr.ERROR]:"error"},Bge=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=Cge[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let kW=class{constructor(e){this.name=e,this._logLevel=jge,this._logHandler=Bge,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_ge[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hr.DEBUG,...e),this._logHandler(this,hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hr.VERBOSE,...e),this._logHandler(this,hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hr.INFO,...e),this._logHandler(this,hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hr.WARN,...e),this._logHandler(this,hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hr.ERROR,...e),this._logHandler(this,hr.ERROR,...e)}};const Ege=(t,e)=>e.some(r=>t instanceof r);let A5,d5;function Sge(){return A5||(A5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nge(){return d5||(d5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IW=new WeakMap,b2=new WeakMap,PW=new WeakMap,fS=new WeakMap,JR=new WeakMap;function Tge(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{r(ec(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&IW.set(r,t)}).catch(()=>{}),JR.set(e,t),e}function kge(t){if(b2.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});b2.set(t,e)}let _2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return b2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PW.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ec(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Ige(t){_2=t(_2)}function Pge(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(hS(this),e,...r);return PW.set(n,e.sort?e.sort():[e]),ec(n)}:Nge().includes(t)?function(...e){return t.apply(hS(this),e),ec(IW.get(this))}:function(...e){return ec(t.apply(hS(this),e))}}function Oge(t){return typeof t=="function"?Pge(t):(t instanceof IDBTransaction&&kge(t),Ege(t,Sge())?new Proxy(t,_2):t)}function ec(t){if(t instanceof IDBRequest)return Tge(t);if(fS.has(t))return fS.get(t);const e=Oge(t);return e!==t&&(fS.set(t,e),JR.set(e,t)),e}const hS=t=>JR.get(t);function Lj(t,e,{blocked:r,upgrade:n,blocking:s,terminated:a}={}){const o=indexedDB.open(t,e),l=ec(o);return n&&o.addEventListener("upgradeneeded",c=>{n(ec(o.result),c.oldVersion,c.newVersion,ec(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),l.then(c=>{a&&c.addEventListener("close",()=>a()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}function mS(t,{blocked:e}={}){const r=indexedDB.deleteDatabase(t);return e&&r.addEventListener("blocked",n=>e(n.oldVersion,n)),ec(r).then(()=>{})}const Fge=["get","getKey","getAll","getAllKeys","count"],Rge=["put","add","delete","clear"],pS=new Map;function f5(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pS.get(e))return pS.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=Rge.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||Fge.includes(r)))return;const a=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return n&&(u=u.index(l.shift())),(await Promise.all([u[r](...l),s&&c.done]))[0]};return pS.set(e,a),a}Ige(t=>({...t,get:(e,r,n)=>f5(e,r)||t.get(e,r,n),has:(e,r)=>!!f5(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dge{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Uge(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Uge(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j2="@firebase/app",h5="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new kW("@firebase/app"),Mge="@firebase/app-compat",Qge="@firebase/analytics-compat",Lge="@firebase/analytics",Hge="@firebase/app-check-compat",$ge="@firebase/app-check",Vge="@firebase/auth",Kge="@firebase/auth-compat",qge="@firebase/database",zge="@firebase/data-connect",Gge="@firebase/database-compat",Wge="@firebase/functions",Xge="@firebase/functions-compat",Jge="@firebase/installations",Yge="@firebase/installations-compat",Zge="@firebase/messaging",eve="@firebase/messaging-compat",tve="@firebase/performance",rve="@firebase/performance-compat",nve="@firebase/remote-config",sve="@firebase/remote-config-compat",ave="@firebase/storage",ive="@firebase/storage-compat",ove="@firebase/firestore",lve="@firebase/ai",cve="@firebase/firestore-compat",uve="firebase",Ave="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="[DEFAULT]",dve={[j2]:"fire-core",[Mge]:"fire-core-compat",[Lge]:"fire-analytics",[Qge]:"fire-analytics-compat",[$ge]:"fire-app-check",[Hge]:"fire-app-check-compat",[Vge]:"fire-auth",[Kge]:"fire-auth-compat",[qge]:"fire-rtdb",[zge]:"fire-data-connect",[Gge]:"fire-rtdb-compat",[Wge]:"fire-fn",[Xge]:"fire-fn-compat",[Jge]:"fire-iid",[Yge]:"fire-iid-compat",[Zge]:"fire-fcm",[eve]:"fire-fcm-compat",[tve]:"fire-perf",[rve]:"fire-perf-compat",[nve]:"fire-rc",[sve]:"fire-rc-compat",[ave]:"fire-gcs",[ive]:"fire-gcs-compat",[ove]:"fire-fst",[cve]:"fire-fst-compat",[lve]:"fire-vertex","fire-js":"fire-js",[uve]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map,fve=new Map,B2=new Map;function m5(t,e){try{t.container.addComponent(e)}catch(r){fc.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Xu(t){const e=t.name;if(B2.has(e))return fc.debug(`There were multiple attempts to register component ${e}.`),!1;B2.set(e,t);for(const r of T1.values())m5(r,t);for(const r of fve.values())m5(r,t);return!0}function Hj(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hve(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mve={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fu=new Qj("app","Firebase",mve);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pve{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gve=Ave;function OW(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:C2,automaticDataCollectionEnabled:!0},e),s=n.name;if(typeof s!="string"||!s)throw Fu.create("bad-app-name",{appName:String(s)});if(r||(r=BW()),!r)throw Fu.create("no-options");const a=T1.get(s);if(a){if(N1(r,a.options)&&N1(n,a.config))return a;throw Fu.create("duplicate-app",{appName:s})}const o=new bge(s);for(const c of B2.values())o.addComponent(c);const l=new pve(r,n,o);return T1.set(s,l),l}function FW(t=C2){const e=T1.get(t);if(!e&&t===C2&&BW())return OW();if(!e)throw Fu.create("no-app",{appName:t});return e}function ol(t,e,r){var n;let s=(n=dve[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const a=s.match(/\s|\//),o=e.match(/\s|\//);if(a||o){const l=[`Unable to register library "${s}" with version "${e}":`];a&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fc.warn(l.join(" "));return}Xu(new dc(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vve="firebase-heartbeat-database",yve=1,oy="firebase-heartbeat-store";let gS=null;function RW(){return gS||(gS=Lj(vve,yve,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oy)}catch(r){console.warn(r)}}}}).catch(t=>{throw Fu.create("idb-open",{originalErrorMessage:t.message})})),gS}async function xve(t){try{const r=(await RW()).transaction(oy),n=await r.objectStore(oy).get(DW(t));return await r.done,n}catch(e){if(e instanceof uf)fc.warn(e.message);else{const r=Fu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fc.warn(r.message)}}}async function p5(t,e){try{const n=(await RW()).transaction(oy,"readwrite");await n.objectStore(oy).put(e,DW(t)),await n.done}catch(r){if(r instanceof uf)fc.warn(r.message);else{const n=Fu.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});fc.warn(n.message)}}}function DW(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wve=1024,bve=30;class _ve{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Cve(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=g5();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>bve){const o=Bve(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){fc.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=g5(),{heartbeatsToSend:n,unsentEntries:s}=jve(this._heartbeatsCache.heartbeats),a=E1(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return fc.warn(r),""}}}function g5(){return new Date().toISOString().substring(0,10)}function jve(t,e=wve){const r=[];let n=t.slice();for(const s of t){const a=r.find(o=>o.agent===s.agent);if(a){if(a.dates.push(s.date),v5(r)>e){a.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),v5(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Cve{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XR()?TW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await xve(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return p5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return p5(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function v5(t){return E1(JSON.stringify({version:2,heartbeats:t})).length}function Bve(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eve(t){Xu(new dc("platform-logger",e=>new Dge(e),"PRIVATE")),Xu(new dc("heartbeat",e=>new _ve(e),"PRIVATE")),ol(j2,h5,t),ol(j2,h5,"esm2017"),ol("fire-js","")}Eve("");var Sve="firebase",Nve="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ol(Sve,Nve,"app");var y5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function P(){}P.prototype=T.prototype,E.D=T.prototype,E.prototype=new P,E.prototype.constructor=E,E.C=function(O,D,M){for(var F=Array(arguments.length-2),G=2;G<arguments.length;G++)F[G-2]=arguments[G];return T.prototype[D].apply(O,F)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,T,P){P||(P=0);var O=Array(16);if(typeof T=="string")for(var D=0;16>D;++D)O[D]=T.charCodeAt(P++)|T.charCodeAt(P++)<<8|T.charCodeAt(P++)<<16|T.charCodeAt(P++)<<24;else for(D=0;16>D;++D)O[D]=T[P++]|T[P++]<<8|T[P++]<<16|T[P++]<<24;T=E.g[0],P=E.g[1],D=E.g[2];var M=E.g[3],F=T+(M^P&(D^M))+O[0]+3614090360&4294967295;T=P+(F<<7&4294967295|F>>>25),F=M+(D^T&(P^D))+O[1]+3905402710&4294967295,M=T+(F<<12&4294967295|F>>>20),F=D+(P^M&(T^P))+O[2]+606105819&4294967295,D=M+(F<<17&4294967295|F>>>15),F=P+(T^D&(M^T))+O[3]+3250441966&4294967295,P=D+(F<<22&4294967295|F>>>10),F=T+(M^P&(D^M))+O[4]+4118548399&4294967295,T=P+(F<<7&4294967295|F>>>25),F=M+(D^T&(P^D))+O[5]+1200080426&4294967295,M=T+(F<<12&4294967295|F>>>20),F=D+(P^M&(T^P))+O[6]+2821735955&4294967295,D=M+(F<<17&4294967295|F>>>15),F=P+(T^D&(M^T))+O[7]+4249261313&4294967295,P=D+(F<<22&4294967295|F>>>10),F=T+(M^P&(D^M))+O[8]+1770035416&4294967295,T=P+(F<<7&4294967295|F>>>25),F=M+(D^T&(P^D))+O[9]+2336552879&4294967295,M=T+(F<<12&4294967295|F>>>20),F=D+(P^M&(T^P))+O[10]+4294925233&4294967295,D=M+(F<<17&4294967295|F>>>15),F=P+(T^D&(M^T))+O[11]+2304563134&4294967295,P=D+(F<<22&4294967295|F>>>10),F=T+(M^P&(D^M))+O[12]+1804603682&4294967295,T=P+(F<<7&4294967295|F>>>25),F=M+(D^T&(P^D))+O[13]+4254626195&4294967295,M=T+(F<<12&4294967295|F>>>20),F=D+(P^M&(T^P))+O[14]+2792965006&4294967295,D=M+(F<<17&4294967295|F>>>15),F=P+(T^D&(M^T))+O[15]+1236535329&4294967295,P=D+(F<<22&4294967295|F>>>10),F=T+(D^M&(P^D))+O[1]+4129170786&4294967295,T=P+(F<<5&4294967295|F>>>27),F=M+(P^D&(T^P))+O[6]+3225465664&4294967295,M=T+(F<<9&4294967295|F>>>23),F=D+(T^P&(M^T))+O[11]+643717713&4294967295,D=M+(F<<14&4294967295|F>>>18),F=P+(M^T&(D^M))+O[0]+3921069994&4294967295,P=D+(F<<20&4294967295|F>>>12),F=T+(D^M&(P^D))+O[5]+3593408605&4294967295,T=P+(F<<5&4294967295|F>>>27),F=M+(P^D&(T^P))+O[10]+38016083&4294967295,M=T+(F<<9&4294967295|F>>>23),F=D+(T^P&(M^T))+O[15]+3634488961&4294967295,D=M+(F<<14&4294967295|F>>>18),F=P+(M^T&(D^M))+O[4]+3889429448&4294967295,P=D+(F<<20&4294967295|F>>>12),F=T+(D^M&(P^D))+O[9]+568446438&4294967295,T=P+(F<<5&4294967295|F>>>27),F=M+(P^D&(T^P))+O[14]+3275163606&4294967295,M=T+(F<<9&4294967295|F>>>23),F=D+(T^P&(M^T))+O[3]+4107603335&4294967295,D=M+(F<<14&4294967295|F>>>18),F=P+(M^T&(D^M))+O[8]+1163531501&4294967295,P=D+(F<<20&4294967295|F>>>12),F=T+(D^M&(P^D))+O[13]+2850285829&4294967295,T=P+(F<<5&4294967295|F>>>27),F=M+(P^D&(T^P))+O[2]+4243563512&4294967295,M=T+(F<<9&4294967295|F>>>23),F=D+(T^P&(M^T))+O[7]+1735328473&4294967295,D=M+(F<<14&4294967295|F>>>18),F=P+(M^T&(D^M))+O[12]+2368359562&4294967295,P=D+(F<<20&4294967295|F>>>12),F=T+(P^D^M)+O[5]+4294588738&4294967295,T=P+(F<<4&4294967295|F>>>28),F=M+(T^P^D)+O[8]+2272392833&4294967295,M=T+(F<<11&4294967295|F>>>21),F=D+(M^T^P)+O[11]+1839030562&4294967295,D=M+(F<<16&4294967295|F>>>16),F=P+(D^M^T)+O[14]+4259657740&4294967295,P=D+(F<<23&4294967295|F>>>9),F=T+(P^D^M)+O[1]+2763975236&4294967295,T=P+(F<<4&4294967295|F>>>28),F=M+(T^P^D)+O[4]+1272893353&4294967295,M=T+(F<<11&4294967295|F>>>21),F=D+(M^T^P)+O[7]+4139469664&4294967295,D=M+(F<<16&4294967295|F>>>16),F=P+(D^M^T)+O[10]+3200236656&4294967295,P=D+(F<<23&4294967295|F>>>9),F=T+(P^D^M)+O[13]+681279174&4294967295,T=P+(F<<4&4294967295|F>>>28),F=M+(T^P^D)+O[0]+3936430074&4294967295,M=T+(F<<11&4294967295|F>>>21),F=D+(M^T^P)+O[3]+3572445317&4294967295,D=M+(F<<16&4294967295|F>>>16),F=P+(D^M^T)+O[6]+76029189&4294967295,P=D+(F<<23&4294967295|F>>>9),F=T+(P^D^M)+O[9]+3654602809&4294967295,T=P+(F<<4&4294967295|F>>>28),F=M+(T^P^D)+O[12]+3873151461&4294967295,M=T+(F<<11&4294967295|F>>>21),F=D+(M^T^P)+O[15]+530742520&4294967295,D=M+(F<<16&4294967295|F>>>16),F=P+(D^M^T)+O[2]+3299628645&4294967295,P=D+(F<<23&4294967295|F>>>9),F=T+(D^(P|~M))+O[0]+4096336452&4294967295,T=P+(F<<6&4294967295|F>>>26),F=M+(P^(T|~D))+O[7]+1126891415&4294967295,M=T+(F<<10&4294967295|F>>>22),F=D+(T^(M|~P))+O[14]+2878612391&4294967295,D=M+(F<<15&4294967295|F>>>17),F=P+(M^(D|~T))+O[5]+4237533241&4294967295,P=D+(F<<21&4294967295|F>>>11),F=T+(D^(P|~M))+O[12]+1700485571&4294967295,T=P+(F<<6&4294967295|F>>>26),F=M+(P^(T|~D))+O[3]+2399980690&4294967295,M=T+(F<<10&4294967295|F>>>22),F=D+(T^(M|~P))+O[10]+4293915773&4294967295,D=M+(F<<15&4294967295|F>>>17),F=P+(M^(D|~T))+O[1]+2240044497&4294967295,P=D+(F<<21&4294967295|F>>>11),F=T+(D^(P|~M))+O[8]+1873313359&4294967295,T=P+(F<<6&4294967295|F>>>26),F=M+(P^(T|~D))+O[15]+4264355552&4294967295,M=T+(F<<10&4294967295|F>>>22),F=D+(T^(M|~P))+O[6]+2734768916&4294967295,D=M+(F<<15&4294967295|F>>>17),F=P+(M^(D|~T))+O[13]+1309151649&4294967295,P=D+(F<<21&4294967295|F>>>11),F=T+(D^(P|~M))+O[4]+4149444226&4294967295,T=P+(F<<6&4294967295|F>>>26),F=M+(P^(T|~D))+O[11]+3174756917&4294967295,M=T+(F<<10&4294967295|F>>>22),F=D+(T^(M|~P))+O[2]+718787259&4294967295,D=M+(F<<15&4294967295|F>>>17),F=P+(M^(D|~T))+O[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(D+(F<<21&4294967295|F>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+M&4294967295}n.prototype.u=function(E,T){T===void 0&&(T=E.length);for(var P=T-this.blockSize,O=this.B,D=this.h,M=0;M<T;){if(D==0)for(;M<=P;)s(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<T;)if(O[D++]=E.charCodeAt(M++),D==this.blockSize){s(this,O),D=0;break}}else for(;M<T;)if(O[D++]=E[M++],D==this.blockSize){s(this,O),D=0;break}}this.h=D,this.o+=T},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;var P=8*this.o;for(T=E.length-8;T<E.length;++T)E[T]=P&255,P/=256;for(this.u(E),E=Array(16),T=P=0;4>T;++T)for(var O=0;32>O;O+=8)E[P++]=this.g[T]>>>O&255;return E};function a(E,T){var P=l;return Object.prototype.hasOwnProperty.call(P,E)?P[E]:P[E]=T(E)}function o(E,T){this.h=T;for(var P=[],O=!0,D=E.length-1;0<=D;D--){var M=E[D]|0;O&&M==T||(P[D]=M,O=!1)}this.g=P}var l={};function c(E){return-128<=E&&128>E?a(E,function(T){return new o([T|0],0>T?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(u(-E));for(var T=[],P=1,O=0;E>=P;O++)T[O]=E/P|0,P*=4294967296;return new o(T,0)}function d(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return v(d(E.substring(1),T));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=u(Math.pow(T,8)),O=f,D=0;D<E.length;D+=8){var M=Math.min(8,E.length-D),F=parseInt(E.substring(D,D+M),T);8>M?(M=u(Math.pow(T,M)),O=O.j(M).add(u(F))):(O=O.j(P),O=O.add(u(F)))}return O}var f=c(0),m=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(x(this))return-v(this).m();for(var E=0,T=1,P=0;P<this.g.length;P++){var O=this.i(P);E+=(0<=O?O:4294967296+O)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(y(this))return"0";if(x(this))return"-"+v(this).toString(E);for(var T=u(Math.pow(E,6)),P=this,O="";;){var D=C(P,T).g;P=_(P,D.j(T));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(E);if(P=D,y(P))return M+O;for(;6>M.length;)M="0"+M;O=M+O}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function y(E){if(E.h!=0)return!1;for(var T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function x(E){return E.h==-1}t.l=function(E){return E=_(this,E),x(E)?-1:y(E)?0:1};function v(E){for(var T=E.g.length,P=[],O=0;O<T;O++)P[O]=~E.g[O];return new o(P,~E.h).add(m)}t.abs=function(){return x(this)?v(this):this},t.add=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],O=0,D=0;D<=T;D++){var M=O+(this.i(D)&65535)+(E.i(D)&65535),F=(M>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);O=F>>>16,M&=65535,F&=65535,P[D]=F<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(E,T){return E.add(v(T))}t.j=function(E){if(y(this)||y(E))return f;if(x(this))return x(E)?v(this).j(v(E)):v(v(this).j(E));if(x(E))return v(this.j(v(E)));if(0>this.l(p)&&0>E.l(p))return u(this.m()*E.m());for(var T=this.g.length+E.g.length,P=[],O=0;O<2*T;O++)P[O]=0;for(O=0;O<this.g.length;O++)for(var D=0;D<E.g.length;D++){var M=this.i(O)>>>16,F=this.i(O)&65535,G=E.i(D)>>>16,W=E.i(D)&65535;P[2*O+2*D]+=F*W,j(P,2*O+2*D),P[2*O+2*D+1]+=M*W,j(P,2*O+2*D+1),P[2*O+2*D+1]+=F*G,j(P,2*O+2*D+1),P[2*O+2*D+2]+=M*G,j(P,2*O+2*D+2)}for(O=0;O<T;O++)P[O]=P[2*O+1]<<16|P[2*O];for(O=T;O<2*T;O++)P[O]=0;return new o(P,0)};function j(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function S(E,T){this.g=E,this.h=T}function C(E,T){if(y(T))throw Error("division by zero");if(y(E))return new S(f,f);if(x(E))return T=C(v(E),T),new S(v(T.g),v(T.h));if(x(T))return T=C(E,v(T)),new S(v(T.g),T.h);if(30<E.g.length){if(x(E)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var P=m,O=T;0>=O.l(E);)P=N(P),O=N(O);var D=k(P,1),M=k(O,1);for(O=k(O,2),P=k(P,2);!y(O);){var F=M.add(O);0>=F.l(E)&&(D=D.add(P),M=F),O=k(O,1),P=k(P,1)}return T=_(E,D.j(T)),new S(D,T)}for(D=f;0<=E.l(T);){for(P=Math.max(1,Math.floor(E.m()/T.m())),O=Math.ceil(Math.log(P)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),M=u(P),F=M.j(T);x(F)||0<F.l(E);)P-=O,M=u(P),F=M.j(T);y(M)&&(M=m),D=D.add(M),E=_(E,F)}return new S(D,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)&E.i(O);return new o(P,this.h&E.h)},t.or=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)|E.i(O);return new o(P,this.h|E.h)},t.xor=function(E){for(var T=Math.max(this.g.length,E.g.length),P=[],O=0;O<T;O++)P[O]=this.i(O)^E.i(O);return new o(P,this.h^E.h)};function N(E){for(var T=E.g.length+1,P=[],O=0;O<T;O++)P[O]=E.i(O)<<1|E.i(O-1)>>>31;return new o(P,E.h)}function k(E,T){var P=T>>5;T%=32;for(var O=E.g.length-P,D=[],M=0;M<O;M++)D[M]=0<T?E.i(M+P)>>>T|E.i(M+P+1)<<32-T:E.i(M+P);return new o(D,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,YR=o}).apply(typeof y5<"u"?y5:typeof self<"u"?self:typeof window<"u"?window:{});var Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UW,cv,MW,qb,E2,QW,LW,HW;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,R,L){return b==Array.prototype||b==Object.prototype||(b[R]=L.value),b};function r(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kw=="object"&&Kw];for(var R=0;R<b.length;++R){var L=b[R];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var n=r(this);function s(b,R){if(R)e:{var L=n;b=b.split(".");for(var X=0;X<b.length-1;X++){var fe=b[X];if(!(fe in L))break e;L=L[fe]}b=b[b.length-1],X=L[b],R=R(X),R!=X&&R!=null&&e(L,b,{configurable:!0,writable:!0,value:R})}}function a(b,R){b instanceof String&&(b+="");var L=0,X=!1,fe={next:function(){if(!X&&L<b.length){var be=L++;return{value:R(be,b[be]),done:!1}}return X=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}s("Array.prototype.values",function(b){return b||function(){return a(this,function(R,L){return L})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(b){var R=typeof b;return R=R!="object"?R:b?Array.isArray(b)?"array":R:"null",R=="array"||R=="object"&&typeof b.length=="number"}function u(b){var R=typeof b;return R=="object"&&b!=null||R=="function"}function d(b,R,L){return b.call.apply(b.bind,arguments)}function f(b,R,L){if(!b)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,X),b.apply(R,fe)}}return function(){return b.apply(R,arguments)}}function m(b,R,L){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function p(b,R){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),b.apply(this,X)}}function y(b,R){function L(){}L.prototype=R.prototype,b.aa=R.prototype,b.prototype=new L,b.prototype.constructor=b,b.Qb=function(X,fe,be){for(var Ge=Array(arguments.length-2),kr=2;kr<arguments.length;kr++)Ge[kr-2]=arguments[kr];return R.prototype[fe].apply(X,Ge)}}function x(b){const R=b.length;if(0<R){const L=Array(R);for(let X=0;X<R;X++)L[X]=b[X];return L}return[]}function v(b,R){for(let L=1;L<arguments.length;L++){const X=arguments[L];if(c(X)){const fe=b.length||0,be=X.length||0;b.length=fe+be;for(let Ge=0;Ge<be;Ge++)b[fe+Ge]=X[Ge]}else b.push(X)}}class _{constructor(R,L){this.i=R,this.j=L,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function j(b){return/^[\s\xa0]*$/.test(b)}function S(){var b=l.navigator;return b&&(b=b.userAgent)?b:""}function C(b){return C[" "](b),b}C[" "]=function(){};var N=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function k(b,R,L){for(const X in b)R.call(L,b[X],X,b)}function E(b,R){for(const L in b)R.call(void 0,b[L],L,b)}function T(b){const R={};for(const L in b)R[L]=b[L];return R}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(b,R){let L,X;for(let fe=1;fe<arguments.length;fe++){X=arguments[fe];for(L in X)b[L]=X[L];for(let be=0;be<P.length;be++)L=P[be],Object.prototype.hasOwnProperty.call(X,L)&&(b[L]=X[L])}}function D(b){var R=1;b=b.split(":");const L=[];for(;0<R&&b.length;)L.push(b.shift()),R--;return b.length&&L.push(b.join(":")),L}function M(b){l.setTimeout(()=>{throw b},0)}function F(){var b=z;let R=null;return b.g&&(R=b.g,b.g=b.g.next,b.g||(b.h=null),R.next=null),R}class G{constructor(){this.h=this.g=null}add(R,L){const X=W.get();X.set(R,L),this.h?this.h.next=X:this.g=X,this.h=X}}var W=new _(()=>new V,b=>b.reset());class V{constructor(){this.next=this.g=this.h=null}set(R,L){this.h=R,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Q=!1,z=new G,q=()=>{const b=l.Promise.resolve(void 0);H=()=>{b.then($)}};var $=()=>{for(var b;b=F();){try{b.h.call(b.g)}catch(L){M(L)}var R=W;R.j(b),100>R.h&&(R.h++,b.next=R.g,R.g=b)}Q=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(b,R){this.type=b,this.g=this.target=R,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var b=!1,R=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const L=()=>{};l.addEventListener("test",L,R),l.removeEventListener("test",L,R)}catch{}return b}();function ee(b,R){if(le.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var L=this.type=b.type,X=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=R,R=b.relatedTarget){if(N){e:{try{C(R.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(R=null)}}else L=="mouseover"?R=b.fromElement:L=="mouseout"&&(R=b.toElement);this.relatedTarget=R,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:ue[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&ee.aa.h.call(this)}}y(ee,le);var ue={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),me=0;function ye(b,R,L,X,fe){this.listener=b,this.proxy=null,this.src=R,this.type=L,this.capture=!!X,this.ha=fe,this.key=++me,this.da=this.fa=!1}function je(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Fe(b){this.src=b,this.g={},this.h=0}Fe.prototype.add=function(b,R,L,X,fe){var be=b.toString();b=this.g[be],b||(b=this.g[be]=[],this.h++);var Ge=ke(b,R,X,fe);return-1<Ge?(R=b[Ge],L||(R.fa=!1)):(R=new ye(R,this.src,be,!!X,fe),R.fa=L,b.push(R)),R};function ne(b,R){var L=R.type;if(L in b.g){var X=b.g[L],fe=Array.prototype.indexOf.call(X,R,void 0),be;(be=0<=fe)&&Array.prototype.splice.call(X,fe,1),be&&(je(R),b.g[L].length==0&&(delete b.g[L],b.h--))}}function ke(b,R,L,X){for(var fe=0;fe<b.length;++fe){var be=b[fe];if(!be.da&&be.listener==R&&be.capture==!!L&&be.ha==X)return fe}return-1}var We="closure_lm_"+(1e6*Math.random()|0),ct={};function ft(b,R,L,X,fe){if(Array.isArray(R)){for(var be=0;be<R.length;be++)ft(b,R[be],L,X,fe);return null}return L=kt(L),b&&b[xe]?b.K(R,L,u(X)?!!X.capture:!1,fe):Xt(b,R,L,!1,X,fe)}function Xt(b,R,L,X,fe,be){if(!R)throw Error("Invalid event type");var Ge=u(fe)?!!fe.capture:!!fe,kr=Re(b);if(kr||(b[We]=kr=new Fe(b)),L=kr.add(R,L,X,Ge,be),L.proxy)return L;if(X=re(),L.proxy=X,X.src=b,X.listener=L,b.addEventListener)ae||(fe=Ge),fe===void 0&&(fe=!1),b.addEventListener(R.toString(),X,fe);else if(b.attachEvent)b.attachEvent(Ie(R.toString()),X);else if(b.addListener&&b.removeListener)b.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function re(){function b(L){return R.call(b.src,b.listener,L)}const R=He;return b}function de(b,R,L,X,fe){if(Array.isArray(R))for(var be=0;be<R.length;be++)de(b,R[be],L,X,fe);else X=u(X)?!!X.capture:!!X,L=kt(L),b&&b[xe]?(b=b.i,R=String(R).toString(),R in b.g&&(be=b.g[R],L=ke(be,L,X,fe),-1<L&&(je(be[L]),Array.prototype.splice.call(be,L,1),be.length==0&&(delete b.g[R],b.h--)))):b&&(b=Re(b))&&(R=b.g[R.toString()],b=-1,R&&(b=ke(R,L,X,fe)),(L=-1<b?R[b]:null)&&ge(L))}function ge(b){if(typeof b!="number"&&b&&!b.da){var R=b.src;if(R&&R[xe])ne(R.i,b);else{var L=b.type,X=b.proxy;R.removeEventListener?R.removeEventListener(L,X,b.capture):R.detachEvent?R.detachEvent(Ie(L),X):R.addListener&&R.removeListener&&R.removeListener(X),(L=Re(R))?(ne(L,b),L.h==0&&(L.src=null,R[We]=null)):je(b)}}}function Ie(b){return b in ct?ct[b]:ct[b]="on"+b}function He(b,R){if(b.da)b=!0;else{R=new ee(R,this);var L=b.listener,X=b.ha||b.src;b.fa&&ge(b),b=L.call(X,R)}return b}function Re(b){return b=b[We],b instanceof Fe?b:null}var ut="__closure_events_fn_"+(1e9*Math.random()>>>0);function kt(b){return typeof b=="function"?b:(b[ut]||(b[ut]=function(R){return b.handleEvent(R)}),b[ut])}function jt(){J.call(this),this.i=new Fe(this),this.M=this,this.F=null}y(jt,J),jt.prototype[xe]=!0,jt.prototype.removeEventListener=function(b,R,L,X){de(this,b,R,L,X)};function St(b,R){var L,X=b.F;if(X)for(L=[];X;X=X.F)L.push(X);if(b=b.M,X=R.type||R,typeof R=="string")R=new le(R,b);else if(R instanceof le)R.target=R.target||b;else{var fe=R;R=new le(X,b),O(R,fe)}if(fe=!0,L)for(var be=L.length-1;0<=be;be--){var Ge=R.g=L[be];fe=Nn(Ge,X,!0,R)&&fe}if(Ge=R.g=b,fe=Nn(Ge,X,!0,R)&&fe,fe=Nn(Ge,X,!1,R)&&fe,L)for(be=0;be<L.length;be++)Ge=R.g=L[be],fe=Nn(Ge,X,!1,R)&&fe}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var b=this.i,R;for(R in b.g){for(var L=b.g[R],X=0;X<L.length;X++)je(L[X]);delete b.g[R],b.h--}}this.F=null},jt.prototype.K=function(b,R,L,X){return this.i.add(String(b),R,!1,L,X)},jt.prototype.L=function(b,R,L,X){return this.i.add(String(b),R,!0,L,X)};function Nn(b,R,L,X){if(R=b.i.g[String(R)],!R)return!0;R=R.concat();for(var fe=!0,be=0;be<R.length;++be){var Ge=R[be];if(Ge&&!Ge.da&&Ge.capture==L){var kr=Ge.listener,Dn=Ge.ha||Ge.src;Ge.fa&&ne(b.i,Ge),fe=kr.call(Dn,X)!==!1&&fe}}return fe&&!X.defaultPrevented}function da(b,R,L){if(typeof b=="function")L&&(b=m(b,L));else if(b&&typeof b.handleEvent=="function")b=m(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:l.setTimeout(b,R||0)}function Gs(b){b.g=da(()=>{b.g=null,b.i&&(b.i=!1,Gs(b))},b.l);const R=b.h;b.h=null,b.m.apply(null,R)}class Fa extends J{constructor(R,L){super(),this.m=R,this.l=L,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(b){J.call(this),this.h=b,this.g={}}y(oi,J);var Qi=[];function Cl(b){k(b.g,function(R,L){this.g.hasOwnProperty(L)&&ge(R)},b),b.g={}}oi.prototype.N=function(){oi.aa.N.call(this),Cl(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var li=l.JSON.stringify,fa=l.JSON.parse,wA=class{stringify(b){return l.JSON.stringify(b,void 0)}parse(b){return l.JSON.parse(b,void 0)}};function Pt(){}Pt.prototype.h=null;function xr(b){return b.h||(b.h=b.i())}function gr(){}var cn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wn(){le.call(this,"d")}y(wn,le);function Li(){le.call(this,"c")}y(Li,le);var ci={},Vp=null;function bA(){return Vp=Vp||new jt}ci.La="serverreachability";function Kp(b){le.call(this,ci.La,b)}y(Kp,le);function Bl(b){const R=bA();St(R,new Kp(R))}ci.STAT_EVENT="statevent";function qp(b,R){le.call(this,ci.STAT_EVENT,b),this.stat=R}y(qp,le);function bn(b){const R=bA();St(R,new qp(R,b))}ci.Ma="timingevent";function pf(b,R){le.call(this,ci.Ma,b),this.size=R}y(pf,le);function Hi(b,R){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){b()},R)}function _A(){this.g=!0}_A.prototype.xa=function(){this.g=!1};function jA(b,R,L,X,fe,be){b.info(function(){if(b.g)if(be)for(var Ge="",kr=be.split("&"),Dn=0;Dn<kr.length;Dn++){var dr=kr[Dn].split("=");if(1<dr.length){var Wn=dr[0];dr=dr[1];var Tn=Wn.split("_");Ge=2<=Tn.length&&Tn[1]=="type"?Ge+(Wn+"="+dr+"&"):Ge+(Wn+"=redacted&")}}else Ge=null;else Ge=be;return"XMLHTTP REQ ("+X+") [attempt "+fe+"]: "+R+`
`+L+`
`+Ge})}function gf(b,R,L,X,fe,be,Ge){b.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+fe+"]: "+R+`
`+L+`
`+be+" "+Ge})}function $i(b,R,L,X){b.info(function(){return"XMLHTTP TEXT ("+R+"): "+wB(b,L)+(X?" "+X:"")})}function zp(b,R){b.info(function(){return"TIMEOUT: "+R})}_A.prototype.info=function(){};function wB(b,R){if(!b.g)return R;if(!R)return null;try{var L=JSON.parse(R);if(L){for(b=0;b<L.length;b++)if(Array.isArray(L[b])){var X=L[b];if(!(2>X.length)){var fe=X[1];if(Array.isArray(fe)&&!(1>fe.length)){var be=fe[0];if(be!="noop"&&be!="stop"&&be!="close")for(var Ge=1;Ge<fe.length;Ge++)fe[Ge]=""}}}}return li(L)}catch{return R}}var vf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},v0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vi;function CA(){}y(CA,Pt),CA.prototype.g=function(){return new XMLHttpRequest},CA.prototype.i=function(){return{}},Vi=new CA;function Ki(b,R,L,X){this.j=b,this.i=R,this.l=L,this.R=X||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new y0}function y0(){this.i=null,this.g="",this.h=!1}var Gp={},yf={};function xf(b,R,L){b.L=1,b.v=Ic(Da(R)),b.m=L,b.P=!0,Wp(b,null)}function Wp(b,R){b.F=Date.now(),Gr(b),b.A=Da(b.v);var L=b.A,X=b.R;Array.isArray(X)||(X=[String(X)]),Oc(L.i,"t",X),b.C=0,L=b.j.J,b.h=new y0,b.g=D0(b.j,L?R:null,!b.m),0<b.O&&(b.M=new Fa(m(b.Y,b,b.g),b.O)),R=b.U,L=b.g,X=b.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Qi[0]=fe.toString()),fe=Qi);for(var be=0;be<fe.length;be++){var Ge=ft(L,fe[be],X||R.handleEvent,!1,R.h||R);if(!Ge)break;R.g[Ge.key]=Ge}R=b.H?T(b.H):{},b.m?(b.u||(b.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,R)):(b.u="GET",b.g.ea(b.A,b.u,null,R)),Bl(),jA(b.i,b.u,b.A,b.l,b.R,b.m)}Ki.prototype.ca=function(b){b=b.target;const R=this.M;R&&ma(b)==3?R.j():this.Y(b)},Ki.prototype.Y=function(b){try{if(b==this.g)e:{const Tn=ma(this.g);var R=this.g.Ba();const di=this.g.Z();if(!(3>Tn)&&(Tn!=3||this.g&&(this.h.h||this.g.oa()||tg(this.g)))){this.J||Tn!=4||R==7||(R==8||0>=di?Bl(3):Bl(2)),BA(this);var L=this.g.Z();this.X=L;t:if(x0(this)){var X=tg(this.g);b="";var fe=X.length,be=ma(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),Sc(this);var Ge="";break t}this.h.i=new l.TextDecoder}for(R=0;R<fe;R++)this.h.h=!0,b+=this.h.i.decode(X[R],{stream:!(be&&R==fe-1)});X.length=0,this.h.g+=b,this.C=0,Ge=this.h.g}else Ge=this.g.oa();if(this.o=L==200,gf(this.i,this.u,this.A,this.l,this.R,Tn,L),this.o){if(this.T&&!this.K){t:{if(this.g){var kr,Dn=this.g;if((kr=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(kr)){var dr=kr;break t}}dr=null}if(L=dr)$i(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xp(this,L);else{this.o=!1,this.s=3,bn(12),ui(this),Sc(this);break e}}if(this.P){L=!0;let Ma;for(;!this.J&&this.C<Ge.length;)if(Ma=bB(this,Ge),Ma==yf){Tn==4&&(this.s=4,bn(14),L=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ma==Gp){this.s=4,bn(15),$i(this.i,this.l,Ge,"[Invalid Chunk]"),L=!1;break}else $i(this.i,this.l,Ma,null),Xp(this,Ma);if(x0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tn!=4||Ge.length!=0||this.h.h||(this.s=1,bn(16),L=!1),this.o=this.o&&L,!L)$i(this.i,this.l,Ge,"[Invalid Chunked Response]"),ui(this),Sc(this);else if(0<Ge.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+Ge.length),ng(Wn),Wn.M=!0,bn(11))}}else $i(this.i,this.l,Ge,null),Xp(this,Ge);Tn==4&&ui(this),this.o&&!this.J&&(Tn==4?kf(this.j,this):(this.o=!1,Gr(this)))}else Bf(this.g),L==400&&0<Ge.indexOf("Unknown SID")?(this.s=3,bn(12)):(this.s=0,bn(13)),ui(this),Sc(this)}}}catch{}finally{}};function x0(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function bB(b,R){var L=b.C,X=R.indexOf(`
`,L);return X==-1?yf:(L=Number(R.substring(L,X)),isNaN(L)?Gp:(X+=1,X+L>R.length?yf:(R=R.slice(X,X+L),b.C=X+L,R)))}Ki.prototype.cancel=function(){this.J=!0,ui(this)};function Gr(b){b.S=Date.now()+b.I,w0(b,b.I)}function w0(b,R){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Hi(m(b.ba,b),R)}function BA(b){b.B&&(l.clearTimeout(b.B),b.B=null)}Ki.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(zp(this.i,this.A),this.L!=2&&(Bl(),bn(17)),ui(this),this.s=2,Sc(this)):w0(this,this.S-b)};function Sc(b){b.j.G==0||b.J||kf(b.j,b)}function ui(b){BA(b);var R=b.M;R&&typeof R.ma=="function"&&R.ma(),b.M=null,Cl(b.U),b.g&&(R=b.g,b.g=null,R.abort(),R.ma())}function Xp(b,R){try{var L=b.j;if(L.G!=0&&(L.g==b||Ws(L.h,b))){if(!b.K&&Ws(L.h,b)&&L.G==3){try{var X=L.Da.g.parse(R)}catch{X=null}if(Array.isArray(X)&&X.length==3){var fe=X;if(fe[0]==0){e:if(!L.u){if(L.g)if(L.g.F+3e3<b.F)Tf(L),Xi(L);else break e;Nf(L),bn(18)}}else L.za=fe[1],0<L.za-L.T&&37500>fe[2]&&L.F&&L.v==0&&!L.C&&(L.C=Hi(m(L.Za,L),6e3));if(1>=_0(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else kl(L,11)}else if((b.K||L.g==b)&&Tf(L),!j(R))for(fe=L.Da.g.parse(R),R=0;R<fe.length;R++){let dr=fe[R];if(L.T=dr[0],dr=dr[1],L.G==2)if(dr[0]=="c"){L.K=dr[1],L.ia=dr[2];const Wn=dr[3];Wn!=null&&(L.la=Wn,L.j.info("VER="+L.la));const Tn=dr[4];Tn!=null&&(L.Aa=Tn,L.j.info("SVER="+L.Aa));const di=dr[5];di!=null&&typeof di=="number"&&0<di&&(X=1.5*di,L.L=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const Ma=b.g;if(Ma){const PA=Ma.g?Ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(PA){var be=X.h;be.g||PA.indexOf("spdy")==-1&&PA.indexOf("quic")==-1&&PA.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(Jp(be,be.h),be.h=null))}if(X.D){const Pf=Ma.g?Ma.g.getResponseHeader("X-HTTP-Session-Id"):null;Pf&&(X.ya=Pf,Lr(X.I,X.D,Pf))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-b.F,L.j.info("Handshake RTT: "+L.R+"ms")),X=L;var Ge=b;if(X.qa=R0(X,X.J?X.ia:null,X.W),Ge.K){j0(X.h,Ge);var kr=Ge,Dn=X.L;Dn&&(kr.I=Dn),kr.B&&(BA(kr),Gr(kr)),X.g=Ge}else IA(X);0<L.i.length&&Uo(L)}else dr[0]!="stop"&&dr[0]!="close"||kl(L,7);else L.G==3&&(dr[0]=="stop"||dr[0]=="close"?dr[0]=="stop"?kl(L,7):cs(L):dr[0]!="noop"&&L.l&&L.l.ta(dr),L.v=0)}}Bl(4)}catch{}}var b0=class{constructor(b,R){this.g=b,this.map=R}};function EA(b){this.l=b||10,l.PerformanceNavigationTiming?(b=l.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function _0(b){return b.h?1:b.g?b.g.size:0}function Ws(b,R){return b.h?b.h==R:b.g?b.g.has(R):!1}function Jp(b,R){b.g?b.g.add(R):b.h=R}function j0(b,R){b.h&&b.h==R?b.h=null:b.g&&b.g.has(R)&&b.g.delete(R)}EA.prototype.cancel=function(){if(this.i=C0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function C0(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let R=b.i;for(const L of b.g.values())R=R.concat(L.D);return R}return x(b.i)}function wf(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(c(b)){for(var R=[],L=b.length,X=0;X<L;X++)R.push(b[X]);return R}R=[],L=0;for(X in b)R[L++]=b[X];return R}function bf(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(c(b)||typeof b=="string"){var R=[];b=b.length;for(var L=0;L<b;L++)R.push(L);return R}R=[],L=0;for(const X in b)R[L++]=X;return R}}}function Nc(b,R){if(b.forEach&&typeof b.forEach=="function")b.forEach(R,void 0);else if(c(b)||typeof b=="string")Array.prototype.forEach.call(b,R,void 0);else for(var L=bf(b),X=wf(b),fe=X.length,be=0;be<fe;be++)R.call(void 0,X[be],L&&L[be],b)}var SA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _B(b,R){if(b){b=b.split("&");for(var L=0;L<b.length;L++){var X=b[L].indexOf("="),fe=null;if(0<=X){var be=b[L].substring(0,X);fe=b[L].substring(X+1)}else be=b[L];R(be,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function El(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof El){this.h=b.h,NA(this,b.j),this.o=b.o,this.g=b.g,Tc(this,b.s),this.l=b.l;var R=b.i,L=new Fo;L.i=R.i,R.g&&(L.g=new Map(R.g),L.h=R.h),kc(this,L),this.m=b.m}else b&&(R=String(b).match(SA))?(this.h=!1,NA(this,R[1]||"",!0),this.o=ir(R[2]||""),this.g=ir(R[3]||"",!0),Tc(this,R[4]),this.l=ir(R[5]||"",!0),kc(this,R[6]||"",!0),this.m=ir(R[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}El.prototype.toString=function(){var b=[],R=this.j;R&&b.push(Pc(R,_f,!0),":");var L=this.g;return(L||R=="file")&&(b.push("//"),(R=this.o)&&b.push(Pc(R,_f,!0),"@"),b.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.s,L!=null&&b.push(":",String(L))),(L=this.l)&&(this.g&&L.charAt(0)!="/"&&b.push("/"),b.push(Pc(L,L.charAt(0)=="/"?S0:E0,!0))),(L=this.i.toString())&&b.push("?",L),(L=this.m)&&b.push("#",Pc(L,Yp)),b.join("")};function Da(b){return new El(b)}function NA(b,R,L){b.j=L?ir(R,!0):R,b.j&&(b.j=b.j.replace(/:$/,""))}function Tc(b,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);b.s=R}else b.s=null}function kc(b,R,L){R instanceof Fo?(b.i=R,Ro(b.i,b.h)):(L||(R=Pc(R,N0)),b.i=new Fo(R,b.h))}function Lr(b,R,L){b.i.set(R,L)}function Ic(b){return Lr(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function ir(b,R){return b?R?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function Pc(b,R,L){return typeof b=="string"?(b=encodeURI(b).replace(R,B0),L&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function B0(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var _f=/[#\/\?@]/g,E0=/[#\?:]/g,S0=/[#\?]/g,N0=/[#\?@]/g,Yp=/#/g;function Fo(b,R){this.h=this.g=null,this.i=b||null,this.j=!!R}function ls(b){b.g||(b.g=new Map,b.h=0,b.i&&_B(b.i,function(R,L){b.add(decodeURIComponent(R.replace(/\+/g," ")),L)}))}t=Fo.prototype,t.add=function(b,R){ls(this),this.i=null,b=Ai(this,b);var L=this.g.get(b);return L||this.g.set(b,L=[]),L.push(R),this.h+=1,this};function qi(b,R){ls(b),R=Ai(b,R),b.g.has(R)&&(b.i=null,b.h-=b.g.get(R).length,b.g.delete(R))}function zi(b,R){return ls(b),R=Ai(b,R),b.g.has(R)}t.forEach=function(b,R){ls(this),this.g.forEach(function(L,X){L.forEach(function(fe){b.call(R,fe,X,this)},this)},this)},t.na=function(){ls(this);const b=Array.from(this.g.values()),R=Array.from(this.g.keys()),L=[];for(let X=0;X<R.length;X++){const fe=b[X];for(let be=0;be<fe.length;be++)L.push(R[X])}return L},t.V=function(b){ls(this);let R=[];if(typeof b=="string")zi(this,b)&&(R=R.concat(this.g.get(Ai(this,b))));else{b=Array.from(this.g.values());for(let L=0;L<b.length;L++)R=R.concat(b[L])}return R},t.set=function(b,R){return ls(this),this.i=null,b=Ai(this,b),zi(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[R]),this.h+=1,this},t.get=function(b,R){return b?(b=this.V(b),0<b.length?String(b[0]):R):R};function Oc(b,R,L){qi(b,R),0<L.length&&(b.i=null,b.g.set(Ai(b,R),x(L)),b.h+=L.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],R=Array.from(this.g.keys());for(var L=0;L<R.length;L++){var X=R[L];const be=encodeURIComponent(String(X)),Ge=this.V(X);for(X=0;X<Ge.length;X++){var fe=be;Ge[X]!==""&&(fe+="="+encodeURIComponent(String(Ge[X]))),b.push(fe)}}return this.i=b.join("&")};function Ai(b,R){return R=String(R),b.j&&(R=R.toLowerCase()),R}function Ro(b,R){R&&!b.j&&(ls(b),b.i=null,b.g.forEach(function(L,X){var fe=X.toLowerCase();X!=fe&&(qi(this,X),Oc(this,fe,L))},b)),b.j=R}function jB(b,R){const L=new _A;if(l.Image){const X=new Image;X.onload=p(ha,L,"TestLoadImage: loaded",!0,R,X),X.onerror=p(ha,L,"TestLoadImage: error",!1,R,X),X.onabort=p(ha,L,"TestLoadImage: abort",!1,R,X),X.ontimeout=p(ha,L,"TestLoadImage: timeout",!1,R,X),l.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=b}else R(!1)}function T0(b,R){const L=new _A,X=new AbortController,fe=setTimeout(()=>{X.abort(),ha(L,"TestPingServer: timeout",!1,R)},1e4);fetch(b,{signal:X.signal}).then(be=>{clearTimeout(fe),be.ok?ha(L,"TestPingServer: ok",!0,R):ha(L,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(fe),ha(L,"TestPingServer: error",!1,R)})}function ha(b,R,L,X,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),X(L)}catch{}}function CB(){this.g=new wA}function k0(b,R,L){const X=L||"";try{Nc(b,function(fe,be){let Ge=fe;u(fe)&&(Ge=li(fe)),R.push(X+be+"="+encodeURIComponent(Ge))})}catch(fe){throw R.push(X+"type="+encodeURIComponent("_badmap")),fe}}function Sl(b){this.l=b.Ub||null,this.j=b.eb||!1}y(Sl,Pt),Sl.prototype.g=function(){return new TA(this.l,this.j)},Sl.prototype.i=function(b){return function(){return b}}({});function TA(b,R){jt.call(this),this.D=b,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(TA,jt),t=TA.prototype,t.open=function(b,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=R,this.readyState=1,Wi(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(R.body=b),(this.D||l).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gi(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Wi(this)),this.g&&(this.readyState=3,Wi(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;I0(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function I0(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var R=b.value?b.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!b.done}))&&(this.response=this.responseText+=R)}b.done?Gi(this):Wi(this),this.readyState==3&&I0(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,Gi(this))},t.Qa=function(b){this.g&&(this.response=b,Gi(this))},t.ga=function(){this.g&&Gi(this)};function Gi(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Wi(b)}t.setRequestHeader=function(b,R){this.u.append(b,R)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],R=this.h.entries();for(var L=R.next();!L.done;)L=L.value,b.push(L[0]+": "+L[1]),L=R.next();return b.join(`\r
`)};function Wi(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(TA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Nl(b){let R="";return k(b,function(L,X){R+=X,R+=":",R+=L,R+=`\r
`}),R}function Fc(b,R,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=Nl(L),typeof b=="string"?L!=null&&encodeURIComponent(String(L)):Lr(b,R,L))}function nn(b){jt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(nn,jt);var BB=/^https?$/i,Zp=["POST","PUT"];t=nn.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,R,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);R=R?R.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vi.g(),this.v=this.o?xr(this.o):xr(Vi),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(R,String(b),!0),this.B=!1}catch(be){kA(this,be);return}if(b=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var fe in X)L.set(fe,X[fe]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const be of X.keys())L.set(be,X.get(be));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(be=>be.toLowerCase()=="content-type"),fe=l.FormData&&b instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Zp,R,void 0))||X||fe||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,Ge]of L)this.g.setRequestHeader(be,Ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cf(this),this.u=!0,this.g.send(b),this.u=!1}catch(be){kA(this,be)}};function kA(b,R){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=R,b.m=5,jf(b),Ua(b)}function jf(b){b.A||(b.A=!0,St(b,"complete"),St(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,St(this,"complete"),St(this,"abort"),Ua(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ua(this,!0)),nn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?eg(this):this.bb())},t.bb=function(){eg(this)};function eg(b){if(b.h&&typeof o<"u"&&(!b.v[1]||ma(b)!=4||b.Z()!=2)){if(b.u&&ma(b)==4)da(b.Ea,0,b);else if(St(b,"readystatechange"),ma(b)==4){b.h=!1;try{const Ge=b.Z();e:switch(Ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var L;if(!(L=R)){var X;if(X=Ge===0){var fe=String(b.D).match(SA)[1]||null;!fe&&l.self&&l.self.location&&(fe=l.self.location.protocol.slice(0,-1)),X=!BB.test(fe?fe.toLowerCase():"")}L=X}if(L)St(b,"complete"),St(b,"success");else{b.m=6;try{var be=2<ma(b)?b.g.statusText:""}catch{be=""}b.l=be+" ["+b.Z()+"]",jf(b)}}finally{Ua(b)}}}}function Ua(b,R){if(b.g){Cf(b);const L=b.g,X=b.v[0]?()=>{}:null;b.g=null,b.v=null,R||St(b,"ready");try{L.onreadystatechange=X}catch{}}}function Cf(b){b.I&&(l.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function ma(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<ma(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var R=this.g.responseText;return b&&R.indexOf(b)==0&&(R=R.substring(b.length)),fa(R)}};function tg(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(b){const R={};b=(b.g&&2<=ma(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<b.length;X++){if(j(b[X]))continue;var L=D(b[X]);const fe=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const be=R[fe]||[];R[fe]=be,be.push(L)}E(R,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(b,R,L){return L&&L.internalChannelParams&&L.internalChannelParams[b]||R}function rg(b){this.Aa=0,this.i=[],this.j=new _A,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,b),this.cb=Do("retryDelaySeedMs",1e4,b),this.Wa=Do("forwardChannelMaxRetries",2,b),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new EA(b&&b.concurrentRequestLimit),this.Da=new CB,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rg.prototype,t.la=8,t.G=1,t.connect=function(b,R,L,X){bn(0),this.W=b,this.H=R||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.I=R0(this,null,this.W),Uo(this)};function cs(b){if(Ef(b),b.G==3){var R=b.U++,L=Da(b.I);if(Lr(L,"SID",b.K),Lr(L,"RID",R),Lr(L,"TYPE","terminate"),Tl(b,L),R=new Ki(b,b.j,R),R.L=2,R.v=Ic(Da(L)),L=!1,l.navigator&&l.navigator.sendBeacon)try{L=l.navigator.sendBeacon(R.v.toString(),"")}catch{}!L&&l.Image&&(new Image().src=R.v,L=!0),L||(R.g=D0(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Gr(R)}F0(b)}function Xi(b){b.g&&(ng(b),b.g.cancel(),b.g=null)}function Ef(b){Xi(b),b.u&&(l.clearTimeout(b.u),b.u=null),Tf(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&l.clearTimeout(b.s),b.s=null)}function Uo(b){if(!Ra(b.h)&&!b.s){b.s=!0;var R=b.Ga;H||q(),Q||(H(),Q=!0),z.add(R,b),b.B=0}}function EB(b,R){return _0(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=R.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Hi(m(b.Ga,b,R),O0(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const fe=new Ki(this,this.j,b);let be=this.o;if(this.S&&(be?(be=T(be),O(be,this.S)):be=this.S),this.m!==null||this.O||(fe.H=be,be=null),this.P)e:{for(var R=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(R+=X,4096<R){R=L;break e}if(R===4096||L===this.i.length-1){R=L+1;break e}}R=1e3}else R=1e3;R=Rc(this,fe,R),L=Da(this.I),Lr(L,"RID",b),Lr(L,"CVER",22),this.D&&Lr(L,"X-HTTP-Session-Id",this.D),Tl(this,L),be&&(this.O?R="headers="+encodeURIComponent(String(Nl(be)))+"&"+R:this.m&&Fc(L,this.m,be)),Jp(this.h,fe),this.Ua&&Lr(L,"TYPE","init"),this.P?(Lr(L,"$req",R),Lr(L,"SID","null"),fe.T=!0,xf(fe,L,null)):xf(fe,L,R),this.G=2}}else this.G==3&&(b?Sf(this,b):this.i.length==0||Ra(this.h)||Sf(this))};function Sf(b,R){var L;R?L=R.l:L=b.U++;const X=Da(b.I);Lr(X,"SID",b.K),Lr(X,"RID",L),Lr(X,"AID",b.T),Tl(b,X),b.m&&b.o&&Fc(X,b.m,b.o),L=new Ki(b,b.j,L,b.B+1),b.m===null&&(L.H=b.o),R&&(b.i=R.D.concat(b.i)),R=Rc(b,L,1e3),L.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Jp(b.h,L),xf(L,X,R)}function Tl(b,R){b.H&&k(b.H,function(L,X){Lr(R,X,L)}),b.l&&Nc({},function(L,X){Lr(R,X,L)})}function Rc(b,R,L){L=Math.min(b.i.length,L);var X=b.l?m(b.l.Na,b.l,b):null;e:{var fe=b.i;let be=-1;for(;;){const Ge=["count="+L];be==-1?0<L?(be=fe[0].g,Ge.push("ofs="+be)):be=0:Ge.push("ofs="+be);let kr=!0;for(let Dn=0;Dn<L;Dn++){let dr=fe[Dn].g;const Wn=fe[Dn].map;if(dr-=be,0>dr)be=Math.max(0,fe[Dn].g-100),kr=!1;else try{k0(Wn,Ge,"req"+dr+"_")}catch{X&&X(Wn)}}if(kr){X=Ge.join("&");break e}}}return b=b.i.splice(0,L),R.D=b,X}function IA(b){if(!b.g&&!b.u){b.Y=1;var R=b.Fa;H||q(),Q||(H(),Q=!0),z.add(R,b),b.v=0}}function Nf(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Hi(m(b.Fa,b),O0(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,P0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Hi(m(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bn(10),Xi(this),P0(this))};function ng(b){b.A!=null&&(l.clearTimeout(b.A),b.A=null)}function P0(b){b.g=new Ki(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var R=Da(b.qa);Lr(R,"RID","rpc"),Lr(R,"SID",b.K),Lr(R,"AID",b.T),Lr(R,"CI",b.F?"0":"1"),!b.F&&b.ja&&Lr(R,"TO",b.ja),Lr(R,"TYPE","xmlhttp"),Tl(b,R),b.m&&b.o&&Fc(R,b.m,b.o),b.L&&(b.g.I=b.L);var L=b.g;b=b.ia,L.L=1,L.v=Ic(Da(R)),L.m=null,L.P=!0,Wp(L,b)}t.Za=function(){this.C!=null&&(this.C=null,Xi(this),Nf(this),bn(19))};function Tf(b){b.C!=null&&(l.clearTimeout(b.C),b.C=null)}function kf(b,R){var L=null;if(b.g==R){Tf(b),ng(b),b.g=null;var X=2}else if(Ws(b.h,R))L=R.D,j0(b.h,R),X=1;else return;if(b.G!=0){if(R.o)if(X==1){L=R.m?R.m.length:0,R=Date.now()-R.F;var fe=b.B;X=bA(),St(X,new pf(X,L)),Uo(b)}else IA(b);else if(fe=R.s,fe==3||fe==0&&0<R.X||!(X==1&&EB(b,R)||X==2&&Nf(b)))switch(L&&0<L.length&&(R=b.h,R.i=R.i.concat(L)),fe){case 1:kl(b,5);break;case 4:kl(b,10);break;case 3:kl(b,6);break;default:kl(b,2)}}}function O0(b,R){let L=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(L*=2),L*R}function kl(b,R){if(b.j.info("Error code "+R),R==2){var L=m(b.fb,b),X=b.Xa;const fe=!X;X=new El(X||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||NA(X,"https"),Ic(X),fe?jB(X.toString(),L):T0(X.toString(),L)}else bn(2);b.G=0,b.l&&b.l.sa(R),F0(b),Ef(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),bn(2)):(this.j.info("Failed to ping google.com"),bn(1))};function F0(b){if(b.G=0,b.ka=[],b.l){const R=C0(b.h);(R.length!=0||b.i.length!=0)&&(v(b.ka,R),v(b.ka,b.i),b.h.i.length=0,x(b.i),b.i.length=0),b.l.ra()}}function R0(b,R,L){var X=L instanceof El?Da(L):new El(L);if(X.g!="")R&&(X.g=R+"."+X.g),Tc(X,X.s);else{var fe=l.location;X=fe.protocol,R=R?R+"."+fe.hostname:fe.hostname,fe=+fe.port;var be=new El(null);X&&NA(be,X),R&&(be.g=R),fe&&Tc(be,fe),L&&(be.l=L),X=be}return L=b.D,R=b.ya,L&&R&&Lr(X,L,R),Lr(X,"VER",b.la),Tl(b,X),X}function D0(b,R,L){if(R&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=b.Ca&&!b.pa?new nn(new Sl({eb:L})):new nn(b.pa),R.Ha(b.J),R}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sg(){}t=sg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function If(){}If.prototype.g=function(b,R){return new Xs(b,R)};function Xs(b,R){jt.call(this),this.g=new rg(R),this.l=b,this.h=R&&R.messageUrlParams||null,b=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(b?b["X-WebChannel-Content-Type"]=R.messageContentType:b={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(b?b["X-WebChannel-Client-Profile"]=R.va:b={"X-WebChannel-Client-Profile":R.va}),this.g.S=b,(b=R&&R.Sb)&&!j(b)&&(this.g.m=b),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!j(R)&&(this.g.D=R,b=this.h,b!==null&&R in b&&(b=this.h,R in b&&delete b[R])),this.j=new Mo(this)}y(Xs,jt),Xs.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xs.prototype.close=function(){cs(this.g)},Xs.prototype.o=function(b){var R=this.g;if(typeof b=="string"){var L={};L.__data__=b,b=L}else this.u&&(L={},L.__data__=li(b),b=L);R.i.push(new b0(R.Ya++,b)),R.G==3&&Uo(R)},Xs.prototype.N=function(){this.g.l=null,delete this.j,cs(this.g),delete this.g,Xs.aa.N.call(this)};function U0(b){wn.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var R=b.__sm__;if(R){e:{for(const L in R){b=L;break e}b=void 0}(this.i=b)&&(b=this.i,R=R!==null&&b in R?R[b]:void 0),this.data=R}else this.data=b}y(U0,wn);function M0(){Li.call(this),this.status=1}y(M0,Li);function Mo(b){this.g=b}y(Mo,sg),Mo.prototype.ua=function(){St(this.g,"a")},Mo.prototype.ta=function(b){St(this.g,new U0(b))},Mo.prototype.sa=function(b){St(this.g,new M0)},Mo.prototype.ra=function(){St(this.g,"b")},If.prototype.createWebChannel=If.prototype.g,Xs.prototype.send=Xs.prototype.o,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,HW=function(){return new If},LW=function(){return bA()},QW=ci,E2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vf.NO_ERROR=0,vf.TIMEOUT=8,vf.HTTP_ERROR=6,qb=vf,v0.COMPLETE="complete",MW=v0,gr.EventType=cn,cn.OPEN="a",cn.CLOSE="b",cn.ERROR="c",cn.MESSAGE="d",jt.prototype.listen=jt.prototype.K,cv=gr,nn.prototype.listenOnce=nn.prototype.L,nn.prototype.getLastError=nn.prototype.Ka,nn.prototype.getLastErrorCode=nn.prototype.Ba,nn.prototype.getStatus=nn.prototype.Z,nn.prototype.getResponseJson=nn.prototype.Oa,nn.prototype.getResponseText=nn.prototype.oa,nn.prototype.send=nn.prototype.ea,nn.prototype.setWithCredentials=nn.prototype.Ha,UW=nn}).apply(typeof Kw<"u"?Kw:typeof self<"u"?self:typeof window<"u"?window:{});const x5="@firebase/firestore",w5="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ms.UNAUTHENTICATED=new ms(null),ms.GOOGLE_CREDENTIALS=new ms("google-credentials-uid"),ms.FIRST_PARTY=new ms("first-party-uid"),ms.MOCK_USER=new ms("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new kW("@firebase/firestore");function Ph(){return Hd.logLevel}function qe(t,...e){if(Hd.logLevel<=hr.DEBUG){const r=e.map(ZR);Hd.debug(`Firestore (${_p}): ${t}`,...r)}}function Za(t,...e){if(Hd.logLevel<=hr.ERROR){const r=e.map(ZR);Hd.error(`Firestore (${_p}): ${t}`,...r)}}function Ux(t,...e){if(Hd.logLevel<=hr.WARN){const r=e.map(ZR);Hd.warn(`Firestore (${_p}): ${t}`,...r)}}function ZR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,$W(t,n,r)}function $W(t,e,r){let n=`FIRESTORE (${_p}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Za(n),new Error(n)}function It(t,e,r,n){let s="Unexpected state";typeof r=="string"?s=r:n=r,t||$W(e,s,n)}function zr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends uf{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tve{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(ms.UNAUTHENTICATED))}shutdown(){}}class kve{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Ive{constructor(e){this.t=e,this.currentUser=ms.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){It(this.o===void 0,42304);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new Ru;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ru,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ru)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(It(typeof n.accessToken=="string",31837,{l:n}),new VW(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new ms(e)}}class Pve{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ms.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ove{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Pve(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable(()=>r(ms.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fve{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hve(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){It(this.o===void 0,3512);const n=a=>{a.error!=null&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,qe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>n(a))};const s=a=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(It(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new b5(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rve(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dve(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=Rve(40);for(let a=0;a<s.length;++a)n.length<20&&s[a]<r&&(n+=e.charAt(s[a]%62))}return n}}function Kt(t,e){return t<e?-1:t>e?1:0}function S2(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return Kt(n,s);{const a=Dve(),o=Uve(a.encode(_5(t,r)),a.encode(_5(e,r)));return o!==0?o:Kt(n,s)}}r+=n>65535?2:1}return Kt(t.length,e.length)}function _5(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Uve(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return Kt(t[r],e[r]);return Kt(t.length,e.length)}function jm(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}function qW(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=-62135596800,C5=1e6;class yn{static now(){return yn.fromMillis(Date.now())}static fromDate(e){return yn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*C5);return new yn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xt(Pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<j5)throw new xt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(Pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/C5}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-j5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{static fromTimestamp(e){return new cr(e)}static min(){return new cr(new yn(0,0))}static max(){return new cr(new yn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="__name__";class Go{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ct(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ct(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Go.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Go?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const a=Go.compareSegments(e.get(s),r.get(s));if(a!==0)return a}return Kt(e.length,r.length)}static compareSegments(e,r){const n=Go.isNumericId(e),s=Go.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Go.extractNumericId(e).compare(Go.extractNumericId(r)):S2(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return YR.fromString(e.substring(4,e.length-2))}}class Hr extends Go{construct(e,r,n){return new Hr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xt(Pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Hr(r)}static emptyPath(){return new Hr([])}}const Mve=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends Go{construct(e,r,n){return new fn(e,r,n)}static isValidIdentifier(e){return Mve.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===B5}static keyField(){return new fn([B5])}static fromServerFormat(e){const r=[];let n="",s=0;const a=()=>{if(n.length===0)throw new xt(Pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new xt(Pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xt(Pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(n+=l,s++):(a(),s++)}if(a(),o)throw new xt(Pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(r)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Hr.fromString(e))}static fromName(e){return new gt(Hr.fromString(e).popFirst(5))}static empty(){return new gt(Hr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Hr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Hr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Hr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=-1;class k1{constructor(e,r,n,s){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=s}}function N2(t){return t.fields.find(e=>e.kind===2)}function rd(t){return t.fields.filter(e=>e.kind!==2)}k1.UNKNOWN_ID=-1;class zb{constructor(e,r){this.fieldPath=e,this.kind=r}}class cy{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new cy(0,ai.min())}}function Qve(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=cr.fromTimestamp(n===1e9?new yn(r+1,0):new yn(r,n));return new ai(s,gt.empty(),e)}function zW(t){return new ai(t.readTime,t.key,ly)}class ai{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ai(cr.min(),gt.empty(),ly)}static max(){return new ai(cr.max(),gt.empty(),ly)}}function eD(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=gt.comparator(t.documentKey,e.documentKey),r!==0?r:Kt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t){if(t.code!==Pe.FAILED_PRECONDITION||t.message!==GW)throw t;qe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pe((n,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,s)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof pe?r:pe.resolve(r)}catch(r){return pe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):pe.reject(r)}static resolve(e){return new pe((r,n)=>{r(e)})}static reject(e){return new pe((r,n)=>{n(e)})}static waitFor(e){return new pe((r,n)=>{let s=0,a=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++a,o&&a===s&&r()},c=>n(c))}),o=!0,a===s&&r()})}static or(e){let r=pe.resolve(!1);for(const n of e)r=r.next(s=>s?pe.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,a)=>{n.push(r.call(this,s,a))}),this.waitFor(n)}static mapArray(e,r){return new pe((n,s)=>{const a=e.length,o=new Array(a);let l=0;for(let c=0;c<a;c++){const u=c;r(e[u]).next(d=>{o[u]=d,++l,l===a&&n(o)},d=>s(d))}})}static doWhile(e,r){return new pe((n,s)=>{const a=()=>{e()===!0?r().next(()=>{a()},s):n()};a()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="SimpleDb";class Vj{static open(e,r,n,s){try{return new Vj(r,e.transaction(s,n))}catch(a){throw new Tv(r,a)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.S=new Ru,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{r.error?this.S.reject(new Tv(e,r.error)):this.S.resolve()},this.transaction.onerror=n=>{const s=tD(n.target.error);this.S.reject(new Tv(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(qe(Ja,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new Hve(r)}}class Du{static delete(e){return qe(Ja,"Removing database:",e),cd(CW().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!XR())return!1;if(Du.F())return!0;const e=S1(),r=Du.M(e),n=0<r&&r<10,s=XW(e),a=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||a)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,r){return e.store(r)}static M(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.B=n,this.L=null,Du.M(S1())===12.2&&Za("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(qe(Ja,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=a=>{const o=a.target.result;r(o)},s.onblocked=()=>{n(new Tv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=a=>{const o=a.target.error;o.name==="VersionError"?n(new xt(Pe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?n(new xt(Pe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):n(new Tv(e,o))},s.onupgradeneeded=a=>{qe(Ja,'Database "'+this.name+'" requires upgrade from version:',a.oldVersion);const o=a.target.result;if(this.L!==null&&this.L!==a.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${a.oldVersion}, event.newVersion=${a.newVersion}, db.version=${o.version}`);this.B.q(o,s.transaction,a.oldVersion,this.version).next(()=>{qe(Ja,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",r=>{const n=r.target;this.L=n.version},{passive:!0})),this.$&&(this.db.onversionchange=r=>this.$(r)),this.db}U(e){this.$=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,s){const a=r==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const l=Vj.open(this.db,e,a?"readonly":"readwrite",n),c=s(l).next(u=>(l.v(),u)).catch(u=>(l.abort(u),pe.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&o<3;if(qe(Ja,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function XW(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class Lve{constructor(e){this.K=e,this.W=!1,this.G=null}get isDone(){return this.W}get j(){return this.G}set cursor(e){this.K=e}done(){this.W=!0}H(e){this.G=e}delete(){return cd(this.K.delete())}}class Tv extends xt{constructor(e,r){super(Pe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function Af(t){return t.name==="IndexedDbTransactionError"}class Hve{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(qe(Ja,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(qe(Ja,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cd(n)}add(e){return qe(Ja,"ADD",this.store.name,e,e),cd(this.store.add(e))}get(e){return cd(this.store.get(e)).next(r=>(r===void 0&&(r=null),qe(Ja,"GET",this.store.name,e,r),r))}delete(e){return qe(Ja,"DELETE",this.store.name,e),cd(this.store.delete(e))}count(){return qe(Ja,"COUNT",this.store.name),cd(this.store.count())}J(e,r){const n=this.options(e,r),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const a=s.getAll(n.range);return new pe((o,l)=>{a.onerror=c=>{l(c.target.error)},a.onsuccess=c=>{o(c.target.result)}})}{const a=this.cursor(n),o=[];return this.Y(a,(l,c)=>{o.push(c)}).next(()=>o)}}Z(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new pe((s,a)=>{n.onerror=o=>{a(o.target.error)},n.onsuccess=o=>{s(o.target.result)}})}X(e,r){qe(Ja,"DELETE ALL",this.store.name);const n=this.options(e,r);n.ee=!1;const s=this.cursor(n);return this.Y(s,(a,o,l)=>l.delete())}te(e,r){let n;r?n=e:(n={},r=e);const s=this.cursor(n);return this.Y(s,r)}ne(e){const r=this.cursor({});return new pe((n,s)=>{r.onerror=a=>{const o=tD(a.target.error);s(o)},r.onsuccess=a=>{const o=a.target.result;o?e(o.primaryKey,o.value).next(l=>{l?o.continue():n()}):n()}})}Y(e,r){const n=[];return new pe((s,a)=>{e.onerror=o=>{a(o.target.error)},e.onsuccess=o=>{const l=o.target.result;if(!l)return void s();const c=new Lve(l),u=r(l.primaryKey,l.value,c);if(u instanceof pe){const d=u.catch(f=>(c.done(),pe.reject(f)));n.push(d)}c.isDone?s():c.j===null?l.continue():l.continue(c.j)}}).next(()=>pe.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.ee?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function cd(t){return new pe((e,r)=>{t.onsuccess=n=>{const s=n.target.result;e(s)},t.onerror=n=>{const s=tD(n.target.error);r(s)}})}let E5=!1;function tD(t){const e=Du.M(S1());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E5||(E5=!0,setTimeout(()=>{throw n},0)),n}}return t}const kv="IndexBackfiller";class $ve{constructor(e,r){this.asyncQueue=e,this.re=r,this.task=null}start(){this.ie(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ie(e){qe(kv,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.re.se();qe(kv,`Documents written: ${r}`)}catch(r){Af(r)?qe(kv,"Ignoring IndexedDB error during index backfill: ",r):await $j(r)}await this.ie(6e4)})}}class Vve{constructor(e,r){this.localStore=e,this.persistence=r}async se(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.oe(r,e))}oe(e,r){const n=new Set;let s=r,a=!0;return pe.doWhile(()=>a===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!n.has(o))return qe(kv,`Processing collection: ${o}`),this._e(e,o,s).next(l=>{s-=l,n.add(o)});a=!1})).next(()=>r-s)}_e(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(s=>this.localStore.localDocuments.getNextDocuments(e,r,s,n).next(a=>{const o=a.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ae(s,a)).next(l=>(qe(kv,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,r,l))).next(()=>o.size)}))}ae(e,r){let n=e;return r.changes.forEach((s,a)=>{const o=zW(a);eD(o,n)>0&&(n=o)}),new ai(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}go.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=-1;function Kj(t){return t==null}function uy(t){return t===0&&1/t==-1/0}function Kve(t){return typeof t=="number"&&Number.isInteger(t)&&!uy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="";function $s(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=S5(e)),e=qve(t.get(r),e);return S5(e)}function qve(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const a=t.charAt(s);switch(a){case"\0":r+="";break;case I1:r+="";break;default:r+=a}}return r}function S5(t){return t+I1+""}function rl(t){const e=t.length;if(It(e>=2,64408,{path:t}),e===2)return It(t.charAt(0)===I1&&t.charAt(1)==="",56145,{path:t}),Hr.emptyPath();const r=e-2,n=[];let s="";for(let a=0;a<e;){const o=t.indexOf(I1,a);switch((o<0||o>r)&&Ct(50515,{path:t}),t.charAt(o+1)){case"":const l=t.substring(a,o);let c;s.length===0?c=l:(s+=l,c=s,s=""),n.push(c);break;case"":s+=t.substring(a,o),s+="\0";break;case"":s+=t.substring(a,o+1);break;default:Ct(61167,{path:t})}a=o+2}return new Hr(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="remoteDocuments",Mx="owner",lh="owner",Ay="mutationQueues",zve="userId",lo="mutations",N5="batchId",md="userMutationsIndex",T5=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(t,e){return[t,$s(e)]}function JW(t,e,r){return[t,$s(e),r]}const Gve={},Cm="documentMutations",P1="remoteDocumentsV14",Wve=["prefixPath","collectionGroup","readTime","documentId"],Wb="documentKeyIndex",Xve=["prefixPath","collectionGroup","documentId"],YW="collectionGroupIndex",Jve=["collectionGroup","readTime","prefixPath","documentId"],dy="remoteDocumentGlobal",T2="remoteDocumentGlobalKey",Bm="targets",ZW="queryTargetsIndex",Yve=["canonicalId","targetId"],Em="targetDocuments",Zve=["targetId","path"],rD="documentTargetsIndex",eye=["path","targetId"],O1="targetGlobalKey",Id="targetGlobal",fy="collectionParents",tye=["collectionId","parent"],Sm="clientMetadata",rye="clientId",qj="bundles",nye="bundleId",zj="namedQueries",sye="name",nD="indexConfiguration",aye="indexId",k2="collectionGroupIndex",iye="collectionGroup",Iv="indexState",oye=["indexId","uid"],eX="sequenceNumberIndex",lye=["uid","sequenceNumber"],Pv="indexEntries",cye=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],tX="documentKeyIndex",uye=["indexId","uid","orderedDocumentKey"],Gj="documentOverlays",Aye=["userId","collectionPath","documentId"],I2="collectionPathOverlayIndex",dye=["userId","collectionPath","largestBatchId"],rX="collectionGroupOverlayIndex",fye=["userId","collectionGroup","largestBatchId"],sD="globals",hye="name",nX=[Ay,lo,Cm,nd,Bm,Mx,Id,Em,Sm,dy,fy,qj,zj],mye=[...nX,Gj],sX=[Ay,lo,Cm,P1,Bm,Mx,Id,Em,Sm,dy,fy,qj,zj,Gj],aX=sX,aD=[...aX,nD,Iv,Pv],pye=aD,iX=[...aD,sD],gye=iX;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2 extends WW{constructor(e,r){super(),this.he=e,this.currentSequenceNumber=r}}function zn(t,e){const r=zr(t);return Du.N(r.he,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function jp(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function oX(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,r){this.comparator=e,this.root=r||ps.EMPTY}insert(e,r){return new oa(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,ps.BLACK,null,null))}remove(e){return new oa(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ps.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qw(this.root,e,this.comparator,!1)}getReverseIterator(){return new qw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qw(this.root,e,this.comparator,!0)}}class qw{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ps{constructor(e,r,n,s,a){this.key=e,this.value=r,this.color=n??ps.RED,this.left=s??ps.EMPTY,this.right=a??ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,a){return new ps(e??this.key,r??this.value,n??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const a=n(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,r,n),null):a===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ps.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return ps.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}ps.EMPTY=null,ps.RED=!0,ps.BLACK=!1;ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,r,n,s,a){return this}insert(e,r,n){return new ps(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.comparator=e,this.data=new oa(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new I5(this.data.getIterator())}getIteratorFrom(e){return new I5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,a=n.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Vr(this.comparator);return r.data=e,r}}class I5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ch(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Ei([])}unionWith(e){let r=new Vr(fn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Ei(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return jm(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vye extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vye("Invalid base64 string: "+a):a}}(e);return new ka(r)}static fromUint8Array(e){const r=function(s){let a="";for(let o=0;o<s.length;++o)a+=String.fromCharCode(s[o]);return a}(e);return new ka(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ka.EMPTY_BYTE_STRING=new ka("");const yye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ju(t){if(It(!!t,39018),typeof t=="string"){let e=0;const r=yye.exec(t);if(It(!!r,46558,{timestamp:t}),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:On(t.seconds),nanos:On(t.nanos)}}function On(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $d(t){return typeof t=="string"?ka.fromBase64String(t):ka.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX="server_timestamp",cX="__type__",uX="__previous_value__",AX="__local_write_time__";function iD(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[cX])===null||r===void 0?void 0:r.stringValue)===lX}function oD(t){const e=t.mapValue.fields[uX];return iD(e)?oD(e):e}function F1(t){const e=Ju(t.mapValue.fields[AX].timestampValue);return new yn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xye{constructor(e,r,n,s,a,o,l,c,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const R1="(default)";class Nm{constructor(e,r){this.projectId=e,this.database=r||R1}static empty(){return new Nm("","")}get isDefaultDatabase(){return this.database===R1}isEqual(e){return e instanceof Nm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__type__",dX="__max__",Eu={mapValue:{fields:{__type__:{stringValue:dX}}}},cD="__vector__",hy="value",Xb={nullValue:"NULL_VALUE"};function Vd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iD(t)?4:fX(t)?9007199254740991:Wj(t)?10:11:Ct(28295,{value:t})}function fl(t,e){if(t===e)return!0;const r=Vd(t);if(r!==Vd(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return F1(t).isEqual(F1(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const o=Ju(s.timestampValue),l=Ju(a.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return $d(s.bytesValue).isEqual($d(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return On(s.geoPointValue.latitude)===On(a.geoPointValue.latitude)&&On(s.geoPointValue.longitude)===On(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return On(s.integerValue)===On(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const o=On(s.doubleValue),l=On(a.doubleValue);return o===l?uy(o)===uy(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return jm(t.arrayValue.values||[],e.arrayValue.values||[],fl);case 10:case 11:return function(s,a){const o=s.mapValue.fields||{},l=a.mapValue.fields||{};if(k5(o)!==k5(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!fl(o[c],l[c])))return!1;return!0}(t,e);default:return Ct(52216,{left:t})}}function my(t,e){return(t.values||[]).find(r=>fl(r,e))!==void 0}function Yu(t,e){if(t===e)return 0;const r=Vd(t),n=Vd(e);if(r!==n)return Kt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Kt(t.booleanValue,e.booleanValue);case 2:return function(a,o){const l=On(a.integerValue||a.doubleValue),c=On(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return P5(t.timestampValue,e.timestampValue);case 4:return P5(F1(t),F1(e));case 5:return S2(t.stringValue,e.stringValue);case 6:return function(a,o){const l=$d(a),c=$d(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(a,o){const l=a.split("/"),c=o.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Kt(l[u],c[u]);if(d!==0)return d}return Kt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,o){const l=Kt(On(a.latitude),On(o.latitude));return l!==0?l:Kt(On(a.longitude),On(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O5(t.arrayValue,e.arrayValue);case 10:return function(a,o){var l,c,u,d;const f=a.fields||{},m=o.fields||{},p=(l=f[hy])===null||l===void 0?void 0:l.arrayValue,y=(c=m[hy])===null||c===void 0?void 0:c.arrayValue,x=Kt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:O5(p,y)}(t.mapValue,e.mapValue);case 11:return function(a,o){if(a===Eu.mapValue&&o===Eu.mapValue)return 0;if(a===Eu.mapValue)return 1;if(o===Eu.mapValue)return-1;const l=a.fields||{},c=Object.keys(l),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const m=S2(c[f],d[f]);if(m!==0)return m;const p=Yu(l[c[f]],u[d[f]]);if(p!==0)return p}return Kt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw Ct(23264,{Pe:r})}}function P5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Kt(t,e);const r=Ju(t),n=Ju(e),s=Kt(r.seconds,n.seconds);return s!==0?s:Kt(r.nanos,n.nanos)}function O5(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const a=Yu(r[s],n[s]);if(a)return a}return Kt(r.length,n.length)}function Tm(t){return O2(t)}function O2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Ju(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return $d(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return gt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const a of r.values||[])s?s=!1:n+=",",n+=O2(a);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",a=!0;for(const o of n)a?a=!1:s+=",",s+=`${o}:${O2(r.fields[o])}`;return s+"}"}(t.mapValue):Ct(61005,{value:t})}function Jb(t){switch(Vd(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oD(t);return e?16+Jb(e):16;case 5:return 2*t.stringValue.length;case 6:return $d(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,a)=>s+Jb(a),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return jp(n.fields,(a,o)=>{s+=a.length+Jb(o)}),s}(t.mapValue);default:throw Ct(13486,{value:t})}}function uD(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function F2(t){return!!t&&"integerValue"in t}function py(t){return!!t&&"arrayValue"in t}function F5(t){return!!t&&"nullValue"in t}function R5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yb(t){return!!t&&"mapValue"in t}function Wj(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[lD])===null||r===void 0?void 0:r.stringValue)===cD}function Ov(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jp(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=Ov(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Ov(t.arrayValue.values[r]);return e}return Object.assign({},t)}function fX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===dX}const hX={mapValue:{fields:{[lD]:{stringValue:cD},[hy]:{arrayValue:{}}}}};function wye(t){return"nullValue"in t?Xb:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?uD(Nm.empty(),gt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Wj(t)?hX:{mapValue:{}}:Ct(35942,{value:t})}function bye(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?uD(Nm.empty(),gt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?hX:"mapValue"in t?Wj(t)?{mapValue:{}}:Eu:Ct(61959,{value:t})}function D5(t,e){const r=Yu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function U5(t,e){const r=Yu(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.value=e}static empty(){return new ei({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Yb(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ov(r)}setAll(e){let r=fn.emptyPath(),n={},s=[];e.forEach((o,l)=>{if(!r.isImmediateParentOf(l)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=l.popLast()}o?n[l.lastSegment()]=Ov(o):s.push(l.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,s)}delete(e){const r=this.field(e.popLast());Yb(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return fl(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];Yb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){jp(r,(s,a)=>e[s]=a);for(const s of n)delete e[s]}clone(){return new ei(Ov(this.value))}}function mX(t){const e=[];return jp(t.fields,(r,n)=>{const s=new fn([r]);if(Yb(n)){const a=mX(n.mapValue).fields;if(a.length===0)e.push(s);else for(const o of a)e.push(s.child(o))}else e.push(s)}),new Ei(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,r,n,s,a,o,l){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=a,this.data=o,this.documentState=l}static newInvalidDocument(e){return new vs(e,0,cr.min(),cr.min(),cr.min(),ei.empty(),0)}static newFoundDocument(e,r,n,s){return new vs(e,1,r,cr.min(),n,s,0)}static newNoDocument(e,r){return new vs(e,2,r,cr.min(),cr.min(),ei.empty(),0)}static newUnknownDocument(e,r){return new vs(e,3,r,cr.min(),cr.min(),ei.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(cr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vs&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vs(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,r){this.position=e,this.inclusive=r}}function M5(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const a=e[s],o=t.position[s];if(a.field.isKeyField()?n=gt.comparator(gt.fromName(o.referenceValue),r.key):n=Yu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Q5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!fl(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,r="asc"){this.field=e,this.dir=r}}function _ye(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pX{}class ur extends pX{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jye(e,r,n):r==="array-contains"?new Eye(e,n):r==="in"?new bX(e,n):r==="not-in"?new Sye(e,n):r==="array-contains-any"?new Nye(e,n):new ur(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Cye(e,n):new Bye(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Yu(r,this.value)):r!==null&&Vd(this.value)===Vd(r)&&this.matchesComparison(Yu(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mr extends pX{constructor(e,r){super(),this.filters=e,this.op=r,this.Te=null}static create(e,r){return new Mr(e,r)}matches(e){return Im(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Im(t){return t.op==="and"}function R2(t){return t.op==="or"}function AD(t){return gX(t)&&Im(t)}function gX(t){for(const e of t.filters)if(e instanceof Mr)return!1;return!0}function D2(t){if(t instanceof ur)return t.field.canonicalString()+t.op.toString()+Tm(t.value);if(AD(t))return t.filters.map(e=>D2(e)).join(",");{const e=t.filters.map(r=>D2(r)).join(",");return`${t.op}(${e})`}}function vX(t,e){return t instanceof ur?function(n,s){return s instanceof ur&&n.op===s.op&&n.field.isEqual(s.field)&&fl(n.value,s.value)}(t,e):t instanceof Mr?function(n,s){return s instanceof Mr&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((a,o,l)=>a&&vX(o,s.filters[l]),!0):!1}(t,e):void Ct(19439)}function yX(t,e){const r=t.filters.concat(e);return Mr.create(r,t.op)}function xX(t){return t instanceof ur?function(r){return`${r.field.canonicalString()} ${r.op} ${Tm(r.value)}`}(t):t instanceof Mr?function(r){return r.op.toString()+" {"+r.getFilters().map(xX).join(" ,")+"}"}(t):"Filter"}class jye extends ur{constructor(e,r,n){super(e,r,n),this.key=gt.fromName(n.referenceValue)}matches(e){const r=gt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Cye extends ur{constructor(e,r){super(e,"in",r),this.keys=wX("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Bye extends ur{constructor(e,r){super(e,"not-in",r),this.keys=wX("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function wX(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>gt.fromName(n.referenceValue))}class Eye extends ur{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return py(r)&&my(r.arrayValue,this.value)}}class bX extends ur{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&my(this.value.arrayValue,r)}}class Sye extends ur{constructor(e,r){super(e,"not-in",r)}matches(e){if(my(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!my(this.value.arrayValue,r)}}class Nye extends ur{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!py(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>my(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tye{constructor(e,r=null,n=[],s=[],a=null,o=null,l=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=a,this.startAt=o,this.endAt=l,this.Ie=null}}function U2(t,e=null,r=[],n=[],s=null,a=null,o=null){return new Tye(t,e,r,n,s,a,o)}function Kd(t){const e=zr(t);if(e.Ie===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>D2(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Kj(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Tm(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Tm(n)).join(",")),e.Ie=r}return e.Ie}function Qx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!_ye(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!vX(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Q5(t.startAt,e.startAt)&&Q5(t.endAt,e.endAt)}function kye(t){return gt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function U1(t,e){return t.filters.filter(r=>r instanceof ur&&r.field.isEqual(e))}function L5(t,e,r){let n=Xb,s=!0;for(const a of U1(t,e)){let o=Xb,l=!0;switch(a.op){case"<":case"<=":o=wye(a.value);break;case"==":case"in":case">=":o=a.value;break;case">":o=a.value,l=!1;break;case"!=":case"not-in":o=Xb}D5({value:n,inclusive:s},{value:o,inclusive:l})<0&&(n=o,s=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=r.position[a];D5({value:n,inclusive:s},{value:o,inclusive:r.inclusive})<0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}function H5(t,e,r){let n=Eu,s=!0;for(const a of U1(t,e)){let o=Eu,l=!0;switch(a.op){case">=":case">":o=bye(a.value),l=!1;break;case"==":case"in":case"<=":o=a.value;break;case"<":o=a.value,l=!1;break;case"!=":case"not-in":o=Eu}U5({value:n,inclusive:s},{value:o,inclusive:l})>0&&(n=o,s=l)}if(r!==null){for(let a=0;a<t.orderBy.length;++a)if(t.orderBy[a].field.isEqual(e)){const o=r.position[a];U5({value:n,inclusive:s},{value:o,inclusive:r.inclusive})>0&&(n=o,s=r.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,r=null,n=[],s=[],a=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=a,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Iye(t,e,r,n,s,a,o,l){return new Xj(t,e,r,n,s,a,o,l)}function _X(t){return new Xj(t)}function $5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Pye(t){return t.collectionGroup!==null}function Fv(t){const e=zr(t);if(e.Ee===null){e.Ee=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vr(fn.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new D1(a,n))}),r.has(fn.keyField().canonicalString())||e.Ee.push(new D1(fn.keyField(),n))}return e.Ee}function tc(t){const e=zr(t);return e.de||(e.de=Oye(e,Fv(t))),e.de}function Oye(t,e){if(t.limitType==="F")return U2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new D1(s.field,a)});const r=t.endAt?new km(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new km(t.startAt.position,t.startAt.inclusive):null;return U2(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function M2(t,e,r){return new Xj(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function jX(t,e){return Qx(tc(t),tc(e))&&t.limitType===e.limitType}function CX(t){return`${Kd(tc(t))}|lt:${t.limitType}`}function Og(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>xX(s)).join(", ")}]`),Kj(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Tm(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Tm(s)).join(",")),`Target(${n})`}(tc(t))}; limitType=${t.limitType})`}function Jj(t,e){return e.isFoundDocument()&&function(n,s){const a=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):gt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(t,e)&&function(n,s){for(const a of Fv(n))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const a of n.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,l,c){const u=M5(o,l,c);return o.inclusive?u<=0:u<0}(n.startAt,Fv(n),s)||n.endAt&&!function(o,l,c){const u=M5(o,l,c);return o.inclusive?u>=0:u>0}(n.endAt,Fv(n),s))}(t,e)}function Fye(t){return(e,r)=>{let n=!1;for(const s of Fv(t)){const a=Rye(s,e,r);if(a!==0)return a;n=n||s.field.isKeyField()}return 0}}function Rye(t,e,r){const n=t.field.isKeyField()?gt.comparator(e.key,r.key):function(a,o,l){const c=o.data.field(a),u=l.data.field(a);return c!==null&&u!==null?Yu(c,u):Ct(42886)}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ct(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,a]of n)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){jp(this.inner,(r,n)=>{for(const[s,a]of n)e(s,a)})}isEmpty(){return oX(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dye=new oa(gt.comparator);function Su(){return Dye}const BX=new oa(gt.comparator);function zw(...t){let e=BX;for(const r of t)e=e.insert(r.key,r);return e}function EX(t){let e=BX;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function nl(){return Rv()}function SX(){return Rv()}function Rv(){return new _c(t=>t.toString(),(t,e)=>t.isEqual(e))}const Uye=new oa(gt.comparator),Mye=new Vr(gt.comparator);function Hn(...t){let e=Mye;for(const r of t)e=e.add(r);return e}const Qye=new Vr(Kt);function Lye(){return Qye}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uy(e)?"-0":e}}function NX(t){return{integerValue:""+t}}function Hye(t,e){return Kve(e)?NX(e):dD(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this._=void 0}}function $ye(t,e,r){return t instanceof gy?function(s,a){const o={fields:{[cX]:{stringValue:lX},[AX]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&iD(a)&&(a=oD(a)),a&&(o.fields[uX]=a),{mapValue:o}}(r,e):t instanceof Pm?kX(t,e):t instanceof Om?IX(t,e):function(s,a){const o=TX(s,a),l=V5(o)+V5(s.Re);return F2(o)&&F2(s.Re)?NX(l):dD(s.serializer,l)}(t,e)}function Vye(t,e,r){return t instanceof Pm?kX(t,e):t instanceof Om?IX(t,e):r}function TX(t,e){return t instanceof vy?function(n){return F2(n)||function(a){return!!a&&"doubleValue"in a}(n)}(e)?e:{integerValue:0}:null}class gy extends Yj{}class Pm extends Yj{constructor(e){super(),this.elements=e}}function kX(t,e){const r=PX(e);for(const n of t.elements)r.some(s=>fl(s,n))||r.push(n);return{arrayValue:{values:r}}}class Om extends Yj{constructor(e){super(),this.elements=e}}function IX(t,e){let r=PX(e);for(const n of t.elements)r=r.filter(s=>!fl(s,n));return{arrayValue:{values:r}}}class vy extends Yj{constructor(e,r){super(),this.serializer=e,this.Re=r}}function V5(t){return On(t.integerValue||t.doubleValue)}function PX(t){return py(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(e,r){this.field=e,this.transform=r}}function qye(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Pm&&s instanceof Pm||n instanceof Om&&s instanceof Om?jm(n.elements,s.elements,fl):n instanceof vy&&s instanceof vy?fl(n.Re,s.Re):n instanceof gy&&s instanceof gy}(t.transform,e.transform)}class zye{constructor(e,r){this.version=e,this.transformResults=r}}class ri{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zb(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zj{}function OX(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fD(t.key,ri.none()):new Cp(t.key,t.data,ri.none());{const r=t.data,n=ei.empty();let s=new Vr(fn.comparator);for(let a of e.fields)if(!s.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),s=s.add(a)}return new dA(t.key,n,new Ei(s.toArray()),ri.none())}}function Gye(t,e,r){t instanceof Cp?function(s,a,o){const l=s.value.clone(),c=q5(s.fieldTransforms,a,o.transformResults);l.setAll(c),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):t instanceof dA?function(s,a,o){if(!Zb(s.precondition,a))return void a.convertToUnknownDocument(o.version);const l=q5(s.fieldTransforms,a,o.transformResults),c=a.data;c.setAll(FX(s)),c.setAll(l),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function Dv(t,e,r,n){return t instanceof Cp?function(a,o,l,c){if(!Zb(a.precondition,o))return l;const u=a.value.clone(),d=z5(a.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof dA?function(a,o,l,c){if(!Zb(a.precondition,o))return l;const u=z5(a.fieldTransforms,c,o),d=o.data;return d.setAll(FX(a)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(a,o,l){return Zb(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,r)}function Wye(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),a=TX(n.transform,s||null);a!=null&&(r===null&&(r=ei.empty()),r.set(n.field,a))}return r||null}function K5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&jm(n,s,(a,o)=>qye(a,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cp extends Zj{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class dA extends Zj{constructor(e,r,n,s,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function FX(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function q5(t,e,r){const n=new Map;It(t.length===r.length,32656,{Ve:r.length,me:t.length});for(let s=0;s<r.length;s++){const a=t[s],o=a.transform,l=e.data.field(a.field);n.set(a.field,Vye(o,l,r[s]))}return n}function z5(t,e,r){const n=new Map;for(const s of t){const a=s.transform,o=r.data.field(s.field);n.set(s.field,$ye(a,o,e))}return n}class fD extends Zj{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RX extends Zj{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Gye(a,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Dv(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Dv(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=SX();return this.mutations.forEach(s=>{const a=e.get(s.key),o=a.overlayedDocument;let l=this.applyToLocalView(o,a.mutatedFields);l=r.has(s.key)?null:l;const c=OX(o,l);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(cr.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Hn())}isEqual(e){return this.batchId===e.batchId&&jm(this.mutations,e.mutations,(r,n)=>K5(r,n))&&jm(this.baseMutations,e.baseMutations,(r,n)=>K5(r,n))}}class mD{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){It(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let s=function(){return Uye}();const a=e.mutations;for(let o=0;o<a.length;o++)s=s.insert(a[o].key,n[o].version);return new mD(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pD=class{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,fr;function Xye(t){switch(t){case Pe.OK:return Ct(64938);case Pe.CANCELLED:case Pe.UNKNOWN:case Pe.DEADLINE_EXCEEDED:case Pe.RESOURCE_EXHAUSTED:case Pe.INTERNAL:case Pe.UNAVAILABLE:case Pe.UNAUTHENTICATED:return!1;case Pe.INVALID_ARGUMENT:case Pe.NOT_FOUND:case Pe.ALREADY_EXISTS:case Pe.PERMISSION_DENIED:case Pe.FAILED_PRECONDITION:case Pe.ABORTED:case Pe.OUT_OF_RANGE:case Pe.UNIMPLEMENTED:case Pe.DATA_LOSS:return!0;default:return Ct(15467,{code:t})}}function Jye(t){if(t===void 0)return Za("GRPC error has no .code"),Pe.UNKNOWN;switch(t){case In.OK:return Pe.OK;case In.CANCELLED:return Pe.CANCELLED;case In.UNKNOWN:return Pe.UNKNOWN;case In.DEADLINE_EXCEEDED:return Pe.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return Pe.RESOURCE_EXHAUSTED;case In.INTERNAL:return Pe.INTERNAL;case In.UNAVAILABLE:return Pe.UNAVAILABLE;case In.UNAUTHENTICATED:return Pe.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return Pe.INVALID_ARGUMENT;case In.NOT_FOUND:return Pe.NOT_FOUND;case In.ALREADY_EXISTS:return Pe.ALREADY_EXISTS;case In.PERMISSION_DENIED:return Pe.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return Pe.FAILED_PRECONDITION;case In.ABORTED:return Pe.ABORTED;case In.OUT_OF_RANGE:return Pe.OUT_OF_RANGE;case In.UNIMPLEMENTED:return Pe.UNIMPLEMENTED;case In.DATA_LOSS:return Pe.DATA_LOSS;default:return Ct(39323,{code:t})}}(fr=In||(In={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new YR([4294967295,4294967295],0);const Yye={asc:"ASCENDING",desc:"DESCENDING"},Zye={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},exe={and:"AND",or:"OR"};class txe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function rxe(t,e){return t.useProto3Json||Kj(e)?e:{value:e}}function yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nxe(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sxe(t,e){return yy(t,e.toTimestamp())}function bo(t){return It(!!t,49232),cr.fromTimestamp(function(r){const n=Ju(r);return new yn(n.seconds,n.nanos)}(t))}function gD(t,e){return Q2(t,e).canonicalString()}function Q2(t,e){const r=function(s){return new Hr(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function DX(t){const e=Hr.fromString(t);return It(hxe(e),10190,{key:e.toString()}),e}function M1(t,e){return gD(t.databaseId,e.path)}function e1(t,e){const r=DX(e);if(r.get(1)!==t.databaseId.projectId)throw new xt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xt(Pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new gt(QX(r))}function UX(t,e){return gD(t.databaseId,e)}function MX(t){const e=DX(t);return e.length===4?Hr.emptyPath():QX(e)}function axe(t){return new Hr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QX(t){return It(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function G5(t,e,r){return{name:M1(t,e),fields:r.value.mapValue.fields}}function ixe(t,e,r){const n=e1(t,e.name),s=bo(e.updateTime),a=e.createTime?bo(e.createTime):cr.min(),o=new ei({mapValue:{fields:e.fields}}),l=vs.newFoundDocument(n,s,a,o);return r&&l.setHasCommittedMutations(),r?l.setHasCommittedMutations():l}function Q1(t,e){let r;if(e instanceof Cp)r={update:G5(t,e.key,e.value)};else if(e instanceof fD)r={delete:M1(t,e.key)};else if(e instanceof dA)r={update:G5(t,e.key,e.data),updateMask:fxe(e.fieldMask)};else{if(!(e instanceof RX))return Ct(16599,{ft:e.type});r={verify:M1(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(a,o){const l=o.transform;if(l instanceof gy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Om)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vy)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw Ct(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:sxe(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ct(27497)}(t,e.precondition)),r}function L2(t,e){const r=e.currentDocument?function(a){return a.updateTime!==void 0?ri.updateTime(bo(a.updateTime)):a.exists!==void 0?ri.exists(a.exists):ri.none()}(e.currentDocument):ri.none(),n=e.updateTransforms?e.updateTransforms.map(s=>function(o,l){let c=null;if("setToServerValue"in l)It(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new gy;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new Pm(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Om(d)}else"increment"in l?c=new vy(o,l.increment):Ct(16584,{proto:l});const u=fn.fromServerFormat(l.fieldPath);return new Kye(u,c)}(t,s)):[];if(e.update){e.update.name;const s=e1(t,e.update.name),a=new ei({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(c){const u=c.fieldPaths||[];return new Ei(u.map(d=>fn.fromServerFormat(d)))}(e.updateMask);return new dA(s,a,o,r,n)}return new Cp(s,a,r,n)}if(e.delete){const s=e1(t,e.delete);return new fD(s,r)}if(e.verify){const s=e1(t,e.verify);return new RX(s,r)}return Ct(1463,{proto:e})}function oxe(t,e){return t&&t.length>0?(It(e!==void 0,14353),t.map(r=>function(s,a){let o=s.updateTime?bo(s.updateTime):bo(a);return o.isEqual(cr.min())&&(o=bo(a)),new zye(o,s.transformResults||[])}(r,e))):[]}function lxe(t,e){return{documents:[UX(t,e.path)]}}function cxe(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=UX(t,s);const a=function(u){if(u.length!==0)return $X(Mr.create(u,"and"))}(e.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Oh(m.field),direction:uxe(m.dir)}}(d))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const l=rxe(t,e.limit);return l!==null&&(r.structuredQuery.limit=l),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:r,parent:s}}function LX(t){let e=MX(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){It(n===1,65062);const d=r.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let a=[];r.where&&(a=function(f){const m=HX(f);return m instanceof Mr&&AD(m)?m.getFilters():[m]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(m=>function(y){return new D1(Fh(y.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(r.orderBy));let l=null;r.limit&&(l=function(f){let m;return m=typeof f=="object"?f.value:f,Kj(m)?null:m}(r.limit));let c=null;r.startAt&&(c=function(f){const m=!!f.before,p=f.values||[];return new km(p,m)}(r.startAt));let u=null;return r.endAt&&(u=function(f){const m=!f.before,p=f.values||[];return new km(p,m)}(r.endAt)),Iye(e,s,o,a,l,"F",c,u)}function HX(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Fh(r.unaryFilter.field);return ur.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Fh(r.unaryFilter.field);return ur.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Fh(r.unaryFilter.field);return ur.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fh(r.unaryFilter.field);return ur.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}}(t):t.fieldFilter!==void 0?function(r){return ur.create(Fh(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Mr.create(r.compositeFilter.filters.map(n=>HX(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}}(r.compositeFilter.op))}(t):Ct(30097,{filter:t})}function uxe(t){return Yye[t]}function Axe(t){return Zye[t]}function dxe(t){return exe[t]}function Oh(t){return{fieldPath:t.canonicalString()}}function Fh(t){return fn.fromServerFormat(t.fieldPath)}function $X(t){return t instanceof ur?function(r){if(r.op==="=="){if(R5(r.value))return{unaryFilter:{field:Oh(r.field),op:"IS_NAN"}};if(F5(r.value))return{unaryFilter:{field:Oh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(R5(r.value))return{unaryFilter:{field:Oh(r.field),op:"IS_NOT_NAN"}};if(F5(r.value))return{unaryFilter:{field:Oh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oh(r.field),op:Axe(r.op),value:r.value}}}(t):t instanceof Mr?function(r){const n=r.getFilters().map(s=>$X(s));return n.length===1?n[0]:{compositeFilter:{op:dxe(r.op),filters:n}}}(t):Ct(54877,{filter:t})}function fxe(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function hxe(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,r,n,s,a=cr.min(),o=cr.min(),l=ka.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VX{constructor(e){this.wt=e}}function mxe(t,e){let r;if(e.document)r=ixe(t.wt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=gt.fromSegments(e.noDocument.path),s=zd(e.noDocument.readTime);r=vs.newNoDocument(n,s),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ct(56709);{const n=gt.fromSegments(e.unknownDocument.path),s=zd(e.unknownDocument.version);r=vs.newUnknownDocument(n,s)}}return e.readTime&&r.setReadTime(function(s){const a=new yn(s[0],s[1]);return cr.fromTimestamp(a)}(e.readTime)),r}function W5(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:L1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(a,o){return{name:M1(a,o.key),fields:o.data.value.mapValue.fields,updateTime:yy(a,o.version.toTimestamp()),createTime:yy(a,o.createTime.toTimestamp())}}(t.wt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:qd(e.version)};else{if(!e.isUnknownDocument())return Ct(57904,{document:e});n.unknownDocument={path:r.path.toArray(),version:qd(e.version)}}return n}function L1(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function qd(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function zd(t){const e=new yn(t.seconds,t.nanoseconds);return cr.fromTimestamp(e)}function ud(t,e){const r=(e.baseMutations||[]).map(a=>L2(t.wt,a));for(let a=0;a<e.mutations.length-1;++a){const o=e.mutations[a];if(a+1<e.mutations.length&&e.mutations[a+1].transform!==void 0){const l=e.mutations[a+1];o.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(a+1,1),++a}}const n=e.mutations.map(a=>L2(t.wt,a)),s=yn.fromMillis(e.localWriteTimeMs);return new hD(e.batchId,s,r,n)}function uv(t){const e=zd(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?zd(t.lastLimboFreeSnapshotVersion):cr.min();let n;return n=function(a){return a.documents!==void 0}(t.query)?function(a){const o=a.documents.length;return It(o===1,1966,{count:o}),tc(_X(MX(a.documents[0])))}(t.query):function(a){return tc(LX(a))}(t.query),new Qh(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,ka.fromBase64String(t.resumeToken))}function KX(t,e){const r=qd(e.snapshotVersion),n=qd(e.lastLimboFreeSnapshotVersion);let s;s=kye(e.target)?lxe(t.wt,e.target):cxe(t.wt,e.target).gt;const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kd(e.target),readTime:r,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function qX(t){const e=LX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M2(e,e.limit,"L"):e}function vS(t,e){return new pD(e.largestBatchId,L2(t.wt,e.overlayMutation))}function X5(t,e){const r=e.path.lastSegment();return[t,$s(e.path.popLast()),r]}function J5(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:qd(n.readTime),documentKey:$s(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pxe{getBundleMetadata(e,r){return Y5(e).get(r).next(n=>{if(n)return function(a){return{id:a.bundleId,createTime:zd(a.createTime),version:a.version}}(n)})}saveBundleMetadata(e,r){return Y5(e).put(function(s){return{bundleId:s.id,createTime:qd(bo(s.createTime)),version:s.version}}(r))}getNamedQuery(e,r){return Z5(e).get(r).next(n=>{if(n)return function(a){return{name:a.name,query:qX(a.bundledQuery),readTime:zd(a.readTime)}}(n)})}saveNamedQuery(e,r){return Z5(e).put(function(s){return{name:s.name,readTime:qd(bo(s.readTime)),bundledQuery:s.bundledQuery}}(r))}}function Y5(t){return zn(t,qj)}function Z5(t){return zn(t,zj)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,r){this.serializer=e,this.userId=r}static St(e,r){const n=r.uid||"";return new eC(e,n)}getOverlay(e,r){return Fg(e).get(X5(this.userId,r)).next(n=>n?vS(this.serializer,n):null)}getOverlays(e,r){const n=nl();return pe.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){const s=[];return n.forEach((a,o)=>{const l=new pD(r,o);s.push(this.bt(e,l))}),pe.waitFor(s)}removeOverlaysForBatchId(e,r,n){const s=new Set;r.forEach(o=>s.add($s(o.getCollectionPath())));const a=[];return s.forEach(o=>{const l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,n+1],!1,!0);a.push(Fg(e).X(I2,l))}),pe.waitFor(a)}getOverlaysForCollection(e,r,n){const s=nl(),a=$s(r),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Fg(e).J(I2,o).next(l=>{for(const c of l){const u=vS(this.serializer,c);s.set(u.getKey(),u)}return s})}getOverlaysForCollectionGroup(e,r,n,s){const a=nl();let o;const l=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Fg(e).te({index:rX,range:l},(c,u,d)=>{const f=vS(this.serializer,u);a.size()<s||f.largestBatchId===o?(a.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>a)}bt(e,r){return Fg(e).put(function(s,a,o){const[l,c,u]=X5(a,o.mutation.key);return{userId:a,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Q1(s.wt,o.mutation)}}(this.serializer,this.userId,r))}}function Fg(t){return zn(t,Gj)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{Dt(e){return zn(e,sD)}getSessionToken(e){return this.Dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?ka.fromUint8Array(n):ka.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.Dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){}vt(e,r){this.Ct(e,r),r.Ft()}Ct(e,r){if("nullValue"in e)this.Mt(r,5);else if("booleanValue"in e)this.Mt(r,10),r.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(r,15),r.xt(On(e.integerValue));else if("doubleValue"in e){const n=On(e.doubleValue);isNaN(n)?this.Mt(r,13):(this.Mt(r,15),uy(n)?r.xt(0):r.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(r,20),typeof n=="string"&&(n=Ju(n)),r.Ot(`${n.seconds||""}`),r.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,r),this.Bt(r);else if("bytesValue"in e)this.Mt(r,30),r.Lt($d(e.bytesValue)),this.Bt(r);else if("referenceValue"in e)this.kt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(r,45),r.xt(n.latitude||0),r.xt(n.longitude||0)}else"mapValue"in e?fX(e)?this.Mt(r,Number.MAX_SAFE_INTEGER):Wj(e)?this.qt(e.mapValue,r):(this.Qt(e.mapValue,r),this.Bt(r)):"arrayValue"in e?(this.$t(e.arrayValue,r),this.Bt(r)):Ct(19022,{Ut:e})}Nt(e,r){this.Mt(r,25),this.Kt(e,r)}Kt(e,r){r.Ot(e)}Qt(e,r){const n=e.fields||{};this.Mt(r,55);for(const s of Object.keys(n))this.Nt(s,r),this.Ct(n[s],r)}qt(e,r){var n,s;const a=e.fields||{};this.Mt(r,53);const o=hy,l=((s=(n=a[o].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.length)||0;this.Mt(r,15),r.xt(On(l)),this.Nt(o,r),this.Ct(a[o],r)}$t(e,r){const n=e.values||[];this.Mt(r,50);for(const s of n)this.Ct(s,r)}kt(e,r){this.Mt(r,37),gt.fromName(e).path.forEach(n=>{this.Mt(r,60),this.Kt(n,r)})}Mt(e,r){e.xt(r)}Bt(e){e.xt(2)}}Ad.Wt=new Ad;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=255;function vxe(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function e3(t){const e=64-function(n){let s=0;for(let a=0;a<8;++a){const o=vxe(255&n[a]);if(s+=o,o!==8)break}return s}(t);return Math.ceil(e/8)}class yxe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Gt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.zt(n.value),n=r.next();this.jt()}Ht(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Jt(n.value),n=r.next();this.Yt()}Zt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.zt(n);else if(n<2048)this.zt(960|n>>>6),this.zt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.zt(480|n>>>12),this.zt(128|63&n>>>6),this.zt(128|63&n);else{const s=r.codePointAt(0);this.zt(240|s>>>18),this.zt(128|63&s>>>12),this.zt(128|63&s>>>6),this.zt(128|63&s)}}this.jt()}Xt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const s=r.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Yt()}en(e){const r=this.tn(e),n=e3(r);this.nn(1+n),this.buffer[this.position++]=255&n;for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=255&r[s]}rn(e){const r=this.tn(e),n=e3(r);this.nn(1+n),this.buffer[this.position++]=~(255&n);for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=~(255&r[s])}sn(){this._n(uh),this._n(255)}an(){this.un(uh),this.un(255)}reset(){this.position=0}seed(e){this.nn(e.length),this.buffer.set(e,this.position),this.position+=e.length}cn(){return this.buffer.slice(0,this.position)}tn(e){const r=function(a){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,a,!1),new Uint8Array(o.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let s=1;s<r.length;++s)r[s]^=n?255:0;return r}zt(e){const r=255&e;r===0?(this._n(0),this._n(255)):r===uh?(this._n(uh),this._n(0)):this._n(r)}Jt(e){const r=255&e;r===0?(this.un(0),this.un(255)):r===uh?(this.un(uh),this.un(0)):this.un(e)}jt(){this._n(0),this._n(1)}Yt(){this.un(0),this.un(1)}_n(e){this.nn(1),this.buffer[this.position++]=e}un(e){this.nn(1),this.buffer[this.position++]=~e}nn(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class xxe{constructor(e){this.ln=e}Lt(e){this.ln.Gt(e)}Ot(e){this.ln.Zt(e)}xt(e){this.ln.en(e)}Ft(){this.ln.sn()}}class wxe{constructor(e){this.ln=e}Lt(e){this.ln.Ht(e)}Ot(e){this.ln.Xt(e)}xt(e){this.ln.rn(e)}Ft(){this.ln.an()}}class Rg{constructor(){this.ln=new yxe,this.hn=new xxe(this.ln),this.Pn=new wxe(this.ln)}seed(e){this.ln.seed(e)}Tn(e){return e===0?this.hn:this.Pn}cn(){return this.ln.cn()}reset(){this.ln.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,r,n,s){this.In=e,this.En=r,this.dn=n,this.An=s}Rn(){const e=this.An.length,r=e===0||this.An[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.An,0),r!==e?n.set([0],this.An.length):++n[n.length-1],new dd(this.In,this.En,this.dn,n)}Vn(e,r,n){return{indexId:this.In,uid:e,arrayValue:t1(this.dn),directionalValue:t1(this.An),orderedDocumentKey:t1(r),documentKey:n.path.toArray()}}mn(e,r,n){const s=this.Vn(e,r,n);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Zc(t,e){let r=t.In-e.In;return r!==0?r:(r=t3(t.dn,e.dn),r!==0?r:(r=t3(t.An,e.An),r!==0?r:gt.comparator(t.En,e.En)))}function t3(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}function t1(t){return NW()?function(r){let n="";for(let s=0;s<r.length;s++)n+=String.fromCharCode(r[s]);return n}(t):t}function r3(t){return typeof t!="string"?t:function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(t)}class n3{constructor(e){this.fn=new Vr((r,n)=>fn.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.gn=e.orderBy,this.pn=[];for(const r of e.filters){const n=r;n.isInequality()?this.fn=this.fn.add(n):this.pn.push(n)}}get yn(){return this.fn.size>1}wn(e){if(It(e.collectionGroup===this.collectionId,49279),this.yn)return!1;const r=N2(e);if(r!==void 0&&!this.Sn(r))return!1;const n=rd(e);let s=new Set,a=0,o=0;for(;a<n.length&&this.Sn(n[a]);++a)s=s.add(n[a].fieldPath.canonicalString());if(a===n.length)return!0;if(this.fn.size>0){const l=this.fn.getIterator().getNext();if(!s.has(l.field.canonicalString())){const c=n[a];if(!this.bn(l,c)||!this.Dn(this.gn[o++],c))return!1}++a}for(;a<n.length;++a){const l=n[a];if(o>=this.gn.length||!this.Dn(this.gn[o++],l))return!1}return!0}vn(){if(this.yn)return null;let e=new Vr(fn.comparator);const r=[];for(const n of this.pn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new zb(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new zb(n.field,0))}for(const n of this.gn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new zb(n.field,n.dir==="asc"?0:1)));return new k1(k1.UNKNOWN_ID,this.collectionId,r,cy.empty())}Sn(e){for(const r of this.pn)if(this.bn(r,e))return!0;return!1}bn(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}Dn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zX(t){var e,r;if(It(t instanceof ur||t instanceof Mr,20012),t instanceof ur){if(t instanceof bX){const s=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(a=>ur.create(t.field,"==",a)))||[];return Mr.create(s,"or")}return t}const n=t.filters.map(s=>zX(s));return Mr.create(n,t.op)}function bxe(t){if(t.getFilters().length===0)return[];const e=V2(zX(t));return It(GX(e),7391),H2(e)||$2(e)?[e]:e.getFilters()}function H2(t){return t instanceof ur}function $2(t){return t instanceof Mr&&AD(t)}function GX(t){return H2(t)||$2(t)||function(r){if(r instanceof Mr&&R2(r)){for(const n of r.getFilters())if(!H2(n)&&!$2(n))return!1;return!0}return!1}(t)}function V2(t){if(It(t instanceof ur||t instanceof Mr,34018),t instanceof ur)return t;if(t.filters.length===1)return V2(t.filters[0]);const e=t.filters.map(n=>V2(n));let r=Mr.create(e,t.op);return r=H1(r),GX(r)?r:(It(r instanceof Mr,64498),It(Im(r),40251),It(r.filters.length>1,57927),r.filters.reduce((n,s)=>vD(n,s)))}function vD(t,e){let r;return It(t instanceof ur||t instanceof Mr,38388),It(e instanceof ur||e instanceof Mr,25473),r=t instanceof ur?e instanceof ur?function(s,a){return Mr.create([s,a],"and")}(t,e):s3(t,e):e instanceof ur?s3(e,t):function(s,a){if(It(s.filters.length>0&&a.filters.length>0,48005),Im(s)&&Im(a))return yX(s,a.getFilters());const o=R2(s)?s:a,l=R2(s)?a:s,c=o.filters.map(u=>vD(u,l));return Mr.create(c,"or")}(t,e),H1(r)}function s3(t,e){if(Im(e))return yX(e,t.getFilters());{const r=e.filters.map(n=>vD(t,n));return Mr.create(r,"or")}}function H1(t){if(It(t instanceof ur||t instanceof Mr,11850),t instanceof ur)return t;const e=t.getFilters();if(e.length===1)return H1(e[0]);if(gX(t))return t;const r=e.map(s=>H1(s)),n=[];return r.forEach(s=>{s instanceof ur?n.push(s):s instanceof Mr&&(s.op===t.op?n.push(...s.filters):n.push(s))}),n.length===1?n[0]:Mr.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _xe{constructor(){this.Cn=new yD}addToCollectionParentIndex(e,r){return this.Cn.add(r),pe.resolve()}getCollectionParents(e,r){return pe.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return pe.resolve()}deleteFieldIndex(e,r){return pe.resolve()}deleteAllFieldIndexes(e){return pe.resolve()}createTargetIndexes(e,r){return pe.resolve()}getDocumentsMatchingTarget(e,r){return pe.resolve(null)}getIndexType(e,r){return pe.resolve(0)}getFieldIndexes(e,r){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,r){return pe.resolve(ai.min())}getMinOffsetFromCollectionGroup(e,r){return pe.resolve(ai.min())}updateCollectionGroup(e,r,n){return pe.resolve()}updateIndexEntries(e,r){return pe.resolve()}}class yD{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Vr(Hr.comparator),a=!s.has(n);return this.index[r]=s.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Vr(Hr.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3="IndexedDbIndexManager",Gw=new Uint8Array(0);class jxe{constructor(e,r){this.databaseId=r,this.Fn=new yD,this.Mn=new _c(n=>Kd(n),(n,s)=>Qx(n,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.Fn.has(r)){const n=r.lastSegment(),s=r.popLast();e.addOnCommittedListener(()=>{this.Fn.add(r)});const a={collectionId:n,parent:$s(s)};return i3(e).put(a)}return pe.resolve()}getCollectionParents(e,r){const n=[],s=IDBKeyRange.bound([r,""],[qW(r),""],!1,!0);return i3(e).J(s).next(a=>{for(const o of a){if(o.collectionId!==r)break;n.push(rl(o.parent))}return n})}addFieldIndex(e,r){const n=Dg(e),s=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(r);delete s.indexId;const a=n.add(s);if(r.indexState){const o=dh(e);return a.next(l=>{o.put(J5(l,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return a.next()}deleteFieldIndex(e,r){const n=Dg(e),s=dh(e),a=Ah(e);return n.delete(r.indexId).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Dg(e),n=Ah(e),s=dh(e);return r.X().next(()=>n.X()).next(()=>s.X())}createTargetIndexes(e,r){return pe.forEach(this.xn(r),n=>this.getIndexType(e,n).next(s=>{if(s===0||s===1){const a=new n3(n).vn();if(a!=null)return this.addFieldIndex(e,a)}}))}getDocumentsMatchingTarget(e,r){const n=Ah(e);let s=!0;const a=new Map;return pe.forEach(this.xn(r),o=>this.On(e,o).next(l=>{s&&(s=!!l),a.set(o,l)})).next(()=>{if(s){let o=Hn();const l=[];return pe.forEach(a,(c,u)=>{qe(a3,`Using index ${function(S){return`id=${S.indexId}|cg=${S.collectionGroup}|f=${S.fields.map(C=>`${C.fieldPath}:${C.kind}`).join(",")}`}(c)} to execute ${Kd(r)}`);const d=function(S,C){const N=N2(C);if(N===void 0)return null;for(const k of U1(S,N.fieldPath))switch(k.op){case"array-contains-any":return k.value.arrayValue.values||[];case"array-contains":return[k.value]}return null}(u,c),f=function(S,C){const N=new Map;for(const k of rd(C))for(const E of U1(S,k.fieldPath))switch(E.op){case"==":case"in":N.set(k.fieldPath.canonicalString(),E.value);break;case"not-in":case"!=":return N.set(k.fieldPath.canonicalString(),E.value),Array.from(N.values())}return null}(u,c),m=function(S,C){const N=[];let k=!0;for(const E of rd(C)){const T=E.kind===0?L5(S,E.fieldPath,S.startAt):H5(S,E.fieldPath,S.startAt);N.push(T.value),k&&(k=T.inclusive)}return new km(N,k)}(u,c),p=function(S,C){const N=[];let k=!0;for(const E of rd(C)){const T=E.kind===0?H5(S,E.fieldPath,S.endAt):L5(S,E.fieldPath,S.endAt);N.push(T.value),k&&(k=T.inclusive)}return new km(N,k)}(u,c),y=this.Nn(c,u,m),x=this.Nn(c,u,p),v=this.Bn(c,u,f),_=this.Ln(c.indexId,d,y,m.inclusive,x,p.inclusive,v);return pe.forEach(_,j=>n.Z(j,r.limit).next(S=>{S.forEach(C=>{const N=gt.fromSegments(C.documentKey);o.has(N)||(o=o.add(N),l.push(N))})}))}).next(()=>l)}return pe.resolve(null)})}xn(e){let r=this.Mn.get(e);return r||(e.filters.length===0?r=[e]:r=bxe(Mr.create(e.filters,"and")).map(n=>U2(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.Mn.set(e,r),r)}Ln(e,r,n,s,a,o,l){const c=(r!=null?r.length:1)*Math.max(n.length,a.length),u=c/(r!=null?r.length:1),d=[];for(let f=0;f<c;++f){const m=r?this.kn(r[f/u]):Gw,p=this.qn(e,m,n[f%u],s),y=this.Qn(e,m,a[f%u],o),x=l.map(v=>this.qn(e,m,v,!0));d.push(...this.createRange(p,y,x))}return d}qn(e,r,n,s){const a=new dd(e,gt.empty(),r,n);return s?a:a.Rn()}Qn(e,r,n,s){const a=new dd(e,gt.empty(),r,n);return s?a.Rn():a}On(e,r){const n=new n3(r),s=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,s).next(a=>{let o=null;for(const l of a)n.wn(l)&&(!o||l.fields.length>o.fields.length)&&(o=l);return o})}getIndexType(e,r){let n=2;const s=this.xn(r);return pe.forEach(s,a=>this.On(e,a).next(o=>{o?n!==0&&o.fields.length<function(c){let u=new Vr(fn.comparator),d=!1;for(const f of c.filters)for(const m of f.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const f of c.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(d?1:0)}(a)&&(n=1):n=0})).next(()=>function(o){return o.limit!==null}(r)&&s.length>1&&n===2?1:n)}$n(e,r){const n=new Rg;for(const s of rd(e)){const a=r.data.field(s.fieldPath);if(a==null)return null;const o=n.Tn(s.kind);Ad.Wt.vt(a,o)}return n.cn()}kn(e){const r=new Rg;return Ad.Wt.vt(e,r.Tn(0)),r.cn()}Un(e,r){const n=new Rg;return Ad.Wt.vt(uD(this.databaseId,r),n.Tn(function(a){const o=rd(a);return o.length===0?0:o[o.length-1].kind}(e))),n.cn()}Bn(e,r,n){if(n===null)return[];let s=[];s.push(new Rg);let a=0;for(const o of rd(e)){const l=n[a++];for(const c of s)if(this.Kn(r,o.fieldPath)&&py(l))s=this.Wn(s,o,l);else{const u=c.Tn(o.kind);Ad.Wt.vt(l,u)}}return this.Gn(s)}Nn(e,r,n){return this.Bn(e,r,n.position)}Gn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].cn();return r}Wn(e,r,n){const s=[...e],a=[];for(const o of n.arrayValue.values||[])for(const l of s){const c=new Rg;c.seed(l.cn()),Ad.Wt.vt(o,c.Tn(r.kind)),a.push(c)}return a}Kn(e,r){return!!e.filters.find(n=>n instanceof ur&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Dg(e),s=dh(e);return(r?n.J(k2,IDBKeyRange.bound(r,r)):n.J()).next(a=>{const o=[];return pe.forEach(a,l=>s.get([l.indexId,this.uid]).next(c=>{o.push(function(d,f){const m=f?new cy(f.sequenceNumber,new ai(zd(f.readTime),new gt(rl(f.documentKey)),f.largestBatchId)):cy.empty(),p=d.fields.map(([y,x])=>new zb(fn.fromServerFormat(y),x));return new k1(d.indexId,d.collectionGroup,p,m)}(l,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,s)=>{const a=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return a!==0?a:Kt(n.collectionGroup,s.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const s=Dg(e),a=dh(e);return this.zn(e).next(o=>s.J(k2,IDBKeyRange.bound(r,r)).next(l=>pe.forEach(l,c=>a.put(J5(c.indexId,this.uid,o,n)))))}updateIndexEntries(e,r){const n=new Map;return pe.forEach(r,(s,a)=>{const o=n.get(s.collectionGroup);return(o?pe.resolve(o):this.getFieldIndexes(e,s.collectionGroup)).next(l=>(n.set(s.collectionGroup,l),pe.forEach(l,c=>this.jn(e,s,c).next(u=>{const d=this.Hn(a,c);return u.isEqual(d)?pe.resolve():this.Jn(e,a,c,u,d)}))))})}Yn(e,r,n,s){return Ah(e).put(s.Vn(this.uid,this.Un(n,r.key),r.key))}Zn(e,r,n,s){return Ah(e).delete(s.mn(this.uid,this.Un(n,r.key),r.key))}jn(e,r,n){const s=Ah(e);let a=new Vr(Zc);return s.te({index:tX,range:IDBKeyRange.only([n.indexId,this.uid,t1(this.Un(n,r))])},(o,l)=>{a=a.add(new dd(n.indexId,r,r3(l.arrayValue),r3(l.directionalValue)))}).next(()=>a)}Hn(e,r){let n=new Vr(Zc);const s=this.$n(r,e);if(s==null)return n;const a=N2(r);if(a!=null){const o=e.data.field(a.fieldPath);if(py(o))for(const l of o.arrayValue.values||[])n=n.add(new dd(r.indexId,e.key,this.kn(l),s))}else n=n.add(new dd(r.indexId,e.key,Gw,s));return n}Jn(e,r,n,s,a){qe(a3,"Updating index entries for document '%s'",r.key);const o=[];return function(c,u,d,f,m){const p=c.getIterator(),y=u.getIterator();let x=ch(p),v=ch(y);for(;x||v;){let _=!1,j=!1;if(x&&v){const S=d(x,v);S<0?j=!0:S>0&&(_=!0)}else x!=null?j=!0:_=!0;_?(f(v),v=ch(y)):j?(m(x),x=ch(p)):(x=ch(p),v=ch(y))}}(s,a,Zc,l=>{o.push(this.Yn(e,r,n,l))},l=>{o.push(this.Zn(e,r,n,l))}),pe.waitFor(o)}zn(e){let r=1;return dh(e).te({index:eX,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,s,a)=>{a.done(),r=s.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((o,l)=>Zc(o,l)).filter((o,l,c)=>!l||Zc(o,c[l-1])!==0);const s=[];s.push(e);for(const o of n){const l=Zc(o,e),c=Zc(o,r);if(l===0)s[0]=e.Rn();else if(l>0&&c<0)s.push(o),s.push(o.Rn());else if(c>0)break}s.push(r);const a=[];for(let o=0;o<s.length;o+=2){if(this.Xn(s[o],s[o+1]))return[];const l=s[o].mn(this.uid,Gw,gt.empty()),c=s[o+1].mn(this.uid,Gw,gt.empty());a.push(IDBKeyRange.bound(l,c))}return a}Xn(e,r){return Zc(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(o3)}getMinOffset(e,r){return pe.mapArray(this.xn(r),n=>this.On(e,n).next(s=>s||Ct(44426))).next(o3)}}function i3(t){return zn(t,fy)}function Ah(t){return zn(t,Pv)}function Dg(t){return zn(t,nD)}function dh(t){return zn(t,Iv)}function o3(t){It(t.length!==0,28825);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const s=t[n].indexState.offset;eD(s,e)<0&&(e=s),r<s.largestBatchId&&(r=s.largestBatchId)}return new ai(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WX=41943040;class Rs{static withCacheSize(e){return new Rs(e,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t,e,r){const n=t.store(lo),s=t.store(Cm),a=[],o=IDBKeyRange.only(r.batchId);let l=0;const c=n.te({range:o},(d,f,m)=>(l++,m.delete()));a.push(c.next(()=>{It(l===1,47070,{batchId:r.batchId})}));const u=[];for(const d of r.mutations){const f=JW(e,d.key.path,r.batchId);a.push(s.delete(f)),u.push(d.key)}return pe.waitFor(a).next(()=>u)}function $1(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ct(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rs.DEFAULT_COLLECTION_PERCENTILE=10,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rs.DEFAULT=new Rs(WX,Rs.DEFAULT_COLLECTION_PERCENTILE,Rs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rs.DISABLED=new Rs(-1,0,0);class tC{constructor(e,r,n,s){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=s,this.er={}}static St(e,r,n,s){It(e.uid!=="",64387);const a=e.isAuthenticated()?e.uid:"";return new tC(a,r,n,s)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).te({index:md,range:n},(s,a,o)=>{r=!1,o.done()}).next(()=>r)}addMutationBatch(e,r,n,s){const a=Rh(e),o=eu(e);return o.add({}).next(l=>{It(typeof l=="number",49019);const c=new hD(l,r,n,s),u=function(p,y,x){const v=x.baseMutations.map(j=>Q1(p.wt,j)),_=x.mutations.map(j=>Q1(p.wt,j));return{userId:y,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:v,mutations:_}}(this.serializer,this.userId,c),d=[];let f=new Vr((m,p)=>Kt(m.canonicalString(),p.canonicalString()));for(const m of s){const p=JW(this.userId,m.key.path,l);f=f.add(m.key.path.popLast()),d.push(o.put(u)),d.push(a.put(p,Gve))}return f.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.er[l]=c.keys()}),pe.waitFor(d).next(()=>c)})}lookupMutationBatch(e,r){return eu(e).get(r).next(n=>n?(It(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:r}),ud(this.serializer,n)):null)}tr(e,r){return this.er[r]?pe.resolve(this.er[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const s=n.keys();return this.er[r]=s,s}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=IDBKeyRange.lowerBound([this.userId,n]);let a=null;return eu(e).te({index:md,range:s},(o,l,c)=>{l.userId===this.userId&&(It(l.batchId>=n,47524,{nr:n}),a=ud(this.serializer,l)),c.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=kd;return eu(e).te({index:md,range:r,reverse:!0},(s,a,o)=>{n=a.batchId,o.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,kd],[this.userId,Number.POSITIVE_INFINITY]);return eu(e).J(md,r).next(n=>n.map(s=>ud(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=Gb(this.userId,r.path),s=IDBKeyRange.lowerBound(n),a=[];return Rh(e).te({range:s},(o,l,c)=>{const[u,d,f]=o,m=rl(d);if(u===this.userId&&r.path.isEqual(m))return eu(e).get(f).next(p=>{if(!p)throw Ct(61480,{rr:o,batchId:f});It(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:f}),a.push(ud(this.serializer,p))});c.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vr(Kt);const s=[];return r.forEach(a=>{const o=Gb(this.userId,a.path),l=IDBKeyRange.lowerBound(o),c=Rh(e).te({range:l},(u,d,f)=>{const[m,p,y]=u,x=rl(p);m===this.userId&&a.path.isEqual(x)?n=n.add(y):f.done()});s.push(c)}),pe.waitFor(s).next(()=>this.ir(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1,a=Gb(this.userId,n),o=IDBKeyRange.lowerBound(a);let l=new Vr(Kt);return Rh(e).te({range:o},(c,u,d)=>{const[f,m,p]=c,y=rl(m);f===this.userId&&n.isPrefixOf(y)?y.length===s&&(l=l.add(p)):d.done()}).next(()=>this.ir(e,l))}ir(e,r){const n=[],s=[];return r.forEach(a=>{s.push(eu(e).get(a).next(o=>{if(o===null)throw Ct(35274,{batchId:a});It(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:a}),n.push(ud(this.serializer,o))}))}),pe.waitFor(s).next(()=>n)}removeMutationBatch(e,r){return XX(e.he,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.sr(r.batchId)}),pe.forEach(n,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}sr(e){delete this.er[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return pe.resolve();const n=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),s=[];return Rh(e).te({range:n},(a,o,l)=>{if(a[0]===this.userId){const c=rl(a[1]);s.push(c)}else l.done()}).next(()=>{It(s.length===0,56720,{_r:s.map(a=>a.canonicalString())})})})}containsKey(e,r){return JX(e,this.userId,r)}ar(e){return YX(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:kd,lastStreamToken:""})}}function JX(t,e,r){const n=Gb(e,r.path),s=n[1],a=IDBKeyRange.lowerBound(n);let o=!1;return Rh(t).te({range:a,ee:!0},(l,c,u)=>{const[d,f,m]=l;d===e&&f===s&&(o=!0),u.done()}).next(()=>o)}function eu(t){return zn(t,lo)}function Rh(t){return zn(t,Cm)}function YX(t){return zn(t,Ay)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Gd(0)}static lr(){return new Gd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cxe{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.hr(e).next(r=>{const n=new Gd(r.highestTargetId);return r.highestTargetId=n.next(),this.Pr(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.hr(e).next(r=>cr.fromTimestamp(new yn(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.hr(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.hr(e).next(s=>(s.highestListenSequenceNumber=r,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),r>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r),this.Pr(e,s)))}addTargetData(e,r){return this.Tr(e,r).next(()=>this.hr(e).next(n=>(n.targetCount+=1,this.Ir(r,n),this.Pr(e,n))))}updateTargetData(e,r){return this.Tr(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>fh(e).delete(r.targetId)).next(()=>this.hr(e)).next(n=>(It(n.targetCount>0,8065),n.targetCount-=1,this.Pr(e,n)))}removeTargets(e,r,n){let s=0;const a=[];return fh(e).te((o,l)=>{const c=uv(l);c.sequenceNumber<=r&&n.get(c.targetId)===null&&(s++,a.push(this.removeTargetData(e,c)))}).next(()=>pe.waitFor(a)).next(()=>s)}forEachTarget(e,r){return fh(e).te((n,s)=>{const a=uv(s);r(a)})}hr(e){return c3(e).get(O1).next(r=>(It(r!==null,2888),r))}Pr(e,r){return c3(e).put(O1,r)}Tr(e,r){return fh(e).put(KX(this.serializer,r))}Ir(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.hr(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Kd(r),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let a=null;return fh(e).te({range:s,index:ZW},(o,l,c)=>{const u=uv(l);Qx(r,u.target)&&(a=u,c.done())}).next(()=>a)}addMatchingKeys(e,r,n){const s=[],a=hu(e);return r.forEach(o=>{const l=$s(o.path);s.push(a.put({targetId:n,path:l})),s.push(this.referenceDelegate.addReference(e,n,o))}),pe.waitFor(s)}removeMatchingKeys(e,r,n){const s=hu(e);return pe.forEach(r,a=>{const o=$s(a.path);return pe.waitFor([s.delete([n,o]),this.referenceDelegate.removeReference(e,n,a)])})}removeMatchingKeysForTargetId(e,r){const n=hu(e),s=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),s=hu(e);let a=Hn();return s.te({range:n,ee:!0},(o,l,c)=>{const u=rl(o[1]),d=new gt(u);a=a.add(d)}).next(()=>a)}containsKey(e,r){const n=$s(r.path),s=IDBKeyRange.bound([n],[qW(n)],!1,!0);let a=0;return hu(e).te({index:rD,ee:!0,range:s},([o,l],c,u)=>{o!==0&&(a++,u.done())}).next(()=>a>0)}Rt(e,r){return fh(e).get(r).next(n=>n?uv(n):null)}}function fh(t){return zn(t,Bm)}function c3(t){return zn(t,Id)}function hu(t){return zn(t,Em)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3="LruGarbageCollector",Bxe=1048576;function A3([t,e],[r,n]){const s=Kt(t,r);return s===0?Kt(e,n):s}class Exe{constructor(e){this.Er=e,this.buffer=new Vr(A3),this.dr=0}Ar(){return++this.dr}Rr(e){const r=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();A3(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class ZX{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){qe(u3,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Af(r)?qe(u3,"Ignoring IndexedDB error during garbage collection: ",r):await $j(r)}await this.mr(3e5)})}}class Sxe{constructor(e,r){this.gr=e,this.params=r}calculateTargetCount(e,r){return this.gr.pr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return pe.resolve(go.le);const n=new Exe(r);return this.gr.forEachTarget(e,s=>n.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>n.Rr(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.gr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.gr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(l3)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l3):this.wr(e,r))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,r){let n,s,a,o,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(n=f,l=Date.now(),this.removeTargets(e,n,r))).next(f=>(a=f,c=Date.now(),this.removeOrphanedDocuments(e,n))).next(f=>(u=Date.now(),Ph()<=hr.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${a} targets in `+(c-l)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:f})))}}function eJ(t,e){return new Sxe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nxe{constructor(e,r){this.db=e,this.garbageCollector=eJ(this,r)}pr(e){const r=this.Sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}yr(e,r){return this.br(e,(n,s)=>r(s))}addReference(e,r,n){return Ww(e,n)}removeReference(e,r,n){return Ww(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return Ww(e,r)}Dr(e,r){return function(s,a){let o=!1;return YX(s).ne(l=>JX(s,l,a).next(c=>(c&&(o=!0),pe.resolve(!c)))).next(()=>o)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let a=0;return this.br(e,(o,l)=>{if(l<=r){const c=this.Dr(e,o).next(u=>{if(!u)return a++,n.getEntry(e,o).next(()=>(n.removeEntry(o,cr.min()),hu(e).delete(function(f){return[0,$s(f.path)]}(o))))});s.push(c)}}).next(()=>pe.waitFor(s)).next(()=>n.apply(e)).next(()=>a)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return Ww(e,r)}br(e,r){const n=hu(e);let s,a=go.le;return n.te({index:rD},([o,l],{path:c,sequenceNumber:u})=>{o===0?(a!==go.le&&r(new gt(rl(s)),a),a=u,s=c):a=go.le}).next(()=>{a!==go.le&&r(new gt(rl(s)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ww(t,e){return hu(t).put(function(n,s){return{targetId:0,path:$s(n.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tJ{constructor(){this.changes=new _c(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,vs.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return GA(e).put(n)}removeEntry(e,r,n){return GA(e).delete(function(a,o){const l=a.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],L1(o),l[l.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.vr(e,n)))}getEntry(e,r){let n=vs.newInvalidDocument(r);return GA(e).te({index:Wb,range:IDBKeyRange.only(Ug(r))},(s,a)=>{n=this.Cr(r,a)}).next(()=>n)}Fr(e,r){let n={size:0,document:vs.newInvalidDocument(r)};return GA(e).te({index:Wb,range:IDBKeyRange.only(Ug(r))},(s,a)=>{n={document:this.Cr(r,a),size:$1(a)}}).next(()=>n)}getEntries(e,r){let n=Su();return this.Mr(e,r,(s,a)=>{const o=this.Cr(s,a);n=n.insert(s,o)}).next(()=>n)}Or(e,r){let n=Su(),s=new oa(gt.comparator);return this.Mr(e,r,(a,o)=>{const l=this.Cr(a,o);n=n.insert(a,l),s=s.insert(a,$1(o))}).next(()=>({documents:n,Nr:s}))}Mr(e,r,n){if(r.isEmpty())return pe.resolve();let s=new Vr(h3);r.forEach(c=>s=s.add(c));const a=IDBKeyRange.bound(Ug(s.first()),Ug(s.last())),o=s.getIterator();let l=o.getNext();return GA(e).te({index:Wb,range:a},(c,u,d)=>{const f=gt.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&h3(l,f)<0;)n(l,null),l=o.getNext();l&&l.isEqual(f)&&(n(l,u),l=o.hasNext()?o.getNext():null),l?d.H(Ug(l)):d.done()}).next(()=>{for(;l;)n(l,null),l=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,r,n,s,a){const o=r.path,l=[o.popLast().toArray(),o.lastSegment(),L1(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return GA(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{a==null||a.incrementDocumentReadCount(u.length);let d=Su();for(const f of u){const m=this.Cr(gt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);m.isFoundDocument()&&(Jj(r,m)||s.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,r,n,s){let a=Su();const o=f3(r,n),l=f3(r,ai.max());return GA(e).te({index:YW,range:IDBKeyRange.bound(o,l,!0)},(c,u,d)=>{const f=this.Cr(gt.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);a=a.insert(f.key,f),a.size===s&&d.done()}).next(()=>a)}newChangeBuffer(e){return new kxe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return d3(e).get(T2).next(r=>(It(!!r,20021),r))}vr(e,r){return d3(e).put(T2,r)}Cr(e,r){if(r){const n=mxe(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(cr.min())))return n}return vs.newInvalidDocument(e)}}function rJ(t){return new Txe(t)}class kxe extends tJ{constructor(e,r){super(),this.Br=e,this.trackRemovals=r,this.Lr=new _c(n=>n.toString(),(n,s)=>n.isEqual(s))}applyChanges(e){const r=[];let n=0,s=new Vr((a,o)=>Kt(a.canonicalString(),o.canonicalString()));return this.changes.forEach((a,o)=>{const l=this.Lr.get(a);if(r.push(this.Br.removeEntry(e,a,l.readTime)),o.isValidDocument()){const c=W5(this.Br.serializer,o);s=s.add(a.path.popLast());const u=$1(c);n+=u-l.size,r.push(this.Br.addEntry(e,a,c))}else if(n-=l.size,this.trackRemovals){const c=W5(this.Br.serializer,o.convertToNoDocument(cr.min()));r.push(this.Br.addEntry(e,a,c))}}),s.forEach(a=>{r.push(this.Br.indexManager.addToCollectionParentIndex(e,a))}),r.push(this.Br.updateMetadata(e,n)),pe.waitFor(r)}getFromCache(e,r){return this.Br.Fr(e,r).next(n=>(this.Lr.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Br.Or(e,r).next(({documents:n,Nr:s})=>(s.forEach((a,o)=>{this.Lr.set(a,{size:o,readTime:n.get(a).readTime})}),n))}}function d3(t){return zn(t,dy)}function GA(t){return zn(t,P1)}function Ug(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function f3(t,e){const r=e.documentKey.path.toArray();return[t,L1(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function h3(t,e){const r=t.path.toArray(),n=e.path.toArray();let s=0;for(let a=0;a<r.length-2&&a<n.length-2;++a)if(s=Kt(r[a],n[a]),s)return s;return s=Kt(r.length,n.length),s||(s=Kt(r[r.length-2],n[n.length-2]),s||Kt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ixe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&Dv(n.mutation,s,Ei.empty(),yn.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Hn()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Hn()){const s=nl();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(a=>{let o=zw();return a.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=nl();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Hn()))}populateOverlays(e,r,n){const s=[];return n.forEach(a=>{r.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((o,l)=>{r.set(o,l)})})}computeViews(e,r,n,s){let a=Su();const o=Rv(),l=function(){return Rv()}();return r.forEach((c,u)=>{const d=n.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof dA)?a=a.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Dv(d.mutation,u,d.mutation.getFieldMask(),yn.now())):o.set(u.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,a).next(c=>(c.forEach((u,d)=>o.set(u,d)),r.forEach((u,d)=>{var f;return l.set(u,new Ixe(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,r){const n=Rv();let s=new oa((o,l)=>o-l),a=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const l of o)l.keys().forEach(c=>{const u=r.get(c);if(u===null)return;let d=n.get(c)||Ei.empty();d=l.applyToLocalView(u,d),n.set(c,d);const f=(s.get(l.batchId)||Hn()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,f=SX();d.forEach(m=>{if(!a.has(m)){const p=OX(r.get(m),n.get(m));p!==null&&f.set(m,p),a=a.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return pe.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return gt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Pye(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(a=>{const o=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-a.size):pe.resolve(nl());let l=ly,c=a;return o.next(u=>pe.forEach(u,(d,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),a.get(d)?pe.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,a)).next(()=>this.computeViews(e,c,u,Hn())).next(d=>({batchId:l,changes:EX(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new gt(r)).next(n=>{let s=zw();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const a=r.collectionGroup;let o=zw();return this.indexManager.getCollectionParents(e,a).next(l=>pe.forEach(l,c=>{const u=function(f,m){return new Xj(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,u,n,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,s))).next(o=>{a.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,vs.newInvalidDocument(d)))});let l=zw();return o.forEach((c,u)=>{const d=a.get(c);d!==void 0&&Dv(d.mutation,u,Ei.empty(),yn.now()),Jj(r,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pxe{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,r){return pe.resolve(this.kr.get(r))}saveBundleMetadata(e,r){return this.kr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:bo(s.createTime)}}(r)),pe.resolve()}getNamedQuery(e,r){return pe.resolve(this.qr.get(r))}saveNamedQuery(e,r){return this.qr.set(r.name,function(s){return{name:s.name,query:qX(s.bundledQuery),readTime:bo(s.readTime)}}(r)),pe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oxe{constructor(){this.overlays=new oa(gt.comparator),this.Qr=new Map}getOverlay(e,r){return pe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=nl();return pe.forEach(r,s=>this.getOverlay(e,s).next(a=>{a!==null&&n.set(s,a)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,a)=>{this.bt(e,r,a)}),pe.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Qr.get(n);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(n)),pe.resolve()}getOverlaysForCollection(e,r,n){const s=nl(),a=r.length+1,o=new gt(r.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&c.largestBatchId>n&&s.set(c.getKey(),c)}return pe.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let a=new oa((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=a.get(u.largestBatchId);d===null&&(d=nl(),a=a.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=nl(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=s)););return pe.resolve(l)}bt(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(n.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new pD(r,n));let a=this.Qr.get(r);a===void 0&&(a=Hn(),this.Qr.set(r,a)),this.Qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fxe{constructor(){this.sessionToken=ka.EMPTY_BYTE_STRING}getSessionToken(e){return pe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.$r=new Vr(rs.Ur),this.Kr=new Vr(rs.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,r){const n=new rs(e,r);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.zr(new rs(e,r))}jr(e,r){e.forEach(n=>this.removeReference(n,r))}Hr(e){const r=new gt(new Hr([])),n=new rs(r,e),s=new rs(r,e+1),a=[];return this.Kr.forEachInRange([n,s],o=>{this.zr(o),a.push(o.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const r=new gt(new Hr([])),n=new rs(r,e),s=new rs(r,e+1);let a=Hn();return this.Kr.forEachInRange([n,s],o=>{a=a.add(o.key)}),a}containsKey(e){const r=new rs(e,0),n=this.$r.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class rs{constructor(e,r){this.key=e,this.Zr=r}static Ur(e,r){return gt.comparator(e.key,r.key)||Kt(e.Zr,r.Zr)}static Wr(e,r){return Kt(e.Zr,r.Zr)||gt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rxe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.nr=1,this.Xr=new Vr(rs.Ur)}checkEmpty(e){return pe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new hD(a,r,n,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new rs(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return pe.resolve(o)}lookupMutationBatch(e,r){return pe.resolve(this.ei(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.ti(n),a=s<0?0:s;return pe.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(this.mutationQueue.length===0?kd:this.nr-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new rs(r,0),s=new rs(r,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([n,s],o=>{const l=this.ei(o.Zr);a.push(l)}),pe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Vr(Kt);return r.forEach(s=>{const a=new rs(s,0),o=new rs(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,o],l=>{n=n.add(l.Zr)})}),pe.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let a=n;gt.isDocumentKey(a)||(a=a.child(""));const o=new rs(new gt(a),0);let l=new Vr(Kt);return this.Xr.forEachWhile(c=>{const u=c.key.path;return!!n.isPrefixOf(u)&&(u.length===s&&(l=l.add(c.Zr)),!0)},o),pe.resolve(this.ni(l))}ni(e){const r=[];return e.forEach(n=>{const s=this.ei(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){It(this.ri(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Xr;return pe.forEach(r.mutations,s=>{const a=new rs(s.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=n})}sr(e){}containsKey(e,r){const n=new rs(r,0),s=this.Xr.firstAfterOrEqual(n);return pe.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,pe.resolve()}ri(e,r){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const r=this.ti(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dxe{constructor(e){this.ii=e,this.docs=function(){return new oa(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),a=s?s.size:0,o=this.ii(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pe.resolve(n?n.document.mutableCopy():vs.newInvalidDocument(r))}getEntries(e,r){let n=Su();return r.forEach(s=>{const a=this.docs.get(s);n=n.insert(s,a?a.document.mutableCopy():vs.newInvalidDocument(s))}),pe.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let a=Su();const o=r.path,l=new gt(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||eD(zW(d),n)<=0||(s.has(d.key)||Jj(r,d))&&(a=a.insert(d.key,d.mutableCopy()))}return pe.resolve(a)}getAllFromCollectionGroup(e,r,n,s){Ct(9500)}si(e,r){return pe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Uxe(this)}getSize(e){return pe.resolve(this.size)}}class Uxe extends tJ{constructor(e){super(),this.Br=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Br.addEntry(e,s)):this.Br.removeEntry(n)}),pe.waitFor(r)}getFromCache(e,r){return this.Br.getEntry(e,r)}getAllFromCache(e,r){return this.Br.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mxe{constructor(e){this.persistence=e,this.oi=new _c(r=>Kd(r),Qx),this.lastRemoteSnapshotVersion=cr.min(),this.highestTargetId=0,this._i=0,this.ai=new xD,this.targetCount=0,this.ui=Gd.cr()}forEachTarget(e,r){return this.oi.forEach((n,s)=>r(s)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this._i&&(this._i=r),pe.resolve()}Tr(e){this.oi.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ui=new Gd(r),this.highestTargetId=r),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,r){return this.Tr(r),this.targetCount+=1,pe.resolve()}updateTargetData(e,r){return this.Tr(r),pe.resolve()}removeTargetData(e,r){return this.oi.delete(r.target),this.ai.Hr(r.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,r,n){let s=0;const a=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=r&&n.get(l.targetId)===null&&(this.oi.delete(o),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),pe.waitFor(a).next(()=>s)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,r){const n=this.oi.get(r)||null;return pe.resolve(n)}addMatchingKeys(e,r,n){return this.ai.Gr(r,n),pe.resolve()}removeMatchingKeys(e,r,n){this.ai.jr(r,n);const s=this.persistence.referenceDelegate,a=[];return s&&r.forEach(o=>{a.push(s.markPotentiallyOrphaned(e,o))}),pe.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.ai.Hr(r),pe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.ai.Yr(r);return pe.resolve(n)}containsKey(e,r){return pe.resolve(this.ai.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,r){this.ci={},this.overlays={},this.li=new go(0),this.hi=!1,this.hi=!0,this.Pi=new Fxe,this.referenceDelegate=e(this),this.Ti=new Mxe(this),this.indexManager=new _xe,this.remoteDocumentCache=function(s){return new Dxe(s)}(n=>this.referenceDelegate.Ii(n)),this.serializer=new VX(r),this.Ei=new Pxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Oxe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ci[e.toKey()];return n||(n=new Rxe(r,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,r,n){qe("MemoryPersistence","Starting transaction:",e);const s=new Qxe(this.li.next());return this.referenceDelegate.di(),n(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,r){return pe.or(Object.values(this.ci).map(n=>()=>n.containsKey(e,r)))}}class Qxe extends WW{constructor(e){super(),this.currentSequenceNumber=e}}class rC{constructor(e){this.persistence=e,this.Vi=new xD,this.mi=null}static fi(e){return new rC(e)}get gi(){if(this.mi)return this.mi;throw Ct(60996)}addReference(e,r,n){return this.Vi.addReference(n,r),this.gi.delete(n.toString()),pe.resolve()}removeReference(e,r,n){return this.Vi.removeReference(n,r),this.gi.add(n.toString()),pe.resolve()}markPotentiallyOrphaned(e,r){return this.gi.add(r.toString()),pe.resolve()}removeTarget(e,r){this.Vi.Hr(r.targetId).forEach(s=>this.gi.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>n.removeTargetData(e,r))}di(){this.mi=new Set}Ai(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.gi,n=>{const s=gt.fromPath(n);return this.pi(e,s).next(a=>{a||r.removeEntry(s,cr.min())})}).next(()=>(this.mi=null,r.apply(e)))}updateLimboDocument(e,r){return this.pi(e,r).next(n=>{n?this.gi.delete(r.toString()):this.gi.add(r.toString())})}Ii(e){return 0}pi(e,r){return pe.or([()=>pe.resolve(this.Vi.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ri(e,r)])}}class V1{constructor(e,r){this.persistence=e,this.yi=new _c(n=>$s(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=eJ(this,r)}static fi(e,r){return new V1(e,r)}di(){}Ai(e){return pe.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}pr(e){const r=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}Sr(e){let r=0;return this.yr(e,n=>{r++}).next(()=>r)}yr(e,r){return pe.forEach(this.yi,(n,s)=>this.Dr(e,n,s).next(a=>a?pe.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,r).next(l=>{l||(n++,a.removeEntry(o,cr.min()))})).next(()=>a.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.yi.set(r,e.currentSequenceNumber),pe.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),pe.resolve()}removeReference(e,r,n){return this.yi.set(n,e.currentSequenceNumber),pe.resolve()}updateLimboDocument(e,r){return this.yi.set(r,e.currentSequenceNumber),pe.resolve()}Ii(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Jb(e.data.value)),r}Dr(e,r,n){return pe.or([()=>this.persistence.Ri(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.yi.get(r);return pe.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lxe{constructor(e){this.serializer=e}q(e,r,n,s){const a=new Vj("createOrUpgrade",r);n<1&&s>=1&&(function(c){c.createObjectStore(Mx)}(e),function(c){c.createObjectStore(Ay,{keyPath:zve}),c.createObjectStore(lo,{keyPath:N5,autoIncrement:!0}).createIndex(md,T5,{unique:!0}),c.createObjectStore(Cm)}(e),m3(e),function(c){c.createObjectStore(nd)}(e));let o=pe.resolve();return n<3&&s>=3&&(n!==0&&(function(c){c.deleteObjectStore(Em),c.deleteObjectStore(Bm),c.deleteObjectStore(Id)}(e),m3(e)),o=o.next(()=>function(c){const u=c.store(Id),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cr.min().toTimestamp(),targetCount:0};return u.put(O1,d)}(a))),n<4&&s>=4&&(n!==0&&(o=o.next(()=>function(c,u){return u.store(lo).J().next(f=>{c.deleteObjectStore(lo),c.createObjectStore(lo,{keyPath:N5,autoIncrement:!0}).createIndex(md,T5,{unique:!0});const m=u.store(lo),p=f.map(y=>m.put(y));return pe.waitFor(p)})}(e,a))),o=o.next(()=>{(function(c){c.createObjectStore(Sm,{keyPath:rye})})(e)})),n<5&&s>=5&&(o=o.next(()=>this.wi(a))),n<6&&s>=6&&(o=o.next(()=>(function(c){c.createObjectStore(dy)}(e),this.Si(a)))),n<7&&s>=7&&(o=o.next(()=>this.bi(a))),n<8&&s>=8&&(o=o.next(()=>this.Di(e,a))),n<9&&s>=9&&(o=o.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&s>=10&&(o=o.next(()=>this.Ci(a))),n<11&&s>=11&&(o=o.next(()=>{(function(c){c.createObjectStore(qj,{keyPath:nye})})(e),function(c){c.createObjectStore(zj,{keyPath:sye})}(e)})),n<12&&s>=12&&(o=o.next(()=>{(function(c){const u=c.createObjectStore(Gj,{keyPath:Aye});u.createIndex(I2,dye,{unique:!1}),u.createIndex(rX,fye,{unique:!1})})(e)})),n<13&&s>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore(P1,{keyPath:Wve});u.createIndex(Wb,Xve),u.createIndex(YW,Jve)}(e)).next(()=>this.Fi(e,a)).next(()=>e.deleteObjectStore(nd))),n<14&&s>=14&&(o=o.next(()=>this.Mi(e,a))),n<15&&s>=15&&(o=o.next(()=>function(c){c.createObjectStore(nD,{keyPath:aye,autoIncrement:!0}).createIndex(k2,iye,{unique:!1}),c.createObjectStore(Iv,{keyPath:oye}).createIndex(eX,lye,{unique:!1}),c.createObjectStore(Pv,{keyPath:cye}).createIndex(tX,uye,{unique:!1})}(e))),n<16&&s>=16&&(o=o.next(()=>{r.objectStore(Iv).clear()}).next(()=>{r.objectStore(Pv).clear()})),n<17&&s>=17&&(o=o.next(()=>{(function(c){c.createObjectStore(sD,{keyPath:hye})})(e)})),n<18&&s>=18&&NW()&&(o=o.next(()=>{r.objectStore(Iv).clear()}).next(()=>{r.objectStore(Pv).clear()})),o}Si(e){let r=0;return e.store(nd).te((n,s)=>{r+=$1(s)}).next(()=>{const n={byteSize:r};return e.store(dy).put(T2,n)})}wi(e){const r=e.store(Ay),n=e.store(lo);return r.J().next(s=>pe.forEach(s,a=>{const o=IDBKeyRange.bound([a.userId,kd],[a.userId,a.lastAcknowledgedBatchId]);return n.J(md,o).next(l=>pe.forEach(l,c=>{It(c.userId===a.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=ud(this.serializer,c);return XX(e,a.userId,u).next(()=>{})}))}))}bi(e){const r=e.store(Em),n=e.store(nd);return e.store(Id).get(O1).next(s=>{const a=[];return n.te((o,l)=>{const c=new Hr(o),u=function(f){return[0,$s(f)]}(c);a.push(r.get(u).next(d=>d?pe.resolve():(f=>r.put({targetId:0,path:$s(f),sequenceNumber:s.highestListenSequenceNumber}))(c)))}).next(()=>pe.waitFor(a))})}Di(e,r){e.createObjectStore(fy,{keyPath:tye});const n=r.store(fy),s=new yD,a=o=>{if(s.add(o)){const l=o.lastSegment(),c=o.popLast();return n.put({collectionId:l,parent:$s(c)})}};return r.store(nd).te({ee:!0},(o,l)=>{const c=new Hr(o);return a(c.popLast())}).next(()=>r.store(Cm).te({ee:!0},([o,l,c],u)=>{const d=rl(l);return a(d.popLast())}))}Ci(e){const r=e.store(Bm);return r.te((n,s)=>{const a=uv(s),o=KX(this.serializer,a);return r.put(o)})}Fi(e,r){const n=r.store(nd),s=[];return n.te((a,o)=>{const l=r.store(P1),c=function(f){return f.document?new gt(Hr.fromString(f.document.name).popFirst(5)):f.noDocument?gt.fromSegments(f.noDocument.path):f.unknownDocument?gt.fromSegments(f.unknownDocument.path):Ct(36783)}(o).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};s.push(l.put(u))}).next(()=>pe.waitFor(s))}Mi(e,r){const n=r.store(lo),s=rJ(this.serializer),a=new wD(rC.fi,this.serializer.wt);return n.J().next(o=>{const l=new Map;return o.forEach(c=>{var u;let d=(u=l.get(c.userId))!==null&&u!==void 0?u:Hn();ud(this.serializer,c).keys().forEach(f=>d=d.add(f)),l.set(c.userId,d)}),pe.forEach(l,(c,u)=>{const d=new ms(u),f=eC.St(this.serializer,d),m=a.getIndexManager(d),p=tC.St(d,this.serializer,m,a.referenceDelegate);return new nJ(s,p,f,m).recalculateAndSaveOverlaysForDocumentKeys(new P2(r,go.le),c).next()})})}}function m3(t){t.createObjectStore(Em,{keyPath:Zve}).createIndex(rD,eye,{unique:!0}),t.createObjectStore(Bm,{keyPath:"targetId"}).createIndex(ZW,Yve,{unique:!0}),t.createObjectStore(Id)}const tu="IndexedDbPersistence",yS=18e5,xS=5e3,wS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Hxe="main";class bD{constructor(e,r,n,s,a,o,l,c,u,d,f=18){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.xi=a,this.window=o,this.document=l,this.Oi=u,this.Ni=d,this.Bi=f,this.li=null,this.hi=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Li=null,this.inForeground=!1,this.ki=null,this.qi=null,this.Qi=Number.NEGATIVE_INFINITY,this.$i=m=>Promise.resolve(),!bD.C())throw new xt(Pe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nxe(this,s),this.Ui=r+Hxe,this.serializer=new VX(c),this.Ki=new Du(this.Ui,this.Bi,new Lxe(this.serializer)),this.Pi=new gxe,this.Ti=new Cxe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=rJ(this.serializer),this.Ei=new pxe,this.window&&this.window.localStorage?this.Wi=this.window.localStorage:(this.Wi=null,d===!1&&Za(tu,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Gi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(Pe.FAILED_PRECONDITION,wS);return this.zi(),this.ji(),this.Hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ti.getHighestSequenceNumber(e))}).then(e=>{this.li=new go(e,this.Oi)}).then(()=>{this.hi=!0}).catch(e=>(this.Ki&&this.Ki.close(),Promise.reject(e)))}Ji(e){return this.$i=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ki.U(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.xi.enqueueAndForget(async()=>{this.started&&await this.Gi()}))}Gi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Xw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Yi(e).next(r=>{r||(this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)))})}).next(()=>this.Zi(e)).next(r=>this.isPrimary&&!r?this.Xi(e).next(()=>!1):!!r&&this.es(e).next(()=>!0))).catch(e=>{if(Af(e))return qe(tu,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return qe(tu,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.xi.enqueueRetryable(()=>this.$i(e)),this.isPrimary=e})}Yi(e){return Mg(e).get(lh).next(r=>pe.resolve(this.ts(r)))}ns(e){return Xw(e).delete(this.clientId)}async rs(){if(this.isPrimary&&!this.ss(this.Qi,yS)){this.Qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=zn(r,Sm);return n.J().next(s=>{const a=this._s(s,yS),o=s.filter(l=>a.indexOf(l)===-1);return pe.forEach(o,l=>n.delete(l.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Wi)for(const r of e)this.Wi.removeItem(this.us(r.clientId))}}Hi(){this.qi=this.xi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Gi().then(()=>this.rs()).then(()=>this.Hi()))}ts(e){return!!e&&e.ownerId===this.clientId}Zi(e){return this.Ni?pe.resolve(!0):Mg(e).get(lh).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,xS)&&!this.cs(r.ownerId)){if(this.ts(r)&&this.networkEnabled)return!0;if(!this.ts(r)){if(!r.allowTabSynchronization)throw new xt(Pe.FAILED_PRECONDITION,wS);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xw(e).J().next(n=>this._s(n,xS).find(s=>{if(this.clientId!==s.clientId){const a=!this.networkEnabled&&s.networkEnabled,o=!this.inForeground&&s.inForeground,l=this.networkEnabled===s.networkEnabled;if(a||o&&l)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&qe(tu,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.hi=!1,this.ls(),this.qi&&(this.qi.cancel(),this.qi=null),this.hs(),this.Ps(),await this.Ki.runTransaction("shutdown","readwrite",[Mx,Sm],e=>{const r=new P2(e,go.le);return this.Xi(r).next(()=>this.ns(r))}),this.Ki.close(),this.Ts()}_s(e,r){return e.filter(n=>this.ss(n.updateTimeMs,r)&&!this.cs(n.clientId))}Is(){return this.runTransaction("getActiveClients","readonly",e=>Xw(e).J().next(r=>this._s(r,yS).map(n=>n.clientId)))}get started(){return this.hi}getGlobalsCache(){return this.Pi}getMutationQueue(e,r){return tC.St(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new jxe(e,this.serializer.wt.databaseId)}getDocumentOverlayCache(e){return eC.St(this.serializer,e)}getBundleCache(){return this.Ei}runTransaction(e,r,n){qe(tu,"Starting transaction:",e);const s=r==="readonly"?"readonly":"readwrite",a=function(c){return c===18?gye:c===17?iX:c===16?pye:c===15?aD:c===14?aX:c===13?sX:c===12?mye:c===11?nX:void Ct(60245)}(this.Bi);let o;return this.Ki.runTransaction(e,s,a,l=>(o=new P2(l,this.li?this.li.next():go.le),r==="readwrite-primary"?this.Yi(o).next(c=>!!c||this.Zi(o)).next(c=>{if(!c)throw Za(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.xi.enqueueRetryable(()=>this.$i(!1)),new xt(Pe.FAILED_PRECONDITION,GW);return n(o)}).next(c=>this.es(o).next(()=>c)):this.Es(o).next(()=>n(o)))).then(l=>(o.raiseOnCommittedEvent(),l))}Es(e){return Mg(e).get(lh).next(r=>{if(r!==null&&this.ss(r.leaseTimestampMs,xS)&&!this.cs(r.ownerId)&&!this.ts(r)&&!(this.Ni||this.allowTabSynchronization&&r.allowTabSynchronization))throw new xt(Pe.FAILED_PRECONDITION,wS)})}es(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Mg(e).put(lh,r)}static C(){return Du.C()}Xi(e){const r=Mg(e);return r.get(lh).next(n=>this.ts(n)?(qe(tu,"Releasing primary lease."),r.delete(lh)):pe.resolve())}ss(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(Za(`Detected an update time that is in the future: ${e} > ${n}`),!1))}zi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ki=()=>{this.xi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Gi()))},this.document.addEventListener("visibilitychange",this.ki),this.inForeground=this.document.visibilityState==="visible")}hs(){this.ki&&(this.document.removeEventListener("visibilitychange",this.ki),this.ki=null)}ji(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Li=()=>{this.ls();const r=/(?:Version|Mobile)\/1[456]/;SW()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.xi.enterRestrictedMode(!0),this.xi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Li))}Ps(){this.Li&&(this.window.removeEventListener("pagehide",this.Li),this.Li=null)}cs(e){var r;try{const n=((r=this.Wi)===null||r===void 0?void 0:r.getItem(this.us(e)))!==null;return qe(tu,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Za(tu,"Failed to get zombied client id.",n),!1}}ls(){if(this.Wi)try{this.Wi.setItem(this.us(this.clientId),String(Date.now()))}catch(e){Za("Failed to set zombie client id.",e)}}Ts(){if(this.Wi)try{this.Wi.removeItem(this.us(this.clientId))}catch{}}us(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Mg(t){return zn(t,Mx)}function Xw(t){return zn(t,Sm)}function $xe(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.ds=n,this.As=s}static Rs(e,r){let n=Hn(),s=Hn();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _D(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SW()?8:XW(S1())>0?6:4}()}initialize(e,r){this.ys=e,this.indexManager=r,this.Vs=!0}getDocumentsMatchingQuery(e,r,n,s){const a={result:null};return this.ws(e,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Ss(e,r,s,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new Vxe;return this.bs(e,r,o).next(l=>{if(a.result=l,this.fs)return this.Ds(e,r,o,l.size)})}).next(()=>a.result)}Ds(e,r,n,s){return n.documentReadCount<this.gs?(Ph()<=hr.DEBUG&&qe("QueryEngine","SDK will not create cache indexes for query:",Og(r),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),pe.resolve()):(Ph()<=hr.DEBUG&&qe("QueryEngine","Query:",Og(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ps*s?(Ph()<=hr.DEBUG&&qe("QueryEngine","The SDK decides to create cache indexes for query:",Og(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tc(r))):pe.resolve())}ws(e,r){if($5(r))return pe.resolve(null);let n=tc(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=M2(r,null,"F"),n=tc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(a=>{const o=Hn(...a);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(c=>{const u=this.vs(r,l);return this.Cs(r,u,o,c.readTime)?this.ws(e,M2(r,null,"F")):this.Fs(e,u,r,c)}))})))}Ss(e,r,n,s){return $5(r)||s.isEqual(cr.min())?pe.resolve(null):this.ys.getDocuments(e,n).next(a=>{const o=this.vs(r,a);return this.Cs(r,o,n,s)?pe.resolve(null):(Ph()<=hr.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Og(r)),this.Fs(e,o,r,Qve(s,ly)).next(l=>l))})}vs(e,r){let n=new Vr(Fye(e));return r.forEach((s,a)=>{Jj(e,a)&&(n=n.add(a))}),n}Cs(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}bs(e,r,n){return Ph()<=hr.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",Og(r)),this.ys.getDocumentsMatchingQuery(e,r,ai.min(),n)}Fs(e,r,n,s){return this.ys.getDocumentsMatchingQuery(e,n,s).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kxe="LocalStore";class qxe{constructor(e,r,n,s){this.persistence=e,this.Ms=r,this.serializer=s,this.xs=new oa(Kt),this.Os=new _c(a=>Kd(a),Qx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nJ(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.xs))}}function aJ(t,e,r,n){return new qxe(t,e,r,n)}async function iJ(t,e){const r=zr(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(a=>(s=a,r.Ls(e),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],l=[];let c=Hn();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of a){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return r.localDocuments.getDocuments(n,c).next(u=>({ks:u,removedBatchIds:o,addedBatchIds:l}))})})}function zxe(t,e){const r=zr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),a=r.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const f=u.batch,m=f.keys();let p=pe.resolve();return m.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(x=>{const v=u.docVersions.get(y);It(v!==null,48541),x.version.compareTo(v)<0&&(f.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(r,n,e,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let c=Hn();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Gxe(t){const e=zr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ti.getLastRemoteSnapshotVersion(r))}function Wxe(t,e){const r=zr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=kd),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}class p3{constructor(){this.activeTargetIds=Lye()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oJ{constructor(){this.xo=new p3,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,r,n){this.Oo[e]=r}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new p3,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xxe{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3="ConnectivityMonitor";class v3{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){qe(g3,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){qe(g3,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jw=null;function K2(){return Jw===null?Jw=function(){return 268435456+Math.round(2147483648*Math.random())}():Jw++,"0x"+Jw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="RestConnection",Jxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Yxe{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=r+"://"+e.host,this.Wo=`projects/${n}/databases/${s}`,this.Go=this.databaseId.database===R1?`project_id=${n}`:`project_id=${n}&database_id=${s}`}zo(e,r,n,s,a){const o=K2(),l=this.jo(e,r.toUriEncodedString());qe(bS,`Sending RPC '${e}' ${o}:`,l,n);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,a);const{host:u}=new URL(l),d=WR(u);return this.Jo(e,l,c,n,d).then(f=>(qe(bS,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Ux(bS,`RPC '${e}' ${o} failed with error: `,f,"url: ",l,"request:",n),f})}Yo(e,r,n,s,a,o){return this.zo(e,r,n,s,a)}Ho(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_p}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>e[a]=s),n&&n.headers.forEach((s,a)=>e[a]=s)}jo(e,r){const n=Jxe[e];return`${this.Ko}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zxe{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="WebChannelConnection";class e0e extends Yxe{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,s,a){const o=K2();return new Promise((l,c)=>{const u=new UW;u.setWithCredentials(!0),u.listenOnce(MW.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qb.NO_ERROR:const f=u.getResponseJson();qe(Is,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),l(f);break;case qb.TIMEOUT:qe(Is,`RPC '${e}' ${o} timed out`),c(new xt(Pe.DEADLINE_EXCEEDED,"Request time out"));break;case qb.HTTP_ERROR:const m=u.getStatus();if(qe(Is,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const x=function(_){const j=_.toLowerCase().replace(/_/g,"-");return Object.values(Pe).indexOf(j)>=0?j:Pe.UNKNOWN}(y.status);c(new xt(x,y.message))}else c(new xt(Pe.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new xt(Pe.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{qe(Is,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(s);qe(Is,`RPC '${e}' ${o} sending request:`,s),u.send(r,"POST",d,n,15)})}T_(e,r,n){const s=K2(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=HW(),l=LW(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const d=a.join("");qe(Is,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=o.createWebChannel(d,c);let m=!1,p=!1;const y=new Zxe({Zo:v=>{p?qe(Is,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(m||(qe(Is,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),qe(Is,`RPC '${e}' stream ${s} sending:`,v),f.send(v))},Xo:()=>f.close()}),x=(v,_,j)=>{v.listen(_,S=>{try{j(S)}catch(C){setTimeout(()=>{throw C},0)}})};return x(f,cv.EventType.OPEN,()=>{p||(qe(Is,`RPC '${e}' stream ${s} transport opened.`),y.__())}),x(f,cv.EventType.CLOSE,()=>{p||(p=!0,qe(Is,`RPC '${e}' stream ${s} transport closed`),y.u_())}),x(f,cv.EventType.ERROR,v=>{p||(p=!0,Ux(Is,`RPC '${e}' stream ${s} transport errored. Name:`,v.name,"Message:",v.message),y.u_(new xt(Pe.UNAVAILABLE,"The operation could not be completed")))}),x(f,cv.EventType.MESSAGE,v=>{var _;if(!p){const j=v.data[0];It(!!j,16349);const S=j,C=(S==null?void 0:S.error)||((_=S[0])===null||_===void 0?void 0:_.error);if(C){qe(Is,`RPC '${e}' stream ${s} received error:`,C);const N=C.status;let k=function(P){const O=In[P];if(O!==void 0)return Jye(O)}(N),E=C.message;k===void 0&&(k=Pe.INTERNAL,E="Unknown error status: "+N+" with message "+C.message),p=!0,y.u_(new xt(k,E)),f.close()}else qe(Is,`RPC '${e}' stream ${s} received:`,j),y.c_(j)}}),x(l,QW.STAT_EVENT,v=>{v.stat===E2.PROXY?qe(Is,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===E2.NOPROXY&&qe(Is,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0e(){return typeof window<"u"?window:null}function r1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){return new txe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lJ{constructor(e,r,n=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=r,this.I_=n,this.E_=s,this.d_=a,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const r=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),s=Math.max(0,r-n);s>0&&qe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="PersistentStream";class r0e{constructor(e,r,n,s,a,o,l,c){this.xi=e,this.y_=n,this.w_=s,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new lJ(e,r)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,r){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():r&&r.code===Pe.RESOURCE_EXHAUSTED?(Za(r.toString()),Za("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):r&&r.code===Pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(r)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),r=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.S_===r&&this.K_(n,s)},n=>{e(()=>{const s=new xt(Pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.W_(s)})})}K_(e,r){const n=this.U_(this.S_);this.stream=this.G_(e,r),this.stream.e_(()=>{n(()=>this.listener.e_())}),this.stream.n_(()=>{n(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{n(()=>this.W_(s))}),this.stream.onMessage(s=>{n(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return qe(y3,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return r=>{this.xi.enqueueAndForget(()=>this.S_===e?r():(qe(y3,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class n0e extends r0e{constructor(e,r,n,s,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=a}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,r){return this.connection.T_("Write",e,r)}z_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const r=oxe(e.writeResults,e.commitTime),n=bo(e.commitTime);return this.listener.ea(n,r)}ta(){const e={};e.database=axe(this.serializer),this.L_(e)}Z_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>Q1(this.serializer,n))};this.L_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0e{}class a0e extends s0e{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.na=!1}ra(){if(this.na)throw new xt(Pe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,r,n,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.zo(e,Q2(r,n),s,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xt(Pe.UNKNOWN,a.toString())})}Yo(e,r,n,s,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Q2(r,n),s,o,l,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new xt(Pe.UNKNOWN,o.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class i0e{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Za(r),this.oa=!1):qe("OnlineStateTracker",r)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="RemoteStore";class o0e{constructor(e,r,n,s,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=a,this.Ea.No(o=>{n.enqueueAndForget(async()=>{$x(this)&&(qe(Lx,"Restarting streams for network reachability change."),await async function(c){const u=zr(c);u.Ta.add(4),await Hx(u),u.da.set("Unknown"),u.Ta.delete(4),await sC(u)}(this))})}),this.da=new i0e(n,s)}}async function sC(t){if($x(t))for(const e of t.Ia)await e(!0)}async function Hx(t){for(const e of t.Ia)await e(!1)}function $x(t){return zr(t).Ta.size===0}async function cJ(t,e,r){if(!Af(e))throw e;t.Ta.add(1),await Hx(t),t.da.set("Offline"),r||(r=()=>Gxe(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qe(Lx,"Retrying IndexedDB access"),await r(),t.Ta.delete(1),await sC(t)})}function uJ(t,e){return e().catch(r=>cJ(t,r,e))}async function Vx(t){const e=zr(t),r=Zu(e);let n=e.ha.length>0?e.ha[e.ha.length-1].batchId:kd;for(;l0e(e);)try{const s=await Wxe(e.localStore,n);if(s===null){e.ha.length===0&&r.N_();break}n=s.batchId,c0e(e,s)}catch(s){await cJ(e,s)}AJ(e)&&dJ(e)}function l0e(t){return $x(t)&&t.ha.length<10}function c0e(t,e){t.ha.push(e);const r=Zu(t);r.M_()&&r.Y_&&r.Z_(e.mutations)}function AJ(t){return $x(t)&&!Zu(t).F_()&&t.ha.length>0}function dJ(t){Zu(t).start()}async function u0e(t){Zu(t).ta()}async function A0e(t){const e=Zu(t);for(const r of t.ha)e.Z_(r.mutations)}async function d0e(t,e,r){const n=t.ha.shift(),s=mD.from(n,e,r);await uJ(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Vx(t)}async function f0e(t,e){e&&Zu(t).Y_&&await async function(n,s){if(function(o){return Xye(o)&&o!==Pe.ABORTED}(s.code)){const a=n.ha.shift();Zu(n).O_(),await uJ(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Vx(n)}}(t,e),AJ(t)&&dJ(t)}async function x3(t,e){const r=zr(t);r.asyncQueue.verifyOperationInProgress(),qe(Lx,"RemoteStore received new credentials");const n=$x(r);r.Ta.add(3),await Hx(r),n&&r.da.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ta.delete(3),await sC(r)}async function h0e(t,e){const r=zr(t);e?(r.Ta.delete(2),await sC(r)):e||(r.Ta.add(2),await Hx(r),r.da.set("Unknown"))}function Zu(t){return t.Va||(t.Va=function(r,n,s){const a=zr(r);return a.ra(),new n0e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:u0e.bind(null,t),i_:f0e.bind(null,t),X_:A0e.bind(null,t),ea:d0e.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Vx(t)):(await t.Va.stop(),t.ha.length>0&&(qe(Lx,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,r,n,s,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=a,this.deferred=new Ru,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,a){const o=Date.now()+n,l=new jD(e,r,o,s,a);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(Pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fJ(t,e){if(Za("AsyncQueue",`${e}: ${t}`),Af(t))return new xt(Pe.UNAVAILABLE,`${e}: ${t}`);throw t}class m0e{constructor(){this.queries=w3(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(r,n){const s=zr(r),a=s.queries;s.queries=w3(),a.forEach((o,l)=>{for(const c of l.ya)c.onError(n)})})(this,new xt(Pe.ABORTED,"Firestore shutting down"))}}function w3(){return new _c(t=>CX(t),jX)}function p0e(t){t.ba.forEach(e=>{e.next()})}var b3,_3;(_3=b3||(b3={})).Ca="default",_3.Cache="cache";const g0e="SyncEngine";class v0e{constructor(e,r,n,s,a,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.au={},this.uu=new _c(l=>CX(l),jX),this.cu=new Map,this.lu=new Set,this.hu=new oa(gt.comparator),this.Pu=new Map,this.Tu=new xD,this.Iu={},this.Eu=new Map,this.du=Gd.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function y0e(t,e,r){const n=pJ(t);try{const s=await function(o,l){const c=zr(o),u=yn.now(),d=l.reduce((p,y)=>p.add(y.key),Hn());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Su(),x=Hn();return c.Bs.getEntries(p,d).next(v=>{y=v,y.forEach((_,j)=>{j.isValidDocument()||(x=x.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(v=>{f=v;const _=[];for(const j of l){const S=Wye(j,f.get(j.key).overlayedDocument);S!=null&&_.push(new dA(j.key,S,mX(S.value.mapValue),ri.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,_,l)}).next(v=>{m=v;const _=v.applyToLocalDocumentSet(f,x);return c.documentOverlayCache.saveOverlays(p,v.batchId,_)})}).then(()=>({batchId:m.batchId,changes:EX(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let u=o.Iu[o.currentUser.toKey()];u||(u=new oa(Kt)),u=u.insert(l,c),o.Iu[o.currentUser.toKey()]=u}(n,s.batchId,r),await aC(n,s.changes),await Vx(n.remoteStore)}catch(s){const a=fJ(s,"Failed to persist write");r.reject(a)}}function j3(t,e,r){const n=zr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.uu.forEach((a,o)=>{const l=o.view.Da(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=zr(o);c.onlineState=l;let u=!1;c.queries.forEach((d,f)=>{for(const m of f.ya)m.Da(l)&&(u=!0)}),u&&p0e(c)}(n.eventManager,e),s.length&&n.au.j_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function x0e(t,e){const r=zr(t),n=e.batch.batchId;try{const s=await zxe(r.localStore,e);mJ(r,n,null),hJ(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await aC(r,s)}catch(s){await $j(s)}}async function w0e(t,e,r){const n=zr(t);try{const s=await function(o,l){const c=zr(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(f=>(It(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(n.localStore,e);mJ(n,e,r),hJ(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await aC(n,s)}catch(s){await $j(s)}}function hJ(t,e){(t.Eu.get(e)||[]).forEach(r=>{r.resolve()}),t.Eu.delete(e)}function mJ(t,e,r){const n=zr(t);let s=n.Iu[n.currentUser.toKey()];if(s){const a=s.get(e);a&&(r?a.reject(r):a.resolve(),s=s.remove(e)),n.Iu[n.currentUser.toKey()]=s}}async function aC(t,e,r){const n=zr(t),s=[],a=[],o=[];n.uu.isEmpty()||(n.uu.forEach((l,c)=>{o.push(n.Ru(c,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=void 0)===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=_D.Rs(c.targetId,u);a.push(f)}}))}),await Promise.all(o),n.au.j_(s),await async function(c,u){const d=zr(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>pe.forEach(u,m=>pe.forEach(m.ds,p=>d.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>pe.forEach(m.As,p=>d.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Af(f))throw f;qe(Kxe,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const p=d.xs.get(m),y=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(y);d.xs=d.xs.insert(m,x)}}}(n.localStore,a))}async function b0e(t,e){const r=zr(t);if(!r.currentUser.isEqual(e)){qe(g0e,"User change. New user:",e.toKey());const n=await iJ(r.localStore,e);r.currentUser=e,function(a,o){a.Eu.forEach(l=>{l.forEach(c=>{c.reject(new xt(Pe.CANCELLED,o))})}),a.Eu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await aC(r,n.ks)}}function pJ(t){const e=zr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x0e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=w0e.bind(null,e),e}class xy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=nC(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,r){return null}bu(e,r){return null}wu(e){return aJ(this.persistence,new sJ,e.initialUser,this.serializer)}yu(e){return new wD(rC.fi,this.serializer)}pu(e){return new oJ}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xy.provider={build:()=>new xy};class _0e extends xy{constructor(e){super(),this.cacheSizeBytes=e}Su(e,r){It(this.persistence.referenceDelegate instanceof V1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ZX(n,e.asyncQueue,r)}yu(e){const r=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new wD(n=>V1.fi(n,r),this.serializer)}}class j0e extends xy{constructor(e,r,n){super(),this.Du=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Du.initialize(this,e),await pJ(this.Du.syncEngine),await Vx(this.Du.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}wu(e){return aJ(this.persistence,new sJ,e.initialUser,this.serializer)}Su(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new ZX(n,e.asyncQueue,r)}bu(e,r){const n=new Vve(r,this.persistence);return new $ve(e.asyncQueue,n)}yu(e){const r=$xe(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?Rs.withCacheSize(this.cacheSizeBytes):Rs.DEFAULT;return new bD(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,t0e(),r1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}pu(e){return new oJ}}class K1{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>j3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=b0e.bind(null,this.syncEngine),await h0e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new m0e}()}createDatastore(e){const r=nC(e.databaseInfo.databaseId),n=function(a){return new e0e(a)}(e.databaseInfo);return function(a,o,l,c){return new a0e(a,o,l,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,a,o,l){return new o0e(n,s,a,o,l)}(this.localStore,this.datastore,e.asyncQueue,r=>j3(this.syncEngine,r,0),function(){return v3.C()?new v3:new Xxe}())}createSyncEngine(e,r){return function(s,a,o,l,c,u,d){const f=new v0e(s,a,o,l,c,u);return d&&(f.Au=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const a=zr(s);qe(Lx,"RemoteStore shutting down."),a.Ta.add(5),await Hx(a),a.Ea.shutdown(),a.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}K1.provider={build:()=>new K1};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="FirestoreClient";class C0e{constructor(e,r,n,s,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=ms.UNAUTHENTICATED,this.clientId=KW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{qe(eA,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(qe(eA,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ru;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=fJ(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function _S(t,e){t.asyncQueue.verifyOperationInProgress(),qe(eA,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await iJ(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function C3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await B0e(t);qe(eA,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>x3(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>x3(e.remoteStore,s)),t._onlineComponents=e}async function B0e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qe(eA,"Using user provided OfflineComponentProvider");try{await _S(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===Pe.FAILED_PRECONDITION||s.code===Pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Ux("Error using user provided cache. Falling back to memory cache: "+r),await _S(t,new xy)}}else qe(eA,"Using default OfflineComponentProvider"),await _S(t,new _0e(void 0));return t._offlineComponents}async function E0e(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qe(eA,"Using user provided OnlineComponentProvider"),await C3(t,t._uninitializedComponentsProvider._online)):(qe(eA,"Using default OnlineComponentProvider"),await C3(t,new K1))),t._onlineComponents}function S0e(t){return E0e(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gJ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t,e,r){if(!r)throw new xt(Pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function N0e(t,e,r,n){if(e===!0&&n===!0)throw new xt(Pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function E3(t){if(!gt.isDocumentKey(t))throw new xt(Pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S3(t){if(gt.isDocumentKey(t))throw new xt(Pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CD(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ct(12329,{type:typeof t})}function BD(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xt(Pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=CD(t);throw new xt(Pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ="firestore.googleapis.com",N3=!0;class T3{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new xt(Pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yJ,this.ssl=N3}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:N3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WX;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bxe)throw new xt(Pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}N0e("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gJ((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xt(Pe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iC{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(Pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(Pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Tve;switch(n.type){case"firstParty":return new Ove(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xt(Pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=B3.get(r);n&&(qe("ComponentProvider","Removing Datastore"),B3.delete(r),n.terminate())}(this),Promise.resolve()}}function T0e(t,e,r,n={}){var s;t=BD(t,iC);const a=WR(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;a&&(uge(`https://${c}`),hge("Firestore",!0)),o.host!==yJ&&o.host!==c&&Ux("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:c,ssl:a,emulatorOptions:n});if(!N1(u,l)&&(t._setSettings(u),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=ms.MOCK_USER;else{d=Age(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const m=n.mockUserToken.sub||n.mockUserToken.user_id;if(!m)throw new xt(Pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ms(m)}t._authCredentials=new kve(new VW(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ED(this.firestore,e,this._query)}}class rc{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rc(this.firestore,e,this._key)}}class Uu extends ED{constructor(e,r,n){super(e,r,_X(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rc(this.firestore,null,new gt(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function k3(t,e,...r){if(t=Wu(t),vJ("collection","path",e),t instanceof iC){const n=Hr.fromString(e,...r);return S3(n),new Uu(t,null,n)}{if(!(t instanceof rc||t instanceof Uu))throw new xt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Hr.fromString(e,...r));return S3(n),new Uu(t.firestore,null,n)}}function k0e(t,e,...r){if(t=Wu(t),arguments.length===1&&(e=KW.newId()),vJ("doc","path",e),t instanceof iC){const n=Hr.fromString(e,...r);return E3(n),new rc(t,null,new gt(n))}{if(!(t instanceof rc||t instanceof Uu))throw new xt(Pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Hr.fromString(e,...r));return E3(n),new rc(t.firestore,t instanceof Uu?t.converter:null,new gt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="AsyncQueue";class P3{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new lJ(this,"async_queue_retry"),this.ec=()=>{const n=r1();n&&qe(I3,"Visibility state changed to "+n.visibilityState),this.C_.p_()},this.tc=e;const r=r1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const r=r1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const r=new Ru;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Af(e))throw e;qe(I3,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const r=this.tc.then(()=>(this.Yu=!0,e().catch(n=>{throw this.Ju=n,this.Yu=!1,Za("INTERNAL UNHANDLED ERROR: ",O3(n)),n}).then(n=>(this.Yu=!1,n))));return this.tc=r,r}enqueueAfterDelay(e,r,n){this.nc(),this.Xu.indexOf(e)>-1&&(r=0);const s=jD.createAndSchedule(this,e,r,n,a=>this.oc(a));return this.Hu.push(s),s}nc(){this.Ju&&Ct(47125,{_c:O3(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const r of this.Hu)if(r.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Hu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const r=this.Hu.indexOf(e);this.Hu.splice(r,1)}}function O3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class SD extends iC{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new P3,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P3(e),this._firestoreClient=void 0,await e}}}function ND(t,e){const r=typeof t=="object"?t:FW(),n=typeof t=="string"?t:R1,s=Hj(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const a=lge("firestore");a&&T0e(s,...a)}return s}function I0e(t){if(t._terminated)throw new xt(Pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xJ(t),t._firestoreClient}function xJ(t){var e,r,n;const s=t._freezeSettings(),a=function(l,c,u,d){return new xye(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gJ(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new C0e(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function P0e(t,e){Ux("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return O0e(t,K1.provider,{build:n=>new j0e(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function O0e(t,e,r){if((t=BD(t,SD))._firestoreClient||t._terminated)throw new xt(Pe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new xt(Pe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},xJ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wy(ka.fromBase64String(e))}catch(r){throw new xt(Pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new wy(ka.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wJ{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xt(Pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xt(Pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xt(Pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0e=/^__.*__$/;class R0e{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new dA(e,this.data,this.fieldMask,r,this.fieldTransforms):new Cp(e,this.data,r,this.fieldTransforms)}}function CJ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{hc:t})}}class TD{constructor(e,r,n,s,a,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,a===void 0&&this.Pc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new TD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Tc({path:n,Ec:!1});return s.dc(e),s}Ac(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Tc({path:n,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return q1(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(CJ(this.hc)&&F0e.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class D0e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||nC(e)}gc(e,r,n,s=!1){return new TD({hc:e,methodName:r,fc:n,path:fn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U0e(t){const e=t._freezeSettings(),r=nC(t._databaseId);return new D0e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function M0e(t,e,r,n,s,a={}){const o=t.gc(a.merge||a.mergeFields?2:0,e,r,s);NJ("Data must be an object, but it was:",o,n);const l=EJ(n,o);let c,u;if(a.merge)c=new Ei(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const d=[];for(const f of a.mergeFields){const m=Q0e(e,f,r);if(!o.contains(m))throw new xt(Pe.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);$0e(d,m)||d.push(m)}c=new Ei(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new R0e(new ei(l),c,u)}function BJ(t,e){if(SJ(t=Wu(t)))return NJ("Unsupported field value:",e,t),EJ(t,e);if(t instanceof bJ)return function(n,s){if(!CJ(s.hc))throw s.Vc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(n,s){const a=[];let o=0;for(const l of n){let c=BJ(l,s.Rc(o));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),o++}return{arrayValue:{values:a}}}(t,e)}return function(n,s){if((n=Wu(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Hye(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=yn.fromDate(n);return{timestampValue:yy(s.serializer,a)}}if(n instanceof yn){const a=new yn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yy(s.serializer,a)}}if(n instanceof _J)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof wy)return{bytesValue:nxe(s.serializer,n._byteString)};if(n instanceof rc){const a=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw s.Vc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gD(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof jJ)return function(o,l){return{mapValue:{fields:{[lD]:{stringValue:cD},[hy]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Vc("VectorValues must only contain numeric values.");return dD(l.serializer,u)})}}}}}}(n,s);throw s.Vc(`Unsupported field value: ${CD(n)}`)}(t,e)}function EJ(t,e){const r={};return oX(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jp(t,(n,s)=>{const a=BJ(s,e.Ic(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function SJ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yn||t instanceof _J||t instanceof wy||t instanceof rc||t instanceof bJ||t instanceof jJ)}function NJ(t,e,r){if(!SJ(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=CD(r);throw n==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+n)}}function Q0e(t,e,r){if((e=Wu(e))instanceof wJ)return e._internalPath;if(typeof e=="string")return H0e(t,e);throw q1("Field path arguments must be of type string or ",t,!1,void 0,r)}const L0e=new RegExp("[~\\*/\\[\\]]");function H0e(t,e,r){if(e.search(L0e)>=0)throw q1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new wJ(...e.split("."))._internalPath}catch{throw q1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function q1(t,e,r,n,s){const a=n&&!n.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;r&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(a||o)&&(c+=" (found",a&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new xt(Pe.INVALID_ARGUMENT,l+t+c)}function $0e(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0e(t,e,r){let n;return n=t?t.toFirestore(e):e,n}function F3(t,e){const r=BD(t.firestore,SD),n=k0e(t),s=V0e(t.converter,e);return K0e(r,[M0e(U0e(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,ri.exists(!1))]).then(()=>n)}function K0e(t,e){return function(n,s){const a=new Ru;return n.asyncQueue.enqueueAndForget(async()=>y0e(await S0e(n),s,a)),a.promise}(I0e(t),e)}(function(e,r=!0){(function(s){_p=s})(gve),Xu(new dc("firestore",(n,{instanceIdentifier:s,options:a})=>{const o=n.getProvider("app").getImmediate(),l=new SD(new Ive(n.getProvider("auth-internal")),new Fve(o,n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xt(Pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nm(u.options.projectId,d)}(o,s),o);return a=Object.assign({useFetchStreams:r},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),ol(x5,w5,e),ol(x5,w5,"esm2017")})();const TJ="@firebase/installations",kD="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kJ=1e4,IJ=`w:${kD}`,PJ="FIS_v2",q0e="https://firebaseinstallations.googleapis.com/v1",z0e=60*60*1e3,G0e="installations",W0e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Wd=new Qj(G0e,W0e,X0e);function OJ(t){return t instanceof uf&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ({projectId:t}){return`${q0e}/projects/${t}/installations`}function RJ(t){return{token:t.token,requestStatus:2,expiresIn:Y0e(t.expiresIn),creationTime:Date.now()}}async function DJ(t,e){const n=(await e.json()).error;return Wd.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function UJ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function J0e(t,{refreshToken:e}){const r=UJ(t);return r.append("Authorization",Z0e(e)),r}async function MJ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y0e(t){return Number(t.replace("s","000"))}function Z0e(t){return`${PJ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ewe({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=FJ(t),s=UJ(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:r,authVersion:PJ,appId:t.appId,sdkVersion:IJ},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await MJ(()=>fetch(n,l));if(c.ok){const u=await c.json();return{fid:u.fid||r,registrationStatus:2,refreshToken:u.refreshToken,authToken:RJ(u.authToken)}}else throw await DJ("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function twe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rwe=/^[cdef][\w-]{21}$/,q2="";function nwe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=swe(t);return rwe.test(r)?r:q2}catch{return q2}}function swe(t){return twe(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LJ=new Map;function HJ(t,e){const r=oC(t);$J(r,e),awe(r,e)}function $J(t,e){const r=LJ.get(t);if(r)for(const n of r)n(e)}function awe(t,e){const r=iwe();r&&r.postMessage({key:t,fid:e}),owe()}let pd=null;function iwe(){return!pd&&"BroadcastChannel"in self&&(pd=new BroadcastChannel("[Firebase] FID Change"),pd.onmessage=t=>{$J(t.data.key,t.data.fid)}),pd}function owe(){LJ.size===0&&pd&&(pd.close(),pd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lwe="firebase-installations-database",cwe=1,Xd="firebase-installations-store";let jS=null;function ID(){return jS||(jS=Lj(lwe,cwe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Xd)}}})),jS}async function z1(t,e){const r=oC(t),s=(await ID()).transaction(Xd,"readwrite"),a=s.objectStore(Xd),o=await a.get(r);return await a.put(e,r),await s.done,(!o||o.fid!==e.fid)&&HJ(t,e.fid),e}async function VJ(t){const e=oC(t),n=(await ID()).transaction(Xd,"readwrite");await n.objectStore(Xd).delete(e),await n.done}async function lC(t,e){const r=oC(t),s=(await ID()).transaction(Xd,"readwrite"),a=s.objectStore(Xd),o=await a.get(r),l=e(o);return l===void 0?await a.delete(r):await a.put(l,r),await s.done,l&&(!o||o.fid!==l.fid)&&HJ(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PD(t){let e;const r=await lC(t.appConfig,n=>{const s=uwe(n),a=Awe(t,s);return e=a.registrationPromise,a.installationEntry});return r.fid===q2?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function uwe(t){const e=t||{fid:nwe(),registrationStatus:0};return KJ(e)}function Awe(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Wd.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=dwe(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fwe(t)}:{installationEntry:e}}async function dwe(t,e){try{const r=await ewe(t,e);return z1(t.appConfig,r)}catch(r){throw OJ(r)&&r.customData.serverCode===409?await VJ(t.appConfig):await z1(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function fwe(t){let e=await R3(t.appConfig);for(;e.registrationStatus===1;)await QJ(100),e=await R3(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await PD(t);return n||r}return e}function R3(t){return lC(t,e=>{if(!e)throw Wd.create("installation-not-found");return KJ(e)})}function KJ(t){return hwe(t)?{fid:t.fid,registrationStatus:0}:t}function hwe(t){return t.registrationStatus===1&&t.registrationTime+kJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mwe({appConfig:t,heartbeatServiceProvider:e},r){const n=pwe(t,r),s=J0e(t,r),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:IJ,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await MJ(()=>fetch(n,l));if(c.ok){const u=await c.json();return RJ(u)}else throw await DJ("Generate Auth Token",c)}function pwe(t,{fid:e}){return`${FJ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(t,e=!1){let r;const n=await lC(t.appConfig,a=>{if(!qJ(a))throw Wd.create("not-registered");const o=a.authToken;if(!e&&ywe(o))return a;if(o.requestStatus===1)return r=gwe(t,e),a;{if(!navigator.onLine)throw Wd.create("app-offline");const l=wwe(a);return r=vwe(t,l),l}});return r?await r:n.authToken}async function gwe(t,e){let r=await D3(t.appConfig);for(;r.authToken.requestStatus===1;)await QJ(100),r=await D3(t.appConfig);const n=r.authToken;return n.requestStatus===0?OD(t,e):n}function D3(t){return lC(t,e=>{if(!qJ(e))throw Wd.create("not-registered");const r=e.authToken;return bwe(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function vwe(t,e){try{const r=await mwe(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await z1(t.appConfig,n),r}catch(r){if(OJ(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await VJ(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await z1(t.appConfig,n)}throw r}}function qJ(t){return t!==void 0&&t.registrationStatus===2}function ywe(t){return t.requestStatus===2&&!xwe(t)}function xwe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+z0e}function wwe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function bwe(t){return t.requestStatus===1&&t.requestTime+kJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _we(t){const e=t,{installationEntry:r,registrationPromise:n}=await PD(e);return n?n.catch(console.error):OD(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jwe(t,e=!1){const r=t;return await Cwe(r),(await OD(r,e)).token}async function Cwe(t){const{registrationPromise:e}=await PD(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(t){if(!t||!t.options)throw CS("App Configuration");if(!t.name)throw CS("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw CS(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function CS(t){return Wd.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zJ="installations",Ewe="installations-internal",Swe=t=>{const e=t.getProvider("app").getImmediate(),r=Bwe(e),n=Hj(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},Nwe=t=>{const e=t.getProvider("app").getImmediate(),r=Hj(e,zJ).getImmediate();return{getId:()=>_we(r),getToken:s=>jwe(r,s)}};function Twe(){Xu(new dc(zJ,Swe,"PUBLIC")),Xu(new dc(Ewe,Nwe,"PRIVATE"))}Twe();ol(TJ,kD);ol(TJ,kD,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kwe="/firebase-messaging-sw.js",Iwe="/firebase-cloud-messaging-push-scope",GJ="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Pwe="https://fcmregistrations.googleapis.com/v1",WJ="google.c.a.c_id",Owe="google.c.a.c_l",Fwe="google.c.a.ts",Rwe="google.c.a.e",U3=1e4;var M3;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(M3||(M3={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var by;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(by||(by={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dwe(t){const e="=".repeat((4-t.length%4)%4),r=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let a=0;a<n.length;++a)s[a]=n.charCodeAt(a);return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="fcm_token_details_db",Uwe=5,Q3="fcm_token_object_Store";async function Mwe(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(a=>a.name).includes(BS))return null;let e=null;return(await Lj(BS,Uwe,{upgrade:async(n,s,a,o)=>{var l;if(s<2||!n.objectStoreNames.contains(Q3))return;const c=o.objectStore(Q3),u=await c.index("fcmSenderId").get(t);if(await c.clear(),!!u){if(s===2){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(l=d.createTime)!==null&&l!==void 0?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:Wl(d.vapidKey)}}}else if(s===3){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Wl(d.auth),p256dh:Wl(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Wl(d.vapidKey)}}}else if(s===4){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Wl(d.auth),p256dh:Wl(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Wl(d.vapidKey)}}}}}})).close(),await mS(BS),await mS("fcm_vapid_details_db"),await mS("undefined"),Qwe(e)?e:null}function Qwe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lwe="firebase-messaging-database",Hwe=1,_y="firebase-messaging-store";let ES=null;function XJ(){return ES||(ES=Lj(Lwe,Hwe,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_y)}}})),ES}async function $we(t){const e=JJ(t),n=await(await XJ()).transaction(_y).objectStore(_y).get(e);if(n)return n;{const s=await Mwe(t.appConfig.senderId);if(s)return await FD(t,s),s}}async function FD(t,e){const r=JJ(t),s=(await XJ()).transaction(_y,"readwrite");return await s.objectStore(_y).put(e,r),await s.done,e}function JJ({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vwe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Vs=new Qj("messaging","Messaging",Vwe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kwe(t,e){const r=await DD(t),n=YJ(e),s={method:"POST",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(RD(t.appConfig),s)).json()}catch(o){throw Vs.create("token-subscribe-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Vs.create("token-subscribe-failed",{errorInfo:o})}if(!a.token)throw Vs.create("token-subscribe-no-token");return a.token}async function qwe(t,e){const r=await DD(t),n=YJ(e.subscriptionOptions),s={method:"PATCH",headers:r,body:JSON.stringify(n)};let a;try{a=await(await fetch(`${RD(t.appConfig)}/${e.token}`,s)).json()}catch(o){throw Vs.create("token-update-failed",{errorInfo:o==null?void 0:o.toString()})}if(a.error){const o=a.error.message;throw Vs.create("token-update-failed",{errorInfo:o})}if(!a.token)throw Vs.create("token-update-no-token");return a.token}async function zwe(t,e){const n={method:"DELETE",headers:await DD(t)};try{const a=await(await fetch(`${RD(t.appConfig)}/${e}`,n)).json();if(a.error){const o=a.error.message;throw Vs.create("token-unsubscribe-failed",{errorInfo:o})}}catch(s){throw Vs.create("token-unsubscribe-failed",{errorInfo:s==null?void 0:s.toString()})}}function RD({projectId:t}){return`${Pwe}/projects/${t}/registrations`}async function DD({appConfig:t,installations:e}){const r=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})}function YJ({p256dh:t,auth:e,endpoint:r,vapidKey:n}){const s={web:{endpoint:r,auth:e,p256dh:t}};return n!==GJ&&(s.web.applicationPubKey=n),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gwe=7*24*60*60*1e3;async function Wwe(t){const e=await Jwe(t.swRegistration,t.vapidKey),r={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Wl(e.getKey("auth")),p256dh:Wl(e.getKey("p256dh"))},n=await $we(t.firebaseDependencies);if(n){if(Ywe(n.subscriptionOptions,r))return Date.now()>=n.createTime+Gwe?Xwe(t,{token:n.token,createTime:Date.now(),subscriptionOptions:r}):n.token;try{await zwe(t.firebaseDependencies,n.token)}catch(s){console.warn(s)}return L3(t.firebaseDependencies,r)}else return L3(t.firebaseDependencies,r)}async function Xwe(t,e){try{const r=await qwe(t.firebaseDependencies,e),n=Object.assign(Object.assign({},e),{token:r,createTime:Date.now()});return await FD(t.firebaseDependencies,n),r}catch(r){throw r}}async function L3(t,e){const n={token:await Kwe(t,e),createTime:Date.now(),subscriptionOptions:e};return await FD(t,n),n.token}async function Jwe(t,e){const r=await t.pushManager.getSubscription();return r||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dwe(e)})}function Ywe(t,e){const r=e.vapidKey===t.vapidKey,n=e.endpoint===t.endpoint,s=e.auth===t.auth,a=e.p256dh===t.p256dh;return r&&n&&s&&a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return Zwe(e,t),ebe(e,t),tbe(e,t),e}function Zwe(t,e){if(!e.notification)return;t.notification={};const r=e.notification.title;r&&(t.notification.title=r);const n=e.notification.body;n&&(t.notification.body=n);const s=e.notification.image;s&&(t.notification.image=s);const a=e.notification.icon;a&&(t.notification.icon=a)}function ebe(t,e){e.data&&(t.data=e.data)}function tbe(t,e){var r,n,s,a,o;if(!e.fcmOptions&&!(!((r=e.notification)===null||r===void 0)&&r.click_action))return;t.fcmOptions={};const l=(s=(n=e.fcmOptions)===null||n===void 0?void 0:n.link)!==null&&s!==void 0?s:(a=e.notification)===null||a===void 0?void 0:a.click_action;l&&(t.fcmOptions.link=l);const c=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rbe(t){return typeof t=="object"&&!!t&&WJ in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nbe(t){if(!t||!t.options)throw SS("App Configuration Object");if(!t.name)throw SS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:r}=t;for(const n of e)if(!r[n])throw SS(n);return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}function SS(t){return Vs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sbe{constructor(e,r,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=nbe(e);this.firebaseDependencies={app:e,appConfig:s,installations:r,analyticsProvider:n}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function abe(t){try{t.swRegistration=await navigator.serviceWorker.register(kwe,{scope:Iwe}),t.swRegistration.update().catch(()=>{}),await ibe(t.swRegistration)}catch(e){throw Vs.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function ibe(t){return new Promise((e,r)=>{const n=setTimeout(()=>r(new Error(`Service worker not registered after ${U3} ms`)),U3),s=t.installing||t.waiting;t.active?(clearTimeout(n),e()):s?s.onstatechange=a=>{var o;((o=a.target)===null||o===void 0?void 0:o.state)==="activated"&&(s.onstatechange=null,clearTimeout(n),e())}:(clearTimeout(n),r(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function obe(t,e){if(!e&&!t.swRegistration&&await abe(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Vs.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lbe(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=GJ)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZJ(t,e){if(!navigator)throw Vs.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Vs.create("permission-blocked");return await lbe(t,e==null?void 0:e.vapidKey),await obe(t,e==null?void 0:e.serviceWorkerRegistration),Wwe(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cbe(t,e,r){const n=ube(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(n,{message_id:r[WJ],message_name:r[Owe],message_time:r[Fwe],message_device_time:Math.floor(Date.now()/1e3)})}function ube(t){switch(t){case by.NOTIFICATION_CLICKED:return"notification_open";case by.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Abe(t,e){const r=e.data;if(!r.isFirebaseMessaging)return;t.onMessageHandler&&r.messageType===by.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(H3(r)):t.onMessageHandler.next(H3(r)));const n=r.data;rbe(n)&&n[Rwe]==="1"&&await cbe(t,r.messageType,n)}const $3="@firebase/messaging",V3="0.12.21";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dbe=t=>{const e=new sbe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",r=>Abe(e,r)),e},fbe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:n=>ZJ(e,n)}};function hbe(){Xu(new dc("messaging",dbe,"PUBLIC")),Xu(new dc("messaging-internal",fbe,"PRIVATE")),ol($3,V3),ol($3,V3,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mbe(){try{await TW()}catch{return!1}return typeof window<"u"&&XR()&&mge()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pbe(t,e){if(!navigator)throw Vs.create("only-available-in-window");return t.onMessageHandler=e,()=>{t.onMessageHandler=null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eY(t=FW()){return mbe().then(e=>{if(!e)throw Vs.create("unsupported-browser")},e=>{throw Vs.create("indexed-db-unsupported")}),Hj(Wu(t),"messaging").getImmediate()}async function gbe(t,e){return t=Wu(t),ZJ(t,e)}function vbe(t,e){return t=Wu(t),pbe(t,e)}hbe();const ybe={apiKey:"AIzaSyBLkK6LwseUvbA6oDTQTLd2Z4MpmH7NhgQ",authDomain:"jpccoal.firebaseapp.com",projectId:"jpccoal",storageBucket:"jpccoal.firebasestorage.app",messagingSenderId:"427360291711",appId:"1:427360291711:web:90ee121cbc8cc64b8de84a",vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"},Bp=OW(ybe);let n1=null;try{typeof window<"u"&&"serviceWorker"in navigator?(n1=eY(Bp),console.log("Firebase messaging initialized successfully")):console.log("Firebase messaging not supported in this environment")}catch(t){console.error("Error initializing Firebase messaging:",t)}const xbe=ND(Bp),wbe=async()=>{try{typeof window<"u"&&"indexedDB"in window&&await P0e(xbe).then(()=>{console.log("Firestore offline persistence enabled successfully")}).catch(t=>{t.code==="failed-precondition"?console.log("Firebase persistence not enabled: Multiple tabs open"):t.code==="unimplemented"?console.log("Firebase persistence not available in this browser"):console.error("Error initializing Firebase persistence:",t)})}catch(t){console.error("Error setting up Firestore persistence:",t)}};wbe().catch(t=>{console.error("Failed to initialize Firestore:",t)});const tY=()=>typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window,NS=async()=>{try{if(!tY())return console.log("This browser does not support notifications - likely a mobile device without notification support"),null;if(!("serviceWorker"in navigator))return console.log("Service workers not supported in this browser, FCM token cannot be generated"),null;if(!Bp||!n1)return console.error("Firebase not properly initialized"),null;if(Notification.permission!=="granted"){if(console.log("Requesting notification permission from user..."),await Notification.requestPermission()!=="granted")return console.log("User denied notification permission"),null;console.log("Notification permission granted by user")}try{await navigator.serviceWorker.getRegistration("/firebase-messaging-sw.js")||(console.log("Firebase messaging service worker not registered, attempting to register now"),await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"}),console.log("Firebase messaging service worker registered"))}catch(t){console.error("Error registering service worker:",t)}console.log("Generating FCM token with VAPID key...");try{if(!n1)return console.error("Cannot get FCM token: Firebase messaging not initialized"),null;const t=await gbe(n1,{vapidKey:"BHH5-vMogiQiVgytRhYjTq6AtpObVKuZr1apoQbx9oD8zL8VywEhcXe5hooGzisOoJEVtPrWRWM6_N_Hoe3mE4U"});if(t){console.log("FCM token generated successfully:",t.substring(0,10)+"..."+t.substring(t.length-5));try{localStorage.setItem("fcm_token",t),localStorage.setItem("fcm_token_timestamp",new Date().toISOString())}catch(e){console.warn("Could not store FCM token in localStorage:",e)}return t}else{console.warn("Firebase returned empty token");const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage"),e):null}}catch(t){console.error("Error during FCM token generation:",t);const e=localStorage.getItem("fcm_token");return e?(console.log("Using previously stored FCM token from localStorage after error"),e):null}}catch(t){return console.error("Unexpected error in requestFCMToken:",t),null}};function rY(t,e){return function(){return t.apply(e,arguments)}}const{toString:bbe}=Object.prototype,{getPrototypeOf:UD}=Object,{iterator:cC,toStringTag:nY}=Symbol,uC=(t=>e=>{const r=bbe.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),To=t=>(t=t.toLowerCase(),e=>uC(e)===t),AC=t=>e=>typeof e===t,{isArray:Ep}=Array,jy=AC("undefined");function _be(t){return t!==null&&!jy(t)&&t.constructor!==null&&!jy(t.constructor)&&Na(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const sY=To("ArrayBuffer");function jbe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&sY(t.buffer),e}const Cbe=AC("string"),Na=AC("function"),aY=AC("number"),dC=t=>t!==null&&typeof t=="object",Bbe=t=>t===!0||t===!1,s1=t=>{if(uC(t)!=="object")return!1;const e=UD(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(nY in t)&&!(cC in t)},Ebe=To("Date"),Sbe=To("File"),Nbe=To("Blob"),Tbe=To("FileList"),kbe=t=>dC(t)&&Na(t.pipe),Ibe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Na(t.append)&&((e=uC(t))==="formdata"||e==="object"&&Na(t.toString)&&t.toString()==="[object FormData]"))},Pbe=To("URLSearchParams"),[Obe,Fbe,Rbe,Dbe]=["ReadableStream","Request","Response","Headers"].map(To),Ube=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kx(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Ep(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),o=a.length;let l;for(n=0;n<o;n++)l=a[n],e.call(null,t[l],l,t)}}function iY(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const gd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oY=t=>!jy(t)&&t!==gd;function z2(){const{caseless:t}=oY(this)&&this||{},e={},r=(n,s)=>{const a=t&&iY(e,s)||s;s1(e[a])&&s1(n)?e[a]=z2(e[a],n):s1(n)?e[a]=z2({},n):Ep(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&Kx(arguments[n],r);return e}const Mbe=(t,e,r,{allOwnKeys:n}={})=>(Kx(e,(s,a)=>{r&&Na(s)?t[a]=rY(s,r):t[a]=s},{allOwnKeys:n}),t),Qbe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Lbe=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Hbe=(t,e,r,n)=>{let s,a,o;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)o=s[a],(!n||n(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=r!==!1&&UD(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},$be=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Vbe=t=>{if(!t)return null;if(Ep(t))return t;let e=t.length;if(!aY(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Kbe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&UD(Uint8Array)),qbe=(t,e)=>{const n=(t&&t[cC]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},zbe=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Gbe=To("HTMLFormElement"),Wbe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),K3=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Xbe=To("RegExp"),lY=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Kx(r,(s,a)=>{let o;(o=e(s,a,t))!==!1&&(n[a]=o||s)}),Object.defineProperties(t,n)},Jbe=t=>{lY(t,(e,r)=>{if(Na(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Na(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ybe=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return Ep(t)?n(t):n(String(t).split(e)),r},Zbe=()=>{},e1e=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function t1e(t){return!!(t&&Na(t.append)&&t[nY]==="FormData"&&t[cC])}const r1e=t=>{const e=new Array(10),r=(n,s)=>{if(dC(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=Ep(n)?[]:{};return Kx(n,(o,l)=>{const c=r(o,s+1);!jy(c)&&(a[l]=c)}),e[s]=void 0,a}}return n};return r(t,0)},n1e=To("AsyncFunction"),s1e=t=>t&&(dC(t)||Na(t))&&Na(t.then)&&Na(t.catch),cY=((t,e)=>t?setImmediate:e?((r,n)=>(gd.addEventListener("message",({source:s,data:a})=>{s===gd&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),gd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Na(gd.postMessage)),a1e=typeof queueMicrotask<"u"?queueMicrotask.bind(gd):typeof process<"u"&&process.nextTick||cY,i1e=t=>t!=null&&Na(t[cC]),_e={isArray:Ep,isArrayBuffer:sY,isBuffer:_be,isFormData:Ibe,isArrayBufferView:jbe,isString:Cbe,isNumber:aY,isBoolean:Bbe,isObject:dC,isPlainObject:s1,isReadableStream:Obe,isRequest:Fbe,isResponse:Rbe,isHeaders:Dbe,isUndefined:jy,isDate:Ebe,isFile:Sbe,isBlob:Nbe,isRegExp:Xbe,isFunction:Na,isStream:kbe,isURLSearchParams:Pbe,isTypedArray:Kbe,isFileList:Tbe,forEach:Kx,merge:z2,extend:Mbe,trim:Ube,stripBOM:Qbe,inherits:Lbe,toFlatObject:Hbe,kindOf:uC,kindOfTest:To,endsWith:$be,toArray:Vbe,forEachEntry:qbe,matchAll:zbe,isHTMLForm:Gbe,hasOwnProperty:K3,hasOwnProp:K3,reduceDescriptors:lY,freezeMethods:Jbe,toObjectSet:Ybe,toCamelCase:Wbe,noop:Zbe,toFiniteNumber:e1e,findKey:iY,global:gd,isContextDefined:oY,isSpecCompliantForm:t1e,toJSONObject:r1e,isAsyncFn:n1e,isThenable:s1e,setImmediate:cY,asap:a1e,isIterable:i1e};function Vt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}_e.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const uY=Vt.prototype,AY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AY[t]={value:t}});Object.defineProperties(Vt,AY);Object.defineProperty(uY,"isAxiosError",{value:!0});Vt.from=(t,e,r,n,s,a)=>{const o=Object.create(uY);return _e.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),Vt.call(o,t.message,e,r,n,s),o.cause=t,o.name=t.name,a&&Object.assign(o,a),o};const o1e=null;function G2(t){return _e.isPlainObject(t)||_e.isArray(t)}function dY(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function q3(t,e,r){return t?t.concat(e).map(function(s,a){return s=dY(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function l1e(t){return _e.isArray(t)&&!t.some(G2)}const c1e=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function fC(t,e,r){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!_e.isUndefined(v[x])});const n=r.metaTokens,s=r.visitor||d,a=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(s))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(_e.isDate(y))return y.toISOString();if(!c&&_e.isBlob(y))throw new Vt("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(y)||_e.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,x,v){let _=y;if(y&&!v&&typeof y=="object"){if(_e.endsWith(x,"{}"))x=n?x:x.slice(0,-2),y=JSON.stringify(y);else if(_e.isArray(y)&&l1e(y)||(_e.isFileList(y)||_e.endsWith(x,"[]"))&&(_=_e.toArray(y)))return x=dY(x),_.forEach(function(S,C){!(_e.isUndefined(S)||S===null)&&e.append(o===!0?q3([x],C,a):o===null?x:x+"[]",u(S))}),!1}return G2(y)?!0:(e.append(q3(v,x,a),u(y)),!1)}const f=[],m=Object.assign(c1e,{defaultVisitor:d,convertValue:u,isVisitable:G2});function p(y,x){if(!_e.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(y),_e.forEach(y,function(_,j){(!(_e.isUndefined(_)||_===null)&&s.call(e,_,_e.isString(j)?j.trim():j,x,m))===!0&&p(_,x?x.concat(j):[j])}),f.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return p(t),e}function z3(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function MD(t,e){this._pairs=[],t&&fC(t,this,e)}const fY=MD.prototype;fY.append=function(e,r){this._pairs.push([e,r])};fY.toString=function(e){const r=e?function(n){return e.call(this,n,z3)}:z3;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function u1e(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hY(t,e,r){if(!e)return t;const n=r&&r.encode||u1e;_e.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=_e.isURLSearchParams(e)?e.toString():new MD(e,r).toString(n),a){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class G3{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const mY={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A1e=typeof URLSearchParams<"u"?URLSearchParams:MD,d1e=typeof FormData<"u"?FormData:null,f1e=typeof Blob<"u"?Blob:null,h1e={isBrowser:!0,classes:{URLSearchParams:A1e,FormData:d1e,Blob:f1e},protocols:["http","https","file","blob","url","data"]},QD=typeof window<"u"&&typeof document<"u",W2=typeof navigator=="object"&&navigator||void 0,m1e=QD&&(!W2||["ReactNative","NativeScript","NS"].indexOf(W2.product)<0),p1e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",g1e=QD&&window.location.href||"http://localhost",v1e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:QD,hasStandardBrowserEnv:m1e,hasStandardBrowserWebWorkerEnv:p1e,navigator:W2,origin:g1e},Symbol.toStringTag,{value:"Module"})),Hs={...v1e,...h1e};function y1e(t,e){return fC(t,new Hs.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Hs.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function x1e(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function w1e(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function pY(t){function e(r,n,s,a){let o=r[a++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=a>=r.length;return o=!o&&_e.isArray(s)?s.length:o,c?(_e.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!l):((!s[o]||!_e.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],a)&&_e.isArray(s[o])&&(s[o]=w1e(s[o])),!l)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const r={};return _e.forEachEntry(t,(n,s)=>{e(x1e(n),s,r,0)}),r}return null}function b1e(t,e,r){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const qx={transitional:mY,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=_e.isObject(e);if(a&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return s?JSON.stringify(pY(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return y1e(e,this.formSerializer).toString();if((l=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return fC(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),b1e(e)):e}],transformResponse:[function(e){const r=this.transitional||qx.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?Vt.from(l,Vt.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hs.classes.FormData,Blob:Hs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{qx.headers[t]={}});const _1e=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1e=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&_1e[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},W3=Symbol("internals");function Qg(t){return t&&String(t).trim().toLowerCase()}function a1(t){return t===!1||t==null?t:_e.isArray(t)?t.map(a1):String(t)}function C1e(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const B1e=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function TS(t,e,r,n,s){if(_e.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!_e.isString(e)){if(_e.isString(n))return e.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(e)}}function E1e(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function S1e(t,e){const r=_e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,o){return this[n].call(this,e,s,a,o)},configurable:!0})})}let Ta=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(l,c,u){const d=Qg(c);if(!d)throw new Error("header name must be a non-empty string");const f=_e.findKey(s,d);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||c]=a1(l))}const o=(l,c)=>_e.forEach(l,(u,d)=>a(u,d,c));if(_e.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(_e.isString(e)&&(e=e.trim())&&!B1e(e))o(j1e(e),r);else if(_e.isObject(e)&&_e.isIterable(e)){let l={},c,u;for(const d of e){if(!_e.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?_e.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=Qg(e),e){const n=_e.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return C1e(s);if(_e.isFunction(r))return r.call(this,s,n);if(_e.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Qg(e),e){const n=_e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||TS(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(o){if(o=Qg(o),o){const l=_e.findKey(n,o);l&&(!r||TS(n,n[l],l,r))&&(delete n[l],s=!0)}}return _e.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||TS(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return _e.forEach(this,(s,a)=>{const o=_e.findKey(n,a);if(o){r[o]=a1(s),delete r[a];return}const l=e?E1e(a):String(a).trim();l!==a&&delete r[a],r[l]=a1(s),n[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return _e.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[W3]=this[W3]={accessors:{}}).accessors,s=this.prototype;function a(o){const l=Qg(o);n[l]||(S1e(s,o),n[l]=!0)}return _e.isArray(e)?e.forEach(a):a(e),this}};Ta.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(Ta.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});_e.freezeMethods(Ta);function kS(t,e){const r=this||qx,n=e||r,s=Ta.from(n.headers);let a=n.data;return _e.forEach(t,function(l){a=l.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function gY(t){return!!(t&&t.__CANCEL__)}function Sp(t,e,r){Vt.call(this,t??"canceled",Vt.ERR_CANCELED,e,r),this.name="CanceledError"}_e.inherits(Sp,Vt,{__CANCEL__:!0});function vY(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Vt("Request failed with status code "+r.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function N1e(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function T1e(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=n[a];o||(o=u),r[s]=c,n[s]=u;let f=a,m=0;for(;f!==s;)m+=r[f++],f=f%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),u-o<e)return;const p=d&&u-d;return p?Math.round(m*1e3/p):void 0}}function k1e(t,e){let r=0,n=1e3/e,s,a;const o=(u,d=Date.now())=>{r=d,s=null,a&&(clearTimeout(a),a=null),t.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(s=u,a||(a=setTimeout(()=>{a=null,o(s)},n-f)))},()=>s&&o(s)]}const G1=(t,e,r=3)=>{let n=0;const s=T1e(50,250);return k1e(a=>{const o=a.loaded,l=a.lengthComputable?a.total:void 0,c=o-n,u=s(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:a,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},r)},X3=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},J3=t=>(...e)=>_e.asap(()=>t(...e)),I1e=Hs.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Hs.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Hs.origin),Hs.navigator&&/(msie|trident)/i.test(Hs.navigator.userAgent)):()=>!0,P1e=Hs.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const o=[t+"="+encodeURIComponent(e)];_e.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),_e.isString(n)&&o.push("path="+n),_e.isString(s)&&o.push("domain="+s),a===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function O1e(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function F1e(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yY(t,e,r){let n=!O1e(e);return t&&(n||r==!1)?F1e(t,e):e}const Y3=t=>t instanceof Ta?{...t}:t;function Jd(t,e){e=e||{};const r={};function n(u,d,f,m){return _e.isPlainObject(u)&&_e.isPlainObject(d)?_e.merge.call({caseless:m},u,d):_e.isPlainObject(d)?_e.merge({},d):_e.isArray(d)?d.slice():d}function s(u,d,f,m){if(_e.isUndefined(d)){if(!_e.isUndefined(u))return n(void 0,u,f,m)}else return n(u,d,f,m)}function a(u,d){if(!_e.isUndefined(d))return n(void 0,d)}function o(u,d){if(_e.isUndefined(d)){if(!_e.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>s(Y3(u),Y3(d),f,!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=c[d]||s,m=f(t[d],e[d],d);_e.isUndefined(m)&&f!==l||(r[d]=m)}),r}const xY=t=>{const e=Jd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:o,auth:l}=e;e.headers=o=Ta.from(o),e.url=hY(yY(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(_e.isFormData(r)){if(Hs.hasStandardBrowserEnv||Hs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Hs.hasStandardBrowserEnv&&(n&&_e.isFunction(n)&&(n=n(e)),n||n!==!1&&I1e(e.url))){const u=s&&a&&P1e.read(a);u&&o.set(s,u)}return e},R1e=typeof XMLHttpRequest<"u",D1e=R1e&&function(t){return new Promise(function(r,n){const s=xY(t);let a=s.data;const o=Ta.from(s.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=s,d,f,m,p,y;function x(){p&&p(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(d),s.signal&&s.signal.removeEventListener("abort",d)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function _(){if(!v)return;const S=Ta.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),N={data:!l||l==="text"||l==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:t,request:v};vY(function(E){r(E),x()},function(E){n(E),x()},N),v=null}"onloadend"in v?v.onloadend=_:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(_)},v.onabort=function(){v&&(n(new Vt("Request aborted",Vt.ECONNABORTED,t,v)),v=null)},v.onerror=function(){n(new Vt("Network Error",Vt.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const N=s.transitional||mY;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),n(new Vt(C,N.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,t,v)),v=null},a===void 0&&o.setContentType(null),"setRequestHeader"in v&&_e.forEach(o.toJSON(),function(C,N){v.setRequestHeader(N,C)}),_e.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),l&&l!=="json"&&(v.responseType=s.responseType),u&&([m,y]=G1(u,!0),v.addEventListener("progress",m)),c&&v.upload&&([f,p]=G1(c),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(d=S=>{v&&(n(!S||S.type?new Sp(null,t,v):S),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(d),s.signal&&(s.signal.aborted?d():s.signal.addEventListener("abort",d)));const j=N1e(s.url);if(j&&Hs.protocols.indexOf(j)===-1){n(new Vt("Unsupported protocol "+j+":",Vt.ERR_BAD_REQUEST,t));return}v.send(a||null)})},U1e=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(u){if(!s){s=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Vt?d:new Sp(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,a(new Vt(`timeout ${e} of ms exceeded`,Vt.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>_e.asap(l),c}},M1e=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},Q1e=async function*(t,e){for await(const r of L1e(t))yield*M1e(r,e)},L1e=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Z3=(t,e,r,n)=>{const s=Q1e(t,e);let a=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await s.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let m=a+=f;r(m)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),s.return()}},{highWaterMark:2})},hC=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wY=hC&&typeof ReadableStream=="function",H1e=hC&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bY=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$1e=wY&&bY(()=>{let t=!1;const e=new Request(Hs.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),eH=64*1024,X2=wY&&bY(()=>_e.isReadableStream(new Response("").body)),W1={stream:X2&&(t=>t.body)};hC&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!W1[e]&&(W1[e]=_e.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new Vt(`Response type '${e}' is not supported`,Vt.ERR_NOT_SUPPORT,n)})})})(new Response);const V1e=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(Hs.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t)||_e.isArrayBuffer(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await H1e(t)).byteLength},K1e=async(t,e)=>{const r=_e.toFiniteNumber(t.getContentLength());return r??V1e(e)},q1e=hC&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:m}=xY(t);u=u?(u+"").toLowerCase():"text";let p=U1e([s,a&&a.toAbortSignal()],o),y;const x=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(c&&$1e&&r!=="get"&&r!=="head"&&(v=await K1e(d,n))!==0){let N=new Request(e,{method:"POST",body:n,duplex:"half"}),k;if(_e.isFormData(n)&&(k=N.headers.get("content-type"))&&d.setContentType(k),N.body){const[E,T]=X3(v,G1(J3(c)));n=Z3(N.body,eH,E,T)}}_e.isString(f)||(f=f?"include":"omit");const _="credentials"in Request.prototype;y=new Request(e,{...m,signal:p,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:_?f:void 0});let j=await fetch(y);const S=X2&&(u==="stream"||u==="response");if(X2&&(l||S&&x)){const N={};["status","statusText","headers"].forEach(P=>{N[P]=j[P]});const k=_e.toFiniteNumber(j.headers.get("content-length")),[E,T]=l&&X3(k,G1(J3(l),!0))||[];j=new Response(Z3(j.body,eH,E,()=>{T&&T(),x&&x()}),N)}u=u||"text";let C=await W1[_e.findKey(W1,u)||"text"](j,t);return!S&&x&&x(),await new Promise((N,k)=>{vY(N,k,{data:C,headers:Ta.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:y})})}catch(_){throw x&&x(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,t,y),{cause:_.cause||_}):Vt.from(_,_&&_.code,t,y)}}),J2={http:o1e,xhr:D1e,fetch:q1e};_e.forEach(J2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const tH=t=>`- ${t}`,z1e=t=>_e.isFunction(t)||t===null||t===!1,_Y={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let o;if(n=r,!z1e(r)&&(n=J2[(o=String(r)).toLowerCase()],n===void 0))throw new Vt(`Unknown adapter '${o}'`);if(n)break;s[o||"#"+a]=n}if(!n){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?a.length>1?`since :
`+a.map(tH).join(`
`):" "+tH(a[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:J2};function IS(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Sp(null,t)}function rH(t){return IS(t),t.headers=Ta.from(t.headers),t.data=kS.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_Y.getAdapter(t.adapter||qx.adapter)(t).then(function(n){return IS(t),n.data=kS.call(t,t.transformResponse,n),n.headers=Ta.from(n.headers),n},function(n){return gY(n)||(IS(t),n&&n.response&&(n.response.data=kS.call(t,t.transformResponse,n.response),n.response.headers=Ta.from(n.response.headers))),Promise.reject(n)})}const jY="1.9.0",mC={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{mC[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const nH={};mC.transitional=function(e,r,n){function s(a,o){return"[Axios v"+jY+"] Transitional option '"+a+"'"+o+(n?". "+n:"")}return(a,o,l)=>{if(e===!1)throw new Vt(s(o," has been removed"+(r?" in "+r:"")),Vt.ERR_DEPRECATED);return r&&!nH[o]&&(nH[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,o,l):!0}};mC.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function G1e(t,e,r){if(typeof t!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],o=e[a];if(o){const l=t[a],c=l===void 0||o(l,a,t);if(c!==!0)throw new Vt("option "+a+" must be "+c,Vt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Vt("Unknown option "+a,Vt.ERR_BAD_OPTION)}}const i1={assertOptions:G1e,validators:mC},Vo=i1.validators;let Pd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new G3,response:new G3}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Jd(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&i1.assertOptions(n,{silentJSONParsing:Vo.transitional(Vo.boolean),forcedJSONParsing:Vo.transitional(Vo.boolean),clarifyTimeoutError:Vo.transitional(Vo.boolean)},!1),s!=null&&(_e.isFunction(s)?r.paramsSerializer={serialize:s}:i1.assertOptions(s,{encode:Vo.function,serialize:Vo.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),i1.assertOptions(r,{baseUrl:Vo.spelling("baseURL"),withXsrfToken:Vo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=a&&_e.merge(a.common,a[r.method]);a&&_e.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=Ta.concat(o,a);const l=[];let c=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(r)===!1||(c=c&&x.synchronous,l.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let d,f=0,m;if(!c){const y=[rH.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),m=y.length,d=Promise.resolve(r);f<m;)d=d.then(y[f++],y[f++]);return d}m=l.length;let p=r;for(f=0;f<m;){const y=l[f++],x=l[f++];try{p=y(p)}catch(v){x.call(this,v);break}}try{d=rH.call(this,p)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Jd(this.defaults,e);const r=yY(e.baseURL,e.url,e.allowAbsoluteUrls);return hY(r,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){Pd.prototype[e]=function(r,n){return this.request(Jd(n||{},{method:e,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function r(n){return function(a,o,l){return this.request(Jd(l||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Pd.prototype[e]=r(),Pd.prototype[e+"Form"]=r(!0)});let W1e=class CY{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const o=new Promise(l=>{n.subscribe(l),a=l}).then(s);return o.cancel=function(){n.unsubscribe(a)},o},e(function(a,o,l){n.reason||(n.reason=new Sp(a,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new CY(function(s){e=s}),cancel:e}}};function X1e(t){return function(r){return t.apply(null,r)}}function J1e(t){return _e.isObject(t)&&t.isAxiosError===!0}const Y2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Y2).forEach(([t,e])=>{Y2[e]=t});function BY(t){const e=new Pd(t),r=rY(Pd.prototype.request,e);return _e.extend(r,Pd.prototype,e,{allOwnKeys:!0}),_e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return BY(Jd(t,s))},r}const Fr=BY(qx);Fr.Axios=Pd;Fr.CanceledError=Sp;Fr.CancelToken=W1e;Fr.isCancel=gY;Fr.VERSION=jY;Fr.toFormData=fC;Fr.AxiosError=Vt;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=X1e;Fr.isAxiosError=J1e;Fr.mergeConfig=Jd;Fr.AxiosHeaders=Ta;Fr.formToJSON=t=>pY(_e.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=_Y.getAdapter;Fr.HttpStatusCode=Y2;Fr.default=Fr;const{Axios:Cze,AxiosError:Bze,CanceledError:Eze,isCancel:Sze,CancelToken:Nze,VERSION:Tze,all:kze,Cancel:Ize,isAxiosError:Pze,spread:Oze,toFormData:Fze,AxiosHeaders:Rze,HttpStatusCode:Dze,formToJSON:Uze,getAdapter:Mze,mergeConfig:Qze}=Fr,PS=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),Y1e=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,Z1e=(t,e,r,n,s,a)=>{const o=t.id.substring(0,8),l=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),c=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu",u=a||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"};if(Array.isArray(s)&&s.length>0){const m=Math.min(s.length,3);s.slice(0,m).map((p,y)=>`${y+1}. ${p.product_name||"Produk"} (${p.quantity||1}x)`).join(`
`),s.length-m}const d=n?`${n.street?n.street.substring(0,25)+(n.street.length>25?"...":""):"N/A"}${n.district?", "+n.district:""}`:"Alamat tidak tersedia";let f="Produk tidak tersedia";if(Array.isArray(s)&&s.length>0){const m=Math.min(s.length,3),p=s.slice(0,m).map((v,_)=>`${_+1}. ${v.product_name||"Produk"} (${v.quantity||1}x) - ${PS(v.price||0)}`).join(`
`),y=s.length-m,x=y>0?`+${y} item lainnya`:"";f=p+(x?`
${x}`:"")}return`🎉 *PESANAN BERHASIL DIBUAT* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${o}
Tanggal: ${l}
Status: ${c}

*PRODUK YANG DIPESAN*
${f}

*PENGIRIMAN*
Alamat: ${d}
Kurir: ${u.provider||"JPC Delivery"}
Layanan: ${u.service||"Reguler"}
Ongkir: ${PS(u.cost||0)}
Estimasi: ${u.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${PS(t.total)}
Metode: ${Y1e(t.payment_method||"N/A")}
${t.payment_method==="bank-transfer"?`Bank: ${(r==null?void 0:r.bank_name)||"SeaBank"}
Rek: ${(r==null?void 0:r.account_number)||"901958730549"}
`:""}
*INFO*: Hubungi 0813-9458-6882
*JAYA PERKASA CHARCOAL* 🙏`},Lg="caa6aa7f-8086-4920-899d-4ac498a62eea",Yw="dAUtf7zkmSDKTTZdAXb48oE29tB9NIWkldd3tr90ucGedWCPu3",e_e="",EY=["0895385500396","081394586882"],Z2=["https://app.wapanels.com/api/create-message"],nc={};Z2.forEach(t=>{nc[t]={healthy:!0,lastChecked:0}});const OS=t=>{nc[t]&&(nc[t].healthy=!1,nc[t].lastChecked=Date.now(),console.log(`Marked WhatsApp API endpoint as unhealthy: ${t}`))},sH=t=>{nc[t]&&(nc[t].healthy=!0,nc[t].lastChecked=Date.now())},t_e=()=>EY,zx=async(t,e)=>{try{if(!t||!e)return console.error("WhatsApp API error: Missing required parameters (phone number or message)"),!1;e.length>4096&&(console.error("WhatsApp API error: Message too long, maximum length is 4096 characters"),console.log(`Message length: ${e.length} characters, truncating to 4096`),e=e.substring(0,4096));let r=t.replace(/\D/g,"");if(r.startsWith("0")?r="62"+r.substring(1):r.startsWith("62")||(r="62"+r),r.length<10)return console.error(`WhatsApp API error: Phone number too short after formatting: ${r}`),!1;console.log(`Sending WhatsApp to formatted number: ${r}`);for(const n of Z2)if(!(!nc[n].healthy&&Z2.some(s=>nc[s].healthy)))try{let s,a={"Content-Type":"application/json",Accept:"application/json"};n.includes("fonnte.com")?(a={Authorization:Lg,"Content-Type":"application/json"},s={target:r,message:e,countryCode:"62",delay:0}):n.includes("/create-message")?s={appkey:Lg,authkey:Yw,to:r,message:e,template_id:"",priority:"high",repeat:1}:n.includes("/send")?s={appkey:Lg,authkey:Yw,to:r,message:e,template_id:""}:s={appkey:Lg,authkey:Yw,to:r,message:e,template_id:"",type:"text"},console.log(`Trying WhatsApp API endpoint: ${n.split("/").slice(-2).join("/")}`),console.log(`WhatsApp API request to ${n.split("/").slice(-2).join("/")} with phone ${r} (${e.length} chars)`);const o=await Fr.post(n,s,{headers:a,timeout:15e3});if(o.data&&o.status>=200&&o.status<300){console.log("WhatsApp API Response:",o.data);const c=o.data.status==="success"||o.data.success===!0||o.data.error===!1||o.data.message_status==="Success"||o.data.status==="sent"||o.data.result==="success"||o.data.data&&(o.data.data.status==="success"||o.data.data.status_code===200||o.data.data.result==="success")||o.data.message_id||o.data.id||o.data.data&&(o.data.data.message_id||o.data.data.id),u=o.data.message==="Validation errors"||o.data.status==="validation_error"||o.data.errors&&Object.keys(o.data.errors).length>0;if(c)return sH(n),console.log(`✅ WhatsApp message sent successfully via ${n.split("/").slice(-2).join("/")}`),!0;if(u&&(console.error("WhatsApp API validation error:",o.data),o.data.errors&&console.error("Validation details:",JSON.stringify(o.data.errors)),o.data.data&&o.data.data.message&&console.error("Error message:",o.data.data.message),n.includes("/create-message")))try{console.log("Trying alternate payload format for create-message endpoint");const d={appkey:Lg,authkey:Yw,to:r,message:e},f=await Fr.post(n,d,{headers:a,timeout:15e3});if(f.data&&f.status>=200&&f.status<300&&f.data.success===!0)return console.log("✅ WhatsApp message sent successfully via alternate payload format"),sH(n),!0}catch(d){console.error("Alternate payload also failed:",d)}}console.warn(`WhatsApp API endpoint ${n} returned non-success data:`,o.data),(o.data.message==="Validation errors"||o.data.error==="invalid_key"||o.data.status==="error")&&(console.error(`Marking endpoint ${n} as unhealthy due to validation/auth errors`),OS(n))}catch(s){if(s.response){const a=s.response.status;console.error(`WhatsApp API error (HTTP ${a}) with endpoint ${n}:`,{data:s.response.data,status:a}),a===404||a===401||a===403?(console.error(`Endpoint ${n} not found (404). Marking as unhealthy.`),OS(n)):a===400?(console.error(`Validation error with endpoint ${n}. Will try other formats.`),OS(n)):(a===401||a===403)&&console.error("WhatsApp API authentication failed. Check your API credentials.")}else s.request?console.error(`Network error with endpoint ${n}:`,s.message):console.error(`Error with endpoint ${n}:`,s.message)}return console.error("All WhatsApp API endpoints failed. Message not sent."),!1}catch(r){return console.error("Unexpected error in WhatsApp API service:",r.message),!1}},FS=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),r_e=async(t,e,r,n,s,a)=>{try{if(!(e!=null&&e.phone))return console.error("Cannot send WhatsApp notification: Customer phone number missing"),!1;console.log("⏱️ Starting WhatsApp notifications with complete order data"),console.log("Order:",{id:t==null?void 0:t.id,total:t==null?void 0:t.total,status:t==null?void 0:t.status}),console.log("Items received:",n),console.log("Address received:",r);let o=[];Array.isArray(n)&&n.length>0?(o=n.map(p=>({product_name:p.product_name||"Produk",price:p.price||0,quantity:p.quantity||1,variant:p.variant||"",unit:p.unit||"",product_id:p.product_id||""})),console.log(`✅ Order items valid: ${o.length} items found`)):(console.warn("⚠️ No valid order items found, creating dummy item for notification"),o=[{product_name:"Pesanan Anda",price:t.total||0,quantity:1,variant:"",unit:"",product_id:""}]),o.length>0&&console.log("First item sample:",{name:o[0].product_name,price:o[0].price,qty:o[0].quantity});const l={street:(r==null?void 0:r.street)||"Alamat tidak tersedia",district:(r==null?void 0:r.district)||"",city:(r==null?void 0:r.city)||"Kota tidak tersedia",province:(r==null?void 0:r.province)||"Provinsi tidak tersedia",postal_code:(r==null?void 0:r.postal_code)||"",notes:(r==null?void 0:r.notes)||"",recipient_name:(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"Pelanggan",recipient_phone:(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||""};console.log("Normalized address data:",{street:l.street.substring(0,15)+"...",district:l.district,city:l.city,province:l.province});const c=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",cost:t.shipping_cost||0,estimate:t.shipping_estimate||"1-3 Hari"},u=a||{name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549",account_name:"Jaya Perkasa Charcoal"};console.log("Membuat pesan terformat dengan detail lengkap...");let d="";const f=Z1e(t,e,u,l,o,c);if(console.log(`Pesan ringkas dibuat: ${f.length} karakter`),console.log("Detail items dalam pesan:",o.map(p=>`${p.product_name} (${p.quantity}x)`)),console.log(`Panjang pesan ringkas: ${f.length} karakter`),f.length>1e3){console.error(`Bahkan pesan ringkas masih terlalu panjang (${f.length} karakter)`);const p=t.status==="pending"?"Menunggu Pembayaran":t.status==="processing"?"Diproses":t.status==="shipped"?"Dikirim":t.status==="completed"?"Selesai":t.status||"Menunggu";let y="Produk tidak tersedia";if(Array.isArray(o)&&o.length>0){const v=o[0];y=`${v.product_name||"Produk"} (${v.quantity||1}x)`,o.length>1&&(y+=` +${o.length-1} item lainnya`)}let x="";if(Array.isArray(o)&&o.length>0){const v=Math.min(o.length,3);for(let _=0;_<v;_++){const j=o[_];x+=`${_+1}. ${j.product_name||"Produk"} (${j.quantity||1}x) - ${FS(j.price||0)}
`}o.length>v&&(x+=`+${o.length-v} item lainnya
`)}else x=`Produk tidak tersedia
`;d=`🎉 *PESANAN BERHASIL* 🎉

Halo ${(e==null?void 0:e.name)||"Pelanggan"}!

*DETAIL PESANAN*
ID: #${t.id.substring(0,8)}
Status: ${p}

*PRODUK YANG DIPESAN*
${x}
*PENGIRIMAN*
Kurir: ${c.provider||"JPC Delivery"}
Layanan: ${c.service||"Reguler"}
Ongkos Kirim: ${FS(c.cost||0)}
Estimasi: ${c.estimate||"1-3 Hari"}

*PEMBAYARAN*
Total: ${FS(t.total)}

*HUBUNGI*: 0813-9458-6882
*JAYA PERKASA CHARCOAL*`,console.log(`Panjang pesan darurat: ${d.length} karakter`)}else d=f;console.log(`Pesan final: ${d.length} karakter`),console.log("Konten pesan WhatsApp (awal):",d.substring(0,100)+"..."),console.log("Mengirim pesan WhatsApp ke:",e.phone);const m=await zx(e.phone,d);return console.log(m?"✅ WhatsApp notification berhasil dikirim ke pelanggan":"❌ Gagal mengirim WhatsApp notification ke pelanggan"),m}catch(o){return console.error("Error sending customer order notification:",o),!1}},n_e=async(t,e,r,n,s,a)=>{console.log("Sending WhatsApp notification to admin with shipping cost:",t==null?void 0:t.shipping_cost);try{const o=t.created_at?new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date(t.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}):new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})+" pukul "+new Date().toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),l=C=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(C).replace("Rp ","Rp "),c=Array.isArray(n)?n:[],u=c.reduce((C,N)=>C+(N.price||0)*(N.quantity||0),0),d=c.map((C,N)=>{const k=C.price||0,E=C.quantity||1,T=k*E;return`${N+1}. ${C.product_name||"Produk"} (${E}x) - ${l(T)}`}).join(`
`),f=s||{provider:t.shipping_provider||"JPC Delivery",service:t.shipping_service||"Reguler",estimate:t.shipping_estimate||"1-3 Jam",cost:t.shipping_cost||0},m=t.shipping_cost||f.cost||0;console.log("Admin notification - shipping cost:",m);const p=t.discount_data||{},y=p&&(p.value>0||p.code),x=y?p.type==="percentage"?`${p.value}%`:l(p.value||0):"0",v=(r==null?void 0:r.recipient_name)||(e==null?void 0:e.name)||"N/A",_=(r==null?void 0:r.recipient_phone)||(e==null?void 0:e.phone)||"N/A",j=`🛒 PESANAN BARU 🛒

ID Pesanan: #${t.id}
Tanggal: ${o}
Status: ${t.status||"pending"}

DATA PELANGGAN
Nama: ${(e==null?void 0:e.name)||"Pelanggan"}
No. HP: ${(e==null?void 0:e.phone)||"N/A"}
Email: ${(e==null?void 0:e.email)||"N/A"}

DETAIL PENERIMA
Nama Penerima: ${v}
No. HP Penerima: ${_}

ALAMAT PENGIRIMAN
${(r==null?void 0:r.street)||"N/A"}
${r!=null&&r.district?r.district+", ":""}${(r==null?void 0:r.city)||"N/A"}
${(r==null?void 0:r.province)||"N/A"} ${(r==null?void 0:r.postal_code)||""}
Catatan: ${(r==null?void 0:r.notes)||"-"}

INFORMASI PENGIRIMAN
Kurir: ${f.provider||t.shipping_provider||"JPC Delivery"}
Layanan: ${f.service||t.shipping_service||"Reguler"}
Ongkos Kirim: ${l(m)}
Estimasi: ${f.estimate||t.shipping_estimate||"1-3 Jam"}
Detail Alamat: ${(r==null?void 0:r.country)||""}

DETAIL PESANAN
${d}

RINGKASAN PEMBAYARAN
Subtotal Produk: ${l(u)}
${y?`Diskon${p.code?" ("+p.code+")":""}: -${x}
`:""}Ongkos Kirim: ${l(m)}
Total Pembayaran: ${l(t.total)}

INFORMASI PEMBAYARAN
Metode: ${s_e(t.payment_method||"N/A")}
Status Pembayaran: ${t.payment_status||"Belum dibayar"}
${t.payment_method==="bank-transfer"?`Bank: ${(a==null?void 0:a.bank_name)||"SeaBank"}
No. Rekening: ${(a==null?void 0:a.account_number)||"901958730549"}
a.n: ${(a==null?void 0:a.account_name)||"Jaya Perkasa Charcoal"}
`:""}
Terima kasih telah berbelanja di JPC!
Untuk informasi lebih lanjut, silakan hubungi kami.

PERHATIAN: Pesanan baru memerlukan persetujuan Anda. Silakan buka dashboard admin untuk memprosesnya.`;let S=0;for(const C of EY)try{S>0&&await new Promise(k=>setTimeout(k,1e3)),await zx(C,j)&&(S++,console.log(`✅ WhatsApp notification sent to admin: ${C}`))}catch(N){console.error(`Error sending WhatsApp to admin ${C}:`,N)}return S>0}catch(o){return console.error("Error sending admin notifications:",o),!1}},s_e=t=>t==="bank-transfer"?"Transfer Bank":t==="cash-on-delivery"?"Bayar di Tempat (COD)":t==="e-wallet"?"E-Wallet":t==="qris"?"QRIS":t==="credit-card"?"Kartu Kredit":t,SY=zx,NY=async t=>{try{console.log("Starting admin notification via WhatsApp (Firebase disabled)");try{const e=t.shipping_method_id||"",{data:r}=await oe.from("shipping_methods").select("*").eq("id",e).single(),{data:n}=await oe.from("profiles").select("name, phone, email").eq("id",t.user_id).single(),{data:s}=await oe.from("order_items").select("*").eq("order_id",t.id),{data:a}=await oe.from("addresses").select("*").eq("id",t.shipping_address_id).single();let o=null;if(t.payment_method==="bank-transfer"&&t.payment_details)try{o=typeof t.payment_details=="string"?JSON.parse(t.payment_details):t.payment_details}catch{o={bank_name:t.payment_details}}const l=await n_e(t,n||{name:"Unknown Customer",phone:"N/A",email:"N/A"},a||{street:"N/A",city:"N/A"},s||[],r||{name:"Standard Shipping",cost:0},o);return console.log(`WhatsApp notification to admins: ${l?"success":"failed"}`),l}catch(e){return console.error("Error sending WhatsApp notification to admins:",e),!1}}catch(e){return console.error("Error in admin notification process:",e),!1}},RS=async(t,e)=>(console.log("FCM token storage disabled - using WhatsApp notifications only"),!1),eO=async t=>(console.log("Firebase notifications disabled - using WhatsApp notifications only"),null),TY=w.createContext(void 0);function xn(){const t=w.useContext(TY);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function a_e({children:t}){const[e,r]=w.useState(null),[n,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(!0),[u,d]=w.useState(!1),f=async C=>{try{const{data:N,error:k}=await oe.from("profiles").select("*").eq("id",C).maybeSingle();return k?(console.error("Error fetching profile:",k),null):N}catch(N){return console.error("Error in fetchProfile:",N),null}},m=async(C,N={})=>{try{let k=await f(C);if(!k){console.log("Profile not found, creating new profile for user:",C);const{data:E,error:T}=await oe.from("profiles").insert({id:C,name:N.name||"",email:N.email||"",role:N.role||"customer",created_at:new Date().toISOString()}).select().single();if(T)return console.error("Error creating profile:",T),null;k=E}return k}catch(k){return console.error("Error in ensureProfileExists:",k),null}},p=async()=>{var N;if(!e)return;let C=await f(e.id);C||(C=await m(e.id,{email:e.email,name:((N=e.user_metadata)==null?void 0:N.name)||""})),C&&s(C)};w.useEffect(()=>{const{data:{subscription:C}}=oe.auth.onAuthStateChange(async(N,k)=>{o(k),r((k==null?void 0:k.user)??null),k!=null&&k.user?(c(!0),setTimeout(async()=>{var T;let E=await f(k.user.id);E||(E=await m(k.user.id,{email:k.user.email,name:((T=k.user.user_metadata)==null?void 0:T.name)||""})),s(E),c(!1)},0)):(s(null),c(!1))});return oe.auth.getSession().then(async({data:{session:N}})=>{var k;if(o(N),r((N==null?void 0:N.user)??null),N!=null&&N.user){let E=await f(N.user.id);if(E||(E=await m(N.user.id,{email:N.user.email,name:((k=N.user.user_metadata)==null?void 0:k.name)||""})),E)try{const T=await NS();if(T){await RS(N.user.id,T),console.log("FCM token updated for returning user:",N.user.id,"Token:",T.substring(0,10)+"..."),E.fcm_token=T;const P={userAgent:navigator.userAgent,platform:navigator.platform,vendor:navigator.vendor,timestamp:new Date().toISOString()};console.log("Device info for FCM token:",P)}}catch(T){console.error("Error generating/storing FCM token on session check:",T)}s(E)}c(!1)}),()=>{C.unsubscribe()}},[]);let y=0,x=!1;const v=async()=>{if(!e)return!1;const C=Date.now();if(C-y<5e3)return console.log("Using cached phone verification result:",x),x;try{y=C;const{data:k,error:E}=await oe.from("profiles").select("is_phone_verified, phone_verified_at").eq("id",e.id).single();if(E||!k)return console.error("Error checking phone verification:",E),x=!1,d(!1),!1;const T=k.is_phone_verified===!0;return x=T,u!==T&&d(T),T}catch(k){return console.error("Error in checkPhoneVerification:",k),x=!1,d(!1),!1}},_=async(C,N)=>{try{c(!0);const{data:k,error:E}=await oe.auth.signInWithPassword({email:C,password:N});if(E)throw E;if(k!=null&&k.user){const T=await f(k.user.id);if(T&&s(T),await v(),"Notification"in window&&"serviceWorker"in navigator)try{const P=await NS();P?(localStorage.setItem("fcmToken",P),await RS(k.user.id,P),n&&s(O=>O&&{...O,fcm_token:P,last_token_update:new Date().toISOString()}),console.log("FCM token updated for user on login:",k.user.id,"Token:",P.substring(0,10)+"...")):console.log("No FCM token could be generated, notifications may not work")}catch(P){console.error("Error generating/storing FCM token:",P)}}}catch(k){throw console.error("Login error:",k),c(!1),k}finally{c(!1)}},j=async(C,N,k)=>{c(!0);try{const{data:E,error:T}=await oe.auth.signUp({email:N,password:k,options:{data:{name:C}}});if(T)throw T;if(E.user){await m(E.user.id,{email:N,name:C,role:"customer"});try{const P=await NS();if(P){await RS(E.user.id,P);const O={userAgent:navigator.userAgent,platform:navigator.platform,appName:navigator.appName,vendor:navigator.vendor,appVersion:navigator.appVersion,language:navigator.language,screen:{width:window.screen.width,height:window.screen.height,colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},registrationTime:new Date().toISOString()};console.log("New user device info:",O),console.log("FCM token generated and stored for new user:",E.user.id,"Token:",P.substring(0,10)+"..."),console.log("Device info stored:",O);const D=await f(E.user.id);D&&s({...D,fcm_token:P})}}catch(P){console.error("Error generating/storing FCM token during registration:",P)}}}catch(E){throw c(!1),E}},S=async()=>{try{await oe.auth.signOut()}catch(C){console.error("Error during logout:",C)}};return w.useEffect(()=>{e&&n?v():d(!1)},[e,n]),i.jsx(TY.Provider,{value:{user:e,profile:n,isLoading:l,isPhoneVerified:u,login:_,register:j,logout:S,refreshProfile:p,checkPhoneVerification:v},children:t})}const kY=w.createContext(void 0);function pC(){const t=w.useContext(kY);if(!t)throw new Error("useCart must be used within a CartProvider");return t}function i_e({children:t}){const[e,r]=w.useState([]);w.useEffect(()=>{const u=localStorage.getItem("cart");u&&r(JSON.parse(u))},[]),w.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const n=u=>{r(d=>{const f=d.findIndex(m=>m.id===u.id);if(f>-1){const m=[...d];return m[f]={...m[f],quantity:m[f].quantity+(u.quantity||1)},m}else return[...d,{...u,quantity:u.quantity||1}]})},s=u=>{r(d=>d.filter(f=>f.id!==u))},a=(u,d)=>{if(d<=0){s(u);return}r(f=>f.map(m=>m.id===u?{...m,quantity:d}:m))},o=()=>{r([])},l=e.reduce((u,d)=>u+d.price*d.quantity,0),c=e.reduce((u,d)=>u+d.quantity,0);return i.jsx(kY.Provider,{value:{items:e,addItem:n,removeItem:s,updateQuantity:a,clearCart:o,total:l,itemCount:c},children:t})}function o_e(){const t=Aa();return w.useEffect(()=>{t.pathname==="/"&&localStorage.getItem("whatsapp_verification_success")==="true"&&(localStorage.removeItem("whatsapp_verification_success"),setTimeout(()=>{window.location.reload()},100))},[t.pathname]),null}const l_e=()=>{const t=Aa();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),i.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Ups! Halaman tidak ditemukan"}),i.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Kembali ke Beranda"})]})})};function br({children:t}){const e=Aa(),r=e.pathname.startsWith("/ppob");return i.jsxs("div",{className:"flex flex-col min-h-screen max-w-md mx-auto bg-background",children:[i.jsx("main",{className:Ee("flex-1 overflow-y-auto",{"pb-16 bottom-tab-height":!r}),children:t}),e.pathname==="/"&&i.jsx("div",{className:"text-center mb-2",children:i.jsx(Dt,{to:"/admin-login",className:"text-xs text-muted-foreground hover:text-flame-500",children:"Akses Admin"})}),!r&&i.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 max-w-md mx-auto bg-background border-t",children:i.jsxs("div",{className:"flex justify-around items-center h-16",children:[i.jsx(Hg,{to:"/",icon:i.jsx($z,{className:"h-6 w-6"}),label:"Beranda",isActive:e.pathname==="/"}),i.jsx(Hg,{to:"/chat",icon:i.jsx(vR,{className:"h-6 w-6"}),label:"Chat",isActive:e.pathname==="/chat"}),i.jsx(Hg,{to:"/cart",icon:i.jsx(Ej,{className:"h-6 w-6"}),label:"Keranjang",isActive:e.pathname==="/cart"}),i.jsx(Hg,{to:"/orders",icon:i.jsx(cc,{className:"h-6 w-6"}),label:"Pesanan",isActive:e.pathname.includes("/order")||e.pathname==="/orders"}),i.jsx(Hg,{to:"/profile",icon:i.jsx(ym,{className:"h-6 w-6"}),label:"Profil",isActive:e.pathname==="/profile"})]})})]})}function Hg({to:t,icon:e,label:r,isActive:n}){return i.jsx(Dt,{to:t,className:"flex flex-col items-center justify-center w-full",children:i.jsxs("div",{className:Ee("flex flex-col items-center justify-center",n?"text-flame-500":"text-charcoal-400"),children:[e,i.jsx("span",{className:"text-xs mt-1",children:r})]})})}const Ce=w.forwardRef(({className:t,type:e,...r},n)=>i.jsx("input",{type:e,className:Ee("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Ce.displayName="Input";const Ue=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Ee("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ue.displayName="Card";const Nt=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Ee("flex flex-col space-y-1.5 p-6",t),...e}));Nt.displayName="CardHeader";const Tt=w.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:Ee("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tt.displayName="CardTitle";const Rr=w.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));Rr.displayName="CardDescription";const Me=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Ee("p-6 pt-0",t),...e}));Me.displayName="CardContent";const ki=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Ee("flex items-center p-6 pt-0",t),...e}));ki.displayName="CardFooter";function Cy(t,[e,r]){return Math.min(r,Math.max(e,t))}var c_e=w.createContext(void 0);function Np(t){const e=w.useContext(c_e);return t||e||"ltr"}var DS=0;function LD(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??aH()),document.body.insertAdjacentElement("beforeend",t[1]??aH()),DS++,()=>{DS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),DS--}},[])}function aH(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var US="focusScope.autoFocusOnMount",MS="focusScope.autoFocusOnUnmount",iH={bubbles:!1,cancelable:!0},u_e="FocusScope",gC=w.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=t,[l,c]=w.useState(null),u=vn(s),d=vn(a),f=w.useRef(null),m=Ht(e,x=>c(x)),p=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let x=function(S){if(p.paused||!l)return;const C=S.target;l.contains(C)?f.current=C:ou(f.current,{select:!0})},v=function(S){if(p.paused||!l)return;const C=S.relatedTarget;C!==null&&(l.contains(C)||ou(f.current,{select:!0}))},_=function(S){if(document.activeElement===document.body)for(const N of S)N.removedNodes.length>0&&ou(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const j=new MutationObserver(_);return l&&j.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),j.disconnect()}}},[n,l,p.paused]),w.useEffect(()=>{if(l){lH.add(p);const x=document.activeElement;if(!l.contains(x)){const _=new CustomEvent(US,iH);l.addEventListener(US,u),l.dispatchEvent(_),_.defaultPrevented||(A_e(p_e(IY(l)),{select:!0}),document.activeElement===x&&ou(l))}return()=>{l.removeEventListener(US,u),setTimeout(()=>{const _=new CustomEvent(MS,iH);l.addEventListener(MS,d),l.dispatchEvent(_),_.defaultPrevented||ou(x??document.body,{select:!0}),l.removeEventListener(MS,d),lH.remove(p)},0)}}},[l,u,d,p]);const y=w.useCallback(x=>{if(!r&&!n||p.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(v&&_){const j=x.currentTarget,[S,C]=d_e(j);S&&C?!x.shiftKey&&_===C?(x.preventDefault(),r&&ou(S,{select:!0})):x.shiftKey&&_===S&&(x.preventDefault(),r&&ou(C,{select:!0})):_===j&&x.preventDefault()}},[r,n,p.paused]);return i.jsx(yt.div,{tabIndex:-1,...o,ref:m,onKeyDown:y})});gC.displayName=u_e;function A_e(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(ou(n,{select:e}),document.activeElement!==r)return}function d_e(t){const e=IY(t),r=oH(e,t),n=oH(e.reverse(),t);return[r,n]}function IY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function oH(t,e){for(const r of t)if(!f_e(r,{upTo:e}))return r}function f_e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function h_e(t){return t instanceof HTMLInputElement&&"select"in t}function ou(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&h_e(t)&&e&&t.select()}}var lH=m_e();function m_e(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=cH(t,e),t.unshift(e)},remove(e){var r;t=cH(t,e),(r=t[0])==null||r.resume()}}}function cH(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function p_e(t){return t.filter(e=>e.tagName!=="A")}function Gx(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var g_e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hh=new WeakMap,Zw=new WeakMap,eb={},QS=0,PY=function(t){return t&&(t.host||PY(t.parentNode))},v_e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=PY(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},y_e=function(t,e,r,n){var s=v_e(e,Array.isArray(t)?t:[t]);eb[r]||(eb[r]=new WeakMap);var a=eb[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(n),y=p!==null&&p!=="false",x=(hh.get(m)||0)+1,v=(a.get(m)||0)+1;hh.set(m,x),a.set(m,v),o.push(m),x===1&&y&&Zw.set(m,!0),v===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),l.clear(),QS++,function(){o.forEach(function(f){var m=hh.get(f)-1,p=a.get(f)-1;hh.set(f,m),a.set(f,p),m||(Zw.has(f)||f.removeAttribute(n),Zw.delete(f)),p||f.removeAttribute(r)}),QS--,QS||(hh=new WeakMap,hh=new WeakMap,Zw=new WeakMap,eb={})}},HD=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=g_e(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),y_e(n,s,r,"aria-hidden")):function(){return null}},Zo=function(){return Zo=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zo.apply(this,arguments)};function OY(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function x_e(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var o1="right-scroll-bar-position",l1="width-before-scroll-bar",w_e="with-scroll-bars-hidden",b_e="--removed-body-scroll-bar-size";function LS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function __e(t,e){var r=w.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var j_e=typeof window<"u"?w.useLayoutEffect:w.useEffect,uH=new WeakMap;function C_e(t,e){var r=__e(null,function(n){return t.forEach(function(s){return LS(s,n)})});return j_e(function(){var n=uH.get(r);if(n){var s=new Set(n),a=new Set(t),o=r.current;s.forEach(function(l){a.has(l)||LS(l,null)}),a.forEach(function(l){s.has(l)||LS(l,o)})}uH.set(r,t)},[t]),r}function B_e(t){return t}function E_e(t,e){e===void 0&&(e=B_e);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function S_e(t){t===void 0&&(t={});var e=E_e(null);return e.options=Zo({async:!0,ssr:!1},t),e}var FY=function(t){var e=t.sideCar,r=OY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Zo({},r))};FY.isSideCarExport=!0;function N_e(t,e){return t.useMedium(e),FY}var RY=S_e(),HS=function(){},vC=w.forwardRef(function(t,e){var r=w.useRef(null),n=w.useState({onScrollCapture:HS,onWheelCapture:HS,onTouchMoveCapture:HS}),s=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,p=t.noIsolation,y=t.inert,x=t.allowPinchZoom,v=t.as,_=v===void 0?"div":v,j=t.gapMode,S=OY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=m,N=C_e([r,e]),k=Zo(Zo({},S),s);return w.createElement(w.Fragment,null,d&&w.createElement(C,{sideCar:RY,removeScrollBar:u,shards:f,noIsolation:p,inert:y,setCallbacks:a,allowPinchZoom:!!x,lockRef:r,gapMode:j}),o?w.cloneElement(w.Children.only(l),Zo(Zo({},k),{ref:N})):w.createElement(_,Zo({},k,{className:c,ref:N}),l))});vC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vC.classNames={fullWidth:l1,zeroRight:o1};var T_e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function k_e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=T_e();return e&&t.setAttribute("nonce",e),t}function I_e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function P_e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O_e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=k_e())&&(I_e(e,r),P_e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},F_e=function(){var t=O_e();return function(e,r){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},DY=function(){var t=F_e(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},R_e={left:0,top:0,right:0,gap:0},$S=function(t){return parseInt(t||"",10)||0},D_e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[$S(r),$S(n),$S(s)]},U_e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return R_e;var e=D_e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},M_e=DY(),Wh="data-scroll-locked",Q_e=function(t,e,r,n){var s=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(w_e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Wh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o1,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(l1,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(o1," .").concat(o1,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(l1," .").concat(l1,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wh,`] {
    `).concat(b_e,": ").concat(l,`px;
  }
`)},AH=function(){var t=parseInt(document.body.getAttribute(Wh)||"0",10);return isFinite(t)?t:0},L_e=function(){w.useEffect(function(){return document.body.setAttribute(Wh,(AH()+1).toString()),function(){var t=AH()-1;t<=0?document.body.removeAttribute(Wh):document.body.setAttribute(Wh,t.toString())}},[])},H_e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;L_e();var a=w.useMemo(function(){return U_e(s)},[s]);return w.createElement(M_e,{styles:Q_e(a,!e,s,r?"":"!important")})},tO=!1;if(typeof window<"u")try{var tb=Object.defineProperty({},"passive",{get:function(){return tO=!0,!0}});window.addEventListener("test",tb,tb),window.removeEventListener("test",tb,tb)}catch{tO=!1}var mh=tO?{passive:!1}:!1,$_e=function(t){return t.tagName==="TEXTAREA"},UY=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!$_e(t)&&r[e]==="visible")},V_e=function(t){return UY(t,"overflowY")},K_e=function(t){return UY(t,"overflowX")},dH=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=MY(t,n);if(s){var a=QY(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},q_e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},z_e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},MY=function(t,e){return t==="v"?V_e(e):K_e(e)},QY=function(t,e){return t==="v"?q_e(e):z_e(e)},G_e=function(t,e){return t==="h"&&e==="rtl"?-1:1},W_e=function(t,e,r,n,s){var a=G_e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,m=0;do{var p=QY(t,l),y=p[0],x=p[1],v=p[2],_=x-v-a*y;(y||_)&&MY(t,l)&&(f+=_,m+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},rb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fH=function(t){return[t.deltaX,t.deltaY]},hH=function(t){return t&&"current"in t?t.current:t},X_e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},J_e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Y_e=0,ph=[];function Z_e(t){var e=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),s=w.useState(Y_e++)[0],a=w.useState(DY)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var x=x_e([t.lockRef.current],(t.shards||[]).map(hH),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=rb(x),j=r.current,S="deltaX"in x?x.deltaX:j[0]-_[0],C="deltaY"in x?x.deltaY:j[1]-_[1],N,k=x.target,E=Math.abs(S)>Math.abs(C)?"h":"v";if("touches"in x&&E==="h"&&k.type==="range")return!1;var T=dH(E,k);if(!T)return!0;if(T?N=E:(N=E==="v"?"h":"v",T=dH(E,k)),!T)return!1;if(!n.current&&"changedTouches"in x&&(S||C)&&(n.current=N),!N)return!0;var P=n.current||N;return W_e(P,v,x,P==="h"?S:C)},[]),c=w.useCallback(function(x){var v=x;if(!(!ph.length||ph[ph.length-1]!==a)){var _="deltaY"in v?fH(v):rb(v),j=e.current.filter(function(N){return N.name===v.type&&(N.target===v.target||v.target===N.shadowParent)&&X_e(N.delta,_)})[0];if(j&&j.should){v.cancelable&&v.preventDefault();return}if(!j){var S=(o.current.shards||[]).map(hH).filter(Boolean).filter(function(N){return N.contains(v.target)}),C=S.length>0?l(v,S[0]):!o.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),u=w.useCallback(function(x,v,_,j){var S={name:x,delta:v,target:_,should:j,shadowParent:eje(_)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(C){return C!==S})},1)},[]),d=w.useCallback(function(x){r.current=rb(x),n.current=void 0},[]),f=w.useCallback(function(x){u(x.type,fH(x),x.target,l(x,t.lockRef.current))},[]),m=w.useCallback(function(x){u(x.type,rb(x),x.target,l(x,t.lockRef.current))},[]);w.useEffect(function(){return ph.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,mh),document.addEventListener("touchmove",c,mh),document.addEventListener("touchstart",d,mh),function(){ph=ph.filter(function(x){return x!==a}),document.removeEventListener("wheel",c,mh),document.removeEventListener("touchmove",c,mh),document.removeEventListener("touchstart",d,mh)}},[]);var p=t.removeScrollBar,y=t.inert;return w.createElement(w.Fragment,null,y?w.createElement(a,{styles:J_e(s)}):null,p?w.createElement(H_e,{gapMode:t.gapMode}):null)}function eje(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tje=N_e(RY,Z_e);var yC=w.forwardRef(function(t,e){return w.createElement(vC,Zo({},t,{ref:e,sideCar:tje}))});yC.classNames=vC.classNames;var rje=[" ","Enter","ArrowUp","ArrowDown"],nje=[" ","Enter"],Wx="Select",[xC,wC,sje]=_j(Wx),[Tp,Lze]=Pa(Wx,[sje,yp]),bC=yp(),[aje,fA]=Tp(Wx),[ije,oje]=Tp(Wx),LY=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:p,form:y}=t,x=bC(e),[v,_]=w.useState(null),[j,S]=w.useState(null),[C,N]=w.useState(!1),k=Np(u),[E=!1,T]=Ri({prop:n,defaultProp:s,onChange:a}),[P,O]=Ri({prop:o,defaultProp:l,onChange:c}),D=w.useRef(null),M=v?y||!!v.closest("form"):!0,[F,G]=w.useState(new Set),W=Array.from(F).map(V=>V.props.value).join(";");return i.jsx(kR,{...x,children:i.jsxs(aje,{required:p,scope:e,trigger:v,onTriggerChange:_,valueNode:j,onValueNodeChange:S,valueNodeHasChildren:C,onValueNodeHasChildrenChange:N,contentId:il(),value:P,onValueChange:O,open:E,onOpenChange:T,dir:k,triggerPointerDownPosRef:D,disabled:m,children:[i.jsx(xC.Provider,{scope:e,children:i.jsx(ije,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(V=>{G(H=>new Set(H).add(V))},[]),onNativeOptionRemove:w.useCallback(V=>{G(H=>{const Q=new Set(H);return Q.delete(V),Q})},[]),children:r})}),M?i.jsxs(dZ,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:V=>O(V.target.value),disabled:m,form:y,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(F)]},W):null]})})};LY.displayName=Wx;var HY="SelectTrigger",$Y=w.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,a=bC(r),o=fA(HY,r),l=o.disabled||n,c=Ht(e,o.onTriggerChange),u=wC(r),d=w.useRef("touch"),[f,m,p]=fZ(x=>{const v=u().filter(S=>!S.disabled),_=v.find(S=>S.value===o.value),j=hZ(v,x,_);j!==void 0&&o.onValueChange(j.value)}),y=x=>{l||(o.onOpenChange(!0),p()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return i.jsx(Pj,{asChild:!0,...a,children:i.jsx(yt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AZ(o.value)?"":void 0,...s,ref:c,onClick:Ye(s.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Ye(s.onPointerDown,x=>{d.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ye(s.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&m(x.key),!(v&&x.key===" ")&&rje.includes(x.key)&&(y(),x.preventDefault())})})})});$Y.displayName=HY;var VY="SelectValue",KY=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=t,c=fA(VY,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Ht(e,c.onValueNodeChange);return qn(()=>{u(d)},[u,d]),i.jsx(yt.span,{...l,ref:f,style:{pointerEvents:"none"},children:AZ(c.value)?i.jsx(i.Fragment,{children:o}):a})});KY.displayName=VY;var lje="SelectIcon",qY=w.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return i.jsx(yt.span,{"aria-hidden":!0,...s,ref:e,children:n||"▼"})});qY.displayName=lje;var cje="SelectPortal",zY=t=>i.jsx(Tx,{asChild:!0,...t});zY.displayName=cje;var Yd="SelectContent",GY=w.forwardRef((t,e)=>{const r=fA(Yd,t.__scopeSelect),[n,s]=w.useState();if(qn(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?dp.createPortal(i.jsx(WY,{scope:t.__scopeSelect,children:i.jsx(xC.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(XY,{...t,ref:e})});GY.displayName=Yd;var ao=10,[WY,hA]=Tp(Yd),uje="SelectContentImpl",XY=w.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:v,..._}=t,j=fA(Yd,r),[S,C]=w.useState(null),[N,k]=w.useState(null),E=Ht(e,xe=>C(xe)),[T,P]=w.useState(null),[O,D]=w.useState(null),M=wC(r),[F,G]=w.useState(!1),W=w.useRef(!1);w.useEffect(()=>{if(S)return HD(S)},[S]),LD();const V=w.useCallback(xe=>{const[me,...ye]=M().map(ne=>ne.ref.current),[je]=ye.slice(-1),Fe=document.activeElement;for(const ne of xe)if(ne===Fe||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===me&&N&&(N.scrollTop=0),ne===je&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==Fe))return},[M,N]),H=w.useCallback(()=>V([T,S]),[V,T,S]);w.useEffect(()=>{F&&H()},[F,H]);const{onOpenChange:Q,triggerPointerDownPosRef:z}=j;w.useEffect(()=>{if(S){let xe={x:0,y:0};const me=je=>{var Fe,ne;xe={x:Math.abs(Math.round(je.pageX)-(((Fe=z.current)==null?void 0:Fe.x)??0)),y:Math.abs(Math.round(je.pageY)-(((ne=z.current)==null?void 0:ne.y)??0))}},ye=je=>{xe.x<=10&&xe.y<=10?je.preventDefault():S.contains(je.target)||Q(!1),document.removeEventListener("pointermove",me),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",ye,{capture:!0})}}},[S,Q,z]),w.useEffect(()=>{const xe=()=>Q(!1);return window.addEventListener("blur",xe),window.addEventListener("resize",xe),()=>{window.removeEventListener("blur",xe),window.removeEventListener("resize",xe)}},[Q]);const[q,$]=fZ(xe=>{const me=M().filter(Fe=>!Fe.disabled),ye=me.find(Fe=>Fe.ref.current===document.activeElement),je=hZ(me,xe,ye);je&&setTimeout(()=>je.ref.current.focus())}),J=w.useCallback((xe,me,ye)=>{const je=!W.current&&!ye;(j.value!==void 0&&j.value===me||je)&&(P(xe),je&&(W.current=!0))},[j.value]),le=w.useCallback(()=>S==null?void 0:S.focus(),[S]),ae=w.useCallback((xe,me,ye)=>{const je=!W.current&&!ye;(j.value!==void 0&&j.value===me||je)&&D(xe)},[j.value]),ee=n==="popper"?rO:JY,ue=ee===rO?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:v}:{};return i.jsx(WY,{scope:r,content:S,viewport:N,onViewportChange:k,itemRefCallback:J,selectedItem:T,onItemLeave:le,itemTextRefCallback:ae,focusSelectedItem:H,selectedItemText:O,position:n,isPositioned:F,searchRef:q,children:i.jsx(yC,{as:lc,allowPinchZoom:!0,children:i.jsx(gC,{asChild:!0,trapped:j.open,onMountAutoFocus:xe=>{xe.preventDefault()},onUnmountAutoFocus:Ye(s,xe=>{var me;(me=j.trigger)==null||me.focus({preventScroll:!0}),xe.preventDefault()}),children:i.jsx(fp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:xe=>xe.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:i.jsx(ee,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:xe=>xe.preventDefault(),..._,...ue,onPlaced:()=>G(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ye(_.onKeyDown,xe=>{const me=xe.ctrlKey||xe.altKey||xe.metaKey;if(xe.key==="Tab"&&xe.preventDefault(),!me&&xe.key.length===1&&$(xe.key),["ArrowUp","ArrowDown","Home","End"].includes(xe.key)){let je=M().filter(Fe=>!Fe.disabled).map(Fe=>Fe.ref.current);if(["ArrowUp","End"].includes(xe.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(xe.key)){const Fe=xe.target,ne=je.indexOf(Fe);je=je.slice(ne+1)}setTimeout(()=>V(je)),xe.preventDefault()}})})})})})})});XY.displayName=uje;var Aje="SelectItemAlignedPosition",JY=w.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,a=fA(Yd,r),o=hA(Yd,r),[l,c]=w.useState(null),[u,d]=w.useState(null),f=Ht(e,E=>d(E)),m=wC(r),p=w.useRef(!1),y=w.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:_,focusSelectedItem:j}=o,S=w.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&x&&v&&_){const E=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),O=_.getBoundingClientRect();if(a.dir!=="rtl"){const Fe=O.left-T.left,ne=P.left-Fe,ke=E.left-ne,We=E.width+ke,ct=Math.max(We,T.width),ft=window.innerWidth-ao,Xt=Cy(ne,[ao,Math.max(ao,ft-ct)]);l.style.minWidth=We+"px",l.style.left=Xt+"px"}else{const Fe=T.right-O.right,ne=window.innerWidth-P.right-Fe,ke=window.innerWidth-E.right-ne,We=E.width+ke,ct=Math.max(We,T.width),ft=window.innerWidth-ao,Xt=Cy(ne,[ao,Math.max(ao,ft-ct)]);l.style.minWidth=We+"px",l.style.right=Xt+"px"}const D=m(),M=window.innerHeight-ao*2,F=x.scrollHeight,G=window.getComputedStyle(u),W=parseInt(G.borderTopWidth,10),V=parseInt(G.paddingTop,10),H=parseInt(G.borderBottomWidth,10),Q=parseInt(G.paddingBottom,10),z=W+V+F+Q+H,q=Math.min(v.offsetHeight*5,z),$=window.getComputedStyle(x),J=parseInt($.paddingTop,10),le=parseInt($.paddingBottom,10),ae=E.top+E.height/2-ao,ee=M-ae,ue=v.offsetHeight/2,xe=v.offsetTop+ue,me=W+V+xe,ye=z-me;if(me<=ae){const Fe=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const ne=u.clientHeight-x.offsetTop-x.offsetHeight,ke=Math.max(ee,ue+(Fe?le:0)+ne+H),We=me+ke;l.style.height=We+"px"}else{const Fe=D.length>0&&v===D[0].ref.current;l.style.top="0px";const ke=Math.max(ae,W+x.offsetTop+(Fe?J:0)+ue)+ye;l.style.height=ke+"px",x.scrollTop=me-ae+x.offsetTop}l.style.margin=`${ao}px 0`,l.style.minHeight=q+"px",l.style.maxHeight=M+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[m,a.trigger,a.valueNode,l,u,x,v,_,a.dir,n]);qn(()=>S(),[S]);const[C,N]=w.useState();qn(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const k=w.useCallback(E=>{E&&y.current===!0&&(S(),j==null||j(),y.current=!1)},[S,j]);return i.jsx(fje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:i.jsx(yt.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});JY.displayName=Aje;var dje="SelectPopperPosition",rO=w.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ao,...a}=t,o=bC(r);return i.jsx(IR,{...o,...a,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});rO.displayName=dje;var[fje,$D]=Tp(Yd,{}),nO="SelectViewport",YY=w.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,a=hA(nO,r),o=$D(nO,r),l=Ht(e,a.onViewportChange),c=w.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(xC.Slot,{scope:r,children:i.jsx(yt.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ye(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-ao*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),_=Math.max(x,v);if(_<y){const j=_+p,S=Math.min(y,j),C=j-S;f.style.height=S+"px",f.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});YY.displayName=nO;var ZY="SelectGroup",[hje,mje]=Tp(ZY),pje=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=il();return i.jsx(hje,{scope:r,id:s,children:i.jsx(yt.div,{role:"group","aria-labelledby":s,...n,ref:e})})});pje.displayName=ZY;var eZ="SelectLabel",tZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=mje(eZ,r);return i.jsx(yt.div,{id:s.id,...n,ref:e})});tZ.displayName=eZ;var X1="SelectItem",[gje,rZ]=Tp(X1),nZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=t,l=fA(X1,r),c=hA(X1,r),u=l.value===n,[d,f]=w.useState(a??""),[m,p]=w.useState(!1),y=Ht(e,j=>{var S;return(S=c.itemRefCallback)==null?void 0:S.call(c,j,n,s)}),x=il(),v=w.useRef("touch"),_=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(gje,{scope:r,value:n,disabled:s,textId:x,isSelected:u,onItemTextChange:w.useCallback(j=>{f(S=>S||((j==null?void 0:j.textContent)??"").trim())},[]),children:i.jsx(xC.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(yt.div,{role:"option","aria-labelledby":x,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:Ye(o.onFocus,()=>p(!0)),onBlur:Ye(o.onBlur,()=>p(!1)),onClick:Ye(o.onClick,()=>{v.current!=="mouse"&&_()}),onPointerUp:Ye(o.onPointerUp,()=>{v.current==="mouse"&&_()}),onPointerDown:Ye(o.onPointerDown,j=>{v.current=j.pointerType}),onPointerMove:Ye(o.onPointerMove,j=>{var S;v.current=j.pointerType,s?(S=c.onItemLeave)==null||S.call(c):v.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ye(o.onPointerLeave,j=>{var S;j.currentTarget===document.activeElement&&((S=c.onItemLeave)==null||S.call(c))}),onKeyDown:Ye(o.onKeyDown,j=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&j.key===" "||(nje.includes(j.key)&&_(),j.key===" "&&j.preventDefault())})})})})});nZ.displayName=X1;var Av="SelectItemText",sZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...a}=t,o=fA(Av,r),l=hA(Av,r),c=rZ(Av,r),u=oje(Av,r),[d,f]=w.useState(null),m=Ht(e,_=>f(_),c.onItemTextChange,_=>{var j;return(j=l.itemTextRefCallback)==null?void 0:j.call(l,_,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=w.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return qn(()=>(x(y),()=>v(y)),[x,v,y]),i.jsxs(i.Fragment,{children:[i.jsx(yt.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?dp.createPortal(a.children,o.valueNode):null]})});sZ.displayName=Av;var aZ="SelectItemIndicator",iZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return rZ(aZ,r).isSelected?i.jsx(yt.span,{"aria-hidden":!0,...n,ref:e}):null});iZ.displayName=aZ;var sO="SelectScrollUpButton",oZ=w.forwardRef((t,e)=>{const r=hA(sO,t.__scopeSelect),n=$D(sO,t.__scopeSelect),[s,a]=w.useState(!1),o=Ht(e,n.onScrollButtonChange);return qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oZ.displayName=sO;var aO="SelectScrollDownButton",lZ=w.forwardRef((t,e)=>{const r=hA(aO,t.__scopeSelect),n=$D(aO,t.__scopeSelect),[s,a]=w.useState(!1),o=Ht(e,n.onScrollButtonChange);return qn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(cZ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lZ.displayName=aO;var cZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,a=hA("SelectScrollButton",r),o=w.useRef(null),l=wC(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),qn(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(yt.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ye(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ye(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ye(s.onPointerLeave,()=>{c()})})}),vje="SelectSeparator",uZ=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return i.jsx(yt.div,{"aria-hidden":!0,...n,ref:e})});uZ.displayName=vje;var iO="SelectArrow",yje=w.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=bC(r),a=fA(iO,r),o=hA(iO,r);return a.open&&o.position==="popper"?i.jsx(PR,{...s,...n,ref:e}):null});yje.displayName=iO;function AZ(t){return t===""||t===void 0}var dZ=w.forwardRef((t,e)=>{const{value:r,...n}=t,s=w.useRef(null),a=Ht(e,s),o=Gx(r);return w.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),i.jsx(kx,{asChild:!0,children:i.jsx("select",{...n,ref:a,defaultValue:r})})});dZ.displayName="BubbleSelect";function fZ(t){const e=vn(t),r=w.useRef(""),n=w.useRef(0),s=w.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function hZ(t,e,r){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=xje(t,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function xje(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var wje=LY,mZ=$Y,bje=KY,_je=qY,jje=zY,pZ=GY,Cje=YY,gZ=tZ,vZ=nZ,Bje=sZ,Eje=iZ,yZ=oZ,xZ=lZ,wZ=uZ;const Us=wje,Ms=bje,ys=w.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(mZ,{ref:n,className:Ee("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(_je,{asChild:!0,children:i.jsx(mR,{className:"h-4 w-4 opacity-50"})})]}));ys.displayName=mZ.displayName;const bZ=w.forwardRef(({className:t,...e},r)=>i.jsx(yZ,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Hce,{className:"h-4 w-4"})}));bZ.displayName=yZ.displayName;const _Z=w.forwardRef(({className:t,...e},r)=>i.jsx(xZ,{ref:r,className:Ee("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(mR,{className:"h-4 w-4"})}));_Z.displayName=xZ.displayName;const xs=w.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>i.jsx(jje,{children:i.jsxs(pZ,{ref:s,className:Ee("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[i.jsx(bZ,{}),i.jsx(Cje,{className:Ee("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(_Z,{})]})}));xs.displayName=pZ.displayName;const Sje=w.forwardRef(({className:t,...e},r)=>i.jsx(gZ,{ref:r,className:Ee("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Sje.displayName=gZ.displayName;const Lt=w.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(vZ,{ref:n,className:Ee("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Eje,{children:i.jsx(hR,{className:"h-4 w-4"})})}),i.jsx(Bje,{children:e})]}));Lt.displayName=vZ.displayName;const Nje=w.forwardRef(({className:t,...e},r)=>i.jsx(wZ,{ref:r,className:Ee("-mx-1 my-1 h-px bg-muted",t),...e}));Nje.displayName=wZ.displayName;var jZ=["PageUp","PageDown"],CZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],BZ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},kp="Slider",[oO,Tje,kje]=_j(kp),[EZ,Hze]=Pa(kp,[kje]),[Ije,_C]=EZ(kp),SZ=w.forwardRef((t,e)=>{const{name:r,min:n=0,max:s=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...x}=t,v=w.useRef(new Set),_=w.useRef(0),S=o==="horizontal"?Pje:Oje,[C=[],N]=Ri({prop:d,defaultProp:u,onChange:D=>{var F;(F=[...v.current][_.current])==null||F.focus(),f(D)}}),k=w.useRef(C);function E(D){const M=Mje(C,D);O(D,M)}function T(D){O(D,_.current)}function P(){const D=k.current[_.current];C[_.current]!==D&&m(C)}function O(D,M,{commit:F}={commit:!1}){const G=$je(a),W=Vje(Math.round((D-n)/a)*a+n,G),V=Cy(W,[n,s]);N((H=[])=>{const Q=Dje(H,V,M);if(Hje(Q,c*a)){_.current=Q.indexOf(V);const z=String(Q)!==String(H);return z&&F&&m(Q),z?Q:H}else return H})}return i.jsx(Ije,{scope:t.__scopeSlider,name:r,disabled:l,min:n,max:s,valueIndexToChangeRef:_,thumbs:v.current,values:C,orientation:o,form:y,children:i.jsx(oO.Provider,{scope:t.__scopeSlider,children:i.jsx(oO.Slot,{scope:t.__scopeSlider,children:i.jsx(S,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:Ye(x.onPointerDown,()=>{l||(k.current=C)}),min:n,max:s,inverted:p,onSlideStart:l?void 0:E,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:P,onHomeKeyDown:()=>!l&&O(n,0,{commit:!0}),onEndKeyDown:()=>!l&&O(s,C.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:M})=>{if(!l){const W=jZ.includes(D.key)||D.shiftKey&&CZ.includes(D.key)?10:1,V=_.current,H=C[V],Q=a*W*M;O(H+Q,V,{commit:!0})}}})})})})});SZ.displayName=kp;var[NZ,TZ]=EZ(kp,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Pje=w.forwardRef((t,e)=>{const{min:r,max:n,dir:s,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[f,m]=w.useState(null),p=Ht(e,S=>m(S)),y=w.useRef(),x=Np(s),v=x==="ltr",_=v&&!a||!v&&a;function j(S){const C=y.current||f.getBoundingClientRect(),N=[0,C.width],E=VD(N,_?[r,n]:[n,r]);return y.current=C,E(S-C.left)}return i.jsx(NZ,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:i.jsx(kZ,{dir:x,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:S=>{const C=j(S.clientX);o==null||o(C)},onSlideMove:S=>{const C=j(S.clientX);l==null||l(C)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:S=>{const N=BZ[_?"from-left":"from-right"].includes(S.key);u==null||u({event:S,direction:N?-1:1})}})})}),Oje=w.forwardRef((t,e)=>{const{min:r,max:n,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=w.useRef(null),f=Ht(e,d),m=w.useRef(),p=!s;function y(x){const v=m.current||d.current.getBoundingClientRect(),_=[0,v.height],S=VD(_,p?[n,r]:[r,n]);return m.current=v,S(x-v.top)}return i.jsx(NZ,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:i.jsx(kZ,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const v=y(x.clientY);a==null||a(v)},onSlideMove:x=>{const v=y(x.clientY);o==null||o(v)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const _=BZ[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:_?-1:1})}})})}),kZ=w.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=_C(kp,r);return i.jsx(yt.span,{...u,ref:e,onKeyDown:Ye(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(l(f),f.preventDefault()):jZ.concat(CZ).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:Ye(t.onPointerDown,f=>{const m=f.target;m.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(m)?m.focus():n(f)}),onPointerMove:Ye(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:Ye(t.onPointerUp,f=>{const m=f.target;m.hasPointerCapture(f.pointerId)&&(m.releasePointerCapture(f.pointerId),a(f))})})}),IZ="SliderTrack",PZ=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_C(IZ,r);return i.jsx(yt.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:e})});PZ.displayName=IZ;var lO="SliderRange",OZ=w.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,s=_C(lO,r),a=TZ(lO,r),o=w.useRef(null),l=Ht(e,o),c=s.values.length,u=s.values.map(m=>RZ(m,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return i.jsx(yt.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:l,style:{...t.style,[a.startEdge]:d+"%",[a.endEdge]:f+"%"}})});OZ.displayName=lO;var cO="SliderThumb",FZ=w.forwardRef((t,e)=>{const r=Tje(t.__scopeSlider),[n,s]=w.useState(null),a=Ht(e,l=>s(l)),o=w.useMemo(()=>n?r().findIndex(l=>l.ref.current===n):-1,[r,n]);return i.jsx(Fje,{...t,ref:a,index:o})}),Fje=w.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:s,...a}=t,o=_C(cO,r),l=TZ(cO,r),[c,u]=w.useState(null),d=Ht(e,j=>u(j)),f=c?o.form||!!c.closest("form"):!0,m=Ox(c),p=o.values[n],y=p===void 0?0:RZ(p,o.min,o.max),x=Uje(n,o.values.length),v=m==null?void 0:m[l.size],_=v?Qje(v,y,l.direction):0;return w.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),i.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${_}px)`},children:[i.jsx(oO.ItemSlot,{scope:t.__scopeSlider,children:i.jsx(yt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":p,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:Ye(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&i.jsx(Rje,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:p},n)]})});FZ.displayName=cO;var Rje=t=>{const{value:e,...r}=t,n=w.useRef(null),s=Gx(e);return w.useEffect(()=>{const a=n.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&c){const u=new Event("input",{bubbles:!0});c.call(a,e),a.dispatchEvent(u)}},[s,e]),i.jsx("input",{style:{display:"none"},...r,ref:n,defaultValue:e})};function Dje(t=[],e,r){const n=[...t];return n[r]=e,n.sort((s,a)=>s-a)}function RZ(t,e,r){const a=100/(r-e)*(t-e);return Cy(a,[0,100])}function Uje(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Mje(t,e){if(t.length===1)return 0;const r=t.map(s=>Math.abs(s-e)),n=Math.min(...r);return r.indexOf(n)}function Qje(t,e,r){const n=t/2,a=VD([0,50],[0,n]);return(n-a(e)*r)*r}function Lje(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Hje(t,e){if(e>0){const r=Lje(t);return Math.min(...r)>=e}return!0}function VD(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function $je(t){return(String(t).split(".")[1]||"").length}function Vje(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var DZ=SZ,Kje=PZ,qje=OZ,zje=FZ;const UZ=w.forwardRef(({className:t,...e},r)=>i.jsxs(DZ,{ref:r,className:Ee("relative flex w-full touch-none select-none items-center",t),...e,children:[i.jsx(Kje,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:i.jsx(qje,{className:"absolute h-full bg-primary"})}),i.jsx(zje,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));UZ.displayName=DZ.displayName;var KD="Dialog",[MZ,QZ]=Pa(KD),[Gje,ko]=MZ(KD),LZ=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=w.useRef(null),c=w.useRef(null),[u=!1,d]=Ri({prop:n,defaultProp:s,onChange:a});return i.jsx(Gje,{scope:e,triggerRef:l,contentRef:c,contentId:il(),titleId:il(),descriptionId:il(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};LZ.displayName=KD;var HZ="DialogTrigger",$Z=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ko(HZ,r),a=Ht(e,s.triggerRef);return i.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":GD(s.open),...n,ref:a,onClick:Ye(t.onClick,s.onOpenToggle)})});$Z.displayName=HZ;var qD="DialogPortal",[Wje,VZ]=MZ(qD,{forceMount:void 0}),KZ=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,a=ko(qD,e);return i.jsx(Wje,{scope:e,forceMount:r,children:w.Children.map(n,o=>i.jsx(ua,{present:r||a.open,children:i.jsx(Tx,{asChild:!0,container:s,children:o})}))})};KZ.displayName=qD;var J1="DialogOverlay",qZ=w.forwardRef((t,e)=>{const r=VZ(J1,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=ko(J1,t.__scopeDialog);return a.modal?i.jsx(ua,{present:n||a.open,children:i.jsx(Xje,{...s,ref:e})}):null});qZ.displayName=J1;var Xje=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ko(J1,r);return i.jsx(yC,{as:lc,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(yt.div,{"data-state":GD(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Zd="DialogContent",zZ=w.forwardRef((t,e)=>{const r=VZ(Zd,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,a=ko(Zd,t.__scopeDialog);return i.jsx(ua,{present:n||a.open,children:a.modal?i.jsx(Jje,{...s,ref:e}):i.jsx(Yje,{...s,ref:e})})});zZ.displayName=Zd;var Jje=w.forwardRef((t,e)=>{const r=ko(Zd,t.__scopeDialog),n=w.useRef(null),s=Ht(e,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return HD(a)},[]),i.jsx(GZ,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ye(t.onFocusOutside,a=>a.preventDefault())})}),Yje=w.forwardRef((t,e)=>{const r=ko(Zd,t.__scopeDialog),n=w.useRef(!1),s=w.useRef(!1);return i.jsx(GZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),GZ=w.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=t,l=ko(Zd,r),c=w.useRef(null),u=Ht(e,c);return LD(),i.jsxs(i.Fragment,{children:[i.jsx(gC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(fp,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":GD(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(eCe,{titleId:l.titleId}),i.jsx(rCe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),zD="DialogTitle",WZ=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ko(zD,r);return i.jsx(yt.h2,{id:s.titleId,...n,ref:e})});WZ.displayName=zD;var XZ="DialogDescription",JZ=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ko(XZ,r);return i.jsx(yt.p,{id:s.descriptionId,...n,ref:e})});JZ.displayName=XZ;var YZ="DialogClose",ZZ=w.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=ko(YZ,r);return i.jsx(yt.button,{type:"button",...n,ref:e,onClick:Ye(t.onClick,()=>s.onOpenChange(!1))})});ZZ.displayName=YZ;function GD(t){return t?"open":"closed"}var eee="DialogTitleWarning",[Zje,tee]=Wle(eee,{contentName:Zd,titleName:zD,docsSlug:"dialog"}),eCe=({titleId:t})=>{const e=tee(eee),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},tCe="DialogDescriptionWarning",rCe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tee(tCe).contentName}}.`;return w.useEffect(()=>{var a;const s=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},WD=LZ,XD=$Z,JD=KZ,Xx=qZ,Jx=zZ,Yx=WZ,Zx=JZ,jC=ZZ;const hl=WD,Y1=XD,nCe=JD,ree=w.forwardRef(({className:t,...e},r)=>i.jsx(Xx,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));ree.displayName=Xx.displayName;const sCe=hp("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Eo=w.forwardRef(({side:t="right",className:e,children:r,...n},s)=>i.jsxs(nCe,{children:[i.jsx(ree,{}),i.jsxs(Jx,{ref:s,className:Ee(sCe({side:t}),e),...n,children:[r,i.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Nj,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Eo.displayName=Jx.displayName;const ml=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});ml.displayName="SheetHeader";const hc=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});hc.displayName="SheetFooter";const pl=w.forwardRef(({className:t,...e},r)=>i.jsx(Yx,{ref:r,className:Ee("text-lg font-semibold text-foreground",t),...e}));pl.displayName=Yx.displayName;const By=w.forwardRef(({className:t,...e},r)=>i.jsx(Zx,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));By.displayName=Zx.displayName;var aCe="Separator",mH="horizontal",iCe=["horizontal","vertical"],nee=w.forwardRef((t,e)=>{const{decorative:r,orientation:n=mH,...s}=t,a=oCe(n)?n:mH,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(yt.div,{"data-orientation":a,...l,...s,ref:e})});nee.displayName=aCe;function oCe(t){return iCe.includes(t)}var see=nee;const Ks=w.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},s)=>i.jsx(see,{ref:s,decorative:r,orientation:e,className:Ee("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Ks.displayName=see.displayName;const lCe=()=>{const[t,e]=Ype(),[r,n]=w.useState(t.get("q")||""),[s,a]=w.useState("price-asc"),[o,l]=w.useState({priceRange:[0,100],types:[],origins:[]}),[c,u]=w.useState([]),[d,f]=w.useState([]),[m,p]=w.useState([]),[y,x]=w.useState([]),[v,_]=w.useState(!0),[j,S]=w.useState(0),[C,N]=w.useState(100),{addItem:k}=pC();w.useEffect(()=>{(async()=>{_(!0);try{const{data:G,error:W}=await oe.from("products").select("*");if(W)throw W;if(G){u(G);const V=Array.from(new Set(G.map(Q=>Q.origin).filter(Boolean)));p(V);const H=Array.from(new Set(G.map(Q=>Q.type).filter(Boolean)));if(x(H),G.length>0){const Q=G.map($=>$.price),z=Math.floor(Math.min(...Q)),q=Math.ceil(Math.max(...Q));S(z),N(q),l($=>({...$,priceRange:[z,q]}))}}}catch(G){console.error("Error fetching products:",G),Se({title:"Error",description:"Gagal memuat produk",variant:"destructive"})}finally{_(!1)}})()},[]),w.useEffect(()=>{if(v)return;const F=t.get("category"),G=t.get("featured"),W=t.get("discount"),V=t.get("q");V&&V!==r&&n(V);let H=[...c];switch(r&&(H=H.filter(Q=>{var z;return Q.name.toLowerCase().includes(r.toLowerCase())||(((z=Q.description)==null?void 0:z.toLowerCase().includes(r.toLowerCase()))??!1)})),F&&(H=H.filter(Q=>Q.type===F)),G==="true"&&(H=H.filter(Q=>Q.featured===!0)),W==="true"&&(H=H.filter(Q=>Q.discount!==null&&Q.discount>0)),H=H.filter(Q=>{const z=Q.price;return!(z<o.priceRange[0]||z>o.priceRange[1]||o.types.length>0&&!o.types.includes(Q.type)||o.origins.length>0&&(!Q.origin||!o.origins.includes(Q.origin)))}),s){case"price-asc":H.sort((Q,z)=>Q.price-z.price);break;case"price-desc":H.sort((Q,z)=>z.price-Q.price);break;case"rating":H.sort((Q,z)=>(z.rating||0)-(Q.rating||0));break;case"newest":H.sort((Q,z)=>{const q=Q.created_at?new Date(Q.created_at).getTime():0;return(z.created_at?new Date(z.created_at).getTime():0)-q});break}f(H)},[c,t,r,s,o,v]);const E=()=>{e(F=>(r?F.set("q",r):F.delete("q"),F))},T=F=>{k({id:F.id,name:F.name,price:F.discount?F.price*(1-F.discount/100):F.price,image:F.images&&F.images.length>0?F.images[0]:"/https://image1ws.indotrading.com/s3/productimages/webp/co263038/p1282683/w600-h600/f43a666d-eca7-4cb4-aa14-450eae21f24f.jpg",type:F.type,quantity:1}),Se({title:"Ditambahkan ke keranjang",description:`${F.name} telah ditambahkan ke keranjang belanja Anda.`})},P=F=>{l(G=>{const W=[...G.types],V=W.indexOf(F);return V>-1?W.splice(V,1):W.push(F),{...G,types:W}})},O=F=>{l(G=>{const W=[...G.origins],V=W.indexOf(F);return V>-1?W.splice(V,1):W.push(F),{...G,origins:W}})},D=F=>{l(G=>({...G,priceRange:[F[0],F[1]]}))},M=()=>{l({priceRange:[j,C],types:[],origins:[]})};return i.jsx(br,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(Ce,{type:"text",placeholder:"Cari produk arang...",value:r,onChange:F=>n(F.target.value),className:"pl-10",onKeyDown:F=>{F.key==="Enter"&&E()}}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(cA,{className:"h-4 w-4 text-muted-foreground"})})]}),i.jsx(Z,{onClick:E,className:"bg-flame-500 hover:bg-flame-600",children:"Search"}),i.jsxs(hl,{children:[i.jsx(Y1,{asChild:!0,children:i.jsx(Z,{variant:"outline",size:"icon",className:"flex-shrink-0",children:i.jsx(Hz,{className:"h-4 w-4"})})}),i.jsxs(Eo,{side:"right",children:[i.jsxs(ml,{children:[i.jsx(pl,{children:"Filter Produk"}),i.jsx(By,{children:"Filter produk berdasarkan kategori, harga, dan rating."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Filter"}),i.jsxs(Us,{value:s,onValueChange:F=>a(F),children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Urutkan"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"price-asc",children:"Harga: Terendah ke Tertinggi"}),i.jsx(Lt,{value:"price-desc",children:"Harga: Tertinggi ke Terendah"}),i.jsx(Lt,{value:"rating",children:"Rating Terbaik"}),i.jsx(Lt,{value:"newest",children:"Terbaru"})]})]})]}),i.jsx(Ks,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Range Harga"}),i.jsxs("div",{className:"px-2",children:[i.jsx(UZ,{max:C,min:j,step:1,value:[o.priceRange[0],o.priceRange[1]],onValueChange:D}),i.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[i.jsxs("span",{children:["Rp ",o.priceRange[0]]}),i.jsxs("span",{children:["Rp ",o.priceRange[1]]})]})]})]}),i.jsx(Ks,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Tipe Charcoal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:y.map(F=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`type-${F}`,checked:o.types.includes(F),onChange:()=>P(F),className:"mr-2"}),i.jsx("label",{htmlFor:`type-${F}`,className:"text-sm",children:F})]},F))})]}),i.jsx(Ks,{className:"my-4"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-3",children:"Asal"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:m.map(F=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`origin-${F}`,checked:o.origins.includes(F),onChange:()=>O(F),className:"mr-2"}),i.jsx("label",{htmlFor:`origin-${F}`,className:"text-sm",children:F})]},F))})]}),i.jsxs("div",{className:"mt-6 flex justify-end",children:[i.jsx(Z,{variant:"outline",onClick:M,className:"mr-2",children:"Hapus Semua"}),i.jsx(Y1,{asChild:!0,children:i.jsx(Z,{children:"Terapkan Filter"})})]})]})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-xl font-bold mb-2",children:"Hasil Pencarian"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[d.length," produk ditemukan"]}),v?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx(jr,{className:"h-8 w-8 animate-spin text-flame-500"})}):i.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(F=>i.jsxs(Ue,{className:"overflow-hidden border-none shadow-sm",children:[i.jsx(Dt,{to:`/product/${F.id}`,children:i.jsxs("div",{className:"h-32 bg-charcoal-100 relative",children:[i.jsx("img",{src:F.images&&F.images.length>0?F.images[0]:"/placeholder.svg",alt:F.name,className:"h-full w-full object-cover"}),F.discount&&F.discount>0&&i.jsxs("span",{className:"absolute top-2 right-2 bg-flame-500 text-white text-xs px-2 py-1 rounded-full",children:[F.discount,"% DISKON"]})]})}),i.jsxs(Me,{className:"p-3",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:F.type}),i.jsx(Dt,{to:`/product/${F.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1",children:F.name})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{children:F.discount&&F.discount>0?i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"font-bold text-sm",children:Te(F.price*(1-F.discount/100))}),i.jsx("span",{className:"text-muted-foreground text-xs line-through",children:Te(F.price)})]}):i.jsx("span",{className:"font-bold text-sm",children:Te(F.price)})}),i.jsx(Z,{size:"icon",className:"h-8 w-8 rounded-full bg-flame-500 hover:bg-flame-600",onClick:()=>T(F),children:i.jsx(Ej,{className:"h-4 w-4"})})]})]})]},F.id))}),!v&&d.length===0&&i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-lg font-medium",children:"Tidak ada produk ditemukan"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Coba sesuaikan pencarian atau kriteria filter Anda"})]})]})]})})};function cCe(t,e=[]){let r=[];function n(a,o){const l=w.createContext(o),c=r.length;r=[...r,o];function u(f){const{scope:m,children:p,...y}=f,x=(m==null?void 0:m[t][c])||l,v=w.useMemo(()=>y,Object.values(y));return i.jsx(x.Provider,{value:v,children:p})}function d(f,m){const p=(m==null?void 0:m[t][c])||l,y=w.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return u.displayName=a+"Provider",[u,d]}const s=()=>{const a=r.map(o=>w.createContext(o));return function(l){const c=(l==null?void 0:l[t])||a;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[n,uCe(s,...e)]}function uCe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var VS="rovingFocusGroup.onEntryFocus",ACe={bubbles:!1,cancelable:!0},CC="RovingFocusGroup",[uO,aee,dCe]=_j(CC),[fCe,BC]=cCe(CC,[dCe]),[hCe,mCe]=fCe(CC),iee=w.forwardRef((t,e)=>i.jsx(uO.Provider,{scope:t.__scopeRovingFocusGroup,children:i.jsx(uO.Slot,{scope:t.__scopeRovingFocusGroup,children:i.jsx(pCe,{...t,ref:e})})}));iee.displayName=CC;var pCe=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=w.useRef(null),p=Ht(e,m),y=Np(a),[x=null,v]=Ri({prop:o,defaultProp:l,onChange:c}),[_,j]=w.useState(!1),S=vn(u),C=aee(r),N=w.useRef(!1),[k,E]=w.useState(0);return w.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(VS,S),()=>T.removeEventListener(VS,S)},[S]),i.jsx(hCe,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:x,onItemFocus:w.useCallback(T=>v(T),[v]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(T=>T+1),[]),onFocusableItemRemove:w.useCallback(()=>E(T=>T-1),[]),children:i.jsx(yt.div,{tabIndex:_||k===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:Ye(t.onMouseDown,()=>{N.current=!0}),onFocus:Ye(t.onFocus,T=>{const P=!N.current;if(T.target===T.currentTarget&&P&&!_){const O=new CustomEvent(VS,ACe);if(T.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=C().filter(V=>V.focusable),M=D.find(V=>V.active),F=D.find(V=>V.id===x),W=[M,F,...D].filter(Boolean).map(V=>V.ref.current);cee(W,d)}}N.current=!1}),onBlur:Ye(t.onBlur,()=>j(!1))})})}),oee="RovingFocusGroupItem",lee=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,...o}=t,l=il(),c=a||l,u=mCe(oee,r),d=u.currentTabStopId===c,f=aee(r),{onFocusableItemAdd:m,onFocusableItemRemove:p}=u;return w.useEffect(()=>{if(n)return m(),()=>p()},[n,m,p]),i.jsx(uO.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:i.jsx(yt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:Ye(t.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:Ye(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ye(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=yCe(y,u.orientation,u.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=f().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")_.reverse();else if(x==="prev"||x==="next"){x==="prev"&&_.reverse();const j=_.indexOf(y.currentTarget);_=u.loop?xCe(_,j+1):_.slice(j+1)}setTimeout(()=>cee(_))}})})})});lee.displayName=oee;var gCe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vCe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yCe(t,e,r){const n=vCe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return gCe[n]}function cee(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function xCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var uee=iee,Aee=lee,YD="Tabs",[wCe,$ze]=Pa(YD,[BC]),dee=BC(),[bCe,ZD]=wCe(YD),fee=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Np(l),[f,m]=Ri({prop:n,onChange:s,defaultProp:a});return i.jsx(bCe,{scope:r,baseId:il(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:i.jsx(yt.div,{dir:d,"data-orientation":o,...u,ref:e})})});fee.displayName=YD;var hee="TabsList",mee=w.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,a=ZD(hee,r),o=dee(r);return i.jsx(uee,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(yt.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});mee.displayName=hee;var pee="TabsTrigger",gee=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=t,o=ZD(pee,r),l=dee(r),c=xee(o.baseId,n),u=wee(o.baseId,n),d=n===o.value;return i.jsx(Aee,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(yt.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:e,onMouseDown:Ye(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ye(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ye(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});gee.displayName=pee;var vee="TabsContent",yee=w.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=t,l=ZD(vee,r),c=xee(l.baseId,n),u=wee(l.baseId,n),d=n===l.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),i.jsx(ua,{present:s||d,children:({present:m})=>i.jsx(yt.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});yee.displayName=vee;function xee(t,e){return`${t}-trigger-${e}`}function wee(t,e){return`${t}-content-${e}`}var _Ce=fee,bee=mee,_ee=gee,jee=yee;const Ia=_Ce,la=w.forwardRef(({className:t,...e},r)=>i.jsx(bee,{ref:r,className:Ee("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));la.displayName=bee.displayName;const nr=w.forwardRef(({className:t,...e},r)=>i.jsx(_ee,{ref:r,className:Ee("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));nr.displayName=_ee.displayName;const Sr=w.forwardRef(({className:t,...e},r)=>i.jsx(jee,{ref:r,className:Ee("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Sr.displayName=jee.displayName;const jCe=()=>{const{id:t}=Dx(),[e,r]=w.useState(null),[n,s]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState(1),[u,d]=w.useState(0),{addItem:f}=pC(),m=ar();w.useEffect(()=>((async()=>{if(t)try{s(!0);const{data:j,error:S}=await oe.from("products").select("*").eq("id",t).single();if(S)throw S;j?(r(j),document.title=`${j.name} - Toko Arang`):o("Produk tidak ditemukan")}catch(j){console.error("Error fetching product:",j),o(j.message||"Gagal memuat produk")}finally{s(!1)}})(),()=>{r(null),c(1),d(0)}),[t]);const p=()=>{e&&(f({id:e.id,name:e.name,price:e.discount?e.price*(1-e.discount/100):e.price,image:e.images&&e.images.length>0?e.images[0]:"/placeholder.svg",type:e.type,quantity:l}),Se({title:"Ditambahkan ke keranjang",description:`${l} produk ditambahkan ke keranjang Anda`}))},y=()=>{c(_=>Math.max(1,_-1))},x=()=>{c(_=>_+1)};if(n)return i.jsx(br,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen p-4",children:[i.jsx(jr,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat detail produk..."})]})});if(a||!e)return i.jsx(br,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Z,{variant:"ghost",className:"p-0 mr-2",onClick:()=>m(-1),children:i.jsx(wo,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Produk Tidak Ditemukan"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:a||"Produk yang diminta tidak dapat ditemukan."}),i.jsx(Dt,{to:"/search",children:i.jsx(Z,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})});const v=e.discount?e.price*(1-e.discount/100):e.price;return i.jsx(br,{children:i.jsxs("div",{className:"pb-24",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center shadow-sm",children:[i.jsx(Z,{variant:"ghost",className:"p-0 mr-2",onClick:()=>m(-1),children:i.jsx(wo,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-medium line-clamp-1",children:e.name})]}),i.jsxs("div",{className:"bg-charcoal-50 h-72 relative",children:[e.images&&e.images.length>0?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:e.images[u],alt:e.name,className:"h-full w-full object-contain"}),e.images.length>1&&i.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center gap-2",children:e.images.map((_,j)=>i.jsx("button",{className:`w-2 h-2 rounded-full ${u===j?"bg-flame-500":"bg-white bg-opacity-50"}`,onClick:()=>d(j)},j))})]}):i.jsx("div",{className:"h-full w-full flex items-center justify-center bg-charcoal-100",children:i.jsx("p",{className:"text-muted-foreground",children:"Gambar tidak tersedia"})}),e.discount&&e.discount>0&&i.jsxs("div",{className:"absolute top-2 right-2 bg-flame-500 text-white text-sm px-3 py-1 rounded-full",children:[e.discount,"% DISKON"]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:e.type}),i.jsx("h2",{className:"text-xl font-bold",children:e.name})]}),i.jsx("div",{className:"text-right",children:e.discount&&e.discount>0?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"font-bold text-lg text-flame-500",children:Te(v)}),i.jsx("div",{className:"text-sm text-muted-foreground line-through",children:Te(e.price)})]}):i.jsx("div",{className:"font-bold text-lg",children:Te(e.price)})})]}),i.jsxs("div",{className:"flex items-center mt-1",children:[i.jsx("div",{className:"flex mr-2",children:[1,2,3,4,5].map(_=>i.jsx(pue,{size:16,className:`${_<=(e.rating||0)?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},_))}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.rating||0," (",e.review_count||0," ulasan)"]})]}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs ${e.in_stock?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:e.in_stock?"Tersedia":"Habis"}),e.origin&&i.jsxs("span",{className:"inline-block ml-2 text-xs text-muted-foreground",children:["Asal: ",e.origin]})]})]}),i.jsx(Ks,{className:"my-4"}),i.jsxs(Ia,{defaultValue:"description",className:"mt-4",children:[i.jsxs(la,{className:"w-full grid grid-cols-3",children:[i.jsx(nr,{value:"description",children:"Deskripsi"}),i.jsx(nr,{value:"specifications",children:"Spesifikasi"}),i.jsx(nr,{value:"reviews",children:"Ulasan"})]}),i.jsxs(Sr,{value:"description",className:"mt-4",children:[i.jsx("p",{className:"text-sm",children:e.description||"Tidak ada deskripsi tersedia."}),e.seller&&i.jsx("div",{children:i.jsxs("p",{className:"text-sm mt-4",children:[i.jsx("span",{className:"font-medium",children:"Penjual:"})," ",e.seller]})}),i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Tipe:"})," ",e.type]}),e.weight&&i.jsxs("p",{className:"text-sm mt-2",children:[i.jsx("span",{className:"font-medium",children:"Berat:"})," ",e.weight," kg"]})]}),i.jsx(Sr,{value:"specifications",className:"mt-4",children:e.specifications&&Object.keys(e.specifications).length>0?i.jsx("div",{className:"rounded-md border overflow-hidden",children:i.jsx("table",{className:"min-w-full",children:i.jsx("tbody",{children:Object.entries(e.specifications).map(([_,j],S)=>i.jsxs("tr",{className:S%2===0?"bg-secondary":"",children:[i.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:_}),i.jsx("td",{className:"px-4 py-2 text-sm",children:String(j)})]},_))})})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tidak ada spesifikasi tersedia."})}),i.jsx(Sr,{value:"reviews",className:"mt-4",children:i.jsx("div",{className:"space-y-4",children:e.review_count&&e.review_count>0?i.jsx(i.Fragment,{children:i.jsx("p",{className:"text-sm",children:"Ulasan akan ditampilkan di sini."})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Belum ada ulasan."})})})]})]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-10",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(Z,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:y,disabled:l<=1,children:i.jsx(Kz,{className:"h-4 w-4"})}),i.jsx("span",{className:"px-4 py-2 border-l border-r min-w-[40px] text-center",children:l}),i.jsx(Z,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:x,children:i.jsx(mp,{className:"h-4 w-4"})})]}),i.jsxs(Z,{className:"flex-1 ml-4 bg-flame-500 hover:bg-flame-600",onClick:p,disabled:!e.in_stock,children:[i.jsx(Ej,{className:"h-4 w-4 mr-2"}),Te(v*l)]})]})})]})})},CCe=()=>{const{items:t,updateQuantity:e,removeItem:r,total:n,clearCart:s}=pC(),{user:a}=xn(),o=ar(),l=d=>{r(d),Se({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})},c=(d,f)=>{f<=0?(r(d),Se({title:"Item dihapus",description:"Item telah dihapus dari keranjang Anda."})):e(d,f)},u=()=>{if(t.length===0){Se({title:"Keranjang kosong",description:"Silakan tambahkan item ke keranjang Anda sebelum checkout",variant:"destructive"});return}if(!a){Se({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"});return}o("/checkout")};return i.jsx(br,{children:i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),t.length>0?i.jsxs("div",{children:[i.jsx("div",{className:"space-y-4 mb-6",children:t.map(d=>i.jsx(Ue,{className:"overflow-hidden shadow-sm",children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-20 w-20 bg-charcoal-100 rounded flex-shrink-0",children:i.jsx("img",{src:d.image||"/placeholder.svg",alt:d.name,className:"h-full w-full object-cover"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground",children:d.type}),i.jsx(Dt,{to:`/product/${d.id}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-1 mb-1",children:d.name})}),i.jsx("span",{className:"font-bold",children:Te(d.price)})]}),i.jsx("button",{onClick:()=>l(d.id),className:"text-muted-foreground hover:text-destructive",children:i.jsx(Zv,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs("div",{className:"flex items-center border rounded-md",children:[i.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-r-none p-0",onClick:()=>c(d.id,d.quantity-1),children:i.jsx(Kz,{className:"h-3 w-3"})}),i.jsx("span",{className:"px-3 py-1 text-sm border-l border-r",children:d.quantity}),i.jsx(Z,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-l-none p-0",onClick:()=>c(d.id,d.quantity+1),children:i.jsx(mp,{className:"h-3 w-3"})})]}),i.jsx("span",{className:"font-bold",children:Te(d.price*d.quantity)})]})]})]})})},d.id))}),i.jsxs("button",{onClick:()=>{s(),Se({title:"Keranjang dikosongkan",description:"Semua item telah dihapus dari keranjang Anda."})},className:"text-sm text-muted-foreground hover:text-destructive mb-4 flex items-center",children:[i.jsx(Zv,{className:"h-4 w-4 mr-1"}),"Kosongkan keranjang"]}),i.jsxs("div",{className:"bg-secondary rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:Te(n)})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:Te(5e3)})]}),i.jsx(Ks,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:Te(n+5e3)})]})]}),i.jsx(Z,{onClick:u,className:"w-full bg-flame-500 hover:bg-flame-600",children:a?"Lanjut ke Pembayaran":"Login untuk Checkout"})]}):i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"text-charcoal-400 mb-4",children:i.jsx(BCe,{size:64,className:"mx-auto"})}),i.jsx("h2",{className:"text-xl font-medium mb-2",children:"Keranjang Anda kosong"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Sepertinya Anda belum menambahkan produk arang ke keranjang."}),i.jsx(Dt,{to:"/search",children:i.jsx(Z,{className:"bg-flame-500 hover:bg-flame-600",children:"Jelajahi Produk"})})]})]})})},BCe=({size:t=24,className:e=""})=>i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[i.jsx("circle",{cx:"8",cy:"21",r:"1"}),i.jsx("circle",{cx:"19",cy:"21",r:"1"}),i.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]});var e4="Radio",[ECe,Cee]=Pa(e4),[SCe,NCe]=ECe(e4),Bee=w.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:a,disabled:o,value:l="on",onCheck:c,form:u,...d}=t,[f,m]=w.useState(null),p=Ht(e,v=>m(v)),y=w.useRef(!1),x=f?u||!!f.closest("form"):!0;return i.jsxs(SCe,{scope:r,checked:s,disabled:o,children:[i.jsx(yt.button,{type:"button",role:"radio","aria-checked":s,"data-state":Nee(s),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:p,onClick:Ye(t.onClick,v=>{s||c==null||c(),x&&(y.current=v.isPropagationStopped(),y.current||v.stopPropagation())})}),x&&i.jsx(TCe,{control:f,bubbles:!y.current,name:n,value:l,checked:s,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Bee.displayName=e4;var Eee="RadioIndicator",See=w.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,a=NCe(Eee,r);return i.jsx(ua,{present:n||a.checked,children:i.jsx(yt.span,{"data-state":Nee(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:e})})});See.displayName=Eee;var TCe=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=w.useRef(null),o=Gx(r),l=Ox(e);return w.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(m)}},[o,r,n]),i.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nee(t){return t?"checked":"unchecked"}var kCe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],t4="RadioGroup",[ICe,Vze]=Pa(t4,[BC,Cee]),Tee=BC(),kee=Cee(),[PCe,OCe]=ICe(t4),Iee=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:a,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:d=!0,onValueChange:f,...m}=t,p=Tee(r),y=Np(u),[x,v]=Ri({prop:a,defaultProp:s,onChange:f});return i.jsx(PCe,{scope:r,name:n,required:o,disabled:l,value:x,onValueChange:v,children:i.jsx(uee,{asChild:!0,...p,orientation:c,dir:y,loop:d,children:i.jsx(yt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:y,...m,ref:e})})})});Iee.displayName=t4;var Pee="RadioGroupItem",Oee=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,a=OCe(Pee,r),o=a.disabled||n,l=Tee(r),c=kee(r),u=w.useRef(null),d=Ht(e,u),f=a.value===s.value,m=w.useRef(!1);return w.useEffect(()=>{const p=x=>{kCe.includes(x.key)&&(m.current=!0)},y=()=>m.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",y),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",y)}},[]),i.jsx(Aee,{asChild:!0,...l,focusable:!o,active:f,children:i.jsx(Bee,{disabled:o,required:a.required,checked:f,...c,...s,name:a.name,ref:d,onCheck:()=>a.onValueChange(s.value),onKeyDown:Ye(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:Ye(s.onFocus,()=>{var p;m.current&&((p=u.current)==null||p.click())})})})});Oee.displayName=Pee;var FCe="RadioGroupIndicator",Fee=w.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=kee(r);return i.jsx(See,{...s,...n,ref:e})});Fee.displayName=FCe;var Ree=Iee,Dee=Oee,RCe=Fee;const dv=w.forwardRef(({className:t,...e},r)=>i.jsx(Ree,{className:Ee("grid gap-2",t),...e,ref:r}));dv.displayName=Ree.displayName;const sd=w.forwardRef(({className:t,...e},r)=>i.jsx(Dee,{ref:r,className:Ee("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:i.jsx(RCe,{className:"flex items-center justify-center",children:i.jsx(Wce,{className:"h-2.5 w-2.5 fill-current text-current"})})}));sd.displayName=Dee.displayName;var DCe="Label",Uee=w.forwardRef((t,e)=>i.jsx(yt.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Uee.displayName=DCe;var Mee=Uee;const UCe=hp("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=w.forwardRef(({className:t,...e},r)=>i.jsx(Mee,{ref:r,className:Ee(UCe(),t),...e}));ze.displayName=Mee.displayName;let nb;const MCe=new Uint8Array(16);function QCe(){if(!nb&&(nb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!nb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return nb(MCe)}const ds=[];for(let t=0;t<256;++t)ds.push((t+256).toString(16).slice(1));function LCe(t,e=0){return ds[t[e+0]]+ds[t[e+1]]+ds[t[e+2]]+ds[t[e+3]]+"-"+ds[t[e+4]]+ds[t[e+5]]+"-"+ds[t[e+6]]+ds[t[e+7]]+"-"+ds[t[e+8]]+ds[t[e+9]]+"-"+ds[t[e+10]]+ds[t[e+11]]+ds[t[e+12]]+ds[t[e+13]]+ds[t[e+14]]+ds[t[e+15]]}const HCe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),pH={randomUUID:HCe};function ss(t,e,r){if(pH.randomUUID&&!t)return pH.randomUUID();t=t||{};const n=t.random||(t.rng||QCe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,LCe(n)}const mu={async getVouchers(t=100,e=0,r){try{console.log("Fetching vouchers with params:",{limit:t,offset:e,filters:r});const{error:n}=await oe.from("vouchers").select("count",{count:"exact",head:!0});if(n)return console.error("Error checking vouchers table:",n),n.code==="PGRST116"||n.message&&n.message.includes("does not exist")?{data:[],error:new Error("Tabel vouchers belum dibuat. Klik tombol Inisialisasi Data untuk membuat tabel.")}:{data:[],error:n};let s=oe.from("vouchers").select("*").order("created_at",{ascending:!1});r&&(r.is_active!==void 0&&(s=s.eq("is_active",r.is_active)),r.search&&(s=s.or(`code.ilike.%${r.search}%,description.ilike.%${r.search}%`))),s=s.range(e,e+t-1),console.log("Executing query for vouchers...");const{data:a,error:o}=await s;return o?(console.error("Error in vouchers query:",o),{data:[],error:o}):(console.log("Successfully fetched vouchers:",(a==null?void 0:a.length)||0,"results"),{data:a,error:null})}catch(n){return console.error("Error fetching vouchers:",n),{data:[],error:n}}},async addVoucher(t){try{const e=["code","discount_type","discount_value","start_date","end_date","is_active"];for(const o of e)if(!t[o])throw new Error(`Field ${o} wajib diisi`);const{data:r,error:n}=await oe.from("vouchers").select("code").eq("code",t.code).maybeSingle();if(n)throw console.error("Error checking unique voucher:",n),new Error(`Gagal memeriksa kode voucher: ${n.message||"Unknown error"}`);if(r)throw new Error(`Kode voucher '${t.code}' sudah digunakan`);if(t.id||(t.id=ss()),t.usage_count===void 0&&(t.usage_count=0),t.created_at||(t.created_at=new Date().toISOString()),typeof t.start_date=="string"&&!t.start_date.includes("T"))try{t.start_date=new Date(`${t.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${t.start_date}`)}if(typeof t.end_date=="string"&&!t.end_date.includes("T"))try{t.end_date=new Date(`${t.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${t.end_date}`)}console.log("Saving voucher data:",JSON.stringify(t,null,2));const{data:s,error:a}=await oe.from("vouchers").insert(t).select().single();if(a)throw console.error("Supabase error details:",a),new Error(`Gagal menyimpan voucher: ${a.message||"Unknown database error"}`);return{data:s,error:null}}catch(e){const r=e.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error adding voucher:",r),{data:null,error:new Error(r)}}},async updateVoucher(t,e){try{if(!t)throw new Error("ID voucher tidak boleh kosong");if(e.code){const{data:s,error:a}=await oe.from("vouchers").select("code").eq("code",e.code).neq("id",t).maybeSingle();if(a)throw console.error("Error checking unique voucher:",a),new Error(`Gagal memeriksa kode voucher: ${a.message||"Unknown error"}`);if(s)throw new Error(`Kode voucher '${e.code}' sudah digunakan`)}if(e.start_date&&typeof e.start_date=="string"&&!e.start_date.includes("T"))try{e.start_date=new Date(`${e.start_date}T00:00:00`).toISOString()}catch{throw new Error(`Format tanggal mulai tidak valid: ${e.start_date}`)}if(e.end_date&&typeof e.end_date=="string"&&!e.end_date.includes("T"))try{e.end_date=new Date(`${e.end_date}T23:59:59`).toISOString()}catch{throw new Error(`Format tanggal berakhir tidak valid: ${e.end_date}`)}e.updated_at=new Date().toISOString(),console.log("Updating voucher data:",JSON.stringify({id:t,voucher:e},null,2));const{data:r,error:n}=await oe.from("vouchers").update(e).eq("id",t).select().single();if(n)throw console.error("Supabase error details:",n),new Error(`Gagal memperbarui voucher: ${n.message||"Unknown database error"}`);return{data:r,error:null}}catch(r){const n=r.message||"Terjadi kesalahan yang tidak diketahui";return console.error("Error updating voucher:",n),{data:null,error:new Error(n)}}},async deleteVoucher(t){try{const{error:e}=await oe.from("vouchers").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting voucher:",e),{data:null,error:e}}},async toggleVoucherStatus(t,e){try{const{data:r,error:n}=await oe.from("vouchers").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return{data:r,error:null}}catch(r){return console.error("Error toggling voucher status:",r),{data:null,error:r}}},async getVoucherByCode(t){try{const{data:e,error:r}=await oe.from("vouchers").select("*").eq("code",t).eq("is_active",!0).single();if(r){if(r.code==="PGRST116")return{data:null,error:new Error("Kode voucher tidak valid atau sudah tidak aktif")};throw r}const n=new Date,s=new Date(e.start_date),a=new Date(e.end_date);return n<s?{data:null,error:new Error("Voucher belum berlaku")}:n>a?{data:null,error:new Error("Voucher sudah berakhir")}:e.usage_limit&&e.usage_count>=e.usage_limit?{data:null,error:new Error("Voucher sudah mencapai batas penggunaan")}:{data:e,error:null}}catch(e){return console.error("Error getting voucher by code:",e),{data:null,error:e}}},calculateDiscount(t,e){if(t.min_purchase&&e<t.min_purchase)return 0;let r=0;return t.discount_type==="percentage"?(r=e*(t.discount_value/100),t.max_discount&&r>t.max_discount&&(r=t.max_discount)):(r=t.discount_value,r>e&&(r=e)),r},async incrementUsageCount(t){try{const{data:e,error:r}=await oe.from("vouchers").select("usage_count").eq("id",t).single();if(r)throw r;const n=(e.usage_count||0)+1,{data:s,error:a}=await oe.from("vouchers").update({usage_count:n,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(a)throw a;return{data:s,error:null}}catch(e){return console.error("Error incrementing voucher usage count:",e),{data:null,error:e}}}},fd={async getTransactions(t=100,e=0,r){try{let n=oe.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!1}).range(e,e+t-1);r&&(r.transaction_type&&(n=n.eq("transaction_type",r.transaction_type)),r.from_date&&(n=n.gte("transaction_date",r.from_date)),r.to_date&&(n=n.lte("transaction_date",r.to_date)),r.search&&(n=n.or(`source_destination.ilike.%${r.search}%,document_reference.ilike.%${r.search}%,notes.ilike.%${r.search}%`)));const{data:s,error:a}=await n;return{data:s,error:a}}catch(n){return console.error("Error fetching coal inventory transactions:",n),{data:null,error:n}}},async getSummary(){try{const{data:t,error:e}=await oe.from("coal_inventory_summary").select("*").single();return{data:t,error:e}}catch(t){return console.error("Error fetching coal inventory summary:",t),{data:null,error:t}}},async addTransaction(t){try{const e=["transaction_date","transaction_type","quantity_kg","source_destination","created_by"];for(const s of e)if(!t[s])throw new Error(`Field ${s} wajib diisi`);t.id||(t.id=ss()),t.created_at||(t.created_at=new Date().toISOString()),t.price_per_kg&&t.quantity_kg&&(t.total_amount=t.price_per_kg*t.quantity_kg),console.log("Menambahkan transaksi baru:",t);const{data:r,error:n}=await oe.from("coal_inventory_transactions").insert(t).select().single();if(n)throw console.error("Database error saat menambahkan transaksi:",n),n;if(!r)throw new Error("Tidak ada data yang dikembalikan setelah insert");return await this.updateInventorySummary(),{data:r,error:null}}catch(e){return console.error("Error adding coal inventory transaction:",e),{data:null,error:e}}},async updateTransaction(t,e){try{e.price_per_kg&&e.quantity_kg&&(e.total_amount=e.price_per_kg*e.quantity_kg);const{data:r,error:n}=await oe.from("coal_inventory_transactions").update(e).eq("id",t).select().single();if(n)throw n;return await this.updateInventorySummary(),{data:r,error:null}}catch(r){return console.error("Error updating coal inventory transaction:",r),{data:null,error:r}}},async deleteTransaction(t){try{const{error:e}=await oe.from("coal_inventory_transactions").delete().eq("id",t);if(e)throw e;return await this.updateInventorySummary(),{data:null,error:null}}catch(e){return console.error("Error deleting coal inventory transaction:",e),{data:null,error:e}}},async reduceStockFromOrder(t,e,r){try{const n=e.reduce((o,l)=>l.productName.toLowerCase().includes("arang")?o+l.quantity:o,0);if(n<=0)return!0;const s={id:ss(),transaction_date:new Date().toISOString(),transaction_type:"outgoing",quantity_kg:n,source_destination:`Order #${t.substring(0,8)}`,notes:`Pengurangan stok otomatis untuk pesanan #${t.substring(0,8)}`,created_by:r,created_at:new Date().toISOString(),document_reference:t},{error:a}=await oe.from("coal_inventory_transactions").insert(s);return a?(console.error("Error reducing coal stock:",a),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in reduceStockFromOrder:",n),!1}},async restoreStockFromCancelledOrder(t,e,r){try{const n=e.reduce((l,c)=>c.productName.toLowerCase().includes("arang")?l+c.quantity:l,0);if(n<=0)return!0;const{data:s}=await oe.from("coal_inventory_transactions").select("*").eq("document_reference",t).eq("transaction_type","outgoing");if(!s||s.length===0)return console.log(`No previous stock reduction found for order ${t}`),!0;const a={id:ss(),transaction_date:new Date().toISOString(),transaction_type:"incoming",quantity_kg:n,source_destination:`Cancelled Order #${t.substring(0,8)}`,notes:`Pengembalian stok otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`,created_by:r,created_at:new Date().toISOString(),document_reference:t,quality_grade:"standard",vehicle_info:"cancelled_order_return"},{error:o}=await oe.from("coal_inventory_transactions").insert(a);return o?(console.error("Error restoring coal stock:",o),!1):(await this.updateInventorySummary(),!0)}catch(n){return console.error("Error in restoreStockFromCancelledOrder:",n),!1}},async updateInventorySummary(){try{const{data:t,error:e}=await oe.from("coal_inventory_transactions").select("*").order("transaction_date",{ascending:!0});if(e){console.error("Error fetching coal transactions:",e);return}if(!t||t.length===0)return;let r=0,n=0,s=0,a=0,o=0,l=0,c=0,u="",d=0;t.forEach(S=>{const C=S.transaction_type==="incoming"&&S.vehicle_info==="cancelled_order_return";if(S.transaction_type==="incoming")C?d+=S.quantity_kg:r+=S.quantity_kg,S.quality_grade==="premium"?s+=S.quantity_kg:S.quality_grade==="standard"?a+=S.quantity_kg:S.quality_grade==="economy"&&(o+=S.quantity_kg),!C&&S.price_per_kg&&S.price_per_kg>0&&(l+=S.price_per_kg*S.quantity_kg,c+=S.quantity_kg);else if(S.transaction_type==="outgoing"){n+=S.quantity_kg;let N=S.quantity_kg;if(o>0){const k=Math.min(o,N);o-=k,N-=k}if(N>0&&a>0){const k=Math.min(a,N);a-=k,N-=k}if(N>0&&s>0){const k=Math.min(s,N);s-=k}}(!u||new Date(S.transaction_date)>new Date(u))&&(u=S.transaction_date)});const f=r-n+d,m=c>0?l/c:0,p=f*m;console.log("Inventory Summary Calculation:",{totalIncoming:r,totalOutgoing:n,cancelledOrderStock:d,currentStock:f,totalPremium:s,totalStandard:a,totalEconomy:o});const y=Math.max(0,s),x=Math.max(0,a),v=Math.max(0,o),_={total_incoming_kg:r,total_outgoing_kg:n,current_stock_kg:f,average_price_per_kg:m,last_transaction_date:u,stock_value:p,premium_stock_kg:y,standard_stock_kg:x,economy_stock_kg:v},{data:j}=await oe.from("coal_inventory_summary").select("id").limit(1);j&&j.length>0?await oe.from("coal_inventory_summary").update(_).eq("id",j[0].id):await oe.from("coal_inventory_summary").insert({..._,id:ss()})}catch(t){console.error("Error updating inventory summary:",t)}}};ND(Bp);const $Ce=async t=>{try{const{data:e,error:r}=await oe.from("profiles").select("name, email, phone").eq("id",t.user_id).single();if(r)throw console.error("Error fetching customer data:",r),r;console.log("Skipping Firebase notifications due to API configuration issues");try{const n={...t};let s={street:"N/A",city:"N/A",province:"N/A",postal_code:"N/A"};if(t.shipping_address_id){const{data:p,error:y}=await oe.from("addresses").select("street, city, province, postal_code, district, recipient_name, recipient_phone").eq("id",t.shipping_address_id).single();!y&&p&&(s=p)}let a={name:"JPC Delivery",cost:0,provider:"JPC",service:"Regular"};const o=t.shipping_id||t.shipping_method_id;if(o){const{data:p,error:y}=await oe.from("shipping_methods").select("name, provider, service, cost").eq("id",o).single();!y&&p&&(a=p,n.shipping_cost=p.cost)}let l=null;const c=t.discount_id||t.voucher_id;if(c){const{data:p,error:y}=await oe.from("discounts").select("code, type, value, description").eq("id",c).single();!y&&p&&(l=p,n.discount_data=p)}let u={name:"Transfer Bank",bank_name:"SeaBank",account_number:"901958730549"};if(t.payment_method){const p=typeof t.payment_method=="string"?t.payment_method_id||"":t.payment_method;if(p){const{data:y,error:x}=await oe.from("payment_methods").select("name, bank_name, account_number, description").eq("id",p).single();!x&&y&&(u=y)}}const{data:d,error:f}=await oe.from("order_items").select("product_name, quantity, price, product_id, variant, unit").eq("order_id",t.id),m=!f&&Array.isArray(d)?d:[];if(console.log("WhatsApp Order Data:",{orderID:n.id,customerPhone:e==null?void 0:e.phone,itemsCount:m.length,hasShippingData:!!a,hasPaymentData:!!u}),e!=null&&e.phone)try{e.phone.trim()===""?console.log("Customer phone number is empty, skipping WhatsApp notification"):(console.log("Sending WhatsApp notification to customer:",e.phone),await r_e(n,e,s,m,a,u)?console.log("✅ WhatsApp notification sent successfully to customer:",e.phone):console.error("❌ Failed to send WhatsApp notification to customer"))}catch(p){console.error("Error sending WhatsApp notification to customer:",p)}else console.log("Customer has no phone number, WhatsApp notification will be skipped");console.log("Admin WhatsApp notifications will be handled by notification-service.ts to avoid duplicates")}catch(n){console.error("Error in WhatsApp notification process:",n)}return!0}catch(e){return console.error("Error sending notification to customer:",e),!1}},ru=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],gH=t=>({"bank-transfer":"Transfer Bank",cod:"Bayar di Tempat (COD)",qris:"QRIS","credit-card":"Kartu Kredit",ewallet:"E-Wallet"})[t]||t,VCe=()=>{var ee,ue,xe;const{items:t,clearCart:e}=pC(),r=ar(),{user:n,profile:s}=xn(),a=t.reduce((me,ye)=>me+ye.price*ye.quantity,0),o=parseFloat(a.toFixed(2)),[l,c]=w.useState("bank-transfer"),[u,d]=w.useState(ru[0].bank),[f,m]=w.useState(""),[p,y]=w.useState(""),[x,v]=w.useState([]),[_,j]=w.useState(!1),[S,C]=w.useState([]),[N,k]=w.useState(""),[E,T]=w.useState(!1),[P,O]=w.useState(null),[D,M]=w.useState(0),[F,G]=w.useState(!1),[W,V]=w.useState(null),H=((ee=S.find(me=>me.id===f))==null?void 0:ee.cost)||0,Q=o-D,z=Q+H;w.useEffect(()=>{n||(r("/cart"),Se({title:"Login Diperlukan",description:"Silakan login untuk melanjutkan ke checkout",variant:"destructive"}))},[n,r]),w.useEffect(()=>{t.length===0&&r("/cart")},[t,r]),w.useEffect(()=>{(async()=>{if(n)try{const{data:ye,error:je}=await oe.from("addresses").select("*").eq("user_id",n.id);if(je)throw je;if(ye&&ye.length>0){const Fe=ye.map(ke=>({id:ke.id,name:ke.name,street:ke.street,city:ke.city,state:ke.state,zip:ke.zip,country:ke.country,isDefault:ke.is_default,user_id:ke.user_id,created_at:ke.created_at}));v(Fe);const ne=Fe.find(ke=>ke.isDefault);ne?y(ne.id):Fe.length>0&&y(Fe[0].id)}}catch(ye){console.error("Error fetching addresses:",ye),Se({title:"Error",description:"Tidak dapat memuat alamat Anda",variant:"destructive"})}})()},[n]),w.useEffect(()=>{(async()=>{try{const{data:ye,error:je}=await oe.from("shipping_methods").select("*").eq("active",!0);if(je)throw je;if(ye&&ye.length>0)C(ye),m(ye[0].id);else{const Fe=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];C(Fe),m(Fe[0].id)}}catch(ye){console.error("Error fetching shipping methods:",ye);const je=[{id:"standard",name:"Pengiriman Standar",cost:15e3,estimated_days:5,carrier:"JNE"},{id:"express",name:"Pengiriman Express",cost:3e4,estimated_days:2,carrier:"JNE Express"}];C(je),m(je[0].id)}})()},[]);const q=async()=>{if(!N.trim()){Se({title:"Kode Voucher Kosong",description:"Silakan masukkan kode voucher",variant:"destructive"});return}T(!0);try{const{data:me,error:ye}=await mu.getVoucherByCode(N);if(ye)throw ye;if(!me)throw new Error("Voucher tidak ditemukan");if(me.min_purchase&&o<me.min_purchase)throw new Error(`Minimum pembelian untuk voucher ini adalah ${Te(me.min_purchase)}`);const je=mu.calculateDiscount(me,o);O(me),M(je),Se({title:"Voucher Diterapkan",description:`Anda mendapatkan diskon sebesar ${Te(je)}`,variant:"default"})}catch(me){console.error("Error applying voucher:",me),Se({title:"Gagal Menerapkan Voucher",description:me.message||"Terjadi kesalahan saat menerapkan voucher",variant:"destructive"})}finally{T(!1)}},$=()=>{O(null),M(0),k(""),Se({title:"Voucher Dihapus",description:"Voucher telah dihapus dari pesanan Anda",variant:"default"})},J=async()=>{var me,ye;if(!n||t.length===0||!p||p==="undefined"){Se({title:"Error",description:"Data tidak lengkap untuk membuat pesanan",variant:"destructive"});return}try{j(!0),console.log("Creating order with data:",{user_id:n.id,total:z,status:"pending",payment_method:l,shipping_address_id:p,payment_details:l==="bank-transfer"?u:null,voucher_id:(P==null?void 0:P.id)||null,discount_amount:D||0});const{data:je,error:Fe}=await oe.from("orders").insert({user_id:n.id,total:z,status:"pending",payment_method:l,shipping_address_id:p,date:new Date().toISOString(),payment_details:l==="bank-transfer"?u:null,voucher_id:(P==null?void 0:P.id)||null,discount_amount:D||0}).select().single();if(Fe)throw console.error("Order creation error:",Fe),Fe;console.log("Order created successfully:",je);for(const ke of t){console.log("Inserting order item:",{order_id:je.id,product_id:ke.id,product_name:ke.name,quantity:ke.quantity,price:ke.price});const{error:We}=await oe.from("order_items").insert({order_id:je.id,product_id:ke.id,product_name:ke.name,quantity:ke.quantity,price:ke.price});if(We)throw console.error("Error inserting order item:",We),We}try{await fd.reduceStockFromOrder(je.id,t.map(ke=>({productName:ke.name,quantity:ke.quantity})),n.id),console.log("Coal inventory updated after order creation")}catch(ke){console.error("Error updating coal inventory:",ke)}if(P)try{await mu.incrementUsageCount(P.id),console.log("Voucher usage count updated")}catch(ke){console.error("Error updating voucher usage count:",ke)}Se({title:"Pesanan berhasil dibuat!",description:"Terima kasih atas pembelian Anda."});try{await NY(je),console.log("Order notification sent to admins")}catch(ke){console.error("Error sending order notification to admins:",ke)}try{const{data:ke}=await oe.from("addresses").select("*").eq("id",p).single(),{data:We}=await oe.from("order_items").select("*").eq("order_id",je.id),ct={name:gH(l),bank_name:l==="bank-transfer"?u:void 0,account_number:l==="bank-transfer"?(me=ru.find(de=>de.bank===u))==null?void 0:me.accountNumber:void 0,account_name:l==="bank-transfer"?(ye=ru.find(de=>de.bank===u))==null?void 0:ye.accountName:void 0},ft=S.find(de=>de.id===f),Xt={name:(ft==null?void 0:ft.name)||"Pengiriman Standar",cost:(ft==null?void 0:ft.cost)||H,estimated_days:(ft==null?void 0:ft.estimated_days)||2,carrier:"JPC Delivery"},re={...je,shipping_cost:H,shipping_provider:Xt.carrier,shipping_service:Xt.name,shipping_estimate:`${Xt.estimated_days} hari`,discount_data:P?{code:P.code,value:D,type:"fixed"}:void 0,payment_status:"Belum dibayar"};console.log("Sending order details to customer via notification service"),await $Ce(re),console.log("WhatsApp notification is handled by the notification service"),s!=null&&s.phone||console.log("Customer has no phone number, WhatsApp notification may be skipped")}catch(ke){console.error("Error sending notification to customer:",ke)}e();const ne=je.id;sessionStorage.setItem("lastCompletedOrderId",ne),console.log(`⏩ Redirecting to order details page: /order/${ne}`),Se({title:"Mengarahkan ke halaman detail pesanan",description:"Mohon tunggu sebentar..."}),e(),Se({title:"Pesanan Berhasil Dibuat",description:"Anda akan diarahkan ke halaman detail pesanan.",className:"bg-green-100 border-green-400"}),setTimeout(()=>{r(`/order/${je.id}`)},1500)}catch(je){console.error("Error placing order:",je),Se({title:"Error",description:"Tidak dapat membuat pesanan Anda. Silakan coba lagi.",variant:"destructive"})}finally{j(!1)}},le=me=>{c(me)};if(!n||x.length===0)return i.jsx(br,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs(Dt,{to:"/cart",className:"flex items-center text-charcoal-600",children:[i.jsx(wo,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-lg font-medium flex-1 text-center",children:"Checkout"}),i.jsx("div",{className:"w-8"})]}),i.jsxs("div",{className:"text-center py-10",children:[i.jsx("p",{className:"mb-4",children:"Anda perlu menambahkan alamat pengiriman sebelum checkout."}),i.jsx(Dt,{to:"/address/new",children:i.jsx(Z,{className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})})]})]})});const ae=()=>{const[me,ye]=w.useState(!0),[je,Fe]=w.useState(null),[ne,ke]=w.useState([]),[We,ct]=w.useState(null),[ft,Xt]=w.useState(null),[re,de]=w.useState(null);return W?(w.useEffect(()=>{async function ge(){ye(!0);try{const{data:Ie,error:He}=await oe.from("orders").select("*").eq("id",W.id).single();if(He)throw He;Fe(Ie);const{data:Re,error:ut}=await oe.from("order_items").select("*").eq("order_id",W.id);if(ut)throw ut;if(ke(Re||[]),Ie.shipping_address_id){const{data:jt,error:St}=await oe.from("addresses").select("*").eq("id",Ie.shipping_address_id).single();!St&&jt&&ct(jt)}const kt=Ie.shipping_id||Ie.shipping_method_id;if(kt){const{data:jt,error:St}=await oe.from("shipping_methods").select("*").eq("id",kt).single();!St&&jt&&Xt(jt)}if(Ie.payment_method==="bank-transfer")try{if(Ie.payment_details&&typeof Ie.payment_details=="string"){const jt=JSON.parse(Ie.payment_details);de(jt)}else{const jt=ru.find(St=>St.bank===u);de(jt||{bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(jt){console.error("Error parsing payment details:",jt),de({bank:"SeaBank",accountNumber:"901958730549",accountName:"Jaya Perkasa Charcoal"})}}catch(Ie){console.error("Error fetching order details:",Ie),Se({title:"Error",description:"Gagal memuat detail pesanan. Silakan coba lagi nanti.",variant:"destructive"})}finally{ye(!1)}}ge()},[W.id]),me?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx(jr,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),i.jsx("p",{children:"Memuat detail pesanan..."})]}):i.jsxs("div",{id:"order-completed-details",className:"p-4 bg-green-50 rounded-lg border border-green-200 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[i.jsx(nL,{className:"h-6 w-6 text-green-500"}),i.jsx("h2",{className:"text-xl font-bold text-green-700",children:"Pesanan Berhasil!"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsxs("h3",{className:"font-bold text-lg mb-2",children:["Detail Pesanan #",W.id]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Status:"}),i.jsx("span",{className:"font-medium bg-green-100 text-green-800 px-2 py-0.5 rounded",children:"Baru"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tanggal:"}),i.jsx("span",{children:new Date().toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Total:"}),i.jsx("span",{className:"font-bold",children:Te(W.total)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode Pembayaran:"}),i.jsx("span",{children:gH(W.payment_method)})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Item Pesanan"}),i.jsx("div",{className:"space-y-3",children:ne.map((ge,Ie)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[ge.product_image?i.jsx("img",{src:ge.product_image,alt:ge.product_name,className:"w-12 h-12 object-cover rounded"}):i.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center",children:i.jsx(Bj,{className:"h-6 w-6 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ge.product_name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ge.quantity," x ",Te(ge.price),ge.variant&&i.jsxs("span",{className:"ml-1",children:["(",ge.variant,")"]})]})]})]}),i.jsx("div",{className:"font-medium",children:Te(ge.price*ge.quantity)})]},Ie))})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Informasi Pengiriman"}),We&&i.jsxs("div",{className:"mb-3",children:[i.jsx("div",{className:"font-medium",children:We.recipient_name||We.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[We.street,",",We.district&&`${We.district}, `,We.city,",",We.province,We.postal_code]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:We.recipient_phone||We.phone})]}),ft&&i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:ft.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[ft.provider," ",ft.service]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Estimasi ",ft.estimated_days||2," jam"]})]}),i.jsx("div",{className:"font-medium",children:Te(ft.cost)})]})]}),(je==null?void 0:je.payment_method)==="bank-transfer"&&re&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Instruksi Pembayaran"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Bank:"}),i.jsx("div",{className:"font-medium",children:re.bank||re.bank_name})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Nomor Rekening:"}),i.jsx("div",{className:"font-medium",children:re.accountNumber||re.account_number})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Atas Nama:"}),i.jsx("div",{className:"font-medium",children:re.accountName||re.account_name||"Jaya Perkasa Charcoal"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Jumlah:"}),i.jsx("div",{className:"font-bold text-lg",children:Te(je.total)})]}),i.jsx("div",{className:"pt-2 text-sm text-muted-foreground",children:"Silakan lakukan pembayaran dalam waktu 24 jam. Setelah melakukan pembayaran, pesanan Anda akan diproses."})]})]}),i.jsxs("div",{className:"flex flex-col gap-3",children:[i.jsx(Z,{onClick:()=>r("/"),className:"bg-flame-500 hover:bg-flame-600 w-full",children:"Lanjutkan Belanja"}),i.jsx(Z,{onClick:()=>r(`/order/${W.id}`),variant:"outline",className:"w-full",children:"Lihat Detail Pesanan"})]})]})):i.jsx("div",{className:"p-4 text-center",children:"Memuat detail pesanan..."})};return F&&W?i.jsxs(br,{children:[i.jsxs("div",{className:"p-4 flex items-center justify-between shadow-sm mb-4",children:[i.jsxs(Dt,{to:"/",className:"text-charcoal-600 flex items-center",children:[i.jsx(wo,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Beranda"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Detail Pesanan"}),i.jsx("div",{className:"w-8"})]}),i.jsx(ae,{})]}):i.jsx(br,{children:i.jsxs("div",{className:"pb-28",children:[i.jsxs("div",{className:"sticky top-0 z-10 bg-background p-4 flex items-center justify-between shadow-sm",children:[i.jsxs(Dt,{to:"/cart",className:"text-charcoal-600 flex items-center",children:[i.jsx(wo,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali ke Keranjang"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:"Checkout"}),i.jsx("div",{className:"w-8"})," "]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Alamat Pengiriman"}),i.jsx(dv,{value:p,onValueChange:y,className:"space-y-3",children:x.map(me=>i.jsx(Ue,{className:`cursor-pointer border-2 ${p===me.id?"border-flame-500":"border-border"}`,onClick:()=>y(me.id),children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sd,{value:me.id,id:`address-${me.id}`,className:"flex-shrink-0"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(ze,{htmlFor:`address-${me.id}`,className:"font-medium cursor-pointer",children:me.name}),me.isDefault&&i.jsx("span",{className:"text-xs bg-charcoal-100 text-charcoal-600 px-2 py-0.5 rounded",children:"Utama"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[me.street,", ",me.city,", ",me.state," ",me.zip]})]})]})})},me.id))}),i.jsx("div",{className:"mt-3",children:i.jsx(Dt,{to:"/address/new",children:i.jsxs(Z,{variant:"outline",className:"w-full text-sm",children:[i.jsx("span",{className:"mr-1",children:"+"})," Tambah Alamat Baru"]})})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pengiriman"}),i.jsx(dv,{value:f,onValueChange:m,children:i.jsx("div",{className:"space-y-3",children:S.map(me=>i.jsx(Ue,{className:`cursor-pointer border-2 ${f===me.id?"border-flame-500":"border-border"}`,children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sd,{value:me.id,id:`shipping-${me.id}`,className:"flex-shrink-0"}),i.jsxs("div",{className:"flex justify-between w-full",children:[i.jsxs(ze,{htmlFor:`shipping-${me.id}`,className:"cursor-pointer",children:[i.jsx("div",{className:"font-medium",children:me.name}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[me.estimated_days," Jam kerja"]})]}),i.jsx("div",{className:"font-medium",children:Te(me.cost)})]})]})})},me.id))})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Metode Pembayaran"}),i.jsx(dv,{value:l,onValueChange:le,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(Ue,{className:`cursor-pointer border-2 ${l==="bank-transfer"?"border-flame-500":"border-border"}`,children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sd,{value:"bank-transfer",id:"bank-transfer",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dz,{className:"h-5 w-5 text-flame-500"}),i.jsx(ze,{htmlFor:"bank-transfer",className:"cursor-pointer",children:"Transfer Bank"})]})]})})}),i.jsx(Ue,{className:`cursor-pointer border-2 ${l==="cod"?"border-flame-500":"border-border"}`,children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sd,{value:"cod",id:"cod",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pR,{className:"h-5 w-5 text-flame-500"}),i.jsx(ze,{htmlFor:"cod",className:"cursor-pointer",children:"Bayar di Tempat (COD)"})]})]})})}),i.jsx(Ue,{className:`cursor-pointer border-2 ${l==="qris"?"border-flame-500":"border-border"}`,children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(sd,{value:"qris",id:"qris",className:"flex-shrink-0"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(yR,{className:"h-5 w-5 text-flame-500"}),i.jsx(ze,{htmlFor:"qris",className:"cursor-pointer",children:"QRIS"})]})]})})})]})}),l==="bank-transfer"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Pilih Bank"}),i.jsx(dv,{value:u,onValueChange:d,className:"space-y-2",children:ru.map(me=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(sd,{value:me.bank,id:`bank-${me.bank}`}),i.jsx(ze,{htmlFor:`bank-${me.bank}`,children:me.bank})]},me.bank))}),i.jsx("div",{className:"mt-3 p-3 bg-background rounded border",children:ru.find(me=>me.bank===u)&&i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"font-medium",children:"Detail Rekening:"}),i.jsxs("p",{className:"mt-1",children:["Bank: ",u]}),i.jsxs("p",{children:["No. Rekening: ",(ue=ru.find(me=>me.bank===u))==null?void 0:ue.accountNumber]}),i.jsxs("p",{children:["Atas Nama: ",(xe=ru.find(me=>me.bank===u))==null?void 0:xe.accountName]})]})})]}),l==="qris"&&i.jsxs("div",{className:"mt-4 p-4 bg-muted rounded-md text-center",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Scan QRIS"}),i.jsx("div",{className:"bg-white p-3 inline-block mx-auto rounded-lg",children:i.jsx("img",{src:"https://jayaperkasacharcoal.co-id.id/qr-code.jpg",alt:"Kode QRIS",className:"w-48 h-48 mx-auto",onError:me=>{const ye=me.target;ye.src="https://jayaperkasacharcoal.co-id.id/qr-code.jpg"}})}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Scan kode QR menggunakan aplikasi DANA atau e-wallet lainnya"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-bold mb-3",children:"Ringkasan Pesanan"}),i.jsx(Ue,{children:i.jsxs(Me,{className:"p-4",children:[i.jsx("div",{className:"space-y-3 mb-3",children:t.map(me=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-sm",children:me.name}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Qty: ",me.quantity," x ",Te(me.price)]})]}),i.jsx("div",{className:"font-medium text-right",children:Te(me.price*me.quantity)})]},me.id))}),i.jsx(Ks,{className:"my-3"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{className:"font-medium",children:Te(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Pengiriman"}),i.jsx("span",{className:"font-medium",children:Te(H)})]}),P?i.jsxs("div",{className:"flex justify-between items-center mt-2 p-2 bg-green-50 rounded-md border border-green-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(nL,{className:"h-4 w-4 text-green-600 mr-2"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:P.code}),i.jsx("p",{className:"text-xs text-gray-500",children:P.discount_type==="percentage"?`Diskon ${P.discount_value}%`:`Diskon ${Te(P.discount_value)}`})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:"text-sm font-medium text-green-600 mr-2",children:["-",Te(D)]}),i.jsx(Z,{variant:"ghost",size:"icon",className:"h-6 w-6 rounded-full text-gray-500 hover:text-red-500 hover:bg-red-50",onClick:$,children:i.jsx(Nj,{className:"h-3 w-3"})})]})]}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("div",{className:"relative flex-grow",children:[i.jsx(xR,{className:"absolute left-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500"}),i.jsx(Ce,{placeholder:"Masukkan kode voucher",className:"pl-8",value:N,onChange:me=>k(me.target.value),disabled:E})]}),i.jsx(Z,{variant:"outline",size:"sm",onClick:q,disabled:E||!N.trim(),className:"shrink-0",children:E?i.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):"Terapkan"})]}),P&&i.jsxs("div",{className:"flex justify-between text-sm mt-2",children:[i.jsx("span",{children:"Subtotal setelah diskon"}),i.jsx("span",{className:"font-medium",children:Te(Q)})]}),i.jsx(Ks,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-bold",children:"Total"}),i.jsx("span",{className:"font-bold",children:Te(z)})]})]})]})})]})]}),i.jsxs("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background border-t p-4 z-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold",children:"Total:"}),i.jsx("span",{className:"font-bold text-xl",children:Te(z)})]}),i.jsx(Z,{onClick:J,className:"w-full bg-flame-500 hover:bg-flame-600",disabled:_,children:_?"Memproses...":"Buat Pesanan"})]})]})})};var e0=t=>t.type==="checkbox",vd=t=>t instanceof Date,na=t=>t==null;const Qee=t=>typeof t=="object";var Sn=t=>!na(t)&&!Array.isArray(t)&&Qee(t)&&!vd(t),Lee=t=>Sn(t)&&t.target?e0(t.target)?t.target.checked:t.target.value:t,KCe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Hee=(t,e)=>t.has(KCe(e)),qCe=t=>{const e=t.constructor&&t.constructor.prototype;return Sn(e)&&e.hasOwnProperty("isPrototypeOf")},r4=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ja(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(r4&&(t instanceof Blob||t instanceof FileList))&&(r||Sn(t)))if(e=r?[]:{},!r&&!qCe(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=ja(t[n]));else return t;return e}var EC=t=>Array.isArray(t)?t.filter(Boolean):[],pn=t=>t===void 0,Xe=(t,e,r)=>{if(!e||!Sn(t))return r;const n=EC(e.split(/[,[\].]+?/)).reduce((s,a)=>na(s)?s:s[a],t);return pn(n)||n===t?pn(t[e])?r:t[e]:n},Ci=t=>typeof t=="boolean",n4=t=>/^\w*$/.test(t),$ee=t=>EC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Er=(t,e,r)=>{let n=-1;const s=n4(e)?[e]:$ee(e),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=t[l];c=Sn(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Z1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ll={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Vee=Y.createContext(null),SC=()=>Y.useContext(Vee),zCe=t=>{const{children:e,...r}=t;return Y.createElement(Vee.Provider,{value:r},e)};var Kee=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const o=a;return e._proxyFormState[o]!==mo.all&&(e._proxyFormState[o]=!n||mo.all),r&&(r[o]=!0),t[o]}});return s},Ba=t=>Sn(t)&&!Object.keys(t).length,qee=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return Ba(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||mo.all))},Uv=t=>Array.isArray(t)?t:[t],zee=(t,e,r)=>!t||!e||t===e||Uv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function s4(t){const e=Y.useRef(t);e.current=t,Y.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function GCe(t){const e=SC(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[o,l]=Y.useState(r._formState),c=Y.useRef(!0),u=Y.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Y.useRef(s);return d.current=s,s4({disabled:n,next:f=>c.current&&zee(d.current,f.name,a)&&qee(f,u.current,r._updateFormState)&&l({...r._formState,...f}),subject:r._subjects.state}),Y.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),Kee(o,r,u.current,!1)}var sl=t=>typeof t=="string",Gee=(t,e,r,n,s)=>sl(t)?(n&&e.watch.add(t),Xe(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),Xe(r,a))):(n&&(e.watchAll=!0),r);function WCe(t){const e=SC(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:o}=t||{},l=Y.useRef(n);l.current=n,s4({disabled:a,subject:r._subjects.values,next:d=>{zee(l.current,d.name,o)&&u(ja(Gee(l.current,r._names,d.values||r._formValues,!1,s)))}});const[c,u]=Y.useState(r._getWatch(n,s));return Y.useEffect(()=>r._removeUnmounted()),c}function XCe(t){const e=SC(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a}=t,o=Hee(s._names.array,r),l=WCe({control:s,name:r,defaultValue:Xe(s._formValues,r,Xe(s._defaultValues,r,t.defaultValue)),exact:!0}),c=GCe({control:s,name:r,exact:!0}),u=Y.useRef(s.register(r,{...t.rules,value:l,...Ci(t.disabled)?{disabled:t.disabled}:{}}));return Y.useEffect(()=>{const d=s._options.shouldUnregister||a,f=(m,p)=>{const y=Xe(s._fields,m);y&&y._f&&(y._f.mount=p)};if(f(r,!0),d){const m=ja(Xe(s._options.defaultValues,r));Er(s._defaultValues,r,m),pn(Xe(s._formValues,r))&&Er(s._formValues,r,m)}return()=>{(o?d&&!s._state.action:d)?s.unregister(r):f(r,!1)}},[r,s,o,a]),Y.useEffect(()=>{Xe(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:Xe(s._fields,r)._f.value})},[n,r,s]),{field:{name:r,value:l,...Ci(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:Y.useCallback(d=>u.current.onChange({target:{value:Lee(d),name:r},type:Z1.CHANGE}),[r]),onBlur:Y.useCallback(()=>u.current.onBlur({target:{value:Xe(s._formValues,r),name:r},type:Z1.BLUR}),[r,s]),ref:Y.useCallback(d=>{const f=Xe(s._fields,r);f&&d&&(f._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:m=>d.setCustomValidity(m),reportValidity:()=>d.reportValidity()})},[s._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Xe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!Xe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Xe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Xe(c.validatingFields,r)},error:{enumerable:!0,get:()=>Xe(c.errors,r)}})}}const JCe=t=>t.render(XCe(t));var Wee=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},vH=t=>({isOnSubmit:!t||t===mo.onSubmit,isOnBlur:t===mo.onBlur,isOnChange:t===mo.onChange,isOnAll:t===mo.all,isOnTouch:t===mo.onTouched}),yH=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Mv=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=Xe(t,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(Mv(l,e))break}else if(Sn(l)&&Mv(l,e))break}}};var YCe=(t,e,r)=>{const n=Uv(Xe(t,r));return Er(n,"root",e[r]),Er(t,r,n),t},a4=t=>t.type==="file",Xl=t=>typeof t=="function",e_=t=>{if(!r4)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},c1=t=>sl(t),i4=t=>t.type==="radio",t_=t=>t instanceof RegExp;const xH={value:!1,isValid:!1},wH={value:!0,isValid:!0};var Xee=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pn(t[0].attributes.value)?pn(t[0].value)||t[0].value===""?wH:{value:t[0].value,isValid:!0}:wH:xH}return xH};const bH={isValid:!1,value:null};var Jee=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,bH):bH;function _H(t,e,r="validate"){if(c1(t)||Array.isArray(t)&&t.every(c1)||Ci(t)&&!t)return{type:r,message:c1(t)?t:"",ref:e}}var gh=t=>Sn(t)&&!t_(t)?t:{value:t,message:""},jH=async(t,e,r,n,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:m,validate:p,name:y,valueAsNumber:x,mount:v,disabled:_}=t._f,j=Xe(e,y);if(!v||_)return{};const S=o?o[0]:a,C=M=>{n&&S.reportValidity&&(S.setCustomValidity(Ci(M)?"":M||""),S.reportValidity())},N={},k=i4(a),E=e0(a),T=k||E,P=(x||a4(a))&&pn(a.value)&&pn(j)||e_(a)&&a.value===""||j===""||Array.isArray(j)&&!j.length,O=Wee.bind(null,y,r,N),D=(M,F,G,W=Ll.maxLength,V=Ll.minLength)=>{const H=M?F:G;N[y]={type:M?W:V,message:H,ref:a,...O(M?W:V,H)}};if(s?!Array.isArray(j)||!j.length:l&&(!T&&(P||na(j))||Ci(j)&&!j||E&&!Xee(o).isValid||k&&!Jee(o).isValid)){const{value:M,message:F}=c1(l)?{value:!!l,message:l}:gh(l);if(M&&(N[y]={type:Ll.required,message:F,ref:S,...O(Ll.required,F)},!r))return C(F),N}if(!P&&(!na(d)||!na(f))){let M,F;const G=gh(f),W=gh(d);if(!na(j)&&!isNaN(j)){const V=a.valueAsNumber||j&&+j;na(G.value)||(M=V>G.value),na(W.value)||(F=V<W.value)}else{const V=a.valueAsDate||new Date(j),H=q=>new Date(new Date().toDateString()+" "+q),Q=a.type=="time",z=a.type=="week";sl(G.value)&&j&&(M=Q?H(j)>H(G.value):z?j>G.value:V>new Date(G.value)),sl(W.value)&&j&&(F=Q?H(j)<H(W.value):z?j<W.value:V<new Date(W.value))}if((M||F)&&(D(!!M,G.message,W.message,Ll.max,Ll.min),!r))return C(N[y].message),N}if((c||u)&&!P&&(sl(j)||s&&Array.isArray(j))){const M=gh(c),F=gh(u),G=!na(M.value)&&j.length>+M.value,W=!na(F.value)&&j.length<+F.value;if((G||W)&&(D(G,M.message,F.message),!r))return C(N[y].message),N}if(m&&!P&&sl(j)){const{value:M,message:F}=gh(m);if(t_(M)&&!j.match(M)&&(N[y]={type:Ll.pattern,message:F,ref:a,...O(Ll.pattern,F)},!r))return C(F),N}if(p){if(Xl(p)){const M=await p(j,e),F=_H(M,S);if(F&&(N[y]={...F,...O(Ll.validate,F.message)},!r))return C(F.message),N}else if(Sn(p)){let M={};for(const F in p){if(!Ba(M)&&!r)break;const G=_H(await p[F](j,e),S,F);G&&(M={...G,...O(F,G.message)},C(G.message),r&&(N[y]=M))}if(!Ba(M)&&(N[y]={ref:S,...M},!r))return N}}return C(!0),N};function ZCe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=pn(t)?n++:t[e[n++]];return t}function eBe(t){for(const e in t)if(t.hasOwnProperty(e)&&!pn(t[e]))return!1;return!0}function Ln(t,e){const r=Array.isArray(e)?e:n4(e)?[e]:$ee(e),n=r.length===1?t:ZCe(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Sn(n)&&Ba(n)||Array.isArray(n)&&eBe(n))&&Ln(t,r.slice(0,-1)),t}var KS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},AO=t=>na(t)||!Qee(t);function pu(t,e){if(AO(t)||AO(e))return t===e;if(vd(t)&&vd(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const a=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const o=e[s];if(vd(a)&&vd(o)||Sn(a)&&Sn(o)||Array.isArray(a)&&Array.isArray(o)?!pu(a,o):a!==o)return!1}}return!0}var Yee=t=>t.type==="select-multiple",tBe=t=>i4(t)||e0(t),qS=t=>e_(t)&&t.isConnected,Zee=t=>{for(const e in t)if(Xl(t[e]))return!0;return!1};function r_(t,e={}){const r=Array.isArray(t);if(Sn(t)||r)for(const n in t)Array.isArray(t[n])||Sn(t[n])&&!Zee(t[n])?(e[n]=Array.isArray(t[n])?[]:{},r_(t[n],e[n])):na(t[n])||(e[n]=!0);return e}function ete(t,e,r){const n=Array.isArray(t);if(Sn(t)||n)for(const s in t)Array.isArray(t[s])||Sn(t[s])&&!Zee(t[s])?pn(e)||AO(r[s])?r[s]=Array.isArray(t[s])?r_(t[s],[]):{...r_(t[s])}:ete(t[s],na(e)?{}:e[s],r[s]):r[s]=!pu(t[s],e[s]);return r}var $g=(t,e)=>ete(t,e,r_(e)),tte=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>pn(t)?t:e?t===""?NaN:t&&+t:r&&sl(t)?new Date(t):n?n(t):t;function zS(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return a4(e)?e.files:i4(e)?Jee(t.refs).value:Yee(e)?[...e.selectedOptions].map(({value:r})=>r):e0(e)?Xee(t.refs).value:tte(pn(e.value)?t.ref.value:e.value,t)}var rBe=(t,e,r,n)=>{const s={};for(const a of t){const o=Xe(e,a);o&&Er(s,a,o._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Vg=t=>pn(t)?t:t_(t)?t.source:Sn(t)?t_(t.value)?t.value.source:t.value:t;const CH="AsyncFunction";var nBe=t=>(!t||!t.validate)&&!!(Xl(t.validate)&&t.validate.constructor.name===CH||Sn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===CH)),sBe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function BH(t,e,r){const n=Xe(t,r);if(n||n4(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Xe(e,a),l=Xe(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};s.pop()}return{name:r}}var aBe=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,iBe=(t,e)=>!EC(Xe(t,e)).length&&Ln(t,e);const oBe={mode:mo.onSubmit,reValidateMode:mo.onChange,shouldFocusError:!0};function lBe(t={}){let e={...oBe,...t},r={submitCount:0,isDirty:!1,isLoading:Xl(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=Sn(e.defaultValues)||Sn(e.values)?ja(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ja(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:KS(),array:KS(),state:KS()},m=vH(e.mode),p=vH(e.reValidateMode),y=e.criteriaMode===mo.all,x=re=>de=>{clearTimeout(u),u=setTimeout(re,de)},v=async re=>{if(!t.disabled&&(d.isValid||re)){const de=e.resolver?Ba((await T()).errors):await O(n,!0);de!==r.isValid&&f.state.next({isValid:de})}},_=(re,de)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((re||Array.from(l.mount)).forEach(ge=>{ge&&(de?Er(r.validatingFields,ge,de):Ln(r.validatingFields,ge))}),f.state.next({validatingFields:r.validatingFields,isValidating:!Ba(r.validatingFields)}))},j=(re,de=[],ge,Ie,He=!0,Re=!0)=>{if(Ie&&ge&&!t.disabled){if(o.action=!0,Re&&Array.isArray(Xe(n,re))){const ut=ge(Xe(n,re),Ie.argA,Ie.argB);He&&Er(n,re,ut)}if(Re&&Array.isArray(Xe(r.errors,re))){const ut=ge(Xe(r.errors,re),Ie.argA,Ie.argB);He&&Er(r.errors,re,ut),iBe(r.errors,re)}if(d.touchedFields&&Re&&Array.isArray(Xe(r.touchedFields,re))){const ut=ge(Xe(r.touchedFields,re),Ie.argA,Ie.argB);He&&Er(r.touchedFields,re,ut)}d.dirtyFields&&(r.dirtyFields=$g(s,a)),f.state.next({name:re,isDirty:M(re,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Er(a,re,de)},S=(re,de)=>{Er(r.errors,re,de),f.state.next({errors:r.errors})},C=re=>{r.errors=re,f.state.next({errors:r.errors,isValid:!1})},N=(re,de,ge,Ie)=>{const He=Xe(n,re);if(He){const Re=Xe(a,re,pn(ge)?Xe(s,re):ge);pn(Re)||Ie&&Ie.defaultChecked||de?Er(a,re,de?Re:zS(He._f)):W(re,Re),o.mount&&v()}},k=(re,de,ge,Ie,He)=>{let Re=!1,ut=!1;const kt={name:re};if(!t.disabled){const jt=!!(Xe(n,re)&&Xe(n,re)._f&&Xe(n,re)._f.disabled);if(!ge||Ie){d.isDirty&&(ut=r.isDirty,r.isDirty=kt.isDirty=M(),Re=ut!==kt.isDirty);const St=jt||pu(Xe(s,re),de);ut=!!(!jt&&Xe(r.dirtyFields,re)),St||jt?Ln(r.dirtyFields,re):Er(r.dirtyFields,re,!0),kt.dirtyFields=r.dirtyFields,Re=Re||d.dirtyFields&&ut!==!St}if(ge){const St=Xe(r.touchedFields,re);St||(Er(r.touchedFields,re,ge),kt.touchedFields=r.touchedFields,Re=Re||d.touchedFields&&St!==ge)}Re&&He&&f.state.next(kt)}return Re?kt:{}},E=(re,de,ge,Ie)=>{const He=Xe(r.errors,re),Re=d.isValid&&Ci(de)&&r.isValid!==de;if(t.delayError&&ge?(c=x(()=>S(re,ge)),c(t.delayError)):(clearTimeout(u),c=null,ge?Er(r.errors,re,ge):Ln(r.errors,re)),(ge?!pu(He,ge):He)||!Ba(Ie)||Re){const ut={...Ie,...Re&&Ci(de)?{isValid:de}:{},errors:r.errors,name:re};r={...r,...ut},f.state.next(ut)}},T=async re=>{_(re,!0);const de=await e.resolver(a,e.context,rBe(re||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(re),de},P=async re=>{const{errors:de}=await T(re);if(re)for(const ge of re){const Ie=Xe(de,ge);Ie?Er(r.errors,ge,Ie):Ln(r.errors,ge)}else r.errors=de;return de},O=async(re,de,ge={valid:!0})=>{for(const Ie in re){const He=re[Ie];if(He){const{_f:Re,...ut}=He;if(Re){const kt=l.array.has(Re.name),jt=He._f&&nBe(He._f);jt&&d.validatingFields&&_([Ie],!0);const St=await jH(He,a,y,e.shouldUseNativeValidation&&!de,kt);if(jt&&d.validatingFields&&_([Ie]),St[Re.name]&&(ge.valid=!1,de))break;!de&&(Xe(St,Re.name)?kt?YCe(r.errors,St,Re.name):Er(r.errors,Re.name,St[Re.name]):Ln(r.errors,Re.name))}!Ba(ut)&&await O(ut,de,ge)}}return ge.valid},D=()=>{for(const re of l.unMount){const de=Xe(n,re);de&&(de._f.refs?de._f.refs.every(ge=>!qS(ge)):!qS(de._f.ref))&&ue(re)}l.unMount=new Set},M=(re,de)=>!t.disabled&&(re&&de&&Er(a,re,de),!pu($(),s)),F=(re,de,ge)=>Gee(re,l,{...o.mount?a:pn(de)?s:sl(re)?{[re]:de}:de},ge,de),G=re=>EC(Xe(o.mount?a:s,re,t.shouldUnregister?Xe(s,re,[]):[])),W=(re,de,ge={})=>{const Ie=Xe(n,re);let He=de;if(Ie){const Re=Ie._f;Re&&(!Re.disabled&&Er(a,re,tte(de,Re)),He=e_(Re.ref)&&na(de)?"":de,Yee(Re.ref)?[...Re.ref.options].forEach(ut=>ut.selected=He.includes(ut.value)):Re.refs?e0(Re.ref)?Re.refs.length>1?Re.refs.forEach(ut=>(!ut.defaultChecked||!ut.disabled)&&(ut.checked=Array.isArray(He)?!!He.find(kt=>kt===ut.value):He===ut.value)):Re.refs[0]&&(Re.refs[0].checked=!!He):Re.refs.forEach(ut=>ut.checked=ut.value===He):a4(Re.ref)?Re.ref.value="":(Re.ref.value=He,Re.ref.type||f.values.next({name:re,values:{...a}})))}(ge.shouldDirty||ge.shouldTouch)&&k(re,He,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&q(re)},V=(re,de,ge)=>{for(const Ie in de){const He=de[Ie],Re=`${re}.${Ie}`,ut=Xe(n,Re);(l.array.has(re)||Sn(He)||ut&&!ut._f)&&!vd(He)?V(Re,He,ge):W(Re,He,ge)}},H=(re,de,ge={})=>{const Ie=Xe(n,re),He=l.array.has(re),Re=ja(de);Er(a,re,Re),He?(f.array.next({name:re,values:{...a}}),(d.isDirty||d.dirtyFields)&&ge.shouldDirty&&f.state.next({name:re,dirtyFields:$g(s,a),isDirty:M(re,Re)})):Ie&&!Ie._f&&!na(Re)?V(re,Re,ge):W(re,Re,ge),yH(re,l)&&f.state.next({...r}),f.values.next({name:o.mount?re:void 0,values:{...a}})},Q=async re=>{o.mount=!0;const de=re.target;let ge=de.name,Ie=!0;const He=Xe(n,ge),Re=()=>de.type?zS(He._f):Lee(re),ut=kt=>{Ie=Number.isNaN(kt)||vd(kt)&&isNaN(kt.getTime())||pu(kt,Xe(a,ge,kt))};if(He){let kt,jt;const St=Re(),Nn=re.type===Z1.BLUR||re.type===Z1.FOCUS_OUT,da=!sBe(He._f)&&!e.resolver&&!Xe(r.errors,ge)&&!He._f.deps||aBe(Nn,Xe(r.touchedFields,ge),r.isSubmitted,p,m),Gs=yH(ge,l,Nn);Er(a,ge,St),Nn?(He._f.onBlur&&He._f.onBlur(re),c&&c(0)):He._f.onChange&&He._f.onChange(re);const Fa=k(ge,St,Nn,!1),oi=!Ba(Fa)||Gs;if(!Nn&&f.values.next({name:ge,type:re.type,values:{...a}}),da)return d.isValid&&(t.mode==="onBlur"?Nn&&v():v()),oi&&f.state.next({name:ge,...Gs?{}:Fa});if(!Nn&&Gs&&f.state.next({...r}),e.resolver){const{errors:Qi}=await T([ge]);if(ut(St),Ie){const Cl=BH(r.errors,n,ge),li=BH(Qi,n,Cl.name||ge);kt=li.error,ge=li.name,jt=Ba(Qi)}}else _([ge],!0),kt=(await jH(He,a,y,e.shouldUseNativeValidation))[ge],_([ge]),ut(St),Ie&&(kt?jt=!1:d.isValid&&(jt=await O(n,!0)));Ie&&(He._f.deps&&q(He._f.deps),E(ge,jt,kt,Fa))}},z=(re,de)=>{if(Xe(r.errors,de)&&re.focus)return re.focus(),1},q=async(re,de={})=>{let ge,Ie;const He=Uv(re);if(e.resolver){const Re=await P(pn(re)?re:He);ge=Ba(Re),Ie=re?!He.some(ut=>Xe(Re,ut)):ge}else re?(Ie=(await Promise.all(He.map(async Re=>{const ut=Xe(n,Re);return await O(ut&&ut._f?{[Re]:ut}:ut)}))).every(Boolean),!(!Ie&&!r.isValid)&&v()):Ie=ge=await O(n);return f.state.next({...!sl(re)||d.isValid&&ge!==r.isValid?{}:{name:re},...e.resolver||!re?{isValid:ge}:{},errors:r.errors}),de.shouldFocus&&!Ie&&Mv(n,z,re?He:l.mount),Ie},$=re=>{const de={...o.mount?a:s};return pn(re)?de:sl(re)?Xe(de,re):re.map(ge=>Xe(de,ge))},J=(re,de)=>({invalid:!!Xe((de||r).errors,re),isDirty:!!Xe((de||r).dirtyFields,re),error:Xe((de||r).errors,re),isValidating:!!Xe(r.validatingFields,re),isTouched:!!Xe((de||r).touchedFields,re)}),le=re=>{re&&Uv(re).forEach(de=>Ln(r.errors,de)),f.state.next({errors:re?r.errors:{}})},ae=(re,de,ge)=>{const Ie=(Xe(n,re,{_f:{}})._f||{}).ref,He=Xe(r.errors,re)||{},{ref:Re,message:ut,type:kt,...jt}=He;Er(r.errors,re,{...jt,...de,ref:Ie}),f.state.next({name:re,errors:r.errors,isValid:!1}),ge&&ge.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},ee=(re,de)=>Xl(re)?f.values.subscribe({next:ge=>re(F(void 0,de),ge)}):F(re,de,!0),ue=(re,de={})=>{for(const ge of re?Uv(re):l.mount)l.mount.delete(ge),l.array.delete(ge),de.keepValue||(Ln(n,ge),Ln(a,ge)),!de.keepError&&Ln(r.errors,ge),!de.keepDirty&&Ln(r.dirtyFields,ge),!de.keepTouched&&Ln(r.touchedFields,ge),!de.keepIsValidating&&Ln(r.validatingFields,ge),!e.shouldUnregister&&!de.keepDefaultValue&&Ln(s,ge);f.values.next({values:{...a}}),f.state.next({...r,...de.keepDirty?{isDirty:M()}:{}}),!de.keepIsValid&&v()},xe=({disabled:re,name:de,field:ge,fields:Ie,value:He})=>{if(Ci(re)&&o.mount||re){const Re=re?void 0:pn(He)?zS(ge?ge._f:Xe(Ie,de)._f):He;Er(a,de,Re),k(de,Re,!1,!1,!0)}},me=(re,de={})=>{let ge=Xe(n,re);const Ie=Ci(de.disabled)||Ci(t.disabled);return Er(n,re,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:re}},name:re,mount:!0,...de}}),l.mount.add(re),ge?xe({field:ge,disabled:Ci(de.disabled)?de.disabled:t.disabled,name:re,value:de.value}):N(re,!0,de.value),{...Ie?{disabled:de.disabled||t.disabled}:{},...e.progressive?{required:!!de.required,min:Vg(de.min),max:Vg(de.max),minLength:Vg(de.minLength),maxLength:Vg(de.maxLength),pattern:Vg(de.pattern)}:{},name:re,onChange:Q,onBlur:Q,ref:He=>{if(He){me(re,de),ge=Xe(n,re);const Re=pn(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,ut=tBe(Re),kt=ge._f.refs||[];if(ut?kt.find(jt=>jt===Re):Re===ge._f.ref)return;Er(n,re,{_f:{...ge._f,...ut?{refs:[...kt.filter(qS),Re,...Array.isArray(Xe(s,re))?[{}]:[]],ref:{type:Re.type,name:re}}:{ref:Re}}}),N(re,!1,void 0,Re)}else ge=Xe(n,re,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||de.shouldUnregister)&&!(Hee(l.array,re)&&o.action)&&l.unMount.add(re)}}},ye=()=>e.shouldFocusError&&Mv(n,z,l.mount),je=re=>{Ci(re)&&(f.state.next({disabled:re}),Mv(n,(de,ge)=>{const Ie=Xe(n,ge);Ie&&(de.disabled=Ie._f.disabled||re,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(He=>{He.disabled=Ie._f.disabled||re}))},0,!1))},Fe=(re,de)=>async ge=>{let Ie;ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist());let He=ja(a);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Re,values:ut}=await T();r.errors=Re,He=ut}else await O(n);if(Ln(r.errors,"root"),Ba(r.errors)){f.state.next({errors:{}});try{await re(He,ge)}catch(Re){Ie=Re}}else de&&await de({...r.errors},ge),ye(),setTimeout(ye);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ba(r.errors)&&!Ie,submitCount:r.submitCount+1,errors:r.errors}),Ie)throw Ie},ne=(re,de={})=>{Xe(n,re)&&(pn(de.defaultValue)?H(re,ja(Xe(s,re))):(H(re,de.defaultValue),Er(s,re,ja(de.defaultValue))),de.keepTouched||Ln(r.touchedFields,re),de.keepDirty||(Ln(r.dirtyFields,re),r.isDirty=de.defaultValue?M(re,ja(Xe(s,re))):M()),de.keepError||(Ln(r.errors,re),d.isValid&&v()),f.state.next({...r}))},ke=(re,de={})=>{const ge=re?ja(re):s,Ie=ja(ge),He=Ba(re),Re=He?s:Ie;if(de.keepDefaultValues||(s=ge),!de.keepValues){if(de.keepDirtyValues){const ut=new Set([...l.mount,...Object.keys($g(s,a))]);for(const kt of Array.from(ut))Xe(r.dirtyFields,kt)?Er(Re,kt,Xe(a,kt)):H(kt,Xe(Re,kt))}else{if(r4&&pn(re))for(const ut of l.mount){const kt=Xe(n,ut);if(kt&&kt._f){const jt=Array.isArray(kt._f.refs)?kt._f.refs[0]:kt._f.ref;if(e_(jt)){const St=jt.closest("form");if(St){St.reset();break}}}}n={}}a=t.shouldUnregister?de.keepDefaultValues?ja(s):{}:ja(Re),f.array.next({values:{...Re}}),f.values.next({values:{...Re}})}l={mount:de.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!de.keepIsValid||!!de.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:de.keepSubmitCount?r.submitCount:0,isDirty:He?!1:de.keepDirty?r.isDirty:!!(de.keepDefaultValues&&!pu(re,s)),isSubmitted:de.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:He?{}:de.keepDirtyValues?de.keepDefaultValues&&a?$g(s,a):r.dirtyFields:de.keepDefaultValues&&re?$g(s,re):de.keepDirty?r.dirtyFields:{},touchedFields:de.keepTouched?r.touchedFields:{},errors:de.keepErrors?r.errors:{},isSubmitSuccessful:de.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(re,de)=>ke(Xl(re)?re(a):re,de);return{control:{register:me,unregister:ue,getFieldState:J,handleSubmit:Fe,setError:ae,_executeSchema:T,_getWatch:F,_getDirty:M,_updateValid:v,_removeUnmounted:D,_updateFieldArray:j,_updateDisabledField:xe,_getFieldArray:G,_reset:ke,_resetDefaultValues:()=>Xl(e.defaultValues)&&e.defaultValues().then(re=>{We(re,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:re=>{r={...r,...re}},_disableForm:je,_subjects:f,_proxyFormState:d,_setErrors:C,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(re){o=re},get _defaultValues(){return s},get _names(){return l},set _names(re){l=re},get _formState(){return r},set _formState(re){r=re},get _options(){return e},set _options(re){e={...e,...re}}},trigger:q,register:me,handleSubmit:Fe,watch:ee,setValue:H,getValues:$,reset:We,resetField:ne,clearErrors:le,unregister:ue,setError:ae,setFocus:(re,de={})=>{const ge=Xe(n,re),Ie=ge&&ge._f;if(Ie){const He=Ie.refs?Ie.refs[0]:Ie.ref;He.focus&&(He.focus(),de.shouldSelect&&He.select())}},getFieldState:J}}function aa(t={}){const e=Y.useRef(),r=Y.useRef(),[n,s]=Y.useState({isDirty:!1,isValidating:!1,isLoading:Xl(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Xl(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...lBe(t),formState:n});const a=e.current.control;return a._options=t,s4({subject:a._subjects.state,next:o=>{qee(o,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),Y.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Y.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),Y.useEffect(()=>{t.values&&!pu(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),Y.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),Y.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Y.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),Y.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[n]),e.current.formState=Kee(n,a),e.current}const qs=zCe,rte=w.createContext({}),at=({...t})=>i.jsx(rte.Provider,{value:{name:t.name},children:i.jsx(JCe,{...t})}),NC=()=>{const t=w.useContext(rte),e=w.useContext(nte),{getFieldState:r,formState:n}=SC(),s=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...s}},nte=w.createContext({}),tt=w.forwardRef(({className:t,...e},r)=>{const n=w.useId();return i.jsx(nte.Provider,{value:{id:n},children:i.jsx("div",{ref:r,className:Ee("space-y-2",t),...e})})});tt.displayName="FormItem";const rt=w.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:s}=NC();return i.jsx(ze,{ref:r,className:Ee(n&&"text-destructive",t),htmlFor:s,...e})});rt.displayName="FormLabel";const nt=w.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:s,formMessageId:a}=NC();return i.jsx(lc,{ref:e,id:n,"aria-describedby":r?`${s} ${a}`:`${s}`,"aria-invalid":!!r,...t})});nt.displayName="FormControl";const u1=w.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=NC();return i.jsx("p",{ref:r,id:n,className:Ee("text-sm text-muted-foreground",t),...e})});u1.displayName="FormDescription";const lt=w.forwardRef(({className:t,children:e,...r},n)=>{const{error:s,formMessageId:a}=NC(),o=s?String(s==null?void 0:s.message):e;return o?i.jsx("p",{ref:n,id:a,className:Ee("text-sm font-medium text-destructive",t),...r,children:o}):null});lt.displayName="FormMessage";const EH=(t,e,r)=>{if(t&&"reportValidity"in t){const n=Xe(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},ste=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?EH(n.ref,r,t):n.refs&&n.refs.forEach(s=>EH(s,r,t))}},cBe=(t,e)=>{e.shouldUseNativeValidation&&ste(t,e);const r={};for(const n in t){const s=Xe(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(uBe(e.names||Object.keys(t),n)){const o=Object.assign({},Xe(r,n));Er(o,"root",a),Er(r,n,o)}else Er(r,n,a)}return r},uBe=(t,e)=>t.some(r=>r.startsWith(e+"."));var ABe=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=Wee(o,e,r,s,u?[].concat(u,n.message):n.message)}t.shift()}return r},ia=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&ste({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:cBe(ABe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},mr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},t.find=(s,a)=>{for(const o of s)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(mr||(mr={}));var dO;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(dO||(dO={}));const ot=mr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gu=t=>{switch(typeof t){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return isNaN(t)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(t)?ot.array:t===null?ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ot.promise:typeof Map<"u"&&t instanceof Map?ot.map:typeof Set<"u"&&t instanceof Set?ot.set:typeof Date<"u"&&t instanceof Date?ot.date:ot.object;default:return ot.unknown}},Ve=mr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),dBe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class si extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof si))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,mr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}si.create=t=>new si(t);const Fm=(t,e)=>{let r;switch(t.code){case Ve.invalid_type:t.received===ot.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,mr.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${mr.joinValues(t.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mr.joinValues(t.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${mr.joinValues(t.options)}, received '${t.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:mr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Ve.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Ve.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=e.defaultError,mr.assertNever(t)}return{message:r}};let ate=Fm;function fBe(t){ate=t}function n_(){return ate}const s_=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...s,path:a,message:l}},hBe=[];function et(t,e){const r=n_(),n=s_({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Fm?void 0:Fm].filter(s=>!!s)});t.common.issues.push(n)}class zs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Ut;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return zs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ut;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Ut=Object.freeze({status:"aborted"}),Lh=t=>({status:"dirty",value:t}),ca=t=>({status:"valid",value:t}),fO=t=>t.status==="aborted",hO=t=>t.status==="dirty",Ey=t=>t.status==="valid",Sy=t=>typeof Promise<"u"&&t instanceof Promise;function a_(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ite(t,e,r,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var _t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(_t||(_t={}));var fv,hv;class gl{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const SH=(t,e)=>{if(Ey(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new si(t.common.issues);return this._error=r,this._error}}};function zt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class Jt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return gu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zs,ctx:{common:e.parent.common,data:e.data,parsedType:gu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Sy(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},a=this._parseSync({data:e,path:s.path,parent:s});return SH(s,a)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gu(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await(Sy(s)?s:Promise.resolve(s));return SH(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=e(s),l=()=>a.addIssue({code:Ve.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new So({schema:this,typeName:Ft.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ll.create(this,this._def)}nullable(){return sA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return _o.create(this,this._def)}promise(){return Dm.create(this,this._def)}or(e){return Iy.create([this,e],this._def)}and(e){return Py.create(this,e,this._def)}transform(e){return new So({...zt(this._def),schema:this,typeName:Ft.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Uy({...zt(this._def),innerType:this,defaultValue:r,typeName:Ft.ZodDefault})}brand(){return new o4({typeName:Ft.ZodBranded,type:this,...zt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new My({...zt(this._def),innerType:this,catchValue:r,typeName:Ft.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return t0.create(this,e)}readonly(){return Qy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const mBe=/^c[^\s-]{8,}$/i,pBe=/^[0-9a-z]+$/,gBe=/^[0-9A-HJKMNP-TV-Z]{26}$/,vBe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yBe=/^[a-z0-9_-]{21}$/i,xBe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wBe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,bBe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let GS;const _Be=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jBe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,CBe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ote="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BBe=new RegExp(`^${ote}$`);function lte(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function EBe(t){return new RegExp(`^${lte(t)}$`)}function cte(t){let e=`${ote}T${lte(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function SBe(t,e){return!!((e==="v4"||!e)&&_Be.test(t)||(e==="v6"||!e)&&jBe.test(t))}class vo extends Jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ot.string){const a=this._getOrReturnCtx(e);return et(a,{code:Ve.invalid_type,expected:ot.string,received:a.parsedType}),Ut}const n=new zs;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(e,s),o?et(s,{code:Ve.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&et(s,{code:Ve.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")wBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"email",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")GS||(GS=new RegExp(bBe,"u")),GS.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"emoji",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")vBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"uuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")yBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"nanoid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")mBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")pBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"cuid2",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")gBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ulid",code:Ve.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),et(s,{validation:"url",code:Ve.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"regex",code:Ve.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?cte(a).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?BBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?EBe(a).test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"duration",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?SBe(e.data,a.version)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"ip",code:Ve.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?CBe.test(e.data)||(s=this._getOrReturnCtx(e,s),et(s,{validation:"base64",code:Ve.invalid_string,message:a.message}),n.dirty()):mr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:Ve.invalid_string,..._t.errToObj(n)})}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",..._t.errToObj(e)})}url(e){return this._addCheck({kind:"url",..._t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",..._t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",..._t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",..._t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",..._t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",..._t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",..._t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",..._t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",..._t.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(n=e==null?void 0:e.local)!==null&&n!==void 0?n:!1,..._t.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,..._t.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",..._t.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,..._t.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,..._t.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,..._t.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,..._t.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,..._t.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,..._t.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,..._t.errToObj(r)})}nonempty(e){return this.min(1,_t.errToObj(e))}trim(){return new vo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}vo.create=t=>{var e;return new vo({checks:[],typeName:Ft.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};function NBe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return a%o/Math.pow(10,s)}class tA extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ot.number){const a=this._getOrReturnCtx(e);return et(a,{code:Ve.invalid_type,expected:ot.number,received:a.parsedType}),Ut}let n;const s=new zs;for(const a of this._def.checks)a.kind==="int"?mr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?NBe(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.not_finite,message:a.message}),s.dirty()):mr.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,_t.toString(r))}gt(e,r){return this.setLimit("min",e,!1,_t.toString(r))}lte(e,r){return this.setLimit("max",e,!0,_t.toString(r))}lt(e,r){return this.setLimit("max",e,!1,_t.toString(r))}setLimit(e,r,n,s){return new tA({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:_t.toString(s)}]})}_addCheck(e){return new tA({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:_t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:_t.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:_t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:_t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:_t.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}tA.create=t=>new tA({checks:[],typeName:Ft.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class rA extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ot.bigint){const a=this._getOrReturnCtx(e);return et(a,{code:Ve.invalid_type,expected:ot.bigint,received:a.parsedType}),Ut}let n;const s=new zs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),et(n,{code:Ve.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):mr.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,_t.toString(r))}gt(e,r){return this.setLimit("min",e,!1,_t.toString(r))}lte(e,r){return this.setLimit("max",e,!0,_t.toString(r))}lt(e,r){return this.setLimit("max",e,!1,_t.toString(r))}setLimit(e,r,n,s){return new rA({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:_t.toString(s)}]})}_addCheck(e){return new rA({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:_t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:_t.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:_t.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}rA.create=t=>{var e;return new rA({checks:[],typeName:Ft.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...zt(t)})};class Ny extends Jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ot.boolean){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.boolean,received:n.parsedType}),Ut}return ca(e.data)}}Ny.create=t=>new Ny({typeName:Ft.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...zt(t)});class ef extends Jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ot.date){const a=this._getOrReturnCtx(e);return et(a,{code:Ve.invalid_type,expected:ot.date,received:a.parsedType}),Ut}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return et(a,{code:Ve.invalid_date}),Ut}const n=new zs;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),et(s,{code:Ve.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):mr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ef({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:_t.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:_t.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ef.create=t=>new ef({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Ft.ZodDate,...zt(t)});class i_ extends Jt{_parse(e){if(this._getType(e)!==ot.symbol){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.symbol,received:n.parsedType}),Ut}return ca(e.data)}}i_.create=t=>new i_({typeName:Ft.ZodSymbol,...zt(t)});class Ty extends Jt{_parse(e){if(this._getType(e)!==ot.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.undefined,received:n.parsedType}),Ut}return ca(e.data)}}Ty.create=t=>new Ty({typeName:Ft.ZodUndefined,...zt(t)});class ky extends Jt{_parse(e){if(this._getType(e)!==ot.null){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.null,received:n.parsedType}),Ut}return ca(e.data)}}ky.create=t=>new ky({typeName:Ft.ZodNull,...zt(t)});class Rm extends Jt{constructor(){super(...arguments),this._any=!0}_parse(e){return ca(e.data)}}Rm.create=t=>new Rm({typeName:Ft.ZodAny,...zt(t)});class Od extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ca(e.data)}}Od.create=t=>new Od({typeName:Ft.ZodUnknown,...zt(t)});class mc extends Jt{_parse(e){const r=this._getOrReturnCtx(e);return et(r,{code:Ve.invalid_type,expected:ot.never,received:r.parsedType}),Ut}}mc.create=t=>new mc({typeName:Ft.ZodNever,...zt(t)});class o_ extends Jt{_parse(e){if(this._getType(e)!==ot.undefined){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.void,received:n.parsedType}),Ut}return ca(e.data)}}o_.create=t=>new o_({typeName:Ft.ZodVoid,...zt(t)});class _o extends Jt{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==ot.array)return et(r,{code:Ve.invalid_type,expected:ot.array,received:r.parsedType}),Ut;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(et(r,{code:o?Ve.too_big:Ve.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(et(r,{code:Ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(et(r,{code:Ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new gl(r,o,r.path,l)))).then(o=>zs.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new gl(r,o,r.path,l)));return zs.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new _o({...this._def,minLength:{value:e,message:_t.toString(r)}})}max(e,r){return new _o({...this._def,maxLength:{value:e,message:_t.toString(r)}})}length(e,r){return new _o({...this._def,exactLength:{value:e,message:_t.toString(r)}})}nonempty(e){return this.min(1,e)}}_o.create=(t,e)=>new _o({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ft.ZodArray,...zt(e)});function Dh(t){if(t instanceof dn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ll.create(Dh(n))}return new dn({...t._def,shape:()=>e})}else return t instanceof _o?new _o({...t._def,type:Dh(t.element)}):t instanceof ll?ll.create(Dh(t.unwrap())):t instanceof sA?sA.create(Dh(t.unwrap())):t instanceof vl?vl.create(t.items.map(e=>Dh(e))):t}class dn extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=mr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ot.object){const u=this._getOrReturnCtx(e);return et(u,{code:Ve.invalid_type,expected:ot.object,received:u.parsedType}),Ut}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof mc&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new gl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof mc){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(et(s,{code:Ve.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new gl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>zs.mergeObjectSync(n,u)):zs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return _t.errToObj,new dn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,o,l;const c=(o=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=_t.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new dn({...this._def,unknownKeys:"strip"})}passthrough(){return new dn({...this._def,unknownKeys:"passthrough"})}extend(e){return new dn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new dn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ft.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new dn({...this._def,catchall:e})}pick(e){const r={};return mr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new dn({...this._def,shape:()=>r})}omit(e){const r={};return mr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new dn({...this._def,shape:()=>r})}deepPartial(){return Dh(this)}partial(e){const r={};return mr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new dn({...this._def,shape:()=>r})}required(e){const r={};return mr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof ll;)a=a._def.innerType;r[n]=a}}),new dn({...this._def,shape:()=>r})}keyof(){return ute(mr.objectKeys(this.shape))}}dn.create=(t,e)=>new dn({shape:()=>t,unknownKeys:"strip",catchall:mc.create(),typeName:Ft.ZodObject,...zt(e)});dn.strictCreate=(t,e)=>new dn({shape:()=>t,unknownKeys:"strict",catchall:mc.create(),typeName:Ft.ZodObject,...zt(e)});dn.lazycreate=(t,e)=>new dn({shape:t,unknownKeys:"strip",catchall:mc.create(),typeName:Ft.ZodObject,...zt(e)});class Iy extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new si(l.ctx.common.issues));return et(r,{code:Ve.invalid_union,unionErrors:o}),Ut}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new si(c));return et(r,{code:Ve.invalid_union,unionErrors:l}),Ut}}get options(){return this._def.options}}Iy.create=(t,e)=>new Iy({options:t,typeName:Ft.ZodUnion,...zt(e)});const zl=t=>t instanceof Fy?zl(t.schema):t instanceof So?zl(t.innerType()):t instanceof Ry?[t.value]:t instanceof nA?t.options:t instanceof Dy?mr.objectValues(t.enum):t instanceof Uy?zl(t._def.innerType):t instanceof Ty?[void 0]:t instanceof ky?[null]:t instanceof ll?[void 0,...zl(t.unwrap())]:t instanceof sA?[null,...zl(t.unwrap())]:t instanceof o4||t instanceof Qy?zl(t.unwrap()):t instanceof My?zl(t._def.innerType):[];class TC extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.object)return et(r,{code:Ve.invalid_type,expected:ot.object,received:r.parsedType}),Ut;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(et(r,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const o=zl(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);s.set(l,a)}}return new TC({typeName:Ft.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...zt(n)})}}function mO(t,e){const r=gu(t),n=gu(e);if(t===e)return{valid:!0,data:t};if(r===ot.object&&n===ot.object){const s=mr.objectKeys(e),a=mr.objectKeys(t).filter(l=>s.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=mO(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ot.array&&n===ot.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=mO(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ot.date&&n===ot.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Py extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,o)=>{if(fO(a)||fO(o))return Ut;const l=mO(a.value,o.value);return l.valid?((hO(a)||hO(o))&&r.dirty(),{status:r.value,value:l.data}):(et(n,{code:Ve.invalid_intersection_types}),Ut)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Py.create=(t,e,r)=>new Py({left:t,right:e,typeName:Ft.ZodIntersection,...zt(r)});class vl extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.array)return et(n,{code:Ve.invalid_type,expected:ot.array,received:n.parsedType}),Ut;if(n.data.length<this._def.items.length)return et(n,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ut;!this._def.rest&&n.data.length>this._def.items.length&&(et(n,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new gl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>zs.mergeArray(r,o)):zs.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new vl({...this._def,rest:e})}}vl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new vl({items:t,typeName:Ft.ZodTuple,rest:null,...zt(e)})};class Oy extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.object)return et(n,{code:Ve.invalid_type,expected:ot.object,received:n.parsedType}),Ut;const s=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)s.push({key:a._parse(new gl(n,l,n.path,l)),value:o._parse(new gl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?zs.mergeObjectAsync(r,s):zs.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Jt?new Oy({keyType:e,valueType:r,typeName:Ft.ZodRecord,...zt(n)}):new Oy({keyType:vo.create(),valueType:e,typeName:Ft.ZodRecord,...zt(r)})}}class l_ extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.map)return et(n,{code:Ve.invalid_type,expected:ot.map,received:n.parsedType}),Ut;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new gl(n,l,n.path,[u,"key"])),value:a._parse(new gl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ut;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ut;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}l_.create=(t,e,r)=>new l_({valueType:e,keyType:t,typeName:Ft.ZodMap,...zt(r)});class tf extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.set)return et(n,{code:Ve.invalid_type,expected:ot.set,received:n.parsedType}),Ut;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(et(n,{code:Ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(et(n,{code:Ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ut;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new gl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new tf({...this._def,minSize:{value:e,message:_t.toString(r)}})}max(e,r){return new tf({...this._def,maxSize:{value:e,message:_t.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}tf.create=(t,e)=>new tf({valueType:t,minSize:null,maxSize:null,typeName:Ft.ZodSet,...zt(e)});class Xh extends Jt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.function)return et(r,{code:Ve.invalid_type,expected:ot.function,received:r.parsedType}),Ut;function n(l,c){return s_({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,n_(),Fm].filter(u=>!!u),issueData:{code:Ve.invalid_arguments,argumentsError:c}})}function s(l,c){return s_({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,n_(),Fm].filter(u=>!!u),issueData:{code:Ve.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Dm){const l=this;return ca(async function(...c){const u=new si([]),d=await l._def.args.parseAsync(c,a).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(p=>{throw u.addIssue(s(f,p)),u})})}else{const l=this;return ca(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new si([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new si([s(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Xh({...this._def,args:vl.create(e).rest(Od.create())})}returns(e){return new Xh({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Xh({args:e||vl.create([]).rest(Od.create()),returns:r||Od.create(),typeName:Ft.ZodFunction,...zt(n)})}}class Fy extends Jt{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Fy.create=(t,e)=>new Fy({getter:t,typeName:Ft.ZodLazy,...zt(e)});class Ry extends Jt{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return et(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ry.create=(t,e)=>new Ry({value:t,typeName:Ft.ZodLiteral,...zt(e)});function ute(t,e){return new nA({values:t,typeName:Ft.ZodEnum,...zt(e)})}class nA extends Jt{constructor(){super(...arguments),fv.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{expected:mr.joinValues(n),received:r.parsedType,code:Ve.invalid_type}),Ut}if(a_(this,fv)||ite(this,fv,new Set(this._def.values)),!a_(this,fv).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return et(r,{received:r.data,code:Ve.invalid_enum_value,options:n}),Ut}return ca(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return nA.create(e,{...this._def,...r})}exclude(e,r=this._def){return nA.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}fv=new WeakMap;nA.create=ute;class Dy extends Jt{constructor(){super(...arguments),hv.set(this,void 0)}_parse(e){const r=mr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){const s=mr.objectValues(r);return et(n,{expected:mr.joinValues(s),received:n.parsedType,code:Ve.invalid_type}),Ut}if(a_(this,hv)||ite(this,hv,new Set(mr.getValidEnumValues(this._def.values))),!a_(this,hv).has(e.data)){const s=mr.objectValues(r);return et(n,{received:n.data,code:Ve.invalid_enum_value,options:s}),Ut}return ca(e.data)}get enum(){return this._def.values}}hv=new WeakMap;Dy.create=(t,e)=>new Dy({values:t,typeName:Ft.ZodNativeEnum,...zt(e)});class Dm extends Jt{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.promise&&r.common.async===!1)return et(r,{code:Ve.invalid_type,expected:ot.promise,received:r.parsedType}),Ut;const n=r.parsedType===ot.promise?r.data:Promise.resolve(r.data);return ca(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Dm.create=(t,e)=>new Dm({type:t,typeName:Ft.ZodPromise,...zt(e)});class So extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ft.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:o=>{et(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ut;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ut:c.status==="dirty"||r.value==="dirty"?Lh(c.value):c});{if(r.value==="aborted")return Ut;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ut:l.status==="dirty"||r.value==="dirty"?Lh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ut:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ut:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ey(o))return o;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ey(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);mr.assertNever(s)}}So.create=(t,e,r)=>new So({schema:t,typeName:Ft.ZodEffects,effect:e,...zt(r)});So.createWithPreprocess=(t,e,r)=>new So({schema:e,effect:{type:"preprocess",transform:t},typeName:Ft.ZodEffects,...zt(r)});class ll extends Jt{_parse(e){return this._getType(e)===ot.undefined?ca(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ll.create=(t,e)=>new ll({innerType:t,typeName:Ft.ZodOptional,...zt(e)});class sA extends Jt{_parse(e){return this._getType(e)===ot.null?ca(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sA.create=(t,e)=>new sA({innerType:t,typeName:Ft.ZodNullable,...zt(e)});class Uy extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Uy.create=(t,e)=>new Uy({innerType:t,typeName:Ft.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...zt(e)});class My extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sy(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new si(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new si(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}My.create=(t,e)=>new My({innerType:t,typeName:Ft.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...zt(e)});class c_ extends Jt{_parse(e){if(this._getType(e)!==ot.nan){const n=this._getOrReturnCtx(e);return et(n,{code:Ve.invalid_type,expected:ot.nan,received:n.parsedType}),Ut}return{status:"valid",value:e.data}}}c_.create=t=>new c_({typeName:Ft.ZodNaN,...zt(t)});const TBe=Symbol("zod_brand");class o4 extends Jt{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class t0 extends Jt{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ut:a.status==="dirty"?(r.dirty(),Lh(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ut:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new t0({in:e,out:r,typeName:Ft.ZodPipeline})}}class Qy extends Jt{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Ey(s)&&(s.value=Object.freeze(s.value)),s);return Sy(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Qy.create=(t,e)=>new Qy({innerType:t,typeName:Ft.ZodReadonly,...zt(e)});function Ate(t,e={},r){return t?Rm.create().superRefine((n,s)=>{var a,o;if(!t(n)){const l=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(a=l.fatal)!==null&&a!==void 0?a:r)!==null&&o!==void 0?o:!0,u=typeof l=="string"?{message:l}:l;s.addIssue({code:"custom",...u,fatal:c})}}):Rm.create()}const kBe={object:dn.lazycreate};var Ft;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ft||(Ft={}));const IBe=(t,e={message:`Input not instance of ${t.name}`})=>Ate(r=>r instanceof t,e),Dr=vo.create,cl=tA.create,PBe=c_.create,OBe=rA.create,Mu=Ny.create,FBe=ef.create,RBe=i_.create,DBe=Ty.create,UBe=ky.create,MBe=Rm.create,QBe=Od.create,LBe=mc.create,HBe=o_.create,$Be=_o.create,Io=dn.create,VBe=dn.strictCreate,KBe=Iy.create,qBe=TC.create,zBe=Py.create,GBe=vl.create,WBe=Oy.create,XBe=l_.create,JBe=tf.create,YBe=Xh.create,ZBe=Fy.create,dte=Ry.create,Um=nA.create,eEe=Dy.create,tEe=Dm.create,NH=So.create,rEe=ll.create,nEe=sA.create,sEe=So.createWithPreprocess,aEe=t0.create,iEe=()=>Dr().optional(),oEe=()=>cl().optional(),lEe=()=>Mu().optional(),cEe={string:t=>vo.create({...t,coerce:!0}),number:t=>tA.create({...t,coerce:!0}),boolean:t=>Ny.create({...t,coerce:!0}),bigint:t=>rA.create({...t,coerce:!0}),date:t=>ef.create({...t,coerce:!0})},uEe=Ut;var $n=Object.freeze({__proto__:null,defaultErrorMap:Fm,setErrorMap:fBe,getErrorMap:n_,makeIssue:s_,EMPTY_PATH:hBe,addIssueToContext:et,ParseStatus:zs,INVALID:Ut,DIRTY:Lh,OK:ca,isAborted:fO,isDirty:hO,isValid:Ey,isAsync:Sy,get util(){return mr},get objectUtil(){return dO},ZodParsedType:ot,getParsedType:gu,ZodType:Jt,datetimeRegex:cte,ZodString:vo,ZodNumber:tA,ZodBigInt:rA,ZodBoolean:Ny,ZodDate:ef,ZodSymbol:i_,ZodUndefined:Ty,ZodNull:ky,ZodAny:Rm,ZodUnknown:Od,ZodNever:mc,ZodVoid:o_,ZodArray:_o,ZodObject:dn,ZodUnion:Iy,ZodDiscriminatedUnion:TC,ZodIntersection:Py,ZodTuple:vl,ZodRecord:Oy,ZodMap:l_,ZodSet:tf,ZodFunction:Xh,ZodLazy:Fy,ZodLiteral:Ry,ZodEnum:nA,ZodNativeEnum:Dy,ZodPromise:Dm,ZodEffects:So,ZodTransformer:So,ZodOptional:ll,ZodNullable:sA,ZodDefault:Uy,ZodCatch:My,ZodNaN:c_,BRAND:TBe,ZodBranded:o4,ZodPipeline:t0,ZodReadonly:Qy,custom:Ate,Schema:Jt,ZodSchema:Jt,late:kBe,get ZodFirstPartyTypeKind(){return Ft},coerce:cEe,any:MBe,array:$Be,bigint:OBe,boolean:Mu,date:FBe,discriminatedUnion:qBe,effect:NH,enum:Um,function:YBe,instanceof:IBe,intersection:zBe,lazy:ZBe,literal:dte,map:XBe,nan:PBe,nativeEnum:eEe,never:LBe,null:UBe,nullable:nEe,number:cl,object:Io,oboolean:lEe,onumber:oEe,optional:rEe,ostring:iEe,pipeline:aEe,preprocess:sEe,promise:tEe,record:WBe,set:JBe,strictObject:VBe,string:Dr,symbol:RBe,transformer:NH,tuple:GBe,undefined:DBe,union:KBe,unknown:QBe,void:HBe,NEVER:uEe,ZodIssueCode:Ve,quotelessJson:dBe,ZodError:si});const AEe=()=>{const t=ar();return i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Akses Akun"}),i.jsx("p",{className:"text-muted-foreground",children:"Masuk untuk mengelola akun dan pesanan Anda"})]}),i.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[i.jsx(Z,{onClick:()=>t("/login"),className:"w-full bg-flame-500 hover:bg-flame-600",children:"Masuk"}),i.jsx(Z,{onClick:()=>t("/register"),variant:"outline",className:"w-full",children:"Buat Akun"})]})]})},dEe=Io({name:Dr().min(1,"Nama wajib diisi"),phone:Dr().regex(/^(\+?62|0)[0-9]{9,13}$/,"Harus nomor telepon Indonesia yang valid (dimulai dengan +62 atau 0)").optional().or(dte(""))}),fEe=({profile:t,onUpdate:e,onCancel:r})=>{const[n,s]=w.useState(!1),a=aa({resolver:ia(dEe),defaultValues:{name:(t==null?void 0:t.name)||"",phone:(t==null?void 0:t.phone)||""}}),o=async l=>{try{s(!0);const c={name:l.name,phone:l.phone===""?void 0:l.phone};await e(c)}catch(c){console.error("Error updating profile:",c)}finally{s(!1)}};return i.jsxs("div",{className:"border rounded-lg p-4 bg-white",children:[i.jsx("h3",{className:"text-md font-medium mb-4",children:"Edit Profil"}),i.jsx(qs,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[i.jsx(at,{control:a.control,name:"name",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama Lengkap"}),i.jsx(nt,{children:i.jsx(Ce,{placeholder:"Masukkan nama lengkap",...l})}),i.jsx(lt,{})]})}),i.jsx(at,{control:a.control,name:"phone",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nomor Telepon"}),i.jsx(nt,{children:i.jsx(Ce,{placeholder:"contoh: 081234567890",...l})}),i.jsx(lt,{})]})}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[i.jsx(Z,{type:"submit",className:"flex-1 bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"}),i.jsx(Z,{type:"button",variant:"outline",className:"flex-1",onClick:r,disabled:n,children:"Batal"})]})]})})]})},hEe=()=>{const{user:t,profile:e,logout:r,refreshProfile:n}=xn(),{toast:s}=No(),[a,o]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState(!1),f=ar();w.useEffect(()=>{(async()=>{try{if(c(!0),t){const{data:x,error:v}=await oe.from("addresses").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});v?console.error("Error fetching addresses:",v):o(x||[])}}catch(x){console.error("Error fetching user data:",x)}finally{c(!1)}})()},[t]);const m=async y=>{try{if(!t)return;const{error:x}=await oe.from("profiles").update({name:y.name,phone:y.phone}).eq("id",t.id);if(x){console.error("Error updating profile:",x),s({variant:"destructive",title:"Gagal memperbarui profil",description:x.message});return}await n(),s({title:"Profil berhasil diperbarui",description:"Informasi profil Anda telah disimpan"}),d(!1)}catch(x){console.error("Error in profile update:",x),s({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal memperbarui profil. Silakan coba lagi."})}},p=async()=>{try{await r(),s({title:"Berhasil keluar",description:"Anda telah keluar dari akun"}),f("/")}catch(y){console.error("Error logging out:",y),s({variant:"destructive",title:"Gagal keluar",description:"Terjadi kesalahan saat mencoba keluar. Silakan coba lagi."})}};return l?i.jsx("div",{className:"min-h-[60vh] flex flex-col items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Tunggu Sebentar..."})}):i.jsxs("div",{className:"pb-16",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h1",{className:"text-xl font-bold",children:"Akun Saya"}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:p,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:[i.jsx(gR,{className:"h-4 w-4 mr-1"}),"Keluar"]})]}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"bg-slate-100 h-16 w-16 rounded-full flex items-center justify-center mr-4",children:i.jsx(ym,{className:"h-8 w-8 text-slate-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold text-lg",children:(e==null?void 0:e.name)||"Pengguna"}),i.jsxs("p",{className:"text-slate-500 text-sm flex items-center",children:[i.jsx(MP,{className:"h-3 w-3 mr-1"}),e==null?void 0:e.email]}),(e==null?void 0:e.phone)&&i.jsxs("p",{className:"text-slate-500 text-sm flex items-center mt-1",children:[i.jsx(QP,{className:"h-3 w-3 mr-1"}),e.phone]})]})]})}),i.jsxs(Ia,{defaultValue:"profile",className:"w-full",children:[i.jsxs(la,{className:"grid w-full grid-cols-2",children:[i.jsx(nr,{value:"profile",children:"Informasi Pribadi"}),i.jsx(nr,{value:"addresses",children:"Alamat Saya"})]}),i.jsx(Sr,{value:"profile",className:"mt-4 space-y-4",children:u?i.jsx("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:i.jsx(fEe,{profile:e,onUpdate:m,onCancel:()=>d(!1)})}):i.jsxs("div",{className:"p-5 rounded-lg bg-white shadow-sm",children:[i.jsxs("h3",{className:"text-md font-medium mb-4 flex items-center",children:[i.jsx(ym,{className:"h-4 w-4 mr-2 text-slate-500"}),"Informasi Pribadi"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nama Lengkap"}),i.jsx("p",{className:"font-medium",children:(e==null?void 0:e.name)||"-"})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Email"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(MP,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.email)||"-"]})]}),i.jsxs("div",{className:"pb-3 border-b border-slate-100",children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Nomor Telepon"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(QP,{className:"h-4 w-4 mr-2 text-slate-400"}),(e==null?void 0:e.phone)||"-"]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Status Akun"}),i.jsxs("p",{className:"font-medium flex items-center",children:[i.jsx(Gz,{className:"h-4 w-4 mr-2 text-green-500"}),"Terverifikasi"]})]})]}),i.jsx(Z,{onClick:()=>d(!0),variant:"outline",className:"mt-6 w-full",children:"Edit Profil"})]})}),i.jsx(Sr,{value:"addresses",className:"mt-4",children:a.length===0?i.jsxs("div",{className:"text-center py-8 bg-white rounded-lg shadow-sm",children:[i.jsx(iL,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-slate-500 mb-2",children:"Belum ada alamat tersimpan"}),i.jsx("p",{className:"text-sm text-slate-400 mb-4 max-w-xs mx-auto",children:"Tambahkan alamat untuk mempermudah proses checkout saat berbelanja"}),i.jsx(Z,{onClick:()=>f("/address/new"),className:"bg-flame-500 hover:bg-flame-600",children:"Tambah Alamat"})]}):i.jsxs("div",{className:"space-y-4",children:[a.map(y=>i.jsxs("div",{className:"border rounded-lg p-3 bg-white",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:y.name}),y.isDefault&&i.jsx("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-0.5 rounded-full",children:"Utama"})]}),i.jsx(Dt,{to:`/address/${y.id}`,className:"text-sm text-flame-600 hover:text-flame-500",children:"Ubah"})]}),i.jsx("p",{className:"text-sm mt-1",children:y.street}),i.jsxs("p",{className:"text-sm",children:[y.city,", ",y.state," ",y.zip]})]},y.id)),i.jsx("div",{className:"flex justify-center mt-2",children:i.jsxs(Z,{onClick:()=>f("/address/new"),variant:"outline",className:"w-full",children:[i.jsx(iL,{className:"h-4 w-4 mr-2"}),"Tambah Alamat Baru"]})})]})})]})]})},mEe=()=>{const{user:t}=xn();return i.jsx(br,{children:i.jsx("div",{className:"p-4",children:t?i.jsx(hEe,{}):i.jsx(AEe,{})})})};var l4="Checkbox",[pEe,Kze]=Pa(l4),[gEe,vEe]=pEe(l4),fte=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,p]=w.useState(null),y=Ht(e,C=>p(C)),x=w.useRef(!1),v=m?d||!!m.closest("form"):!0,[_=!1,j]=Ri({prop:s,defaultProp:a,onChange:u}),S=w.useRef(_);return w.useEffect(()=>{const C=m==null?void 0:m.form;if(C){const N=()=>j(S.current);return C.addEventListener("reset",N),()=>C.removeEventListener("reset",N)}},[m,j]),i.jsxs(gEe,{scope:r,state:_,disabled:l,children:[i.jsx(yt.button,{type:"button",role:"checkbox","aria-checked":Qu(_)?"mixed":_,"aria-required":o,"data-state":pte(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onKeyDown:Ye(t.onKeyDown,C=>{C.key==="Enter"&&C.preventDefault()}),onClick:Ye(t.onClick,C=>{j(N=>Qu(N)?!0:!N),v&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),v&&i.jsx(yEe,{control:m,bubbles:!x.current,name:n,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Qu(a)?!1:a})]})});fte.displayName=l4;var hte="CheckboxIndicator",mte=w.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...s}=t,a=vEe(hte,r);return i.jsx(ua,{present:n||Qu(a.state)||a.state===!0,children:i.jsx(yt.span,{"data-state":pte(a.state),"data-disabled":a.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});mte.displayName=hte;var yEe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:s,...a}=t,o=w.useRef(null),l=Gx(r),c=Ox(e);w.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const y=new Event("click",{bubbles:n});d.indeterminate=Qu(r),p.call(d,Qu(r)?!1:r),d.dispatchEvent(y)}},[l,r,n]);const u=w.useRef(Qu(r)?!1:r);return i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...a,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qu(t){return t==="indeterminate"}function pte(t){return Qu(t)?"indeterminate":t?"checked":"unchecked"}var gte=fte,xEe=mte;const c4=w.forwardRef(({className:t,...e},r)=>i.jsx(gte,{ref:r,className:Ee("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:i.jsx(xEe,{className:Ee("flex items-center justify-center text-current"),children:i.jsx(hR,{className:"h-4 w-4"})})}));c4.displayName=gte.displayName;const wEe=()=>{const{id:t}=Dx(),e=ar(),{toast:r}=No(),{user:n}=xn(),s=t==="new",[a,o]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(""),[p,y]=w.useState(""),[x,v]=w.useState(""),[_,j]=w.useState(!1),[S,C]=w.useState(!1);w.useEffect(()=>{(async()=>{if(!(s||!n))try{C(!0);const{data:T,error:P}=await oe.from("addresses").select("*").eq("id",t).eq("user_id",n.id).single();if(P)throw P;T&&(o(T.name),c(T.street),d(T.city),m(T.state),y(T.zip),v(T.country),j(T.is_default))}catch(T){r({title:"Error",description:T.message||"Tidak dapat memuat detail alamat",variant:"destructive"})}finally{C(!1)}})()},[t,n,s,r]);const N=async E=>{if(E.preventDefault(),!n){r({title:"Error",description:"Anda harus login untuk menyimpan alamat",variant:"destructive"});return}try{C(!0),_&&await oe.from("addresses").update({is_default:!1}).eq("user_id",n.id);const T={name:a,street:l,city:u,state:f,zip:p,country:x,is_default:_,user_id:n.id};if(s){const{error:P}=await oe.from("addresses").insert([T]);if(P)throw P;r({title:"Alamat Ditambahkan",description:"Alamat Anda telah berhasil disimpan"})}else{const{error:P}=await oe.from("addresses").update(T).eq("id",t).eq("user_id",n.id);if(P)throw P;r({title:"Alamat Diperbarui",description:"Alamat Anda telah berhasil diperbarui"})}e("/profile")}catch(T){r({title:"Error",description:T.message||"Tidak dapat menyimpan alamat",variant:"destructive"})}finally{C(!1)}},k=async()=>{if(!n||s||!t||t==="undefined"){r({title:"Konfirmasi penghapusan",description:"Apakah Anda yakin ingin menghapus alamat ini?",variant:"destructive"});return}try{C(!0);const{error:E}=await oe.from("addresses").delete().eq("id",t).eq("user_id",n.id);if(E)throw E;r({title:"Alamat Dihapus",description:"Alamat Anda telah berhasil dihapus"}),e("/profile")}catch(E){r({title:"Error",description:E.message||"Tidak dapat menghapus alamat",variant:"destructive"})}finally{C(!1)}};return i.jsx(br,{children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsxs("button",{onClick:()=>e("/profile"),className:"text-charcoal-600 flex items-center",children:[i.jsx(wo,{className:"h-5 w-5 mr-1"}),i.jsx("span",{children:"Kembali"})]}),i.jsx("h1",{className:"text-xl font-bold text-center flex-1 pr-6",children:s?"Tambah Alamat Baru":"Edit Alamat"})]}),i.jsxs("form",{onSubmit:N,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"name",children:"Nama Alamat"}),i.jsx(Ce,{id:"name",type:"text",value:a,onChange:E=>o(E.target.value),placeholder:"Rumah, Kantor, dll.",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"street",children:"Alamat Jalan"}),i.jsx(Ce,{id:"street",type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Jl. Contoh No. 123",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"city",children:"Kota"}),i.jsx(Ce,{id:"city",type:"text",value:u,onChange:E=>d(E.target.value),placeholder:"Nama Kota",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"state",children:"Provinsi"}),i.jsx(Ce,{id:"state",type:"text",value:f,onChange:E=>m(E.target.value),placeholder:"Nama Provinsi",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"zip",children:"Kode Pos"}),i.jsx(Ce,{id:"zip",type:"text",value:p,onChange:E=>y(E.target.value),placeholder:"Kode Pos",required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"country",children:"Catatan Detail Lokasi"}),i.jsx(Ce,{id:"country",type:"text",value:x,onChange:E=>v(E.target.value),placeholder:"Ceritakan Detail Lokasi Agar Lebih Mudah Ditemukan",required:!0})]}),i.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[i.jsx(c4,{id:"isDefault",checked:_,onCheckedChange:E=>j(E===!0)}),i.jsx(ze,{htmlFor:"isDefault",children:"Jadikan alamat utama"})]}),i.jsx("div",{className:"pt-4",children:i.jsx(Z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:S,children:S?"Menyimpan...":"Simpan Alamat"})}),!s&&i.jsx("div",{className:"pt-2",children:i.jsx(Z,{type:"button",variant:"outline",className:"w-full text-destructive border-destructive",onClick:k,disabled:S,children:"Hapus Alamat"})})]})]})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pO=function(t,e){return pO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},pO(t,e)};function Po(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pO(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var gO=function(){return gO=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gO.apply(this,arguments)};function ra(t,e,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(t,[])).next())})}function Os(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=u[0]&2?s.return:u[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,u[1])).done)return a;switch(s=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function sb(t,e,r){if(arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var pc=function(){function t(e,r,n,s){this.left=e,this.top=r,this.width=n,this.height=s}return t.prototype.add=function(e,r,n,s){return new t(this.left+e,this.top+r,this.width+n,this.height+s)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),kC=function(t,e){return pc.fromClientRect(t,e.getBoundingClientRect())},bEe=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),s=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new pc(0,0,n,s)},IC=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},Cn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},TH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_Ee=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ab=0;ab<TH.length;ab++)_Ee[TH.charCodeAt(ab)]=ab;var kH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ib=0;ib<kH.length;ib++)mv[kH.charCodeAt(ib)]=ib;var jEe=function(t){var e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=mv[t.charCodeAt(n)],o=mv[t.charCodeAt(n+1)],l=mv[t.charCodeAt(n+2)],c=mv[t.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},CEe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},BEe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Fd=5,u4=11,WS=2,EEe=u4-Fd,vte=65536>>Fd,SEe=1<<Fd,XS=SEe-1,NEe=1024>>Fd,TEe=vte+NEe,kEe=TEe,IEe=32,PEe=kEe+IEe,OEe=65536>>u4,FEe=1<<EEe,REe=FEe-1,IH=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},DEe=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},UEe=function(t,e){var r=jEe(t),n=Array.isArray(r)?BEe(r):new Uint32Array(r),s=Array.isArray(r)?CEe(r):new Uint16Array(r),a=24,o=IH(s,a/2,n[4]/2),l=n[5]===2?IH(s,(a+n[4])/2):DEe(n,Math.ceil((a+n[4])/4));return new MEe(n[0],n[1],n[2],n[3],o,l)},MEe=function(){function t(e,r,n,s,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Fd],r=(r<<WS)+(e&XS),this.data[r];if(e<=65535)return r=this.index[vte+(e-55296>>Fd)],r=(r<<WS)+(e&XS),this.data[r];if(e<this.highStart)return r=PEe-OEe+(e>>u4),r=this.index[r],r+=e>>Fd&REe,r=this.index[r],r=(r<<WS)+(e&XS),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),PH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",QEe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ob=0;ob<PH.length;ob++)QEe[PH.charCodeAt(ob)]=ob;var LEe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",OH=50,HEe=1,yte=2,xte=3,$Ee=4,VEe=5,FH=7,wte=8,RH=9,Nu=10,vO=11,DH=12,yO=13,KEe=14,pv=15,xO=16,lb=17,Kg=18,qEe=19,UH=20,wO=21,qg=22,JS=23,vh=24,Va=25,gv=26,vv=27,yh=28,zEe=29,hd=30,GEe=31,cb=32,ub=33,bO=34,_O=35,jO=36,Ly=37,CO=38,A1=39,d1=40,YS=41,bte=42,WEe=43,XEe=[9001,65288],_te="!",tr="×",Ab="÷",BO=UEe(LEe),Hl=[hd,jO],EO=[HEe,yte,xte,VEe],jte=[Nu,wte],MH=[vv,gv],JEe=EO.concat(jte),QH=[CO,A1,d1,bO,_O],YEe=[pv,yO],ZEe=function(t,e){e===void 0&&(e="strict");var r=[],n=[],s=[];return t.forEach(function(a,o){var l=BO.get(a);if(l>OH?(s.push(!0),l-=OH):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(o),r.push(xO);if(l===$Ee||l===vO){if(o===0)return n.push(o),r.push(hd);var c=r[o-1];return JEe.indexOf(c)===-1?(n.push(n[o-1]),r.push(c)):(n.push(o),r.push(hd))}if(n.push(o),l===GEe)return r.push(e==="strict"?wO:Ly);if(l===bte||l===zEe)return r.push(hd);if(l===WEe)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Ly):r.push(hd);r.push(l)}),[n,r,s]},ZS=function(t,e,r,n){var s=n[r];if(Array.isArray(t)?t.indexOf(s)!==-1:t===s)for(var a=r;a<=n.length;){a++;var o=n[a];if(o===e)return!0;if(o!==Nu)break}if(s===Nu)for(var a=r;a>0;){a--;var l=n[a];if(Array.isArray(t)?t.indexOf(l)!==-1:t===l)for(var c=r;c<=n.length;){c++;var o=n[c];if(o===e)return!0;if(o!==Nu)break}if(l!==Nu)break}return!1},LH=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===Nu)r--;else return n}return 0},eSe=function(t,e,r,n,s){if(r[n]===0)return tr;var a=n-1;if(Array.isArray(s)&&s[a]===!0)return tr;var o=a-1,l=a+1,c=e[a],u=o>=0?e[o]:0,d=e[l];if(c===yte&&d===xte)return tr;if(EO.indexOf(c)!==-1)return _te;if(EO.indexOf(d)!==-1||jte.indexOf(d)!==-1)return tr;if(LH(a,e)===wte)return Ab;if(BO.get(t[a])===vO||(c===cb||c===ub)&&BO.get(t[l])===vO||c===FH||d===FH||c===RH||[Nu,yO,pv].indexOf(c)===-1&&d===RH||[lb,Kg,qEe,vh,yh].indexOf(d)!==-1||LH(a,e)===qg||ZS(JS,qg,a,e)||ZS([lb,Kg],wO,a,e)||ZS(DH,DH,a,e))return tr;if(c===Nu)return Ab;if(c===JS||d===JS)return tr;if(d===xO||c===xO)return Ab;if([yO,pv,wO].indexOf(d)!==-1||c===KEe||u===jO&&YEe.indexOf(c)!==-1||c===yh&&d===jO||d===UH||Hl.indexOf(d)!==-1&&c===Va||Hl.indexOf(c)!==-1&&d===Va||c===vv&&[Ly,cb,ub].indexOf(d)!==-1||[Ly,cb,ub].indexOf(c)!==-1&&d===gv||Hl.indexOf(c)!==-1&&MH.indexOf(d)!==-1||MH.indexOf(c)!==-1&&Hl.indexOf(d)!==-1||[vv,gv].indexOf(c)!==-1&&(d===Va||[qg,pv].indexOf(d)!==-1&&e[l+1]===Va)||[qg,pv].indexOf(c)!==-1&&d===Va||c===Va&&[Va,yh,vh].indexOf(d)!==-1)return tr;if([Va,yh,vh,lb,Kg].indexOf(d)!==-1)for(var f=a;f>=0;){var m=e[f];if(m===Va)return tr;if([yh,vh].indexOf(m)!==-1)f--;else break}if([vv,gv].indexOf(d)!==-1)for(var f=[lb,Kg].indexOf(c)!==-1?o:a;f>=0;){var m=e[f];if(m===Va)return tr;if([yh,vh].indexOf(m)!==-1)f--;else break}if(CO===c&&[CO,A1,bO,_O].indexOf(d)!==-1||[A1,bO].indexOf(c)!==-1&&[A1,d1].indexOf(d)!==-1||[d1,_O].indexOf(c)!==-1&&d===d1||QH.indexOf(c)!==-1&&[UH,gv].indexOf(d)!==-1||QH.indexOf(d)!==-1&&c===vv||Hl.indexOf(c)!==-1&&Hl.indexOf(d)!==-1||c===vh&&Hl.indexOf(d)!==-1||Hl.concat(Va).indexOf(c)!==-1&&d===qg&&XEe.indexOf(t[l])===-1||Hl.concat(Va).indexOf(d)!==-1&&c===Kg)return tr;if(c===YS&&d===YS){for(var p=r[a],y=1;p>0&&(p--,e[p]===YS);)y++;if(y%2!==0)return tr}return c===cb&&d===ub?tr:Ab},tSe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=ZEe(t,e.lineBreak),n=r[0],s=r[1],a=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(l){return[Va,hd,bte].indexOf(l)!==-1?Ly:l}));var o=e.wordBreak==="keep-all"?a.map(function(l,c){return l&&t[c]>=19968&&t[c]<=40959}):void 0;return[n,s,o]},rSe=function(){function t(e,r,n,s){this.codePoints=e,this.required=r===_te,this.start=n,this.end=s}return t.prototype.slice=function(){return Cn.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),nSe=function(t,e){var r=IC(t),n=tSe(r,e),s=n[0],a=n[1],o=n[2],l=r.length,c=0,u=0;return{next:function(){if(u>=l)return{done:!0,value:null};for(var d=tr;u<l&&(d=eSe(r,a,s,++u,o))===tr;);if(d!==tr||u===l){var f=new rSe(r,d,c,u);return c=u,{value:f,done:!1}}return{done:!0,value:null}}}},sSe=1,aSe=2,r0=4,HH=8,u_=10,$H=47,Qv=92,iSe=9,oSe=32,db=34,zg=61,lSe=35,cSe=36,uSe=37,fb=39,hb=40,Gg=41,ASe=95,Ea=45,dSe=33,fSe=60,hSe=62,mSe=64,pSe=91,gSe=93,vSe=61,ySe=123,mb=63,xSe=125,VH=124,wSe=126,bSe=128,KH=65533,eN=42,yd=43,_Se=44,jSe=58,CSe=59,Hy=46,BSe=0,ESe=8,SSe=11,NSe=14,TSe=31,kSe=127,Ko=-1,Cte=48,Bte=97,Ete=101,ISe=102,PSe=117,OSe=122,Ste=65,Nte=69,Tte=70,FSe=85,RSe=90,Ds=function(t){return t>=Cte&&t<=57},DSe=function(t){return t>=55296&&t<=57343},xh=function(t){return Ds(t)||t>=Ste&&t<=Tte||t>=Bte&&t<=ISe},USe=function(t){return t>=Bte&&t<=OSe},MSe=function(t){return t>=Ste&&t<=RSe},QSe=function(t){return USe(t)||MSe(t)},LSe=function(t){return t>=bSe},pb=function(t){return t===u_||t===iSe||t===oSe},A_=function(t){return QSe(t)||LSe(t)||t===ASe},qH=function(t){return A_(t)||Ds(t)||t===Ea},HSe=function(t){return t>=BSe&&t<=ESe||t===SSe||t>=NSe&&t<=TSe||t===kSe},Au=function(t,e){return t!==Qv?!1:e!==u_},gb=function(t,e,r){return t===Ea?A_(e)||Au(e,r):A_(t)?!0:!!(t===Qv&&Au(t,e))},tN=function(t,e,r){return t===yd||t===Ea?Ds(e)?!0:e===Hy&&Ds(r):Ds(t===Hy?e:t)},$Se=function(t){var e=0,r=1;(t[e]===yd||t[e]===Ea)&&(t[e]===Ea&&(r=-1),e++);for(var n=[];Ds(t[e]);)n.push(t[e++]);var s=n.length?parseInt(Cn.apply(void 0,n),10):0;t[e]===Hy&&e++;for(var a=[];Ds(t[e]);)a.push(t[e++]);var o=a.length,l=o?parseInt(Cn.apply(void 0,a),10):0;(t[e]===Nte||t[e]===Ete)&&e++;var c=1;(t[e]===yd||t[e]===Ea)&&(t[e]===Ea&&(c=-1),e++);for(var u=[];Ds(t[e]);)u.push(t[e++]);var d=u.length?parseInt(Cn.apply(void 0,u),10):0;return r*(s+l*Math.pow(10,-o))*Math.pow(10,c*d)},VSe={type:2},KSe={type:3},qSe={type:4},zSe={type:13},GSe={type:8},WSe={type:21},XSe={type:9},JSe={type:10},YSe={type:11},ZSe={type:12},eNe={type:14},vb={type:23},tNe={type:1},rNe={type:25},nNe={type:24},sNe={type:26},aNe={type:27},iNe={type:28},oNe={type:29},lNe={type:31},SO={type:32},kte=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(IC(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==SO;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case db:return this.consumeStringToken(db);case lSe:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(qH(r)||Au(n,s)){var a=gb(r,n,s)?aSe:sSe,o=this.consumeName();return{type:5,value:o,flags:a}}break;case cSe:if(this.peekCodePoint(0)===zg)return this.consumeCodePoint(),zSe;break;case fb:return this.consumeStringToken(fb);case hb:return VSe;case Gg:return KSe;case eN:if(this.peekCodePoint(0)===zg)return this.consumeCodePoint(),eNe;break;case yd:if(tN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case _Se:return qSe;case Ea:var l=e,c=this.peekCodePoint(0),u=this.peekCodePoint(1);if(tN(l,c,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(gb(l,c,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(c===Ea&&u===hSe)return this.consumeCodePoint(),this.consumeCodePoint(),nNe;break;case Hy:if(tN(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case $H:if(this.peekCodePoint(0)===eN)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===eN&&(d=this.consumeCodePoint(),d===$H))return this.consumeToken();if(d===Ko)return this.consumeToken()}break;case jSe:return sNe;case CSe:return aNe;case fSe:if(this.peekCodePoint(0)===dSe&&this.peekCodePoint(1)===Ea&&this.peekCodePoint(2)===Ea)return this.consumeCodePoint(),this.consumeCodePoint(),rNe;break;case mSe:var f=this.peekCodePoint(0),m=this.peekCodePoint(1),p=this.peekCodePoint(2);if(gb(f,m,p)){var o=this.consumeName();return{type:7,value:o}}break;case pSe:return iNe;case Qv:if(Au(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case gSe:return oNe;case vSe:if(this.peekCodePoint(0)===zg)return this.consumeCodePoint(),GSe;break;case ySe:return YSe;case xSe:return ZSe;case PSe:case FSe:var y=this.peekCodePoint(0),x=this.peekCodePoint(1);return y===yd&&(xh(x)||x===mb)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case VH:if(this.peekCodePoint(0)===zg)return this.consumeCodePoint(),XSe;if(this.peekCodePoint(0)===VH)return this.consumeCodePoint(),WSe;break;case wSe:if(this.peekCodePoint(0)===zg)return this.consumeCodePoint(),JSe;break;case Ko:return SO}return pb(e)?(this.consumeWhiteSpace(),lNe):Ds(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):A_(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Cn(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();xh(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===mb&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Cn.apply(void 0,e.map(function(c){return c===mb?Cte:c})),16),a=parseInt(Cn.apply(void 0,e.map(function(c){return c===mb?Tte:c})),16);return{type:30,start:s,end:a}}var o=parseInt(Cn.apply(void 0,e),16);if(this.peekCodePoint(0)===Ea&&xh(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var l=[];xh(r)&&l.length<6;)l.push(r),r=this.consumeCodePoint();var a=parseInt(Cn.apply(void 0,l),16);return{type:30,start:o,end:a}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===hb?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===hb?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===fb||r===db){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko||this.peekCodePoint(0)===Gg)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vb)}for(;;){var s=this.consumeCodePoint();if(s===Ko||s===Gg)return{type:22,value:Cn.apply(void 0,e)};if(pb(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ko||this.peekCodePoint(0)===Gg?(this.consumeCodePoint(),{type:22,value:Cn.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vb);if(s===db||s===fb||s===hb||HSe(s))return this.consumeBadUrlRemnants(),vb;if(s===Qv)if(Au(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vb;else e.push(s)}},t.prototype.consumeWhiteSpace=function(){for(;pb(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Gg||e===Ko)return;Au(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var s=Math.min(r,e);n+=Cn.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var s=this._value[n];if(s===Ko||s===void 0||s===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===u_)return this._value.splice(0,n),tNe;if(s===Qv){var a=this._value[n+1];a!==Ko&&a!==void 0&&(a===u_?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):Au(s,a)&&(r+=this.consumeStringSlice(n),r+=Cn(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=r0,n=this.peekCodePoint(0);for((n===yd||n===Ea)&&e.push(this.consumeCodePoint());Ds(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Hy&&Ds(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=HH;Ds(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Nte||n===Ete)&&((s===yd||s===Ea)&&Ds(a)||Ds(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=HH;Ds(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[$Se(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),o=this.peekCodePoint(2);if(gb(s,a,o)){var l=this.consumeName();return{type:15,number:r,flags:n,unit:l}}return s===uSe?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(xh(e)){for(var r=Cn(e);xh(this.peekCodePoint(0))&&r.length<6;)r+=Cn(this.consumeCodePoint());pb(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||DSe(n)||n>1114111?KH:n}return e===Ko?KH:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(qH(r))e+=Cn(r);else if(Au(r,this.peekCodePoint(0)))e+=Cn(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),Ite=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new kte;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||uNe(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?SO:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),n0=function(t){return t.type===15},Ip=function(t){return t.type===17},Ur=function(t){return t.type===20},cNe=function(t){return t.type===0},NO=function(t,e){return Ur(t)&&t.value===e},Pte=function(t){return t.type!==31},Mm=function(t){return t.type!==31&&t.type!==4},wl=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},uNe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},aA=function(t){return t.type===17||t.type===15},Fn=function(t){return t.type===16||aA(t)},Ote=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},js={type:17,number:0,flags:r0},A4={type:16,number:50,flags:r0},Tu={type:16,number:100,flags:r0},yv=function(t,e,r){var n=t[0],s=t[1];return[Yr(n,e),Yr(typeof s<"u"?s:n,r)]},Yr=function(t,e){if(t.type===16)return t.number/100*e;if(n0(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Fte="deg",Rte="grad",Dte="rad",Ute="turn",PC={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case Fte:return Math.PI*e.number/180;case Rte:return Math.PI/200*e.number;case Dte:return e.number;case Ute:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Mte=function(t){return t.type===15&&(t.unit===Fte||t.unit===Rte||t.unit===Dte||t.unit===Ute)},Qte=function(t){var e=t.filter(Ur).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[js,js];case"to top":case"bottom":return Si(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[js,Tu];case"to right":case"left":return Si(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Tu,Tu];case"to bottom":case"top":return Si(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Tu,js];case"to left":case"right":return Si(270)}return 0},Si=function(t){return Math.PI*t/180},Lu={name:"color",parse:function(t,e){if(e.type===18){var r=ANe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3);return ku(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),a=e.value.substring(2,3),o=e.value.substring(3,4);return ku(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(o+o,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6);return ku(parseInt(n,16),parseInt(s,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),a=e.value.substring(4,6),o=e.value.substring(6,8);return ku(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(o,16)/255)}}if(e.type===20){var l=sc[e.value.toUpperCase()];if(typeof l<"u")return l}return sc.TRANSPARENT}},Hu=function(t){return(255&t)===0},es=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,s=255&t>>24;return e<255?"rgba("+s+","+n+","+r+","+e/255+")":"rgb("+s+","+n+","+r+")"},ku=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},zH=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},GH=function(t,e){var r=e.filter(Mm);if(r.length===3){var n=r.map(zH),s=n[0],a=n[1],o=n[2];return ku(s,a,o,1)}if(r.length===4){var l=r.map(zH),s=l[0],a=l[1],o=l[2],c=l[3];return ku(s,a,o,c)}return 0};function rN(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var WH=function(t,e){var r=e.filter(Mm),n=r[0],s=r[1],a=r[2],o=r[3],l=(n.type===17?Si(n.number):PC.parse(t,n))/(Math.PI*2),c=Fn(s)?s.number/100:0,u=Fn(a)?a.number/100:0,d=typeof o<"u"&&Fn(o)?Yr(o,1):1;if(c===0)return ku(u*255,u*255,u*255,1);var f=u<=.5?u*(c+1):u+c-u*c,m=u*2-f,p=rN(m,f,l+1/3),y=rN(m,f,l),x=rN(m,f,l-1/3);return ku(p*255,y*255,x*255,d)},ANe={hsl:WH,hsla:WH,rgb:GH,rgba:GH},Lv=function(t,e){return Lu.parse(t,Ite.create(e).parseComponentValue())},sc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},dNe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fNe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},OC=function(t,e){var r=Lu.parse(t,e[0]),n=e[1];return n&&Fn(n)?{color:r,stop:n}:{color:r,stop:null}},XH=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=js),n.stop===null&&(n.stop=Tu);for(var s=[],a=0,o=0;o<t.length;o++){var l=t[o].stop;if(l!==null){var c=Yr(l,e);c>a?s.push(c):s.push(a),a=c}else s.push(null)}for(var u=null,o=0;o<s.length;o++){var d=s[o];if(d===null)u===null&&(u=o);else if(u!==null){for(var f=o-u,m=s[u-1],p=(d-m)/(f+1),y=1;y<=f;y++)s[u+y-1]=p*y;u=null}}return t.map(function(x,v){var _=x.color;return{color:_,stop:Math.max(Math.min(1,s[v]/e),0)}})},hNe=function(t,e,r){var n=e/2,s=r/2,a=Yr(t[0],e)-n,o=s-Yr(t[1],r);return(Math.atan2(o,a)+Math.PI*2)%(Math.PI*2)},mNe=function(t,e,r){var n=typeof t=="number"?t:hNe(t,e,r),s=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),a=e/2,o=r/2,l=s/2,c=Math.sin(n-Math.PI/2)*l,u=Math.cos(n-Math.PI/2)*l;return[s,a-u,a+u,o-c,o+c]},so=function(t,e){return Math.sqrt(t*t+e*e)},JH=function(t,e,r,n,s){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(o,l){var c=l[0],u=l[1],d=so(r-c,n-u);return(s?d<o.optimumDistance:d>o.optimumDistance)?{optimumCorner:l,optimumDistance:d}:o},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},pNe=function(t,e,r,n,s){var a=0,o=0;switch(t.size){case 0:t.shape===0?a=o=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),o=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(t.shape===0)a=o=Math.min(so(e,r),so(e,r-s),so(e-n,r),so(e-n,r-s));else if(t.shape===1){var l=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(e),Math.abs(e-n)),c=JH(n,s,e,r,!0),u=c[0],d=c[1];a=so(u-e,(d-r)/l),o=l*a}break;case 1:t.shape===0?a=o=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-s)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),o=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(t.shape===0)a=o=Math.max(so(e,r),so(e,r-s),so(e-n,r),so(e-n,r-s));else if(t.shape===1){var l=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(e),Math.abs(e-n)),f=JH(n,s,e,r,!1),u=f[0],d=f[1];a=so(u-e,(d-r)/l),o=l*a}break}return Array.isArray(t.size)&&(a=Yr(t.size[0],n),o=t.size.length===2?Yr(t.size[1],s):a),[a,o]},gNe=function(t,e){var r=Si(180),n=[];return wl(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&o.value==="to"){r=Qte(s);return}else if(Mte(o)){r=PC.parse(t,o);return}}var l=OC(t,s);n.push(l)}),{angle:r,stops:n,type:1}},yb=function(t,e){var r=Si(180),n=[];return wl(e).forEach(function(s,a){if(a===0){var o=s[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){r=Qte(s);return}else if(Mte(o)){r=(PC.parse(t,o)+Si(270))%Si(360);return}}var l=OC(t,s);n.push(l)}),{angle:r,stops:n,type:1}},vNe=function(t,e){var r=Si(180),n=[],s=1,a=0,o=3,l=[];return wl(e).forEach(function(c,u){var d=c[0];if(u===0){if(Ur(d)&&d.value==="linear"){s=1;return}else if(Ur(d)&&d.value==="radial"){s=2;return}}if(d.type===18){if(d.name==="from"){var f=Lu.parse(t,d.values[0]);n.push({stop:js,color:f})}else if(d.name==="to"){var f=Lu.parse(t,d.values[0]);n.push({stop:Tu,color:f})}else if(d.name==="color-stop"){var m=d.values.filter(Mm);if(m.length===2){var f=Lu.parse(t,m[1]),p=m[0];Ip(p)&&n.push({stop:{type:16,number:p.number*100,flags:p.flags},color:f})}}}}),s===1?{angle:(r+Si(180))%Si(360),stops:n,type:s}:{size:o,shape:a,stops:n,position:l,type:s}},Lte="closest-side",Hte="farthest-side",$te="closest-corner",Vte="farthest-corner",Kte="circle",qte="ellipse",zte="cover",Gte="contain",yNe=function(t,e){var r=0,n=3,s=[],a=[];return wl(e).forEach(function(o,l){var c=!0;if(l===0){var u=!1;c=o.reduce(function(f,m){if(u)if(Ur(m))switch(m.value){case"center":return a.push(A4),f;case"top":case"left":return a.push(js),f;case"right":case"bottom":return a.push(Tu),f}else(Fn(m)||aA(m))&&a.push(m);else if(Ur(m))switch(m.value){case Kte:return r=0,!1;case qte:return r=1,!1;case"at":return u=!0,!1;case Lte:return n=0,!1;case zte:case Hte:return n=1,!1;case Gte:case $te:return n=2,!1;case Vte:return n=3,!1}else if(aA(m)||Fn(m))return Array.isArray(n)||(n=[]),n.push(m),!1;return f},c)}if(c){var d=OC(t,o);s.push(d)}}),{size:n,shape:r,stops:s,position:a,type:2}},xb=function(t,e){var r=0,n=3,s=[],a=[];return wl(e).forEach(function(o,l){var c=!0;if(l===0?c=o.reduce(function(d,f){if(Ur(f))switch(f.value){case"center":return a.push(A4),!1;case"top":case"left":return a.push(js),!1;case"right":case"bottom":return a.push(Tu),!1}else if(Fn(f)||aA(f))return a.push(f),!1;return d},c):l===1&&(c=o.reduce(function(d,f){if(Ur(f))switch(f.value){case Kte:return r=0,!1;case qte:return r=1,!1;case Gte:case Lte:return n=0,!1;case Hte:return n=1,!1;case $te:return n=2,!1;case zte:case Vte:return n=3,!1}else if(aA(f)||Fn(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return d},c)),c){var u=OC(t,o);s.push(u)}}),{size:n,shape:r,stops:s,position:a,type:2}},xNe=function(t){return t.type===1},wNe=function(t){return t.type===2},d4={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=Wte[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function bNe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Wte[t.name])}var Wte={"linear-gradient":gNe,"-moz-linear-gradient":yb,"-ms-linear-gradient":yb,"-o-linear-gradient":yb,"-webkit-linear-gradient":yb,"radial-gradient":yNe,"-moz-radial-gradient":xb,"-ms-radial-gradient":xb,"-o-radial-gradient":xb,"-webkit-radial-gradient":xb,"-webkit-gradient":vNe},_Ne={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Mm(n)&&bNe(n)}).map(function(n){return d4.parse(t,n)})}},jNe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(Ur(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},CNe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return wl(e).map(function(r){return r.filter(Fn)}).map(Ote)}},BNe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return wl(e).map(function(r){return r.filter(Ur).map(function(n){return n.value}).join(" ")}).map(ENe)}},ENe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Jh;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Jh||(Jh={}));var SNe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return wl(e).map(function(r){return r.filter(NNe)})}},NNe=function(t){return Ur(t)||Fn(t)},FC=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},TNe=FC("top"),kNe=FC("right"),INe=FC("bottom"),PNe=FC("left"),RC=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return Ote(r.filter(Fn))}}},ONe=RC("top-left"),FNe=RC("top-right"),RNe=RC("bottom-right"),DNe=RC("bottom-left"),DC=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},UNe=DC("top"),MNe=DC("right"),QNe=DC("bottom"),LNe=DC("left"),UC=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return n0(r)?r.number:0}}},HNe=UC("top"),$Ne=UC("right"),VNe=UC("bottom"),KNe=UC("left"),qNe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zNe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},GNe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).reduce(function(r,n){return r|WNe(n.value)},0)}},WNe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},XNe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},JNe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},d_;(function(t){t.NORMAL="normal",t.STRICT="strict"})(d_||(d_={}));var YNe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return d_.STRICT;case"normal":default:return d_.NORMAL}}},ZNe={name:"line-height",initialValue:"normal",prefix:!1,type:4},YH=function(t,e){return Ur(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Fn(t)?Yr(t,e):e},eTe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:d4.parse(t,e)}},tTe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},TO={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},MC=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},rTe=MC("top"),nTe=MC("right"),sTe=MC("bottom"),aTe=MC("left"),iTe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},oTe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},QC=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},lTe=QC("top"),cTe=QC("right"),uTe=QC("bottom"),ATe=QC("left"),dTe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},fTe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},hTe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NO(e[0],"none")?[]:wl(e).map(function(r){for(var n={color:sc.TRANSPARENT,offsetX:js,offsetY:js,blur:js},s=0,a=0;a<r.length;a++){var o=r[a];aA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:n.blur=o,s++):n.color=Lu.parse(t,o)}return n})}},mTe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},pTe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=yTe[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},gTe=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},vTe=function(t){var e=t.filter(function(c){return c.type===17}).map(function(c){return c.number}),r=e[0],n=e[1];e[2],e[3];var s=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],l=e[13];return e[14],e[15],e.length===16?[r,n,s,a,o,l]:null},yTe={matrix:gTe,matrix3d:vTe},ZH={type:16,number:50,flags:r0},xTe=[ZH,ZH],wTe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(Fn);return r.length!==2?xTe:[r[0],r[1]]}},bTe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Hv;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Hv||(Hv={}));var _Te={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Hv.BREAK_ALL;case"keep-all":return Hv.KEEP_ALL;case"normal":default:return Hv.NORMAL}}},jTe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Ip(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Xte={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},CTe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Ip(e)?e.number:1}},BTe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ETe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},STe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},NTe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},TTe={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Ip(e))return e.number;if(Ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},kTe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ur).map(function(r){return r.value})}},ITe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Vn=function(t,e){return(t&e)!==0},PTe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},OTe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=e.filter(Pte),a=0;a<s.length;a++){var o=s[a],l=s[a+1];if(o.type===20){var c=l&&Ip(l)?l.number:1;n.push({counter:o.value,increment:c})}}return n}},FTe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(Pte),s=0;s<n.length;s++){var a=n[s],o=n[s+1];if(Ur(a)&&a.value!=="none"){var l=o&&Ip(o)?o.number:0;r.push({counter:a.value,reset:l})}}return r}},RTe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(n0).map(function(r){return Xte.parse(t,r)})}},DTe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],s=e.filter(cNe);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var o=s[a].value,l=s[a+1].value;n.push({open:o,close:l})}return n}},e6=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},UTe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&NO(e[0],"none")?[]:wl(e).map(function(r){for(var n={color:255,offsetX:js,offsetY:js,blur:js,spread:js,inset:!1},s=0,a=0;a<r.length;a++){var o=r[a];NO(o,"inset")?n.inset=!0:aA(o)?(s===0?n.offsetX=o:s===1?n.offsetY=o:s===2?n.blur=o:n.spread=o,s++):n.color=Lu.parse(t,o)}return n})}},MTe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(Ur).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},QTe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},LTe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return n0(e)?e.number:0}},HTe=function(){function t(e,r){var n,s;this.animationDuration=it(e,RTe,r.animationDuration),this.backgroundClip=it(e,dNe,r.backgroundClip),this.backgroundColor=it(e,fNe,r.backgroundColor),this.backgroundImage=it(e,_Ne,r.backgroundImage),this.backgroundOrigin=it(e,jNe,r.backgroundOrigin),this.backgroundPosition=it(e,CNe,r.backgroundPosition),this.backgroundRepeat=it(e,BNe,r.backgroundRepeat),this.backgroundSize=it(e,SNe,r.backgroundSize),this.borderTopColor=it(e,TNe,r.borderTopColor),this.borderRightColor=it(e,kNe,r.borderRightColor),this.borderBottomColor=it(e,INe,r.borderBottomColor),this.borderLeftColor=it(e,PNe,r.borderLeftColor),this.borderTopLeftRadius=it(e,ONe,r.borderTopLeftRadius),this.borderTopRightRadius=it(e,FNe,r.borderTopRightRadius),this.borderBottomRightRadius=it(e,RNe,r.borderBottomRightRadius),this.borderBottomLeftRadius=it(e,DNe,r.borderBottomLeftRadius),this.borderTopStyle=it(e,UNe,r.borderTopStyle),this.borderRightStyle=it(e,MNe,r.borderRightStyle),this.borderBottomStyle=it(e,QNe,r.borderBottomStyle),this.borderLeftStyle=it(e,LNe,r.borderLeftStyle),this.borderTopWidth=it(e,HNe,r.borderTopWidth),this.borderRightWidth=it(e,$Ne,r.borderRightWidth),this.borderBottomWidth=it(e,VNe,r.borderBottomWidth),this.borderLeftWidth=it(e,KNe,r.borderLeftWidth),this.boxShadow=it(e,UTe,r.boxShadow),this.color=it(e,qNe,r.color),this.direction=it(e,zNe,r.direction),this.display=it(e,GNe,r.display),this.float=it(e,XNe,r.cssFloat),this.fontFamily=it(e,STe,r.fontFamily),this.fontSize=it(e,NTe,r.fontSize),this.fontStyle=it(e,ITe,r.fontStyle),this.fontVariant=it(e,kTe,r.fontVariant),this.fontWeight=it(e,TTe,r.fontWeight),this.letterSpacing=it(e,JNe,r.letterSpacing),this.lineBreak=it(e,YNe,r.lineBreak),this.lineHeight=it(e,ZNe,r.lineHeight),this.listStyleImage=it(e,eTe,r.listStyleImage),this.listStylePosition=it(e,tTe,r.listStylePosition),this.listStyleType=it(e,TO,r.listStyleType),this.marginTop=it(e,rTe,r.marginTop),this.marginRight=it(e,nTe,r.marginRight),this.marginBottom=it(e,sTe,r.marginBottom),this.marginLeft=it(e,aTe,r.marginLeft),this.opacity=it(e,CTe,r.opacity);var a=it(e,iTe,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=it(e,oTe,r.overflowWrap),this.paddingTop=it(e,lTe,r.paddingTop),this.paddingRight=it(e,cTe,r.paddingRight),this.paddingBottom=it(e,uTe,r.paddingBottom),this.paddingLeft=it(e,ATe,r.paddingLeft),this.paintOrder=it(e,MTe,r.paintOrder),this.position=it(e,fTe,r.position),this.textAlign=it(e,dTe,r.textAlign),this.textDecorationColor=it(e,BTe,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=it(e,ETe,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=it(e,hTe,r.textShadow),this.textTransform=it(e,mTe,r.textTransform),this.transform=it(e,pTe,r.transform),this.transformOrigin=it(e,wTe,r.transformOrigin),this.visibility=it(e,bTe,r.visibility),this.webkitTextStrokeColor=it(e,QTe,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=it(e,LTe,r.webkitTextStrokeWidth),this.wordBreak=it(e,_Te,r.wordBreak),this.zIndex=it(e,jTe,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Hu(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Vn(this.display,4)||Vn(this.display,33554432)||Vn(this.display,268435456)||Vn(this.display,536870912)||Vn(this.display,67108864)||Vn(this.display,134217728)},t}(),$Te=function(){function t(e,r){this.content=it(e,PTe,r.content),this.quotes=it(e,DTe,r.quotes)}return t}(),t6=function(){function t(e,r){this.counterIncrement=it(e,OTe,r.counterIncrement),this.counterReset=it(e,FTe,r.counterReset)}return t}(),it=function(t,e,r){var n=new kte,s=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(s);var a=new Ite(n.read());switch(e.type){case 2:var o=a.parseComponentValue();return e.parse(t,Ur(o)?o.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return PC.parse(t,a.parseComponentValue());case"color":return Lu.parse(t,a.parseComponentValue());case"image":return d4.parse(t,a.parseComponentValue());case"length":var l=a.parseComponentValue();return aA(l)?l:js;case"length-percentage":var c=a.parseComponentValue();return Fn(c)?c:js;case"time":return Xte.parse(t,a.parseComponentValue())}break}},VTe="data-html2canvas-debug",KTe=function(t){var e=t.getAttribute(VTe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},kO=function(t,e){var r=KTe(t);return r===1||e===r},bl=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,kO(r,3))debugger;this.styles=new HTe(e,window.getComputedStyle(r,null)),OO(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=kC(this.context,r),kO(r,4)&&(this.flags|=16)}return t}(),qTe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",r6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wb=0;wb<r6.length;wb++)xv[r6.charCodeAt(wb)]=wb;var zTe=function(t){var e=t.length*.75,r=t.length,n,s=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)a=xv[t.charCodeAt(n)],o=xv[t.charCodeAt(n+1)],l=xv[t.charCodeAt(n+2)],c=xv[t.charCodeAt(n+3)],d[s++]=a<<2|o>>4,d[s++]=(o&15)<<4|l>>2,d[s++]=(l&3)<<6|c&63;return u},GTe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},WTe=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},Rd=5,f4=11,nN=2,XTe=f4-Rd,Jte=65536>>Rd,JTe=1<<Rd,sN=JTe-1,YTe=1024>>Rd,ZTe=Jte+YTe,eke=ZTe,tke=32,rke=eke+tke,nke=65536>>f4,ske=1<<XTe,ake=ske-1,n6=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},ike=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},oke=function(t,e){var r=zTe(t),n=Array.isArray(r)?WTe(r):new Uint32Array(r),s=Array.isArray(r)?GTe(r):new Uint16Array(r),a=24,o=n6(s,a/2,n[4]/2),l=n[5]===2?n6(s,(a+n[4])/2):ike(n,Math.ceil((a+n[4])/4));return new lke(n[0],n[1],n[2],n[3],o,l)},lke=function(){function t(e,r,n,s,a,o){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=o}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>Rd],r=(r<<nN)+(e&sN),this.data[r];if(e<=65535)return r=this.index[Jte+(e-55296>>Rd)],r=(r<<nN)+(e&sN),this.data[r];if(e<this.highStart)return r=rke-nke+(e>>f4),r=this.index[r],r+=e>>Rd&ake,r=this.index[r],r=(r<<nN)+(e&sN),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),s6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cke=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bb=0;bb<s6.length;bb++)cke[s6.charCodeAt(bb)]=bb;var uke=1,aN=2,iN=3,a6=4,i6=5,Ake=7,o6=8,oN=9,lN=10,l6=11,c6=12,u6=13,A6=14,cN=15,dke=function(t){for(var e=[],r=0,n=t.length;r<n;){var s=t.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=t.charCodeAt(r++);(a&64512)===56320?e.push(((s&1023)<<10)+(a&1023)+65536):(e.push(s),r--)}else e.push(s)}return e},fke=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var o=t[s];o<=65535?n.push(o):(o-=65536,n.push((o>>10)+55296,o%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},hke=oke(qTe),bi="×",uN="÷",mke=function(t){return hke.get(t)},pke=function(t,e,r){var n=r-2,s=e[n],a=e[r-1],o=e[r];if(a===aN&&o===iN)return bi;if(a===aN||a===iN||a===a6||o===aN||o===iN||o===a6)return uN;if(a===o6&&[o6,oN,l6,c6].indexOf(o)!==-1||(a===l6||a===oN)&&(o===oN||o===lN)||(a===c6||a===lN)&&o===lN||o===u6||o===i6||o===Ake||a===uke)return bi;if(a===u6&&o===A6){for(;s===i6;)s=e[--n];if(s===A6)return bi}if(a===cN&&o===cN){for(var l=0;s===cN;)l++,s=e[--n];if(l%2===0)return bi}return uN},gke=function(t){var e=dke(t),r=e.length,n=0,s=0,a=e.map(mke);return{next:function(){if(n>=r)return{done:!0,value:null};for(var o=bi;n<r&&(o=pke(e,a,++n))===bi;);if(o!==bi||n===r){var l=fke.apply(null,e.slice(s,n));return s=n,{value:l,done:!1}}return{done:!0,value:null}}}},vke=function(t){for(var e=gke(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},yke=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(t.body.removeChild(n),a===e)return!0}}return!1},xke=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=IC(n.data).map(function(c){return Cn(c)}),a=0,o={},l=s.every(function(c,u){r.setStart(n,a),r.setEnd(n,a+c.length);var d=r.getBoundingClientRect();a+=c.length;var f=d.x>o.x||d.y>o.y;return o=d,u===0?!0:f});return t.body.removeChild(e),l},wke=function(){return typeof new Image().crossOrigin<"u"},bke=function(){return typeof new XMLHttpRequest().responseType=="string"},_ke=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},d6=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},jke=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=e.toDataURL();s.src=a;var o=IO(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),f6(o).then(function(l){n.drawImage(l,0,0);var c=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+a+")",u.style.height=r+"px",d6(c)?f6(IO(r,r,0,0,u)):Promise.reject(!1)}).then(function(l){return n.drawImage(l,0,0),d6(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},IO=function(t,e,r,n,s){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"svg"),l=document.createElementNS(a,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),l.setAttributeNS(null,"width","100%"),l.setAttributeNS(null,"height","100%"),l.setAttributeNS(null,"x",r.toString()),l.setAttributeNS(null,"y",n.toString()),l.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(l),l.appendChild(s),o},f6=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},hs={get SUPPORT_RANGE_BOUNDS(){var t=yke(document);return Object.defineProperty(hs,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=hs.SUPPORT_RANGE_BOUNDS&&xke(document);return Object.defineProperty(hs,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=_ke(document);return Object.defineProperty(hs,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?jke(document):Promise.resolve(!1);return Object.defineProperty(hs,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=wke();return Object.defineProperty(hs,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=bke();return Object.defineProperty(hs,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(hs,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(hs,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},$v=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),Cke=function(t,e,r,n){var s=Ske(e,r),a=[],o=0;return s.forEach(function(l){if(r.textDecorationLine.length||l.trim().length>0)if(hs.SUPPORT_RANGE_BOUNDS){var c=h6(n,o,l.length).getClientRects();if(c.length>1){var u=h4(l),d=0;u.forEach(function(m){a.push(new $v(m,pc.fromDOMRectList(t,h6(n,d+o,m.length).getClientRects()))),d+=m.length})}else a.push(new $v(l,pc.fromDOMRectList(t,c)))}else{var f=n.splitText(l.length);a.push(new $v(l,Bke(t,n))),n=f}else hs.SUPPORT_RANGE_BOUNDS||(n=n.splitText(l.length));o+=l.length}),a},Bke=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var a=kC(t,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return pc.EMPTY},h6=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(t,e),s.setEnd(t,e+r),s},h4=function(t){if(hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return vke(t)},Eke=function(t,e){if(hs.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return Tke(t,e)},Ske=function(t,e){return e.letterSpacing!==0?h4(t):Eke(t,e)},Nke=[32,160,4961,65792,65793,4153,4241],Tke=function(t,e){for(var r=nSe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,a=function(){if(s.value){var o=s.value.slice(),l=IC(o),c="";l.forEach(function(u){Nke.indexOf(u)===-1?c+=Cn(u):(c.length&&n.push(c),n.push(Cn(u)),c="")}),c.length&&n.push(c)}};!(s=r.next()).done;)a();return n},kke=function(){function t(e,r,n){this.text=Ike(r.data,n.textTransform),this.textBounds=Cke(e,this.text,n,r)}return t}(),Ike=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Pke,Oke);case 2:return t.toUpperCase();default:return t}},Pke=/(^|\s|:|-|\(|\))([a-z])/g,Oke=function(t,e,r){return t.length>0?e+r.toUpperCase():t},Yte=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e}(bl),Zte=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e}(bl),ere=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this,a=new XMLSerializer,o=kC(r,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e}(bl),tre=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bl),PO=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e}(bl),Fke=[{type:15,flags:0,unit:"px",number:3}],Rke=[{type:16,flags:0,number:50}],Dke=function(t){return t.width>t.height?new pc(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new pc(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Uke=function(t){var e=t.type===Mke?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},f_="checkbox",h_="radio",Mke="password",m6=707406591,m4=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Uke(n),(s.type===f_||s.type===h_)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Dke(s.bounds)),s.type){case f_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Fke;break;case h_:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Rke;break}return s}return e}(bl),rre=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return s.value=a&&a.text||"",s}return e}(bl),nre=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.value=n.value,s}return e}(bl),sre=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=ire(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?Lv(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):sc.TRANSPARENT,o=n.contentWindow.document.body?Lv(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):sc.TRANSPARENT;s.backgroundColor=Hu(a)?Hu(o)?s.styles.backgroundColor:o:a}}catch{}return s}return e}(bl),Qke=["OL","UL","MENU"],f1=function(t,e,r,n){for(var s=e.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,ore(s)&&s.data.trim().length>0)r.textNodes.push(new kke(t,s,r.styles));else if(Hh(s))if(Are(s)&&s.assignedNodes)s.assignedNodes().forEach(function(l){return f1(t,l,r,n)});else{var o=are(t,s);o.styles.isVisible()&&(Lke(s,o,n)?o.flags|=4:Hke(o.styles)&&(o.flags|=2),Qke.indexOf(s.tagName)!==-1&&(o.flags|=8),r.elements.push(o),s.slot,s.shadowRoot?f1(t,s.shadowRoot,o,n):!m_(s)&&!lre(s)&&!p_(s)&&f1(t,s,o,n))}},are=function(t,e){return FO(e)?new Yte(t,e):cre(e)?new Zte(t,e):lre(e)?new ere(t,e):$ke(e)?new tre(t,e):Vke(e)?new PO(t,e):Kke(e)?new m4(t,e):p_(e)?new rre(t,e):m_(e)?new nre(t,e):ure(e)?new sre(t,e):new bl(t,e)},ire=function(t,e){var r=are(t,e);return r.flags|=4,f1(t,e,r,r),r},Lke=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||p4(t)&&r.styles.isTransparent()},Hke=function(t){return t.isPositioned()||t.isFloating()},ore=function(t){return t.nodeType===Node.TEXT_NODE},Hh=function(t){return t.nodeType===Node.ELEMENT_NODE},OO=function(t){return Hh(t)&&typeof t.style<"u"&&!h1(t)},h1=function(t){return typeof t.className=="object"},$ke=function(t){return t.tagName==="LI"},Vke=function(t){return t.tagName==="OL"},Kke=function(t){return t.tagName==="INPUT"},qke=function(t){return t.tagName==="HTML"},lre=function(t){return t.tagName==="svg"},p4=function(t){return t.tagName==="BODY"},cre=function(t){return t.tagName==="CANVAS"},p6=function(t){return t.tagName==="VIDEO"},FO=function(t){return t.tagName==="IMG"},ure=function(t){return t.tagName==="IFRAME"},g6=function(t){return t.tagName==="STYLE"},zke=function(t){return t.tagName==="SCRIPT"},m_=function(t){return t.tagName==="TEXTAREA"},p_=function(t){return t.tagName==="SELECT"},Are=function(t){return t.tagName==="SLOT"},v6=function(t){return t.tagName.indexOf("-")>0},Gke=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,s=e.counterReset,a=!0;n!==null&&n.forEach(function(l){var c=r.counters[l.counter];c&&l.increment!==0&&(a=!1,c.length||c.push(1),c[Math.max(0,c.length-1)]+=l.increment)});var o=[];return a&&s.forEach(function(l){var c=r.counters[l.counter];o.push(l.counter),c||(c=r.counters[l.counter]=[]),c.push(l.reset)}),o},t}(),y6={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},x6={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Wke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Xke={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},wh=function(t,e,r,n,s,a){return t<e||t>r?$y(t,s,a.length>0):n.integers.reduce(function(o,l,c){for(;t>=l;)t-=l,o+=n.values[c];return o},"")+a},dre=function(t,e,r,n){var s="";do r||t--,s=n(t)+s,t/=e;while(t*e>=e);return s},jn=function(t,e,r,n,s){var a=r-e+1;return(t<0?"-":"")+(dre(Math.abs(t),a,n,function(o){return Cn(Math.floor(o%a)+e)})+s)},WA=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return dre(Math.abs(t),n,!1,function(s){return e[Math.floor(s%n)]})+r},Uh=1,lu=2,cu=4,wv=8,$l=function(t,e,r,n,s,a){if(t<-9999||t>9999)return $y(t,4,s.length>0);var o=Math.abs(t),l=s;if(o===0)return e[0]+l;for(var c=0;o>0&&c<=4;c++){var u=o%10;u===0&&Vn(a,Uh)&&l!==""?l=e[u]+l:u>1||u===1&&c===0||u===1&&c===1&&Vn(a,lu)||u===1&&c===1&&Vn(a,cu)&&t>100||u===1&&c>1&&Vn(a,wv)?l=e[u]+(c>0?r[c-1]:"")+l:u===1&&c>0&&(l=r[c-1]+l),o=Math.floor(o/10)}return(t<0?n:"")+l},w6="十百千萬",b6="拾佰仟萬",_6="マイナス",AN="마이너스",$y=function(t,e,r){var n=r?". ":"",s=r?"、":"",a=r?", ":"",o=r?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var l=jn(t,48,57,!0,n);return l.length<4?"0"+l:l;case 4:return WA(t,"〇一二三四五六七八九",s);case 6:return wh(t,1,3999,y6,3,n).toLowerCase();case 7:return wh(t,1,3999,y6,3,n);case 8:return jn(t,945,969,!1,n);case 9:return jn(t,97,122,!1,n);case 10:return jn(t,65,90,!1,n);case 11:return jn(t,1632,1641,!0,n);case 12:case 49:return wh(t,1,9999,x6,3,n);case 35:return wh(t,1,9999,x6,3,n).toLowerCase();case 13:return jn(t,2534,2543,!0,n);case 14:case 30:return jn(t,6112,6121,!0,n);case 15:return WA(t,"子丑寅卯辰巳午未申酉戌亥",s);case 16:return WA(t,"甲乙丙丁戊己庚辛壬癸",s);case 17:case 48:return $l(t,"零一二三四五六七八九",w6,"負",s,lu|cu|wv);case 47:return $l(t,"零壹貳參肆伍陸柒捌玖",b6,"負",s,Uh|lu|cu|wv);case 42:return $l(t,"零一二三四五六七八九",w6,"负",s,lu|cu|wv);case 41:return $l(t,"零壹贰叁肆伍陆柒捌玖",b6,"负",s,Uh|lu|cu|wv);case 26:return $l(t,"〇一二三四五六七八九","十百千万",_6,s,0);case 25:return $l(t,"零壱弐参四伍六七八九","拾百千万",_6,s,Uh|lu|cu);case 31:return $l(t,"영일이삼사오육칠팔구","십백천만",AN,a,Uh|lu|cu);case 33:return $l(t,"零一二三四五六七八九","十百千萬",AN,a,0);case 32:return $l(t,"零壹貳參四五六七八九","拾百千",AN,a,Uh|lu|cu);case 18:return jn(t,2406,2415,!0,n);case 20:return wh(t,1,19999,Xke,3,n);case 21:return jn(t,2790,2799,!0,n);case 22:return jn(t,2662,2671,!0,n);case 22:return wh(t,1,10999,Wke,3,n);case 23:return WA(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return WA(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return jn(t,3302,3311,!0,n);case 28:return WA(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",s);case 29:return WA(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",s);case 34:return jn(t,3792,3801,!0,n);case 37:return jn(t,6160,6169,!0,n);case 38:return jn(t,4160,4169,!0,n);case 39:return jn(t,2918,2927,!0,n);case 40:return jn(t,1776,1785,!0,n);case 43:return jn(t,3046,3055,!0,n);case 44:return jn(t,3174,3183,!0,n);case 45:return jn(t,3664,3673,!0,n);case 46:return jn(t,3872,3881,!0,n);case 3:default:return jn(t,48,57,!0,n)}},fre="data-html2canvas-ignore",j6=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new Gke,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,s=Jke(e,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=s.contentWindow,c=l.document,u=eIe(s).then(function(){return ra(n,void 0,void 0,function(){var d,f;return Os(this,function(m){switch(m.label){case 0:return this.scrolledElements.forEach(sIe),l&&(l.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(l.scrollY!==r.top||l.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-r.left,l.scrollY-r.top,0,0))),d=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:m.sent(),m.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zke(c)]:[3,4];case 3:m.sent(),m.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(c,f)}).then(function(){return s})]:[2,s]}})})});return c.open(),c.write(rIe(document.doctype)+"<html></html>"),nIe(this.referenceElement.ownerDocument,a,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(e){if(kO(e,2))debugger;if(cre(e))return this.createCanvasClone(e);if(p6(e))return this.createVideoClone(e);if(g6(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return FO(r)&&(FO(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),v6(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return dN(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,o){return o&&typeof o.cssText=="string"?a+o.cssText:a},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var a=e.getContext("2d"),o=s.getContext("2d");if(o)if(!this.options.allowTaint&&a)o.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var l=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(l){var c=l.getContextAttributes();(c==null?void 0:c.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},t.prototype.appendChildNode=function(e,r,n){(!Hh(r)||!zke(r)&&!r.hasAttribute(fre)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Hh(r)||!g6(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var s=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Hh(a)&&Are(a)&&typeof a.assignedNodes=="function"){var o=a.assignedNodes();o.length&&o.forEach(function(l){return s.appendChildNode(r,l,n)})}else this.appendChildNode(r,a,n)},t.prototype.cloneNode=function(e,r){if(ore(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Hh(e)&&(OO(e)||h1(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var a=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),l=n.getComputedStyle(e,":after");this.referenceElement===e&&OO(s)&&(this.clonedReferenceElement=s),p4(s)&&oIe(s);var c=this.counters.parse(new t6(this.context,a)),u=this.resolvePseudoContent(e,s,o,Vv.BEFORE);v6(e)&&(r=!0),p6(e)||this.cloneChildNodes(e,s,r),u&&s.insertBefore(u,s.firstChild);var d=this.resolvePseudoContent(e,s,l,Vv.AFTER);return d&&s.appendChild(d),this.counters.pop(c),(a&&(this.options.copyStyles||h1(e))&&!ure(e)||r)&&dN(a,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(m_(e)||p_(e))&&(m_(s)||p_(s))&&(s.value=e.value),s}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,s){var a=this;if(n){var o=n.content,l=r.ownerDocument;if(!(!l||!o||o==="none"||o==="-moz-alt-content"||n.display==="none")){this.counters.parse(new t6(this.context,n));var c=new $Te(this.context,n),u=l.createElement("html2canvaspseudoelement");dN(n,u),c.content.forEach(function(f){if(f.type===0)u.appendChild(l.createTextNode(f.value));else if(f.type===22){var m=l.createElement("img");m.src=f.value,m.style.opacity="1",u.appendChild(m)}else if(f.type===18){if(f.name==="attr"){var p=f.values.filter(Ur);p.length&&u.appendChild(l.createTextNode(e.getAttribute(p[0].value)||""))}else if(f.name==="counter"){var y=f.values.filter(Mm),x=y[0],v=y[1];if(x&&Ur(x)){var _=a.counters.getCounterValue(x.value),j=v&&Ur(v)?TO.parse(a.context,v.value):3;u.appendChild(l.createTextNode($y(_,j,!1)))}}else if(f.name==="counters"){var S=f.values.filter(Mm),x=S[0],C=S[1],v=S[2];if(x&&Ur(x)){var N=a.counters.getCounterValues(x.value),k=v&&Ur(v)?TO.parse(a.context,v.value):3,E=C&&C.type===0?C.value:"",T=N.map(function(D){return $y(D,k,!1)}).join(E);u.appendChild(l.createTextNode(T))}}}else if(f.type===20)switch(f.value){case"open-quote":u.appendChild(l.createTextNode(e6(c.quotes,a.quoteDepth++,!0)));break;case"close-quote":u.appendChild(l.createTextNode(e6(c.quotes,--a.quoteDepth,!1)));break;default:u.appendChild(l.createTextNode(f.value))}}),u.className=RO+" "+DO;var d=s===Vv.BEFORE?" "+RO:" "+DO;return h1(r)?r.className.baseValue+=d:r.className+=d,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Vv;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Vv||(Vv={}));var Jke=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(fre,"true"),t.body.appendChild(r),r},Yke=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},Zke=function(t){return Promise.all([].slice.call(t.images,0).map(Yke))},eIe=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},tIe=["all","d","content"],dN=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);tIe.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},rIe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},nIe=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},sIe=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},aIe=":before",iIe=":after",RO="___html2canvas___pseudoelement_before",DO="___html2canvas___pseudoelement_after",C6=`{
    content: "" !important;
    display: none !important;
}`,oIe=function(t){lIe(t,"."+RO+aIe+C6+`
         .`+DO+iIe+C6)},lIe=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},hre=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),cIe=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(hN(e)||fIe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ra(this,void 0,void 0,function(){var r,n,s,a,o=this;return Os(this,function(l){switch(l.label){case 0:return r=hre.isSameOrigin(e),n=!fN(e)&&this._options.useCORS===!0&&hs.SUPPORT_CORS_IMAGES&&!r,s=!fN(e)&&!r&&!hN(e)&&typeof this._options.proxy=="string"&&hs.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!fN(e)&&!hN(e)&&!s&&!n?[2]:(a=e,s?[4,this.proxy(a)]:[3,2]);case 1:a=l.sent(),l.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(c,u){var d=new Image;d.onload=function(){return c(d)},d.onerror=u,(hIe(a)||n)&&(d.crossOrigin="anonymous"),d.src=a,d.complete===!0&&setTimeout(function(){return c(d)},500),o._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,l.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(a,o){var l=hs.SUPPORT_RESPONSE_TYPE?"blob":"text",c=new XMLHttpRequest;c.onload=function(){if(c.status===200)if(l==="text")a(c.response);else{var f=new FileReader;f.addEventListener("load",function(){return a(f.result)},!1),f.addEventListener("error",function(m){return o(m)},!1),f.readAsDataURL(c.response)}else o("Failed to proxy resource "+s+" with status code "+c.status)},c.onerror=o;var u=n.indexOf("?")>-1?"&":"?";if(c.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+l),l!=="text"&&c instanceof XMLHttpRequest&&(c.responseType=l),r._options.imageTimeout){var d=r._options.imageTimeout;c.timeout=d,c.ontimeout=function(){return o("Timed out ("+d+"ms) proxying "+s)}}c.send()})},t}(),uIe=/^data:image\/svg\+xml/i,AIe=/^data:image\/.*;base64,/i,dIe=/^data:image\/.*/i,fIe=function(t){return hs.SUPPORT_SVG_DRAWING||!mIe(t)},fN=function(t){return dIe.test(t)},hIe=function(t){return AIe.test(t)},hN=function(t){return t.substr(0,4)==="blob"},mIe=function(t){return t.substr(-3).toLowerCase()==="svg"||uIe.test(t)},Ze=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),bh=function(t,e,r){return new Ze(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},_b=function(){function t(e,r,n,s){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=s}return t.prototype.subdivide=function(e,r){var n=bh(this.start,this.startControl,e),s=bh(this.startControl,this.endControl,e),a=bh(this.endControl,this.end,e),o=bh(n,s,e),l=bh(s,a,e),c=bh(o,l,e);return r?new t(this.start,n,o,c):new t(c,l,a,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Bi=function(t){return t.type===1},pIe=function(){function t(e){var r=e.styles,n=e.bounds,s=yv(r.borderTopLeftRadius,n.width,n.height),a=s[0],o=s[1],l=yv(r.borderTopRightRadius,n.width,n.height),c=l[0],u=l[1],d=yv(r.borderBottomRightRadius,n.width,n.height),f=d[0],m=d[1],p=yv(r.borderBottomLeftRadius,n.width,n.height),y=p[0],x=p[1],v=[];v.push((a+c)/n.width),v.push((y+f)/n.width),v.push((o+x)/n.height),v.push((u+m)/n.height);var _=Math.max.apply(Math,v);_>1&&(a/=_,o/=_,c/=_,u/=_,f/=_,m/=_,y/=_,x/=_);var j=n.width-c,S=n.height-m,C=n.width-f,N=n.height-x,k=r.borderTopWidth,E=r.borderRightWidth,T=r.borderBottomWidth,P=r.borderLeftWidth,O=Yr(r.paddingTop,e.bounds.width),D=Yr(r.paddingRight,e.bounds.width),M=Yr(r.paddingBottom,e.bounds.width),F=Yr(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||o>0?an(n.left+P/3,n.top+k/3,a-P/3,o-k/3,Br.TOP_LEFT):new Ze(n.left+P/3,n.top+k/3),this.topRightBorderDoubleOuterBox=a>0||o>0?an(n.left+j,n.top+k/3,c-E/3,u-k/3,Br.TOP_RIGHT):new Ze(n.left+n.width-E/3,n.top+k/3),this.bottomRightBorderDoubleOuterBox=f>0||m>0?an(n.left+C,n.top+S,f-E/3,m-T/3,Br.BOTTOM_RIGHT):new Ze(n.left+n.width-E/3,n.top+n.height-T/3),this.bottomLeftBorderDoubleOuterBox=y>0||x>0?an(n.left+P/3,n.top+N,y-P/3,x-T/3,Br.BOTTOM_LEFT):new Ze(n.left+P/3,n.top+n.height-T/3),this.topLeftBorderDoubleInnerBox=a>0||o>0?an(n.left+P*2/3,n.top+k*2/3,a-P*2/3,o-k*2/3,Br.TOP_LEFT):new Ze(n.left+P*2/3,n.top+k*2/3),this.topRightBorderDoubleInnerBox=a>0||o>0?an(n.left+j,n.top+k*2/3,c-E*2/3,u-k*2/3,Br.TOP_RIGHT):new Ze(n.left+n.width-E*2/3,n.top+k*2/3),this.bottomRightBorderDoubleInnerBox=f>0||m>0?an(n.left+C,n.top+S,f-E*2/3,m-T*2/3,Br.BOTTOM_RIGHT):new Ze(n.left+n.width-E*2/3,n.top+n.height-T*2/3),this.bottomLeftBorderDoubleInnerBox=y>0||x>0?an(n.left+P*2/3,n.top+N,y-P*2/3,x-T*2/3,Br.BOTTOM_LEFT):new Ze(n.left+P*2/3,n.top+n.height-T*2/3),this.topLeftBorderStroke=a>0||o>0?an(n.left+P/2,n.top+k/2,a-P/2,o-k/2,Br.TOP_LEFT):new Ze(n.left+P/2,n.top+k/2),this.topRightBorderStroke=a>0||o>0?an(n.left+j,n.top+k/2,c-E/2,u-k/2,Br.TOP_RIGHT):new Ze(n.left+n.width-E/2,n.top+k/2),this.bottomRightBorderStroke=f>0||m>0?an(n.left+C,n.top+S,f-E/2,m-T/2,Br.BOTTOM_RIGHT):new Ze(n.left+n.width-E/2,n.top+n.height-T/2),this.bottomLeftBorderStroke=y>0||x>0?an(n.left+P/2,n.top+N,y-P/2,x-T/2,Br.BOTTOM_LEFT):new Ze(n.left+P/2,n.top+n.height-T/2),this.topLeftBorderBox=a>0||o>0?an(n.left,n.top,a,o,Br.TOP_LEFT):new Ze(n.left,n.top),this.topRightBorderBox=c>0||u>0?an(n.left+j,n.top,c,u,Br.TOP_RIGHT):new Ze(n.left+n.width,n.top),this.bottomRightBorderBox=f>0||m>0?an(n.left+C,n.top+S,f,m,Br.BOTTOM_RIGHT):new Ze(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=y>0||x>0?an(n.left,n.top+N,y,x,Br.BOTTOM_LEFT):new Ze(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||o>0?an(n.left+P,n.top+k,Math.max(0,a-P),Math.max(0,o-k),Br.TOP_LEFT):new Ze(n.left+P,n.top+k),this.topRightPaddingBox=c>0||u>0?an(n.left+Math.min(j,n.width-E),n.top+k,j>n.width+E?0:Math.max(0,c-E),Math.max(0,u-k),Br.TOP_RIGHT):new Ze(n.left+n.width-E,n.top+k),this.bottomRightPaddingBox=f>0||m>0?an(n.left+Math.min(C,n.width-P),n.top+Math.min(S,n.height-T),Math.max(0,f-E),Math.max(0,m-T),Br.BOTTOM_RIGHT):new Ze(n.left+n.width-E,n.top+n.height-T),this.bottomLeftPaddingBox=y>0||x>0?an(n.left+P,n.top+Math.min(N,n.height-T),Math.max(0,y-P),Math.max(0,x-T),Br.BOTTOM_LEFT):new Ze(n.left+P,n.top+n.height-T),this.topLeftContentBox=a>0||o>0?an(n.left+P+F,n.top+k+O,Math.max(0,a-(P+F)),Math.max(0,o-(k+O)),Br.TOP_LEFT):new Ze(n.left+P+F,n.top+k+O),this.topRightContentBox=c>0||u>0?an(n.left+Math.min(j,n.width+P+F),n.top+k+O,j>n.width+P+F?0:c-P+F,u-(k+O),Br.TOP_RIGHT):new Ze(n.left+n.width-(E+D),n.top+k+O),this.bottomRightContentBox=f>0||m>0?an(n.left+Math.min(C,n.width-(P+F)),n.top+Math.min(S,n.height+k+O),Math.max(0,f-(E+D)),m-(T+M),Br.BOTTOM_RIGHT):new Ze(n.left+n.width-(E+D),n.top+n.height-(T+M)),this.bottomLeftContentBox=y>0||x>0?an(n.left+P+F,n.top+N,Math.max(0,y-(P+F)),x-(T+M),Br.BOTTOM_LEFT):new Ze(n.left+P+F,n.top+n.height-(T+M))}return t}(),Br;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Br||(Br={}));var an=function(t,e,r,n,s){var a=4*((Math.sqrt(2)-1)/3),o=r*a,l=n*a,c=t+r,u=e+n;switch(s){case Br.TOP_LEFT:return new _b(new Ze(t,u),new Ze(t,u-l),new Ze(c-o,e),new Ze(c,e));case Br.TOP_RIGHT:return new _b(new Ze(t,e),new Ze(t+o,e),new Ze(c,u-l),new Ze(c,u));case Br.BOTTOM_RIGHT:return new _b(new Ze(c,e),new Ze(c,e+l),new Ze(t+o,u),new Ze(t,u));case Br.BOTTOM_LEFT:default:return new _b(new Ze(c,u),new Ze(c-o,u),new Ze(t,e+l),new Ze(t,e))}},g_=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},gIe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},v_=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},vIe=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),jb=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),yIe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),xIe=function(t){return t.type===0},mre=function(t){return t.type===1},wIe=function(t){return t.type===2},B6=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},bIe=function(t,e,r,n,s){return t.map(function(a,o){switch(o){case 0:return a.add(e,r);case 1:return a.add(e+n,r);case 2:return a.add(e+n,r+s);case 3:return a.add(e,r+s)}return a})},pre=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),gre=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new pIe(this.container),this.container.styles.opacity<1&&this.effects.push(new yIe(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new vIe(n,s,a))}if(this.container.styles.overflowX!==0){var o=g_(this.curves),l=v_(this.curves);B6(o,l)?this.effects.push(new jb(o,6)):(this.effects.push(new jb(o,2)),this.effects.push(new jb(l,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var a=n.effects.filter(function(c){return!mre(c)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var o=g_(n.curves),l=v_(n.curves);B6(o,l)||s.unshift(new jb(l,6))}}else s.unshift.apply(s,a);n=n.parent}return s.filter(function(c){return Vn(c.target,e)})},t}(),UO=function(t,e,r,n){t.container.elements.forEach(function(s){var a=Vn(s.flags,4),o=Vn(s.flags,2),l=new gre(s,t);Vn(s.styles.display,2048)&&n.push(l);var c=Vn(s.flags,8)?[]:n;if(a||o){var u=a||s.styles.isPositioned()?r:e,d=new pre(l);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var f=s.styles.zIndex.order;if(f<0){var m=0;u.negativeZIndex.some(function(y,x){return f>y.element.container.styles.zIndex.order?(m=x,!1):m>0}),u.negativeZIndex.splice(m,0,d)}else if(f>0){var p=0;u.positiveZIndex.some(function(y,x){return f>=y.element.container.styles.zIndex.order?(p=x+1,!1):p>0}),u.positiveZIndex.splice(p,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);UO(l,d,a?d:r,c)}else s.styles.isInlineLevel()?e.inlineLevel.push(l):e.nonInlineLevel.push(l),UO(l,e,r,c);Vn(s.flags,8)&&vre(s,c)})},vre=function(t,e){for(var r=t instanceof PO?t.start:1,n=t instanceof PO?t.reversed:!1,s=0;s<e.length;s++){var a=e[s];a.container instanceof tre&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=$y(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},_Ie=function(t){var e=new gre(t,null),r=new pre(e),n=[];return UO(e,r,r,n),vre(e.container,n),r},E6=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Ni(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Ni(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Ni(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},jIe=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Ni(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Ni(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Ni(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},CIe=function(t,e){switch(e){case 0:return Ni(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Ni(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Ni(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Ni(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},BIe=function(t,e){switch(e){case 0:return Cb(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Cb(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Cb(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Cb(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Cb=function(t,e){var r=[];return Bi(t)?r.push(t.subdivide(.5,!1)):r.push(t),Bi(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},Ni=function(t,e,r,n){var s=[];return Bi(t)?s.push(t.subdivide(.5,!1)):s.push(t),Bi(r)?s.push(r.subdivide(.5,!0)):s.push(r),Bi(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Bi(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},yre=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},y_=function(t){var e=t.styles,r=t.bounds,n=Yr(e.paddingLeft,r.width),s=Yr(e.paddingRight,r.width),a=Yr(e.paddingTop,r.width),o=Yr(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+a+o))},EIe=function(t,e){return t===0?e.bounds:t===2?y_(e):yre(e)},SIe=function(t,e){return t===0?e.bounds:t===2?y_(e):yre(e)},mN=function(t,e,r){var n=EIe(Mh(t.styles.backgroundOrigin,e),t),s=SIe(Mh(t.styles.backgroundClip,e),t),a=NIe(Mh(t.styles.backgroundSize,e),r,n),o=a[0],l=a[1],c=yv(Mh(t.styles.backgroundPosition,e),n.width-o,n.height-l),u=TIe(Mh(t.styles.backgroundRepeat,e),c,a,n,s),d=Math.round(n.left+c[0]),f=Math.round(n.top+c[1]);return[u,d,f,o,l]},_h=function(t){return Ur(t)&&t.value===Jh.AUTO},Bb=function(t){return typeof t=="number"},NIe=function(t,e,r){var n=e[0],s=e[1],a=e[2],o=t[0],l=t[1];if(!o)return[0,0];if(Fn(o)&&l&&Fn(l))return[Yr(o,r.width),Yr(l,r.height)];var c=Bb(a);if(Ur(o)&&(o.value===Jh.CONTAIN||o.value===Jh.COVER)){if(Bb(a)){var u=r.width/r.height;return u<a!=(o.value===Jh.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var d=Bb(n),f=Bb(s),m=d||f;if(_h(o)&&(!l||_h(l))){if(d&&f)return[n,s];if(!c&&!m)return[r.width,r.height];if(m&&c){var p=d?n:s*a,y=f?s:n/a;return[p,y]}var x=d?n:r.width,v=f?s:r.height;return[x,v]}if(c){var _=0,j=0;return Fn(o)?_=Yr(o,r.width):Fn(l)&&(j=Yr(l,r.height)),_h(o)?_=j*a:(!l||_h(l))&&(j=_/a),[_,j]}var S=null,C=null;if(Fn(o)?S=Yr(o,r.width):l&&Fn(l)&&(C=Yr(l,r.height)),S!==null&&(!l||_h(l))&&(C=d&&f?S/n*s:r.height),C!==null&&_h(o)&&(S=d&&f?C/s*n:r.width),S!==null&&C!==null)return[S,C];throw new Error("Unable to calculate background-size for element")},Mh=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},TIe=function(t,e,r,n,s){var a=e[0],o=e[1],l=r[0],c=r[1];switch(t){case 2:return[new Ze(Math.round(n.left),Math.round(n.top+o)),new Ze(Math.round(n.left+n.width),Math.round(n.top+o)),new Ze(Math.round(n.left+n.width),Math.round(c+n.top+o)),new Ze(Math.round(n.left),Math.round(c+n.top+o))];case 3:return[new Ze(Math.round(n.left+a),Math.round(n.top)),new Ze(Math.round(n.left+a+l),Math.round(n.top)),new Ze(Math.round(n.left+a+l),Math.round(n.height+n.top)),new Ze(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Ze(Math.round(n.left+a),Math.round(n.top+o)),new Ze(Math.round(n.left+a+l),Math.round(n.top+o)),new Ze(Math.round(n.left+a+l),Math.round(n.top+o+c)),new Ze(Math.round(n.left+a),Math.round(n.top+o+c))];default:return[new Ze(Math.round(s.left),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.top)),new Ze(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ze(Math.round(s.left),Math.round(s.height+s.top))]}},kIe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",S6="Hidden Text",IIe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),s.src=kIe,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(S6)),n.appendChild(a),n.appendChild(s);var l=s.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(S6)),n.style.lineHeight="normal",s.style.verticalAlign="super";var c=s.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:l,middle:c}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),xre=function(){function t(e,r){this.context=e,this.options=r}return t}(),PIe=1e4,OIe=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new IIe(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(r){this.ctx.save(),wIe(r)&&(this.ctx.globalAlpha=r.opacity),xIe(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),mre(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return ra(this,void 0,void 0,function(){var n;return Os(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return ra(this,void 0,void 0,function(){return Os(this,function(n){switch(n.label){case 0:if(Vn(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,s){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var o=h4(r.text);o.reduce(function(l,c){return a.ctx.fillText(c,l,r.bounds.top+s),l+a.ctx.measureText(c).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),s=MIe(r.fontFamily).join(", "),a=n0(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,s].join(" "),s,a]},e.prototype.renderTextNode=function(r,n){return ra(this,void 0,void 0,function(){var s,a,o,l,c,u,d,f,m=this;return Os(this,function(p){return s=this.createFontStyle(n),a=s[0],o=s[1],l=s[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",c=this.fontMetrics.getMetrics(o,l),u=c.baseline,d=c.middle,f=n.paintOrder,r.textBounds.forEach(function(y){f.forEach(function(x){switch(x){case 0:m.ctx.fillStyle=es(n.color),m.renderTextWithLetterSpacing(y,n.letterSpacing,u);var v=n.textShadow;v.length&&y.text.trim().length&&(v.slice(0).reverse().forEach(function(_){m.ctx.shadowColor=es(_.color),m.ctx.shadowOffsetX=_.offsetX.number*m.options.scale,m.ctx.shadowOffsetY=_.offsetY.number*m.options.scale,m.ctx.shadowBlur=_.blur.number,m.renderTextWithLetterSpacing(y,n.letterSpacing,u)}),m.ctx.shadowColor="",m.ctx.shadowOffsetX=0,m.ctx.shadowOffsetY=0,m.ctx.shadowBlur=0),n.textDecorationLine.length&&(m.ctx.fillStyle=es(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(_){switch(_){case 1:m.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top+u),y.bounds.width,1);break;case 2:m.ctx.fillRect(y.bounds.left,Math.round(y.bounds.top),y.bounds.width,1);break;case 3:m.ctx.fillRect(y.bounds.left,Math.ceil(y.bounds.top+d),y.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&y.text.trim().length&&(m.ctx.strokeStyle=es(n.webkitTextStrokeColor),m.ctx.lineWidth=n.webkitTextStrokeWidth,m.ctx.lineJoin=window.chrome?"miter":"round",m.ctx.strokeText(y.text,y.bounds.left,y.bounds.top+u)),m.ctx.strokeStyle="",m.ctx.lineWidth=0,m.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=y_(r),o=v_(n);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return ra(this,void 0,void 0,function(){var n,s,a,o,l,c,j,j,u,d,f,m,C,p,y,N,x,v,_,j,S,C,N;return Os(this,function(k){switch(k.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,a=n.styles,o=0,l=n.textNodes,k.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:k.sent(),k.label=3;case 3:return o++,[3,1];case 4:if(!(n instanceof Yte))return[3,8];k.label=5;case 5:return k.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return j=k.sent(),this.renderReplacedElement(n,s,j),[3,8];case 7:return k.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Zte&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof ere))return[3,12];k.label=9;case 9:return k.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return j=k.sent(),this.renderReplacedElement(n,s,j),[3,12];case 11:return k.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof sre&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=k.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),k.label=14;case 14:if(n instanceof m4&&(f=Math.min(n.bounds.width,n.bounds.height),n.type===f_?n.checked&&(this.ctx.save(),this.path([new Ze(n.bounds.left+f*.39363,n.bounds.top+f*.79),new Ze(n.bounds.left+f*.16,n.bounds.top+f*.5549),new Ze(n.bounds.left+f*.27347,n.bounds.top+f*.44071),new Ze(n.bounds.left+f*.39694,n.bounds.top+f*.5649),new Ze(n.bounds.left+f*.72983,n.bounds.top+f*.23),new Ze(n.bounds.left+f*.84,n.bounds.top+f*.34085),new Ze(n.bounds.left+f*.39363,n.bounds.top+f*.79)]),this.ctx.fillStyle=es(m6),this.ctx.fill(),this.ctx.restore()):n.type===h_&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+f/2,n.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=es(m6),this.ctx.fill(),this.ctx.restore())),FIe(n)&&n.value.length){switch(m=this.createFontStyle(a),C=m[0],p=m[1],y=this.fontMetrics.getMetrics(C,p).baseline,this.ctx.font=C,this.ctx.fillStyle=es(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=DIe(n.styles.textAlign),N=y_(n),x=0,n.styles.textAlign){case 1:x+=N.width/2;break;case 2:x+=N.width;break}v=N.add(x,0,0,-N.height/2+1),this.ctx.save(),this.path([new Ze(N.left,N.top),new Ze(N.left+N.width,N.top),new Ze(N.left+N.width,N.top+N.height),new Ze(N.left,N.top+N.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new $v(n.value,v),a.letterSpacing,y),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Vn(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(_=n.styles.listStyleImage,_.type!==0)return[3,18];j=void 0,S=_.url,k.label=15;case 15:return k.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return j=k.sent(),this.ctx.drawImage(j,n.bounds.left-(j.width+10),n.bounds.top),[3,18];case 17:return k.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(a)[0],this.ctx.font=C,this.ctx.fillStyle=es(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",N=new pc(n.bounds.left,n.bounds.top+Yr(n.styles.paddingTop,n.bounds.width),n.bounds.width,YH(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new $v(r.listValue,N),a.letterSpacing,YH(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),k.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return ra(this,void 0,void 0,function(){var n,s,_,a,o,_,l,c,_,u,d,_,f,m,_,p,y,_,x,v,_;return Os(this,function(j){switch(j.label){case 0:if(Vn(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:j.sent(),n=0,s=r.negativeZIndex,j.label=2;case 2:return n<s.length?(_=s[n],[4,this.renderStack(_)]):[3,5];case 3:j.sent(),j.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:j.sent(),a=0,o=r.nonInlineLevel,j.label=7;case 7:return a<o.length?(_=o[a],[4,this.renderNode(_)]):[3,10];case 8:j.sent(),j.label=9;case 9:return a++,[3,7];case 10:l=0,c=r.nonPositionedFloats,j.label=11;case 11:return l<c.length?(_=c[l],[4,this.renderStack(_)]):[3,14];case 12:j.sent(),j.label=13;case 13:return l++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,j.label=15;case 15:return u<d.length?(_=d[u],[4,this.renderStack(_)]):[3,18];case 16:j.sent(),j.label=17;case 17:return u++,[3,15];case 18:f=0,m=r.inlineLevel,j.label=19;case 19:return f<m.length?(_=m[f],[4,this.renderNode(_)]):[3,22];case 20:j.sent(),j.label=21;case 21:return f++,[3,19];case 22:p=0,y=r.zeroOrAutoZIndexOrTransformedOrOpacity,j.label=23;case 23:return p<y.length?(_=y[p],[4,this.renderStack(_)]):[3,26];case 24:j.sent(),j.label=25;case 25:return p++,[3,23];case 26:x=0,v=r.positiveZIndex,j.label=27;case 27:return x<v.length?(_=v[x],[4,this.renderStack(_)]):[3,30];case 28:j.sent(),j.label=29;case 29:return x++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(s,a){var o=Bi(s)?s.start:s;a===0?n.ctx.moveTo(o.x,o.y):n.ctx.lineTo(o.x,o.y),Bi(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(r,n,s,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},e.prototype.resizeImage=function(r,n,s){var a;if(r.width===n&&r.height===s)return r;var o=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,l=o.createElement("canvas");l.width=Math.max(1,n),l.height=Math.max(1,s);var c=l.getContext("2d");return c.drawImage(r,0,0,r.width,r.height,0,0,n,s),l},e.prototype.renderBackgroundImage=function(r){return ra(this,void 0,void 0,function(){var n,s,a,o,l,c;return Os(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,s=function(d){var f,m,p,O,V,H,F,G,T,y,O,V,H,F,G,x,v,_,j,S,C,N,k,E,T,P,O,D,M,F,G,W,V,H,Q,z,q,$,J,le,ae,ee;return Os(this,function(ue){switch(ue.label){case 0:if(d.type!==0)return[3,5];f=void 0,m=d.url,ue.label=1;case 1:return ue.trys.push([1,3,,4]),[4,a.context.cache.match(m)];case 2:return f=ue.sent(),[3,4];case 3:return ue.sent(),a.context.logger.error("Error loading background-image "+m),[3,4];case 4:return f&&(p=mN(r,n,[f.width,f.height,f.width/f.height]),O=p[0],V=p[1],H=p[2],F=p[3],G=p[4],T=a.ctx.createPattern(a.resizeImage(f,F,G),"repeat"),a.renderRepeat(O,T,V,H)),[3,6];case 5:xNe(d)?(y=mN(r,n,[null,null,null]),O=y[0],V=y[1],H=y[2],F=y[3],G=y[4],x=mNe(d.angle,F,G),v=x[0],_=x[1],j=x[2],S=x[3],C=x[4],N=document.createElement("canvas"),N.width=F,N.height=G,k=N.getContext("2d"),E=k.createLinearGradient(_,S,j,C),XH(d.stops,v).forEach(function(xe){return E.addColorStop(xe.stop,es(xe.color))}),k.fillStyle=E,k.fillRect(0,0,F,G),F>0&&G>0&&(T=a.ctx.createPattern(N,"repeat"),a.renderRepeat(O,T,V,H))):wNe(d)&&(P=mN(r,n,[null,null,null]),O=P[0],D=P[1],M=P[2],F=P[3],G=P[4],W=d.position.length===0?[A4]:d.position,V=Yr(W[0],F),H=Yr(W[W.length-1],G),Q=pNe(d,V,H,F,G),z=Q[0],q=Q[1],z>0&&q>0&&($=a.ctx.createRadialGradient(D+V,M+H,0,D+V,M+H,z),XH(d.stops,z*2).forEach(function(xe){return $.addColorStop(xe.stop,es(xe.color))}),a.path(O),a.ctx.fillStyle=$,z!==q?(J=r.bounds.left+.5*r.bounds.width,le=r.bounds.top+.5*r.bounds.height,ae=q/z,ee=1/ae,a.ctx.save(),a.ctx.translate(J,le),a.ctx.transform(1,0,0,ae,0,0),a.ctx.translate(-J,-le),a.ctx.fillRect(D,ee*(M-le)+le,F,G*ee),a.ctx.restore()):a.ctx.fill())),ue.label=6;case 6:return n--,[2]}})},a=this,o=0,l=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return o<l.length?(c=l[o],[5,s(c)]):[3,4];case 2:u.sent(),u.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,s){return ra(this,void 0,void 0,function(){return Os(this,function(a){return this.path(E6(s,n)),this.ctx.fillStyle=es(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,s,a){return ra(this,void 0,void 0,function(){var o,l;return Os(this,function(c){switch(c.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return c.sent(),[2];case 2:return o=jIe(a,s),this.path(o),this.ctx.fillStyle=es(r),this.ctx.fill(),l=CIe(a,s),this.path(l),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return ra(this,void 0,void 0,function(){var n,s,a,o,l,c,u,d,f=this;return Os(this,function(m){switch(m.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!Hu(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],o=RIe(Mh(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Hu(n.backgroundColor)||(this.ctx.fillStyle=es(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:m.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(p){f.ctx.save();var y=g_(r.curves),x=p.inset?0:PIe,v=bIe(y,-x+(p.inset?1:-1)*p.spread.number,(p.inset?1:-1)*p.spread.number,p.spread.number*(p.inset?-2:2),p.spread.number*(p.inset?-2:2));p.inset?(f.path(y),f.ctx.clip(),f.mask(v)):(f.mask(y),f.ctx.clip(),f.path(v)),f.ctx.shadowOffsetX=p.offsetX.number+x,f.ctx.shadowOffsetY=p.offsetY.number,f.ctx.shadowColor=es(p.color),f.ctx.shadowBlur=p.blur.number,f.ctx.fillStyle=p.inset?es(p.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),m.label=2;case 2:l=0,c=0,u=a,m.label=3;case 3:return c<u.length?(d=u[c],d.style!==0&&!Hu(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,2)]:[3,11]):[3,13];case 4:return m.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,l,r.curves,3)];case 6:return m.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,l,r.curves)];case 8:return m.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,l,r.curves)];case 10:m.sent(),m.label=11;case 11:l++,m.label=12;case 12:return c++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,s,a,o){return ra(this,void 0,void 0,function(){var l,c,u,d,f,m,p,y,x,v,_,j,S,C,N,k,N,k;return Os(this,function(E){return this.ctx.save(),l=BIe(a,s),c=E6(a,s),o===2&&(this.path(c),this.ctx.clip()),Bi(c[0])?(u=c[0].start.x,d=c[0].start.y):(u=c[0].x,d=c[0].y),Bi(c[1])?(f=c[1].end.x,m=c[1].end.y):(f=c[1].x,m=c[1].y),s===0||s===2?p=Math.abs(u-f):p=Math.abs(d-m),this.ctx.beginPath(),o===3?this.formatPath(l):this.formatPath(c.slice(0,2)),y=n<3?n*3:n*2,x=n<3?n*2:n,o===3&&(y=n,x=n),v=!0,p<=y*2?v=!1:p<=y*2+x?(_=p/(2*y+x),y*=_,x*=_):(j=Math.floor((p+x)/(y+x)),S=(p-j*y)/(j-1),C=(p-(j+1)*y)/j,x=C<=0||Math.abs(x-S)<Math.abs(x-C)?S:C),v&&(o===3?this.ctx.setLineDash([0,y+x]):this.ctx.setLineDash([y,x])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=es(r),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Bi(c[0])&&(N=c[3],k=c[0],this.ctx.beginPath(),this.formatPath([new Ze(N.end.x,N.end.y),new Ze(k.start.x,k.start.y)]),this.ctx.stroke()),Bi(c[1])&&(N=c[1],k=c[2],this.ctx.beginPath(),this.formatPath([new Ze(N.end.x,N.end.y),new Ze(k.start.x,k.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return ra(this,void 0,void 0,function(){var n;return Os(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=_Ie(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(xre),FIe=function(t){return t instanceof nre||t instanceof rre?!0:t instanceof m4&&t.type!==h_&&t.type!==f_},RIe=function(t,e){switch(t){case 0:return g_(e);case 2:return gIe(e);case 1:default:return v_(e)}},DIe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},UIe=["-apple-system","system-ui"],MIe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return UIe.indexOf(e)===-1}):t},QIe=function(t){Po(e,t);function e(r,n){var s=t.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(r){return ra(this,void 0,void 0,function(){var n,s;return Os(this,function(a){switch(a.label){case 0:return n=IO(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,LIe(n)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=es(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(xre),LIe=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},HIe=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,sb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,sb([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,sb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,sb([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),$Ie=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new HIe({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new cIe(this,e)}return t.instanceCount=1,t}(),g4=function(t,e){return e===void 0&&(e={}),VIe(t,e)};typeof window<"u"&&hre.setContext(window);var VIe=function(t,e){return ra(void 0,void 0,void 0,function(){var r,n,s,a,o,l,c,u,d,f,m,p,y,x,v,_,j,S,C,N,E,k,E,T,P,O,D,M,F,G,W,V,H,Q,z,q,$,J,le,ae;return Os(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(T=e.allowTaint)!==null&&T!==void 0?T:!1,imageTimeout:(P=e.imageTimeout)!==null&&P!==void 0?P:15e3,proxy:e.proxy,useCORS:(O=e.useCORS)!==null&&O!==void 0?O:!1},a=gO({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},s),o={windowWidth:(M=e.windowWidth)!==null&&M!==void 0?M:n.innerWidth,windowHeight:(F=e.windowHeight)!==null&&F!==void 0?F:n.innerHeight,scrollX:(G=e.scrollX)!==null&&G!==void 0?G:n.pageXOffset,scrollY:(W=e.scrollY)!==null&&W!==void 0?W:n.pageYOffset},l=new pc(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),c=new $Ie(a,l),u=(V=e.foreignObjectRendering)!==null&&V!==void 0?V:!1,d={allowTaint:(H=e.allowTaint)!==null&&H!==void 0?H:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},c.logger.debug("Starting document clone with size "+l.width+"x"+l.height+" scrolled to "+-l.left+","+-l.top),f=new j6(c,t,d),m=f.clonedReferenceElement,m?[4,f.toIFrame(r,l)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return p=ee.sent(),y=p4(m)||qke(m)?bEe(m.ownerDocument):kC(c,m),x=y.width,v=y.height,_=y.left,j=y.top,S=KIe(c,m,e.backgroundColor),C={canvas:e.canvas,backgroundColor:S,scale:(z=(Q=e.scale)!==null&&Q!==void 0?Q:n.devicePixelRatio)!==null&&z!==void 0?z:1,x:((q=e.x)!==null&&q!==void 0?q:0)+_,y:(($=e.y)!==null&&$!==void 0?$:0)+j,width:(J=e.width)!==null&&J!==void 0?J:Math.ceil(x),height:(le=e.height)!==null&&le!==void 0?le:Math.ceil(v)},u?(c.logger.debug("Document cloned, using foreign object rendering"),E=new QIe(c,C),[4,E.render(m)]):[3,3];case 2:return N=ee.sent(),[3,5];case 3:return c.logger.debug("Document cloned, element located at "+_+","+j+" with size "+x+"x"+v+" using computed rendering"),c.logger.debug("Starting DOM parsing"),k=ire(c,m),S===k.styles.backgroundColor&&(k.styles.backgroundColor=sc.TRANSPARENT),c.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),E=new OIe(c,C),[4,E.render(k)];case 4:N=ee.sent(),ee.label=5;case 5:return(!((ae=e.removeContainer)!==null&&ae!==void 0)||ae)&&(j6.destroy(p)||c.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),c.logger.debug("Finished rendering"),[2,N]}})})},KIe=function(t,e,r){var n=e.ownerDocument,s=n.documentElement?Lv(t,getComputedStyle(n.documentElement).backgroundColor):sc.TRANSPARENT,a=n.body?Lv(t,getComputedStyle(n.body).backgroundColor):sc.TRANSPARENT,o=typeof r=="string"?Lv(t,r):r===null?sc.TRANSPARENT:4294967295;return e===n.documentElement?Hu(s)?Hu(a)?o:a:s:o};const qIe=hp("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qt({className:t,variant:e,...r}){return i.jsx("div",{className:Ee(qIe({variant:e}),t),...r})}const Qr=WD,x_=XD,zIe=JD,wre=w.forwardRef(({className:t,...e},r)=>i.jsx(Xx,{ref:r,className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));wre.displayName=Xx.displayName;const Pr=w.forwardRef(({className:t,children:e,...r},n)=>{const s=`${r.id}-description`;return i.jsxs(zIe,{children:[i.jsx(wre,{}),i.jsx(Jx,{ref:n,"aria-describedby":s,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:i.jsxs(Kr,{children:[e,i.jsxs(jC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Nj,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});Pr.displayName=Jx.displayName;const Kr=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kr.displayName="DialogHeader";const is=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});is.displayName="DialogFooter";const qr=w.forwardRef(({className:t,...e},r)=>i.jsx(Yx,{ref:r,className:Ee("text-lg font-semibold leading-none tracking-tight",t),...e}));qr.displayName=Yx.displayName;const Es=w.forwardRef(({className:t,...e},r)=>i.jsx(Zx,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));Es.displayName=Zx.displayName;const N6=[{bank:"SeaBank",accountNumber:"901958730549",accountName:"Yoga Prasetya"},{bank:"DANA",accountNumber:"081394586882",accountName:"Yoga Prasetya"}],GIe=()=>{const{id:t}=Dx(),e=ar(),{toast:r}=No(),{user:n}=xn(),s=w.useRef(null),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(!0),[f,m]=w.useState(null),[p,y]=w.useState(!1),[x,v]=w.useState(null),[_,j]=w.useState(!1),[S,C]=w.useState(null);w.useEffect(()=>{const P=async()=>{if(!(!n||!t))try{d(!0);const{data:M,error:F}=await oe.from("orders").select(`
            *,
            order_items(*)
          `).eq("id",t).eq("user_id",n.id).single();if(F)throw F;let G=null;if(M.shipping_address_id&&M.shipping_address_id!=="undefined"){const{data:W,error:V}=await oe.from("addresses").select("*").eq("id",M.shipping_address_id).single();V||(G={id:W.id,name:W.name,street:W.street,city:W.city,state:W.state,zip:W.zip,country:W.country,isDefault:W.is_default,user_id:W.user_id,created_at:W.created_at})}if(M.shipping_method_id){const{data:W,error:V}=await oe.from("shipping_methods").select("*").eq("id",M.shipping_method_id).single();!V&&W&&v(W)}else{const{data:W,error:V}=await oe.from("shipping_methods").select("*").limit(1).single();!V&&W&&v(W)}if(M){const W=M.order_items.map(z=>({id:z.id,productId:z.product_id,productName:z.product_name,quantity:z.quantity,price:z.price}));let V=M.payment_method;D(V)||(V="bank-transfer");let H=M.status;O(H)||(H="pending");const Q={id:M.id,userId:M.user_id,date:M.date,status:H,paymentMethod:V,total:M.total,trackingNumber:M.tracking_number||"",items:W,shippingAddressId:M.shipping_address_id,shippingMethodId:M.shipping_method_id,voucher_id:M.voucher_id,discount_amount:M.discount_amount||0};if(o(Q),c(G),M.voucher_id){const{data:z,error:q}=await oe.from("vouchers").select("*").eq("id",M.voucher_id).single();!q&&z&&C({code:z.code,discount_type:z.discount_type})}if(Q.paymentMethod==="bank-transfer"){const z=Math.floor(Math.random()*N6.length);m(N6[z])}}}catch(M){console.error("Error fetching order details:",M),r({title:"Error",description:"Gagal memuat detail pesanan",variant:"destructive"})}finally{d(!1)}},O=M=>["pending","processing","shipped","delivered","cancelled"].includes(M),D=M=>["bank-transfer","credit-card","cod","qris"].includes(M);P()},[t,n,r]);const N=P=>{switch(P){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-500";case"processing":return"bg-blue-100 text-blue-800 border-blue-500";case"shipped":return"bg-purple-100 text-purple-800 border-purple-500";case"delivered":return"bg-green-100 text-green-800 border-green-500";case"cancelled":return"bg-red-100 text-red-800 border-red-500";default:return"bg-gray-100 text-gray-800 border-gray-500"}},k=P=>{switch(P){case"pending":return"Menunggu Pembayaran";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Terkirim";case"cancelled":return"Dibatalkan";default:return P.charAt(0).toUpperCase()+P.slice(1)}},E=async()=>{if(s.current)try{j(!0),p||(y(!0),await new Promise(W=>setTimeout(W,500)));const P=s.current,O=P.querySelector(".hidden-on-print");let D="";O&&(D=O.style.display,O.style.display="none"),await new Promise(W=>setTimeout(W,100));const M=await g4(P,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0});O&&(O.style.display=D);const F=M.toDataURL("image/png"),G=document.createElement("a");G.href=F,G.download=`Struk-Pesanan-${a==null?void 0:a.id.substring(0,8)}.png`,G.click(),r({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(P){console.error("Error saving receipt as image:",P),r({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{j(!1)}},T=()=>{s.current&&(y(!0),setTimeout(()=>{const P=s.current;if(!P)return;const O=window.open("","_blank");if(!O){r({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}O.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Struk Pesanan #${a==null?void 0:a.id.substring(0,8)}</title>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1">
          <style>
            @page {
              size: 80mm 297mm; /* Standard thermal receipt size */
              margin: 0;
            }
            body {
              font-family: system-ui, -apple-system, sans-serif;
              font-size: 10px;
              line-height: 1.2;
              width: 76mm;
              margin: 2mm auto;
              padding: 0;
            }
            * {
              box-sizing: border-box;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 8px;
            }
            .receipt-header h2 {
              font-size: 12px;
              margin: 0 0 4px 0;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 8px 0;
              margin: 8px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 4px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 8px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 9px;
              margin-bottom: 8px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 8px 0;
            }
            .receipt-payment-info {
              font-size: 9px;
              margin-top: 8px;
            }
            .receipt-customer-info {
              font-size: 9px;
              margin: 8px 0;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 12px;
              font-size: 9px;
              letter-spacing: 2px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 12px;
              font-weight: bold;
            }
            .print-button {
              display: block;
              width: 100%;
              background: #e63946;
              color: white;
              border: none;
              padding: 8px;
              font-size: 14px;
              font-weight: bold;
              border-radius: 4px;
              margin: 16px 0;
              cursor: pointer;
            }
            @media print {
              .print-button {
                display: none;
              }
            }
          </style>
        </head>
        <body>
          ${P.innerHTML}
          <button class="print-button" onclick="window.print(); setTimeout(() => window.close(), 500);">Cetak Struk</button>
        </body>
        </html>
      `),O.document.close(),O.focus()},500))};return u?i.jsx(br,{children:i.jsx("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:i.jsx("p",{children:"Tunggu Sebentar..."})})}):a?i.jsxs(br,{children:[i.jsxs("div",{className:"flex items-center p-4 bg-background sticky top-0 z-10 border-b",children:[i.jsx(Z,{variant:"ghost",size:"icon",onClick:()=>e("/"),className:"mr-2",children:i.jsx(wo,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Detail Pesanan"})]}),i.jsxs("div",{className:"container max-w-md mx-auto p-4 pb-20",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID Pesanan: ",a.id.substring(0,8),"..."]}),i.jsx(qt,{className:N(a.status),children:k(a.status)})]}),i.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Pesanan dibuat pada ",new Date(a.date).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"})]}),a.trackingNumber&&i.jsxs("div",{className:"bg-secondary p-3 rounded-md flex items-center mb-4",children:[i.jsx(HP,{className:"h-5 w-5 mr-2 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Nomor Resi"}),i.jsx("p",{className:"text-xs",children:a.trackingNumber})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold",children:"Daftar Pesanan"}),i.jsxs(Z,{size:"sm",variant:"outline",className:"flex items-center gap-1",onClick:T,children:[i.jsx(LP,{className:"h-4 w-4"}),i.jsx("span",{children:"Cetak Struk"})]})]}),i.jsx("div",{className:"space-y-3",children:a.items.map(P=>i.jsx(Ue,{className:"overflow-hidden shadow-sm",children:i.jsx(Me,{className:"p-3",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-16 w-16 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(cc,{className:"h-8 w-8 text-charcoal-400"})}),i.jsx("div",{className:"flex-grow",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx(Dt,{to:`/product/${P.productId}`,children:i.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:P.productName})}),i.jsx("div",{className:"flex justify-between items-center mt-1",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Jumlah: ",P.quantity," × ",Te(P.price)]})})]}),i.jsx("div",{className:"text-right",children:i.jsx("div",{className:"font-medium",children:Te(P.price*P.quantity)})})]})})]})})},P.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Ringkasan Pesanan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:Te(a.items.reduce((P,O)=>P+O.price*O.quantity,0))})]}),a.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",S!=null&&S.code?`(${S.code})`:""]}),i.jsxs("span",{children:["-",Te(a.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{children:["Pengiriman (",x==null?void 0:x.name,")"]}),i.jsx("span",{children:Te((x==null?void 0:x.cost)||0)})]}),i.jsx(Ks,{className:"my-2"}),i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:Te(a.total)})]})]})]}),l&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Alamat Pengiriman"}),i.jsx(Ue,{children:i.jsxs(Me,{className:"p-3",children:[i.jsx("p",{className:"font-medium",children:l.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[l.city,", ",l.state," ",l.zip]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:l.country})]})})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"font-semibold mb-3",children:"Metode Pembayaran"}),i.jsx(Ue,{children:i.jsxs(Me,{className:"p-3 flex items-center",children:[a.paymentMethod==="bank-transfer"&&i.jsxs(i.Fragment,{children:[i.jsx(Dz,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Transfer Bank"}),f&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[f.bank," - ",f.accountNumber]})]})]}),a.paymentMethod==="credit-card"&&i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-5 w-5 mr-3 text-flame-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",strokeWidth:"2"}),i.jsx("line",{x1:"1",y1:"10",x2:"23",y2:"10",strokeWidth:"2"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Kartu Kredit"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"**** **** **** 1234"})]})]}),a.paymentMethod==="cod"&&i.jsxs(i.Fragment,{children:[i.jsx(HP,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Bayar di Tempat (COD)"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran saat barang diterima"})]})]}),a.paymentMethod==="qris"&&i.jsxs(i.Fragment,{children:[i.jsx(yR,{className:"h-5 w-5 mr-3 text-flame-500"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"QRIS"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Pembayaran menggunakan QRIS"})]})]})]})})]}),i.jsx("div",{className:"flex space-x-3 mb-6",children:i.jsxs(Z,{onClick:()=>y(!0),className:"flex-1",children:[i.jsx(LP,{className:"mr-2 h-4 w-4"}),"Lihat Struk"]})}),i.jsx(Qr,{open:p,onOpenChange:y,children:i.jsxs(Pr,{className:"max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{children:"Struk Pesanan"})}),i.jsxs("div",{ref:s,className:"receipt-container",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"receipt-title",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{className:"receipt-store-name",children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",a.id.substring(0,8)]})}),i.jsx("p",{children:new Date(a.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Dikirim Ke:"})," ",l.name]}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("div",{className:"receipt-items",children:a.items.map((P,O)=>i.jsxs("div",{className:"receipt-item",children:[i.jsxs("div",{children:[i.jsx("p",{children:P.productName}),i.jsxs("p",{children:["Jml: ",P.quantity," × ",Te(P.price)]})]}),i.jsx("span",{children:Te(P.quantity*P.price)})]},O))}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{children:[i.jsxs("div",{className:"receipt-item",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:Te(a.items.reduce((P,O)=>P+O.price*O.quantity,0))})]}),a.discount_amount>0&&i.jsxs("div",{className:"receipt-item",style:{color:"#22c55e"},children:[i.jsxs("span",{children:["Diskon Voucher ",S!=null&&S.code?`(${S.code})`:""]}),i.jsxs("span",{children:["-",Te(a.discount_amount)]})]}),x&&i.jsxs("div",{className:"receipt-item",children:[i.jsxs("span",{children:["Pengiriman (",x.name,")"]}),i.jsx("span",{children:Te(x.cost)})]}),i.jsxs("div",{className:"receipt-total",children:[i.jsx("span",{children:"Total"}),i.jsx("span",{children:Te(a.total)})]})]}),i.jsxs("div",{className:"receipt-payment-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",a.paymentMethod==="bank-transfer"?"Transfer Bank":a.paymentMethod==="qris"?"QRIS":a.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]}),a.paymentMethod==="bank-transfer"&&f&&i.jsxs("p",{children:["Bank: ",f.bank," - ",f.accountNumber]})]}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",a.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Jika ingin mendapatkan harga murah atau diskon segera hubungi admin"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"mt-4 hidden-on-print space-y-2",children:[i.jsx(Z,{onClick:()=>window.print(),className:"w-full",children:"Cetak Struk"}),i.jsx(Z,{onClick:E,className:"w-full bg-green-600 hover:bg-green-700",disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Simpan Sebagai Gambar"]})})]})]})]})})]})]}):i.jsx(br,{children:i.jsxs("div",{className:"p-4 flex flex-col items-center justify-center min-h-[50vh]",children:[i.jsx("p",{className:"text-muted-foreground",children:"Pesanan tidak ditemukan"}),i.jsx(Z,{onClick:()=>e("/"),className:"mt-4 bg-flame-500 hover:bg-flame-600",children:"Kembali ke Beranda"})]})})};function WIe(){const{user:t}=xn(),[e,r]=w.useState([]),[n,s]=w.useState(!0);w.useEffect(()=>{async function c(){if(t){s(!0);try{const{data:u,error:d}=await oe.from("orders").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){console.error("Error fetching orders:",u)}finally{s(!1)}}}c()},[t]);const a=c=>new Date(c).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),o=c=>{switch(c.toLowerCase()){case"pending":return i.jsx(qt,{variant:"outline",className:"bg-amber-100 text-amber-800 hover:bg-amber-100",children:"Menunggu Pembayaran"});case"processing":return i.jsx(qt,{variant:"outline",className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Diproses"});case"shipped":return i.jsx(qt,{variant:"outline",className:"bg-indigo-100 text-indigo-800 hover:bg-indigo-100",children:"Dikirim"});case"delivered":return i.jsx(qt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Diterima"});case"canceled":return i.jsx(qt,{variant:"outline",className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Dibatalkan"});case"completed":return i.jsx(qt,{variant:"outline",className:"bg-emerald-100 text-emerald-800 hover:bg-emerald-100",children:"Selesai"});default:return i.jsx(qt,{variant:"outline",children:c})}},l=c=>{switch(c){case"bank-transfer":return"Transfer Bank";case"cash-on-delivery":return"Bayar di Tempat (COD)";case"e-wallet":return"E-Wallet";case"credit-card":return"Kartu Kredit";default:return c}};return i.jsxs(br,{children:[i.jsxs("div",{className:"p-4 flex items-center shadow-sm mb-2",children:[i.jsx(Dt,{to:"/",className:"text-charcoal-600 mr-2",children:i.jsx(wo,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-xl font-bold flex-1",children:"Daftar Pesanan"})]}),i.jsx("div",{className:"p-4",children:n?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8",children:[i.jsx(jr,{className:"h-8 w-8 animate-spin text-flame-500 mb-2"}),i.jsx("p",{className:"text-muted-foreground",children:"Memuat daftar pesanan..."})]}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[i.jsx(cc,{className:"h-16 w-16 text-muted-foreground mb-4"}),i.jsx("h2",{className:"text-lg font-medium mb-2",children:"Belum Ada Pesanan"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Anda belum memiliki pesanan. Mulailah berbelanja untuk melihat pesanan Anda di sini."}),i.jsx(Z,{asChild:!0,className:"bg-flame-500 hover:bg-flame-600",children:i.jsx(Dt,{to:"/",children:"Mulai Belanja"})})]}):i.jsx("div",{className:"space-y-4",children:e.map(c=>i.jsx(Dt,{to:`/order/${c.id}`,children:i.jsx(Ue,{className:"hover:border-flame-200 transition-colors",children:i.jsxs(Me,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(cc,{className:"h-5 w-5 text-flame-500 mr-2"}),i.jsxs("span",{className:"font-medium",children:["#",c.id.substring(0,8)]})]}),o(c.status)]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm text-muted-foreground flex items-center",children:[i.jsx(Uz,{className:"h-4 w-4 mr-1"}),"Tanggal"]}),i.jsx("div",{className:"text-sm",children:a(c.created_at)})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("div",{className:"text-sm",children:l(c.payment_method)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("div",{className:"text-sm text-muted-foreground",children:c.payment_status==="paid"?"Sudah Dibayar":"Menunggu Pembayaran"}),i.jsx("div",{className:"font-medium text-flame-700",children:Te(c.total)})]})]})})},c.id))})})]})}const XIe=$n.object({email:$n.string().email({message:"Silakan masukkan alamat email yang valid"}),password:$n.string().min(1,{message:"Kata sandi wajib diisi"})}),JIe=$n.object({email:$n.string().email({message:"Silakan masukkan alamat email yang valid"})}),YIe=()=>{const t=ar(),{toast:e}=No(),[r,n]=w.useState(!1),[s,a]=w.useState(!1),[o,l]=w.useState(!1),c=aa({resolver:ia(XIe),defaultValues:{email:"",password:""}}),u=aa({resolver:ia(JIe),defaultValues:{email:""}}),d=async m=>{a(!0);try{const{error:p}=await oe.auth.resetPasswordForEmail(m.email,{redirectTo:`${window.location.origin}/reset-password`});if(p)throw p;e({title:"Email reset password telah dikirim",description:"Silakan periksa email Anda untuk melanjutkan proses reset password."}),l(!1)}catch(p){e({title:"Gagal mengirimkan reset password",description:p.message||"Terjadi kesalahan. Silakan coba lagi.",variant:"destructive"})}finally{a(!1)}},f=async m=>{n(!0);try{const{error:p}=await oe.auth.signInWithPassword({email:m.email,password:m.password});if(p)throw p;e({title:"Login berhasil",description:"Anda telah berhasil masuk."}),t("/")}catch(p){console.error("Login error:",p),e({title:"Login gagal",description:p.message||"Silakan periksa kredensial Anda.",variant:"destructive"})}finally{n(!1)}};return i.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:[i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Selamat Datang Kembali"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Masuk ke akun Anda"})]}),i.jsx(qs,{...c,children:i.jsxs("form",{onSubmit:c.handleSubmit(f),className:"space-y-4",children:[i.jsx(at,{control:c.control,name:"email",render:({field:m})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",placeholder:"namaemailmu@email.com",...m})}),i.jsx(lt,{})]})}),i.jsx(at,{control:c.control,name:"password",render:({field:m})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kata Sandi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",placeholder:"••••••••",...m})}),i.jsx(lt,{})]})}),i.jsx("div",{className:"text-right",children:i.jsx("button",{type:"button",onClick:()=>l(!0),className:"text-sm text-flame-500 hover:underline",children:"Lupa Password?"})}),i.jsx(Z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Sedang masuk..."]}):"Masuk"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Belum memiliki akun?"," ",i.jsx(Dt,{to:"/register",className:"text-flame-500 hover:underline",children:"Daftar"})]})})]}),i.jsx(Qr,{open:o,onOpenChange:l,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Reset Password"}),i.jsx(Es,{children:"Masukkan alamat email Anda dan kami akan mengirimkan link untuk reset password."})]}),i.jsx(qs,{...u,children:i.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4 py-4",children:[i.jsx(at,{control:u.control,name:"email",render:({field:m})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",placeholder:"namaemailmu@email.com",autoComplete:"email",...m})}),i.jsx(lt,{})]})}),i.jsxs(is,{className:"sm:justify-between mt-4",children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(Z,{type:"submit",className:"bg-flame-500 hover:bg-flame-600",disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Link Reset"})]})]})})]})})]})},bre=t=>{let e=t.replace(/\D/g,"");return e.startsWith("0")&&(e="62"+e.substring(1)),e.startsWith("62")||(e="62"+e),e},ZIe=$n.object({name:$n.string().min(2,{message:"Nama harus minimal 2 karakter"}),email:$n.string().email({message:"Silakan masukkan alamat email yang valid"}),whatsapp:$n.string().min(10,{message:"Nomor WhatsApp tidak valid"}).max(15,{message:"Nomor WhatsApp tidak valid"}).regex(/^(62|0)[0-9]{9,13}$/,{message:"Format nomor WhatsApp harus diawali 62/0 (contoh: 6281234567890 atau 081234567890)"}),password:$n.string().min(8,{message:"Kata sandi harus minimal 8 karakter"}),confirmPassword:$n.string()}).refine(t=>t.password===t.confirmPassword,{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),ePe=()=>{const t=ar(),{toast:e}=No(),{register:r}=xn(),[n,s]=w.useState(!1),a=aa({resolver:ia(ZIe),defaultValues:{name:"",email:"",whatsapp:"",password:"",confirmPassword:""}}),o=async l=>{var c;s(!0);try{const u=bre(l.whatsapp);await r(l.name,l.email,l.password);const{data:d,error:f}=await oe.auth.getSession();if(f)throw f;if((c=d==null?void 0:d.session)!=null&&c.user){const{error:m}=await oe.from("profiles").update({phone:u}).eq("id",d.session.user.id);m&&(console.error("Error saving WhatsApp number to profile:",m),e({variant:"destructive",title:"Terjadi kesalahan",description:"Gagal menyimpan nomor WhatsApp. Silakan update di halaman profil."}))}e({title:"Pendaftaran berhasil",description:"Akun Anda telah dibuat. Silakan periksa email Anda untuk verifikasi akun."}),t("/")}catch(u){console.error("Registration error:",u),e({title:"Pendaftaran gagal",description:u.message||"Terjadi kesalahan saat pendaftaran.",variant:"destructive"})}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Buat Akun"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Daftar untuk mulai menggunakan layanan kami"})]}),i.jsx(qs,{...a,children:i.jsxs("form",{onSubmit:a.handleSubmit(o),className:"space-y-4",children:[i.jsx(at,{control:a.control,name:"name",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama"}),i.jsx(nt,{children:i.jsx(Ce,{placeholder:"Nama Anda",...l})}),i.jsx(lt,{})]})}),i.jsx(at,{control:a.control,name:"email",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",placeholder:"namaemailkamu@email.com",...l})}),i.jsx(lt,{})]})}),i.jsx(at,{control:a.control,name:"whatsapp",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nomor WhatsApp"}),i.jsx(nt,{children:i.jsx(Ce,{type:"tel",placeholder:"6281234567890 atau 081234567890",...l})}),i.jsx("div",{className:"text-xs text-muted-foreground",children:"Format: Diawali dengan 62 atau 0, contoh: 6281234567890 atau 081234567890"}),i.jsx(lt,{})]})}),i.jsx(at,{control:a.control,name:"password",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kata Sandi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",placeholder:"••••••••",...l})}),i.jsx(lt,{})]})}),i.jsx(at,{control:a.control,name:"confirmPassword",render:({field:l})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Konfirmasi Kata Sandi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",placeholder:"••••••••",...l})}),i.jsx(lt,{})]})}),i.jsx(Z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:n,children:n?"Mendaftar...":"Daftar"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Sudah memiliki akun?"," ",i.jsx(Dt,{to:"/login",className:"text-flame-500 hover:underline",children:"Masuk"})]})})]})})},tPe=$n.object({email:$n.string().email({message:"Please enter a valid email address"}),password:$n.string().min(1,{message:"Password is required"})}),rPe=()=>{const t=ar(),{toast:e}=No(),{user:r,profile:n}=xn(),[s,a]=w.useState(!1);w.useEffect(()=>{r&&n&&(n.role==="admin"||n.role==="manager")&&t("/admin")},[r,n,t]);const o=aa({resolver:ia(tPe),defaultValues:{email:"",password:""}}),l=async c=>{a(!0);try{const{error:u}=await oe.auth.signInWithPassword({email:c.email,password:c.password});if(u)throw u;e({title:"Login successful",description:"You are now logged in."})}catch(u){console.error("Login error:",u),e({title:"Login failed",description:u.message||"Invalid email or password.",variant:"destructive"})}finally{a(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Login"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Log in to access the admin panel"})]}),i.jsx(qs,{...o,children:i.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-4",children:[i.jsx(at,{control:o.control,name:"email",render:({field:c})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",placeholder:"Your email",...c})}),i.jsx(lt,{})]})}),i.jsx(at,{control:o.control,name:"password",render:({field:c})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Password"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",placeholder:"Your password",...c})}),i.jsx(lt,{})]})}),i.jsx(Z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:s,children:s?"Logging in...":"Login"})]})})]})})},nPe=$n.object({name:$n.string().min(2,{message:"Name must be at least 2 characters"}),email:$n.string().email({message:"Please enter a valid email address"}),password:$n.string().min(8,{message:"Password must be at least 8 characters"}),role:$n.enum(["admin","manager"],{required_error:"Please select a role"})}),sPe=()=>{const t=ar(),{toast:e}=No(),[r,n]=w.useState(!1),s=aa({resolver:ia(nPe),defaultValues:{name:"",email:"",password:"",role:"manager"}}),a=async o=>{n(!0);try{const{error:l,data:c}=await oe.auth.signUp({email:o.email,password:o.password,options:{data:{name:o.name,role:o.role}}});if(l)throw l;if(c.user){const{error:u}=await oe.from("profiles").upsert({id:c.user.id,name:o.name,email:o.email,role:o.role});if(u)throw u}e({title:"Registration successful",description:"Your account has been created and you are now logged in."}),t("/admin")}catch(l){console.error("Registration error:",l),e({title:"Registration failed",description:l.message||"An error occurred during registration.",variant:"destructive"})}finally{n(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-background",children:i.jsxs("div",{className:"w-full max-w-md space-y-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin Registration"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Create an admin or manager account"})]}),i.jsx(qs,{...s,children:i.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[i.jsx(at,{control:s.control,name:"name",render:({field:o})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Name"}),i.jsx(nt,{children:i.jsx(Ce,{placeholder:"Your name",...o})}),i.jsx(lt,{})]})}),i.jsx(at,{control:s.control,name:"email",render:({field:o})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",placeholder:"Your email",...o})}),i.jsx(lt,{})]})}),i.jsx(at,{control:s.control,name:"password",render:({field:o})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Password"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",placeholder:"Your password",...o})}),i.jsx(lt,{})]})}),i.jsx(at,{control:s.control,name:"role",render:({field:o})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Role"}),i.jsxs(Us,{onValueChange:o.onChange,defaultValue:o.value,children:[i.jsx(nt,{children:i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Select a role"})})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"admin",children:"Admin"}),i.jsx(Lt,{value:"manager",children:"Manager"})]})]}),i.jsx(lt,{})]})}),i.jsx(Z,{type:"submit",className:"w-full bg-flame-500 hover:bg-flame-600",disabled:r,children:r?"Registering...":"Register"})]})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(Dt,{to:"/admin-login",className:"text-flame-500 hover:underline",children:"Login"})]})})]})})};function Nr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function gc(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function aPe(t,e){const r=Nr(t);return isNaN(e)?gc(t,NaN):(r.setDate(r.getDate()+e),r)}const _re=6048e5,iPe=864e5,Eb=43200,T6=1440;let oPe={};function s0(){return oPe}function rf(t,e){var l,c,u,d;const r=s0(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Nr(t),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function w_(t){return rf(t,{weekStartsOn:1})}function jre(t){const e=Nr(t),r=e.getFullYear(),n=gc(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=w_(n),a=gc(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=w_(a);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function b_(t){const e=Nr(t);return e.setHours(0,0,0,0),e}function __(t){const e=Nr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function lPe(t,e){const r=b_(t),n=b_(e),s=+r-__(r),a=+n-__(n);return Math.round((s-a)/iPe)}function cPe(t){const e=jre(t),r=gc(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),w_(r)}function m1(t,e){const r=Nr(t),n=Nr(e),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function a0(t){return gc(t,Date.now())}function Cre(t,e){const r=b_(t),n=b_(e);return+r==+n}function uPe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function APe(t){if(!uPe(t)&&typeof t!="number")return!1;const e=Nr(t);return!isNaN(Number(e))}function dPe(t,e){const r=Nr(t),n=Nr(e),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function fPe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function hPe(t,e){return+Nr(t)-+Nr(e)}function mPe(t){const e=Nr(t);return e.setHours(23,59,59,999),e}function pPe(t){const e=Nr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function gPe(t){const e=Nr(t);return+mPe(e)==+pPe(e)}function vPe(t,e){const r=Nr(t),n=Nr(e),s=m1(r,n),a=Math.abs(dPe(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=m1(r,n)===-s;gPe(Nr(t))&&a===1&&m1(t,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function yPe(t,e,r){const n=hPe(t,e)/1e3;return fPe(r==null?void 0:r.roundingMethod)(n)}function xPe(t){const e=Nr(t),r=gc(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const wPe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bPe=(t,e,r)=>{let n;const s=wPe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Yh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _Pe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jPe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CPe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},BPe={date:Yh({formats:_Pe,defaultWidth:"full"}),time:Yh({formats:jPe,defaultWidth:"full"}),dateTime:Yh({formats:CPe,defaultWidth:"full"})},EPe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SPe=(t,e,r,n)=>EPe[t];function el(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return s[a]}}const NPe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},TPe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IPe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OPe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},FPe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},RPe={ordinalNumber:FPe,era:el({values:NPe,defaultWidth:"wide"}),quarter:el({values:TPe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:el({values:kPe,defaultWidth:"wide"}),day:el({values:IPe,defaultWidth:"wide"}),dayPeriod:el({values:PPe,defaultWidth:"wide",formattingValues:OPe,defaultFormattingWidth:"wide"})};function tl(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(s);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?UPe(l,f=>f.test(o)):DPe(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function DPe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function UPe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Bre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const MPe=/^(\d+)(th|st|nd|rd)?/i,QPe=/\d+/i,LPe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},HPe={any:[/^b/i,/^(a|c)/i]},$Pe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VPe={any:[/1/i,/2/i,/3/i,/4/i]},KPe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zPe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GPe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WPe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},XPe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JPe={ordinalNumber:Bre({matchPattern:MPe,parsePattern:QPe,valueCallback:t=>parseInt(t,10)}),era:tl({matchPatterns:LPe,defaultMatchWidth:"wide",parsePatterns:HPe,defaultParseWidth:"any"}),quarter:tl({matchPatterns:$Pe,defaultMatchWidth:"wide",parsePatterns:VPe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tl({matchPatterns:KPe,defaultMatchWidth:"wide",parsePatterns:qPe,defaultParseWidth:"any"}),day:tl({matchPatterns:zPe,defaultMatchWidth:"wide",parsePatterns:GPe,defaultParseWidth:"any"}),dayPeriod:tl({matchPatterns:WPe,defaultMatchWidth:"any",parsePatterns:XPe,defaultParseWidth:"any"})},Ere={code:"en-US",formatDistance:bPe,formatLong:BPe,formatRelative:SPe,localize:RPe,match:JPe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function YPe(t){const e=Nr(t);return lPe(e,xPe(e))+1}function ZPe(t){const e=Nr(t),r=+w_(e)-+cPe(e);return Math.round(r/_re)+1}function Sre(t,e){var d,f,m,p;const r=Nr(t),n=r.getFullYear(),s=s0(),a=(e==null?void 0:e.firstWeekContainsDate)??((f=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(m=s.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=gc(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=rf(o,e),c=gc(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=rf(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function e2e(t,e){var l,c,u,d;const r=s0(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Sre(t,e),a=gc(t,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),rf(a,e)}function t2e(t,e){const r=Nr(t),n=+rf(r,e)-+e2e(r,e);return Math.round(n/_re)+1}function Ir(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const nu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ir(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ir(r+1,2)},d(t,e){return Ir(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ir(t.getHours()%12||12,e.length)},H(t,e){return Ir(t.getHours(),e.length)},m(t,e){return Ir(t.getMinutes(),e.length)},s(t,e){return Ir(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Ir(s,e.length)}},jh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k6={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return nu.y(t,e)},Y:function(t,e,r,n){const s=Sre(t,n),a=s>0?s:1-s;if(e==="YY"){const o=a%100;return Ir(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Ir(a,e.length)},R:function(t,e){const r=jre(t);return Ir(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ir(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ir(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ir(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return nu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ir(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=t2e(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Ir(s,e.length)},I:function(t,e,r){const n=ZPe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ir(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):nu.d(t,e)},D:function(t,e,r){const n=YPe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ir(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Ir(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Ir(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Ir(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=jh.noon:n===0?s=jh.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=jh.evening:n>=12?s=jh.afternoon:n>=4?s=jh.morning:s=jh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return nu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):nu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ir(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ir(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):nu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):nu.s(t,e)},S:function(t,e){return nu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return P6(n);case"XXXX":case"XX":return ad(n);case"XXXXX":case"XXX":default:return ad(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return P6(n);case"xxxx":case"xx":return ad(n);case"xxxxx":case"xxx":default:return ad(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+I6(n,":");case"OOOO":default:return"GMT"+ad(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+I6(n,":");case"zzzz":default:return"GMT"+ad(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ir(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ir(n,e.length)}};function I6(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+e+Ir(a,2)}function P6(t,e){return t%60===0?(t>0?"-":"+")+Ir(Math.abs(t)/60,2):ad(t,e)}function ad(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Ir(Math.trunc(n/60),2),a=Ir(n%60,2);return r+s+e+a}const O6=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Nre=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},r2e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return O6(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",O6(n,e)).replace("{{time}}",Nre(s,e))},n2e={p:Nre,P:r2e},s2e=/^D+$/,a2e=/^Y+$/,i2e=["D","DD","YY","YYYY"];function o2e(t){return s2e.test(t)}function l2e(t){return a2e.test(t)}function c2e(t,e,r){const n=u2e(t,e,r);if(console.warn(n),i2e.includes(t))throw new RangeError(n)}function u2e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const A2e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,d2e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,f2e=/^'([^]*?)'?$/,h2e=/''/g,m2e=/[a-zA-Z]/;function as(t,e,r){var d,f,m,p,y,x,v,_;const n=s0(),s=(r==null?void 0:r.locale)??n.locale??Ere,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((x=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)??n.weekStartsOn??((_=(v=n.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??0,l=Nr(t);if(!APe(l))throw new RangeError("Invalid time value");let c=e.match(d2e).map(j=>{const S=j[0];if(S==="p"||S==="P"){const C=n2e[S];return C(j,s.formatLong)}return j}).join("").match(A2e).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const S=j[0];if(S==="'")return{isToken:!1,value:p2e(j)};if(k6[S])return{isToken:!0,value:j};if(S.match(m2e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:j}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(j=>{if(!j.isToken)return j.value;const S=j.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&l2e(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&o2e(S))&&c2e(S,e,String(t));const C=k6[S[0]];return C(l,S,s.localize,u)}).join("")}function p2e(t){const e=t.match(f2e);return e?e[1].replace(h2e,"'"):t}function g2e(t,e,r){const n=s0(),s=(r==null?void 0:r.locale)??n.locale??Ere,a=2520,o=m1(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Nr(e),u=Nr(t)):(c=Nr(t),u=Nr(e));const d=yPe(u,c),f=(__(u)-__(c))/1e3,m=Math.round((d-f)/60);let p;if(m<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):m===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",m,l);if(m<45)return s.formatDistance("xMinutes",m,l);if(m<90)return s.formatDistance("aboutXHours",1,l);if(m<T6){const y=Math.round(m/60);return s.formatDistance("aboutXHours",y,l)}else{if(m<a)return s.formatDistance("xDays",1,l);if(m<Eb){const y=Math.round(m/T6);return s.formatDistance("xDays",y,l)}else if(m<Eb*2)return p=Math.round(m/Eb),s.formatDistance("aboutXMonths",p,l)}if(p=vPe(u,c),p<12){const y=Math.round(m/Eb);return s.formatDistance("xMonths",y,l)}else{const y=p%12,x=Math.trunc(p/12);return y<3?s.formatDistance("aboutXYears",x,l):y<9?s.formatDistance("overXYears",x,l):s.formatDistance("almostXYears",x+1,l)}}function v2e(t,e){return g2e(t,a0(t),e)}function y2e(t,e,r){const n=rf(t,r),s=rf(e,r);return+n==+s}function x2e(t,e){const r=Nr(t),n=Nr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function w2e(t){return x2e(t,a0(t))}function b2e(t,e){return y2e(t,a0(t),e)}function _2e(t){return Cre(t,a0(t))}function j2e(t,e){return aPe(t,-1)}function C2e(t){return Cre(t,j2e(a0(t)))}const B2e={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},E2e=(t,e,r)=>{let n;const s=B2e[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+n:n+" yang lalu":n},S2e={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},N2e={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},T2e={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},k2e={date:Yh({formats:S2e,defaultWidth:"full"}),time:Yh({formats:N2e,defaultWidth:"full"}),dateTime:Yh({formats:T2e,defaultWidth:"full"})},I2e={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},P2e=(t,e,r,n)=>I2e[t],O2e={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},F2e={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},R2e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},D2e={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},U2e={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},M2e={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},Q2e=(t,e)=>"ke-"+Number(t),L2e={ordinalNumber:Q2e,era:el({values:O2e,defaultWidth:"wide"}),quarter:el({values:F2e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:el({values:R2e,defaultWidth:"wide"}),day:el({values:D2e,defaultWidth:"wide"}),dayPeriod:el({values:U2e,defaultWidth:"wide",formattingValues:M2e,defaultFormattingWidth:"wide"})},H2e=/^ke-(\d+)?/i,$2e=/\d+/i,V2e={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},K2e={any:[/^s/i,/^(m|e)/i]},q2e={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},z2e={any:[/1/i,/2/i,/3/i,/4/i]},G2e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},W2e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},X2e={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},J2e={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},Y2e={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},Z2e={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},eOe={ordinalNumber:Bre({matchPattern:H2e,parsePattern:$2e,valueCallback:t=>parseInt(t,10)}),era:tl({matchPatterns:V2e,defaultMatchWidth:"wide",parsePatterns:K2e,defaultParseWidth:"any"}),quarter:tl({matchPatterns:q2e,defaultMatchWidth:"wide",parsePatterns:z2e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tl({matchPatterns:G2e,defaultMatchWidth:"wide",parsePatterns:W2e,defaultParseWidth:"any"}),day:tl({matchPatterns:X2e,defaultMatchWidth:"wide",parsePatterns:J2e,defaultParseWidth:"any"}),dayPeriod:tl({matchPatterns:Y2e,defaultMatchWidth:"any",parsePatterns:Z2e,defaultParseWidth:"any"})},Ii={code:"id",formatDistance:E2e,formatLong:k2e,formatRelative:P2e,localize:L2e,match:eOe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function tOe({content:t,timestamp:e,isAdmin:r,senderName:n,orderInfo:s}){const{profile:a}=xn(),o=(a==null?void 0:a.role)==="admin"?r:!r;return i.jsx("div",{className:Ee("flex mb-4",o?"justify-end":"justify-start"),children:i.jsxs("div",{className:Ee("max-w-[75%] rounded-lg px-4 py-2 shadow-sm",o?"bg-flame-500 text-white rounded-br-none":"bg-white text-charcoal-800 border rounded-bl-none"),children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsx("span",{className:Ee("text-xs font-medium",o?"text-white/80":"text-charcoal-500"),children:n}),i.jsx("span",{className:Ee("text-xs ml-2",o?"text-white/70":"text-charcoal-400"),children:v2e(new Date(e),{addSuffix:!0,locale:Ii})})]}),i.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:t}),s&&i.jsx("div",{className:"mt-2 pt-2 border-t border-white/20 text-xs",children:i.jsx("div",{className:Ee("rounded-md p-2",o?"bg-white/10":"bg-flame-50"),children:i.jsxs("div",{className:Ee("font-medium",o?"text-white":"text-flame-600"),children:["📌 Pesanan Disematkan: #",s.orderId.substring(0,8)]})})})]})})}const iA=w.forwardRef(({className:t,...e},r)=>i.jsx("textarea",{className:Ee("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));iA.displayName="Textarea";var v4="Popover",[Tre,qze]=Pa(v4,[yp]),i0=yp(),[rOe,mA]=Tre(v4),kre=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!1}=t,l=i0(e),c=w.useRef(null),[u,d]=w.useState(!1),[f=!1,m]=Ri({prop:n,defaultProp:s,onChange:a});return i.jsx(kR,{...l,children:i.jsx(rOe,{scope:e,contentId:il(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};kre.displayName=v4;var Ire="PopoverAnchor",nOe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mA(Ire,r),a=i0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return w.useEffect(()=>(o(),()=>l()),[o,l]),i.jsx(Pj,{...a,...n,ref:e})});nOe.displayName=Ire;var Pre="PopoverTrigger",Ore=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mA(Pre,r),a=i0(r),o=Ht(e,s.triggerRef),l=i.jsx(yt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mre(s.open),...n,ref:o,onClick:Ye(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:i.jsx(Pj,{asChild:!0,...a,children:l})});Ore.displayName=Pre;var y4="PopoverPortal",[sOe,aOe]=Tre(y4,{forceMount:void 0}),Fre=t=>{const{__scopePopover:e,forceMount:r,children:n,container:s}=t,a=mA(y4,e);return i.jsx(sOe,{scope:e,forceMount:r,children:i.jsx(ua,{present:r||a.open,children:i.jsx(Tx,{asChild:!0,container:s,children:n})})})};Fre.displayName=y4;var Qm="PopoverContent",Rre=w.forwardRef((t,e)=>{const r=aOe(Qm,t.__scopePopover),{forceMount:n=r.forceMount,...s}=t,a=mA(Qm,t.__scopePopover);return i.jsx(ua,{present:n||a.open,children:a.modal?i.jsx(iOe,{...s,ref:e}):i.jsx(oOe,{...s,ref:e})})});Rre.displayName=Qm;var iOe=w.forwardRef((t,e)=>{const r=mA(Qm,t.__scopePopover),n=w.useRef(null),s=Ht(e,n),a=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return HD(o)},[]),i.jsx(yC,{as:lc,allowPinchZoom:!0,children:i.jsx(Dre,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ye(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ye(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:Ye(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),oOe=w.forwardRef((t,e)=>{const r=mA(Qm,t.__scopePopover),n=w.useRef(!1),s=w.useRef(!1);return i.jsx(Dre,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),Dre=w.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,m=mA(Qm,r),p=i0(r);return LD(),i.jsx(gC,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(fp,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:i.jsx(IR,{"data-state":Mre(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ure="PopoverClose",lOe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=mA(Ure,r);return i.jsx(yt.button,{type:"button",...n,ref:e,onClick:Ye(t.onClick,()=>s.onOpenChange(!1))})});lOe.displayName=Ure;var cOe="PopoverArrow",uOe=w.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,s=i0(r);return i.jsx(PR,{...s,...n,ref:e})});uOe.displayName=cOe;function Mre(t){return t?"open":"closed"}var AOe=kre,dOe=Ore,fOe=Fre,Qre=Rre;const hOe=AOe,mOe=dOe,Lre=w.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},s)=>i.jsx(fOe,{children:i.jsx(Qre,{ref:s,align:e,sideOffset:r,className:Ee("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Lre.displayName=Qre.displayName;function pOe(t,e){return w.useReducer((r,n)=>e[r][n]??r,t)}var x4="ScrollArea",[Hre,zze]=Pa(x4),[gOe,Ui]=Hre(x4),$re=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=t,[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(null),[p,y]=w.useState(null),[x,v]=w.useState(null),[_,j]=w.useState(0),[S,C]=w.useState(0),[N,k]=w.useState(!1),[E,T]=w.useState(!1),P=Ht(e,D=>c(D)),O=Np(s);return i.jsx(gOe,{scope:r,type:n,dir:O,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:N,onScrollbarXEnabledChange:k,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:E,onScrollbarYEnabledChange:T,onCornerWidthChange:j,onCornerHeightChange:C,children:i.jsx(yt.div,{dir:O,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":S+"px",...t.style}})})});$re.displayName=x4;var Vre="ScrollAreaViewport",Kre=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:s,nonce:a,...o}=t,l=Ui(Vre,r),c=w.useRef(null),u=Ht(e,c,l.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:a}),i.jsx(yt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:s,ref:u,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:EOe({asChild:s,children:n},d=>i.jsx("div",{"data-radix-scroll-area-content":"",ref:l.onContentChange,style:{minWidth:l.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});Kre.displayName=Vre;var _l="ScrollAreaScrollbar",w4=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ui(_l,t.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=t.orientation==="horizontal";return w.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(vOe,{...n,ref:e,forceMount:r}):s.type==="scroll"?i.jsx(yOe,{...n,ref:e,forceMount:r}):s.type==="auto"?i.jsx(qre,{...n,ref:e,forceMount:r}):s.type==="always"?i.jsx(b4,{...n,ref:e}):null});w4.displayName=_l;var vOe=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ui(_l,t.__scopeScrollArea),[a,o]=w.useState(!1);return w.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(ua,{present:r||a,children:i.jsx(qre,{"data-state":a?"visible":"hidden",...n,ref:e})})}),yOe=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=Ui(_l,t.__scopeScrollArea),a=t.orientation==="horizontal",o=HC(()=>c("SCROLL_END"),100),[l,c]=pOe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),w.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[s.viewport,a,c,o]),i.jsx(ua,{present:r||l!=="hidden",children:i.jsx(b4,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ye(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ye(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),qre=w.forwardRef((t,e)=>{const r=Ui(_l,t.__scopeScrollArea),{forceMount:n,...s}=t,[a,o]=w.useState(!1),l=t.orientation==="horizontal",c=HC(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Lm(r.viewport,c),Lm(r.content,c),i.jsx(ua,{present:n||a,children:i.jsx(b4,{"data-state":a?"visible":"hidden",...s,ref:e})})}),b4=w.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=Ui(_l,t.__scopeScrollArea),a=w.useRef(null),o=w.useRef(0),[l,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Jre(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,p){return COe(m,o.current,l,p)}return r==="horizontal"?i.jsx(xOe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollLeft,p=F6(m,l,s.dir);a.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}}):r==="vertical"?i.jsx(wOe,{...d,ref:e,onThumbPositionChange:()=>{if(s.viewport&&a.current){const m=s.viewport.scrollTop,p=F6(m,l);a.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}}):null}),xOe=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Ui(_l,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Ht(e,c,a.onScrollbarXChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Gre,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":LC(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),Zre(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:C_(o.paddingLeft),paddingEnd:C_(o.paddingRight)}})}})}),wOe=w.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,a=Ui(_l,t.__scopeScrollArea),[o,l]=w.useState(),c=w.useRef(null),u=Ht(e,c,a.onScrollbarYChange);return w.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Gre,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":LC(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),Zre(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:C_(o.paddingTop),paddingEnd:C_(o.paddingBottom)}})}})}),[bOe,zre]=Hre(_l),Gre=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=t,p=Ui(_l,r),[y,x]=w.useState(null),v=Ht(e,P=>x(P)),_=w.useRef(null),j=w.useRef(""),S=p.viewport,C=n.content-n.viewport,N=vn(d),k=vn(c),E=HC(f,10);function T(P){if(_.current){const O=P.clientX-_.current.left,D=P.clientY-_.current.top;u({x:O,y:D})}}return w.useEffect(()=>{const P=O=>{const D=O.target;(y==null?void 0:y.contains(D))&&N(O,C)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[S,y,C,N]),w.useEffect(k,[n,k]),Lm(y,E),Lm(p.content,E),i.jsx(bOe,{scope:r,scrollbar:y,hasThumb:s,onThumbChange:vn(a),onThumbPointerUp:vn(o),onThumbPositionChange:k,onThumbPointerDown:vn(l),children:i.jsx(yt.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:Ye(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),_.current=y.getBoundingClientRect(),j.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Ye(t.onPointerMove,T),onPointerUp:Ye(t.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=j.current,p.viewport&&(p.viewport.style.scrollBehavior=""),_.current=null})})})}),j_="ScrollAreaThumb",Wre=w.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=zre(j_,t.__scopeScrollArea);return i.jsx(ua,{present:r||s.hasThumb,children:i.jsx(_Oe,{ref:e,...n})})}),_Oe=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,a=Ui(j_,r),o=zre(j_,r),{onThumbPositionChange:l}=o,c=Ht(e,f=>o.onThumbChange(f)),u=w.useRef(),d=HC(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const p=BOe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),i.jsx(yt.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ye(t.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,x=f.clientY-p.top;o.onThumbPointerDown({x:y,y:x})}),onPointerUp:Ye(t.onPointerUp,o.onThumbPointerUp)})});Wre.displayName=j_;var _4="ScrollAreaCorner",Xre=w.forwardRef((t,e)=>{const r=Ui(_4,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(jOe,{...t,ref:e}):null});Xre.displayName=_4;var jOe=w.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=Ui(_4,r),[a,o]=w.useState(0),[l,c]=w.useState(0),u=!!(a&&l);return Lm(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),Lm(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(yt.div,{...n,ref:e,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function C_(t){return t?parseInt(t,10):0}function Jre(t,e){const r=t/e;return isNaN(r)?0:r}function LC(t){const e=Jre(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function COe(t,e,r,n="ltr"){const s=LC(r),a=s/2,o=e||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return Yre([c,u],f)(t)}function F6(t,e,r="ltr"){const n=LC(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=e.scrollbar.size-s,o=e.content-e.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Cy(t,c);return Yre([0,o],[0,l])(u)}function Yre(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Zre(t,e){return t>0&&t<e}var BOe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const a={left:t.scrollLeft,top:t.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&e(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function HC(t,e){const r=vn(t),n=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),w.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function Lm(t,e){const r=vn(e);qn(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}function EOe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const s=w.Children.only(n);return w.cloneElement(s,{children:typeof e=="function"?e(s.props.children):e})}var ene=$re,SOe=Kre,NOe=Xre;const nf=w.forwardRef(({className:t,children:e,...r},n)=>i.jsxs(ene,{ref:n,className:Ee("relative overflow-hidden",t),...r,children:[i.jsx(SOe,{className:"h-full w-full rounded-[inherit]",children:e}),i.jsx(tne,{}),i.jsx(NOe,{})]}));nf.displayName=ene.displayName;const tne=w.forwardRef(({className:t,orientation:e="vertical",...r},n)=>i.jsx(w4,{ref:n,orientation:e,className:Ee("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:i.jsx(Wre,{className:"relative flex-1 rounded-full bg-border"})}));tne.displayName=w4.displayName;function TOe({onSendMessage:t,isLoading:e,userOrders:r,className:n,disabled:s}){const[a,o]=w.useState(""),[l,c]=w.useState(null),u=()=>{a.trim()&&!s&&(t(a.trim(),l),o(""),c(null))},d=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())};return i.jsxs("div",{className:`border-t p-3 bg-background ${n} ${s?"opacity-50 pointer-events-none":""}`,children:[l&&i.jsxs("div",{className:"bg-flame-50 text-flame-600 rounded-md p-2 mb-2 text-xs flex justify-between items-center",children:[i.jsxs("span",{children:["📌 Pesanan #",l.substring(0,8)," disematkan"]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"h-6 text-xs",disabled:s,children:"Hapus"})]}),i.jsxs("div",{className:"flex gap-2",children:[r&&r.length>0&&i.jsxs(hOe,{children:[i.jsx(mOe,{asChild:!0,children:i.jsx(Z,{variant:"outline",size:"icon",className:"shrink-0","aria-label":"Sematkan Pesanan",disabled:s,children:i.jsx(Aue,{className:"h-5 w-5"})})}),i.jsxs(Lre,{className:"w-64 p-2",align:"start",side:"top",children:[i.jsx("h3",{className:"font-medium text-sm px-2 py-1",children:"Sematkan Pesanan"}),i.jsx(nf,{className:"h-64",children:i.jsx("div",{className:"space-y-1 mt-1",children:r.map(f=>i.jsx(Z,{variant:"ghost",className:"w-full justify-start text-left p-2 h-auto",onClick:()=>c(f.id),children:i.jsxs("div",{className:"text-xs",children:[i.jsxs("div",{className:"font-medium",children:["Pesanan #",f.id.substring(0,8)]}),i.jsx("div",{className:"text-muted-foreground",children:new Date(f.date).toLocaleDateString()})]})},f.id))})})]})]}),i.jsx(iA,{placeholder:"Ketik pesan...",value:a,onChange:f=>o(f.target.value),onKeyDown:d,className:"min-h-[44px] resize-none",rows:1,disabled:s}),i.jsx(Z,{onClick:u,disabled:!a.trim()||e||s,size:"icon",className:"bg-flame-500 hover:bg-flame-600 shrink-0",children:i.jsx(qz,{className:"h-5 w-5"})})]})]})}function MO(t){const e=w.useRef(null);return w.useCallback(()=>{e.current||(e.current=new Audio(t)),e.current.play().catch(n=>{console.warn(`Could not play sound ${t}:`,n)})},[t])}const R6=ND(Bp),kOe=async t=>{if(t.sender_type!=="customer")return!1;try{const{data:e,error:r}=await oe.from("profiles").select("name, email").eq("id",t.sender_id).single();if(r)throw console.error("Error fetching customer data:",r),r;const{data:n,error:s}=await oe.from("chat_sessions").select("admin_id").eq("id",t.session_id).single();if(s)throw console.error("Error fetching session data:",s),s;const a={type:"chat",title:"Pesan Baru",message:`${(e==null?void 0:e.name)||"Pelanggan"}: ${t.content.substring(0,50)}${t.content.length>50?"...":""}`,sessionId:t.session_id,customerId:t.sender_id,customerName:(e==null?void 0:e.name)||"Pelanggan",timestamp:Date.now(),isRead:!1};if(n!=null&&n.admin_id){const{data:u,error:d}=await oe.from("profiles").select("id, fcm_token").eq("id",n.admin_id).single();if(d)throw console.error("Error fetching admin data:",d),d;if(u!=null&&u.fcm_token)return await F3(k3(R6,"notifications"),{...a,recipientId:u.id,fcmToken:u.fcm_token}),console.log("Chat notification sent to assigned admin",a),!0}const{data:o,error:l}=await oe.from("profiles").select("id, fcm_token").eq("role","admin");if(l)throw console.error("Error fetching admin users:",l),l;const c=[];for(const u of o||[])u.fcm_token&&c.push(F3(k3(R6,"notifications"),{...a,recipientId:u.id,fcmToken:u.fcm_token}));await Promise.all(c);try{const u=await t_e();if(u&&u.length>0){console.log(`Sending WhatsApp notifications to ${u.length} admins`);const f=`${window.location.origin}/admin/chat?session=${t.session_id}`,m=`📨 Pesan baru dari ${a.customerName}:
"${t.content.substring(0,100)}${t.content.length>100?"...":""}"

Klik untuk melihat: ${f}`,p=u.map(y=>SY(y,m));await Promise.all(p),console.log("WhatsApp notifications sent to admins")}else console.log("No admin phone numbers found for WhatsApp notifications")}catch(u){console.error("Error sending WhatsApp notifications:",u)}return console.log("Chat notification sent to all admins",a),!0}catch(e){return console.error("Error sending chat notification:",e),!1}},D6=(t,e,r,n)=>{const s=t.sender_type==="admin";return{id:t.id,senderId:t.sender_id,senderName:s?r||"Dukungan":t.sender_id===e?n||"Anda":n||"Pelanggan",content:t.content,timestamp:t.created_at,isAdmin:s,orderInfo:t.order_info}};function rne({chatPartnerId:t,chatPartnerName:e="Dukungan",isAdmin:r=!1}){const{user:n,profile:s}=xn(),a=ar();VG();const o=w.useRef(null),[l,c]=w.useState([]),[u,d]=w.useState(null),[f,m]=w.useState(!0),[p,y]=w.useState(!1),[x,v]=w.useState(e),_=MO("/sounds/new_chat_message_sound.mp3"),{data:j}=$fe({queryKey:["userOrders",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const{data:N,error:k}=await oe.from("orders").select("id, total, date, status").eq("user_id",n.id).order("date",{ascending:!1});if(k)throw k;return N},enabled:!!n&&!r});w.useEffect(()=>{if(!n||!s){m(!1);return}(async()=>{m(!0);try{let k=null;if(r){if(!t){Se({title:"Error",description:"Gagal membuat sesi chat admin",variant:"destructive"}),a("/admin/chats");return}const{data:E,error:T}=await oe.from("chat_sessions").select("*").eq("customer_id",t).in("status",["open","active","pending"]).order("created_at",{ascending:!1}).limit(1);if(T)throw T;if(E&&E.length>0){if(k=E[0],k.admin_id!==n.id&&k.status==="open"){const{data:P,error:O}=await oe.from("chat_sessions").update({admin_id:n.id,status:"active"}).eq("id",k.id).select().maybeSingle();if(O)throw O;if(!P)throw console.error("Failed to retrieve session after admin assignment update for session ID:",k.id),new Error("Failed to retrieve session after admin assignment.");k=P}}else{Se({title:"Tidak ada sesi aktif",description:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu.",variant:"default"}),d(null),c([]),m(!1);return}}else{const{data:E,error:T}=await oe.from("chat_sessions").select("*").eq("customer_id",n.id).in("status",["open","active","pending"]).order("last_message_at",{ascending:!1,nullsFirst:!1}).limit(1);if(T)throw T;if(E&&E.length>0)k=E[0];else{const{data:P,error:O}=await oe.from("chat_sessions").insert({customer_id:n.id,status:"open",topic:"Pertanyaan Umum"}).select().maybeSingle();if(O)throw O;if(!P)throw console.error("Failed to create and retrieve new chat session for user:",n.id),new Error("Failed to create and retrieve chat session.");k=P}}d(k)}catch(k){console.error("Error managing session:",k),Se({title:"Error Chat",description:`Gagal memuat atau membuat sesi chat: ${k.message}`,variant:"destructive"}),d(null)}finally{m(!1)}})()},[n,s,r,t,a]),w.useEffect(()=>{if(!u||!n||!s){c([]);return}(async()=>{try{const{data:k,error:E}=await oe.from("messages").select("*, sender_profile:sender_id(name, email)").eq("session_id",u.id).order("created_at",{ascending:!0});if(E)throw E;const T=r?x:s.name,P=r?s.name:"Dukungan",O=k.map(D=>D6(D,n.id,P||"Support",T||"Customer"));c(O)}catch(k){console.error("Error fetching messages:",k),Se({title:"Error",description:"Gagal mengambil detail rekan chat",variant:"destructive"})}})()},[u,n,s,r,x]),w.useEffect(()=>{if(!u||!n||!s)return;const N=oe.channel(`messages_session_${u.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`session_id=eq.${u.id}`},k=>{const E=k.new;if(E.sender_id===n.id&&l.some(O=>O.id===E.id||O.content===E.content&&O.senderId===E.sender_id&&Math.abs(new Date(O.timestamp).getTime()-new Date(E.created_at).getTime())<2e3))return;const T=r?x:s.name,P=r?s.name:"Support";c(O=>O.some(D=>D.id===E.id)?O:[...O,D6(E,n.id,P||"Support",T||"Customer")]),E.sender_id!==n.id&&(!r&&E.sender_type==="admin"||r&&E.sender_type==="customer")&&(console.log("New message in ChatRoom, playing sound:",E),_())}).subscribe((k,E)=>{k==="SUBSCRIBED"&&console.log(`Subscribed to messages for session ${u.id}`),(k==="CHANNEL_ERROR"||k==="TIMED_OUT")&&(console.error(`Subscription error for session ${u.id}:`,E),Se({title:"Realtime Error",description:"Chat connection issue. Please refresh.",variant:"destructive"}))});return()=>{oe.removeChannel(N)}},[u,n,s,r,x,l,_]),w.useEffect(()=>{o.current&&(o.current.scrollTop=o.current.scrollHeight)},[l]);const S=async(N,k=null)=>{if(!(!n||!s||!u||!N.trim())){y(!0);try{let E=null;if(k){const W=j==null?void 0:j.find(V=>V.id===k);W&&(E={orderId:W.id,orderTotal:W.total,orderStatus:W.status,orderDate:W.date})}const T=ss(),P=r?"admin":"customer",O=s.name||(r?"Admin":"User"),D={id:T,senderId:n.id,senderName:O,content:N,timestamp:new Date().toISOString(),isAdmin:r,orderInfo:E||null};c(W=>[...W,D]);const{data:M,error:F}=await oe.from("messages").insert({session_id:u.id,sender_id:n.id,sender_type:P,content:N.trim(),order_info:E}).select().single();if(F)throw c(W=>W.filter(V=>V.id!==T)),F;const G=M;c(W=>W.map(V=>V.id===T?{...V,id:G.id,timestamp:G.created_at}:V)),P==="customer"&&kOe(G).then(W=>{W?console.log("Notificación FCM enviada a los administradores"):console.warn("No se pudo enviar la notificación FCM a los administradores")}).catch(W=>{console.error("Error al enviar notificación FCM:",W)}),await oe.from("chat_sessions").update({last_message_at:G.created_at,status:"active"}).eq("id",u.id),d(W=>W?{...W,last_message_at:G.created_at,status:"active"}:null)}catch(E){console.error("Error sending message:",E),Se({title:"Failed to send message",description:E.message,variant:"destructive"})}finally{y(!1)}}},C=r?x||"Customer":(s==null?void 0:s.role)==="admin"?e||"Support":"Customer Support";return!n||!s?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(jr,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat pengguna..."})]}):f?i.jsxs("div",{className:"flex items-center justify-center h-screen",children:[i.jsx(jr,{className:"animate-spin h-8 w-8 text-flame-500"}),i.jsx("p",{className:"ml-2",children:"Memuat sesi chat..."})]}):i.jsxs("div",{className:"flex flex-col h-full relative",children:[i.jsxs("div",{className:"fixed top-0 left-0 right-0 max-w-md mx-auto bg-white border-b p-3 flex items-center shadow-sm z-20",children:[i.jsx(Z,{variant:"ghost",size:"icon",className:"mr-2",onClick:()=>a(r?"/admin/chats":"/"),children:i.jsx(wo,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-charcoal-100 flex items-center justify-center mr-3",children:i.jsx(ym,{className:"h-5 w-5 text-charcoal-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:C}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[r&&u?`ID Sesi: ${u.id.substring(0,8)}`:"Kami biasanya merespon dalam 1 jam",!r&&u&&u.status!=="active"&&u.status!=="open"&&" (Menunggu dukungan...)",!r&&u&&(u.status==="open"||u.status==="pending")&&" (Menghubungkan ke dukungan...)"]})]})]})]}),i.jsx("div",{className:"h-16 pt-3"}),i.jsxs(nf,{ref:o,className:"flex-1 p-4 overflow-y-auto bg-charcoal-50",children:[!u&&!f&&!r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak dapat memulai atau memuat sesi chat. Silakan coba muat ulang halaman."})}),!u&&!f&&r&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada sesi chat aktif dengan pelanggan ini. Mereka mungkin perlu memulai chat terlebih dahulu."})}),u&&l.length===0&&!f&&i.jsx("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:i.jsxs("div",{className:"mb-4 text-charcoal-400",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-flame-100 flex items-center justify-center mx-auto mb-4",children:i.jsx(ym,{className:"h-8 w-8 text-flame-500"})}),i.jsx("h3",{className:"font-medium text-charcoal-600 mb-1",children:r?`Chat dengan ${x}`:"Dukungan Pelanggan"}),i.jsx("p",{className:"text-sm text-charcoal-500",children:r?"Kirim pesan untuk mulai chat dengan pelanggan ini.":"Kirim pesan untuk mendapatkan bantuan dari tim dukungan kami."})]})}),u&&l.map(N=>i.jsx(tOe,{id:N.id,senderId:N.senderId,senderName:N.senderName,content:N.content,timestamp:N.timestamp,isAdmin:N.isAdmin,orderInfo:N.orderInfo},N.id))]}),i.jsx("div",{className:"fixed bottom-16 left-0 right-0 max-w-md mx-auto bg-background z-20 border-t",children:i.jsx(TOe,{onSendMessage:S,isLoading:p||f,userOrders:r?void 0:j,disabled:!u||r&&!t||!f&&!u&&!r})}),i.jsx("div",{className:"h-24"})]})}function IOe(){const{user:t}=xn();return t?i.jsx(br,{children:i.jsx(rne,{})}):i.jsx(B1,{to:"/login",replace:!0})}const POe=6,nne=5,OOe=3,FOe=60,ROe=(t=POe)=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),DOe=async(t,e)=>{const r=bre(t);try{const n=`*Kode OTP untuk JPC*

Kode verifikasi Anda adalah: *${e}*

Kode ini berlaku selama ${nne} menit.
Jangan bagikan kode ini dengan siapapun.`,s=await SY(r,n);return console.log("WhatsApp OTP sent successfully:",s),s}catch(n){return console.error("Error sending WhatsApp OTP:",n),!1}},UOe=async(t,e)=>{try{const r=ROe(),n=new Date;n.setMinutes(n.getMinutes()+nne);const{error:s}=await oe.from("otp_verification").insert({user_id:t,phone_number:e,otp_code:r,expires_at:n.toISOString(),attempts:0,is_verified:!1});return s?(console.error("Error storing OTP:",s),!1):await DOe(e,r)}catch(r){return console.error("Error in createAndSendOTP:",r),!1}},MOe=async(t,e)=>{try{const{data:r,error:n}=await oe.from("otp_verification").select("*").eq("user_id",t).eq("is_verified",!1).order("created_at",{ascending:!1}).limit(1).single();if(n||!r)return console.error("Error fetching OTP:",n),!1;const s=new Date,a=new Date(r.expires_at);if(s>a)return console.log("OTP has expired"),!1;if(r.attempts>=OOe)return console.log("Max OTP attempts reached"),!1;const{error:o}=await oe.from("otp_verification").update({attempts:r.attempts+1}).eq("id",r.id);if(o&&console.error("Error updating OTP attempts:",o),r.otp_code!==e)return!1;const{error:l}=await oe.from("otp_verification").update({is_verified:!0}).eq("id",r.id);if(l)return console.error("Error marking OTP as verified:",l),!1;const{error:c}=await oe.from("profiles").update({is_phone_verified:!0,phone_verified_at:new Date().toISOString()}).eq("id",t);return c?(console.error("Error updating profile phone verification status:",c),!1):!0}catch(r){return console.error("Error in verifyOTP:",r),!1}},QOe=async t=>{try{const{data:e,error:r}=await oe.from("otp_verification").select("created_at").eq("user_id",t).order("created_at",{ascending:!1}).limit(1).single();if(r||!e)return 0;const n=new Date(e.created_at),s=new Date(n.getTime()+FOe*1e3),a=new Date;return a>s?0:Math.ceil((s.getTime()-a.getTime())/1e3)}catch(e){return console.error("Error in getResendCooldownRemaining:",e),0}},LOe=({phoneNumber:t,onVerificationSuccess:e})=>{const{user:r}=xn(),{toast:n}=No(),[s,a]=w.useState(""),[o,l]=w.useState(!1),[c,u]=w.useState(0),[d,f]=w.useState("");w.useEffect(()=>{if(c>0){const x=setTimeout(()=>u(c-1),1e3);return()=>clearTimeout(x)}},[c]),w.useEffect(()=>{(async()=>{if(r){const v=await QOe(r.id);v>0?u(v):m()}})()},[r]);const m=async()=>{if(r){l(!0),f("");try{await UOe(r.id,t)?(n({title:"Kode OTP Terkirim",description:`Kode verifikasi telah dikirim ke WhatsApp ${t}`}),u(60)):f("Gagal mengirim kode OTP. Silakan coba lagi.")}catch(x){console.error("Error sending OTP:",x),f("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},p=async()=>{if(!(!r||!s)){l(!0),f("");try{if(await MOe(r.id,s))n({title:"Verifikasi Berhasil",description:"Nomor WhatsApp Anda telah diverifikasi."}),e();else{const v="Kode OTP tidak valid atau sudah kedaluwarsa";f(v),n({variant:"destructive",title:"Verifikasi Gagal",description:v})}}catch(x){console.error("Error verifying OTP:",x),f("Terjadi kesalahan. Silakan coba lagi.")}finally{l(!1)}}},y=()=>{c>0||m()};return i.jsxs(Ue,{className:"w-full max-w-md mx-auto",children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Verifikasi WhatsApp"}),i.jsxs(Rr,{children:["Masukkan kode 6 digit yang dikirim ke WhatsApp Anda ",t]})]}),i.jsx(Me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ce,{type:"text",placeholder:"Masukkan kode OTP",value:s,onChange:x=>a(x.target.value.replace(/[^0-9]/g,"").substring(0,6)),className:"text-center text-lg tracking-wider",maxLength:6,inputMode:"numeric"}),d&&i.jsx("p",{className:"text-red-500 text-sm",children:d}),i.jsx("div",{className:"text-center text-sm",children:c>0?i.jsxs("p",{children:["Kirim ulang dalam ",c," detik"]}):i.jsx("button",{onClick:y,className:"text-primary hover:underline",disabled:o,children:"Kirim Ulang Kode"})})]})}),i.jsx(ki,{children:i.jsx(Z,{onClick:p,className:"w-full",disabled:s.length!==6||o,children:o?"Memverifikasi...":"Verifikasi"})})]})};function HOe(){const{user:t,isPhoneVerified:e}=xn(),r=ar();Aa();const[n,s]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState(!1),u=w.useRef(!1),d=w.useRef(!1);w.useEffect(()=>{d.current||(f(),d.current=!0);const p=()=>{document.visibilityState==="visible"&&l&&!u.current&&(u.current=!0,r("/"))};return document.addEventListener("visibilitychange",p),()=>{document.removeEventListener("visibilitychange",p)}},[l]);const f=async()=>{if(!t){s(!1);return}s(!0);try{if(e){c(!0),s(!1),u.current||(u.current=!0,setTimeout(()=>r("/"),100));return}const{data:p,error:y}=await oe.from("profiles").select("is_phone_verified, phone").eq("id",t.id).single();if(y){console.error("Error fetching profile:",y),s(!1);return}if(c((p==null?void 0:p.is_phone_verified)===!0),p!=null&&p.is_phone_verified&&!u.current){u.current=!0,setTimeout(()=>r("/"),100);return}if(!(p!=null&&p.phone)&&!u.current){u.current=!0,setTimeout(()=>r("/profile?redirect=verification"),100);return}o((p==null?void 0:p.phone)||"")}catch(p){console.error("Error checking verification status:",p)}finally{s(!1)}},m=()=>{c(!0),u.current||(u.current=!0,setTimeout(()=>{localStorage.setItem("whatsapp_verification_success","true"),r("/")},1500))};return n?i.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[i.jsx(jr,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"mt-4 text-lg",children:"Memeriksa status verifikasi..."})]}):l?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Verifikasi Berhasil!"}),i.jsx("p",{className:"mb-4",children:"Nomor WhatsApp Anda telah diverifikasi berhasil."}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mengalihkan ke halaman utama..."})]})}):i.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"Verifikasi WhatsApp"}),i.jsx("p",{className:"text-center mb-6 text-muted-foreground",children:"Untuk keamanan akun Anda, kami perlu memverifikasi nomor WhatsApp Anda sebelum Anda dapat menggunakan aplikasi."}),a?i.jsx(LOe,{phoneNumber:a,onVerificationSuccess:m}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-red-500",children:"Verifikasi Berhasil."}),i.jsx("button",{onClick:()=>r("/profile?redirect=verification"),className:"mt-4 text-primary hover:underline",children:"Lanjutkan"})]})]})})}const se={activity:Fce,alertTriangle:Sj,arrowDownCircle:Vce,arrowLeft:wo,arrowRight:Rce,arrowUpCircle:Kce,barChart:RP,bell:fR,chartBar:RP,arrowUpFromLine:Uce,filter:Hz,gamepad:sue,lightbulb:lue,shield:Gz,shopping:Bj,sort:Mce,check:hR,chevronDown:mR,chevronLeft:Mz,chevronRight:Qz,chevronsDown:$ce,clock:vm,copy:Xce,creditCard:pR,download:Pu,droplet:Yce,file:tue,fileSearch:eue,filterX:rue,flame:nue,heart:aue,history:iue,home:$z,inbox:oue,info:DP,layers:Vz,link:cue,logOut:gR,megaphone:v1,menu:uue,messageSquare:vR,mail:MP,package:cc,phone:QP,plus:mp,qrCode:yR,repeat:due,refreshCw:Yv,undo:Yv,search:cA,settings:zz,share:hue,shoppingCart:Ej,smartphone:mue,spinner:jr,ticket:xR,trash:Zv,truck:HP,tv:yue,users:wR,wallet:wue,wifi:bue,zap:_ue};function $Oe({transaction:t,onClose:e}){const[r,n]=w.useState(!1),[s,a]=w.useState(!1),[o,l]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(!1),m=S=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(S),p=S=>{const C=new Date(S);return as(C,"d MMMM yyyy, HH:mm",{locale:Ii})},y=()=>{switch(t.status){case"success":return i.jsx(qt,{className:"bg-green-100 text-green-800",children:"Berhasil"});case"pending":return i.jsx(qt,{className:"bg-yellow-100 text-yellow-800",children:"Dalam Proses"});case"failed":return i.jsx(qt,{className:"bg-red-100 text-red-800",children:"Gagal"});default:return i.jsx(qt,{children:"Unknown"})}},x=()=>{switch(t.type){case"payment":return"Pembayaran";case"topup":return"Top Up";case"transfer":return"Transfer";case"refund":return"Refund";default:return"Transaksi"}},v=()=>{switch(t.type){case"payment":return i.jsx(se.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(se.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(se.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(se.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(se.activity,{className:"h-5 w-5"})}},_=()=>{const S=`
      ID Transaksi: ${t.id}
      Jenis: ${x()}
      Produk: ${t.productName}
      Total: ${m(t.totalAmount)}
      Status: ${t.status}
      Tanggal: ${p(t.createdAt)}
      ${t.refNumber?`No. Referensi: ${t.refNumber}`:""}
    `.trim();navigator.clipboard.writeText(S).then(()=>{f(!0),setTimeout(()=>f(!1),2e3)})},j=async()=>{o.trim()&&(u(!0),await new Promise(S=>setTimeout(S,1500)),u(!1),n(!1),l(""))};return i.jsxs(Ue,{className:"border shadow-md max-w-md w-full mx-auto",children:[i.jsx(Nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[v(),i.jsxs("div",{children:[i.jsx(Tt,{className:"text-lg",children:x()}),i.jsx("p",{className:"text-sm text-muted-foreground",children:t.productName})]})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[y(),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p(t.createdAt)})]})]})}),i.jsx(Me,{className:"pb-0",children:i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Pembayaran"}),i.jsx("p",{className:"text-2xl font-bold",children:m(t.totalAmount)})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("p",{className:"text-sm font-medium",children:t.id})]}),t.invoiceNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Invoice"}),i.jsx("p",{className:"text-sm font-medium",children:t.invoiceNumber})]}),t.refNumber&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No. Referensi"}),i.jsx("p",{className:"text-sm font-medium",children:t.refNumber})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nominal"}),i.jsx("p",{className:"text-sm font-medium",children:m(t.amount)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("p",{className:"text-sm font-medium",children:m(t.fee)})]}),t.paymentMethod&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Metode Pembayaran"}),i.jsx("p",{className:"text-sm font-medium",children:t.paymentMethod})]}),t.customerId&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerId})]}),t.customerName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nama Pelanggan"}),i.jsx("p",{className:"text-sm font-medium",children:t.customerName})]})]}),t.message&&i.jsxs(i.Fragment,{children:[i.jsx(Ks,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Pesan"}),i.jsx("p",{className:"text-sm",children:t.message})]})]})]})}),i.jsxs(ki,{className:"flex flex-col gap-3 pt-6",children:[i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsxs(Z,{variant:"outline",className:"flex-1",onClick:_,children:[d?i.jsx(se.activity,{className:"mr-2 h-4 w-4 text-green-500"}):i.jsx(se.file,{className:"mr-2 h-4 w-4"}),d?"Disalin!":"Salin"]}),i.jsxs(Qr,{open:s,onOpenChange:a,children:[i.jsx(x_,{asChild:!0,children:i.jsxs(Z,{variant:"outline",className:"flex-1",children:[i.jsx(se.arrowRight,{className:"mr-2 h-4 w-4"}),"Bagikan"]})}),i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Bagikan Bukti Transaksi"}),i.jsx(Es,{children:"Bagikan bukti transaksi ini melalui:"})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 py-4",children:[i.jsxs(Z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(se.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"WhatsApp"})]}),i.jsxs(Z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(se.smartphone,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Email"})]}),i.jsxs(Z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(se.download,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Simpan"})]}),i.jsxs(Z,{variant:"outline",className:"flex flex-col items-center justify-center h-20",children:[i.jsx(se.activity,{className:"h-8 w-8 mb-1"}),i.jsx("span",{className:"text-xs",children:"Lainnya"})]})]}),i.jsx(is,{className:"sm:justify-start",children:i.jsx(Z,{type:"button",variant:"secondary",onClick:()=>a(!1),children:"Tutup"})})]})]})]}),i.jsxs("div",{className:"flex gap-2 w-full",children:[i.jsx(Z,{variant:"outline",className:"flex-1",onClick:e,children:"Kembali"}),i.jsxs(Qr,{open:r,onOpenChange:n,children:[i.jsx(x_,{asChild:!0,children:i.jsxs(Z,{variant:"secondary",className:"flex-1 text-red-600 hover:text-red-700",children:[i.jsx(se.activity,{className:"mr-2 h-4 w-4"}),"Laporkan Masalah"]})}),i.jsxs(Pr,{children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Laporkan Masalah Transaksi"}),i.jsx(Es,{children:"Jelaskan masalah yang Anda alami dengan transaksi ini."})]}),i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-reason",className:"block text-sm font-medium mb-2",children:"Alasan Laporan"}),i.jsxs("select",{id:"report-reason",className:"w-full p-2 border rounded-md",value:o,onChange:S=>l(S.target.value),children:[i.jsx("option",{value:"",children:"Pilih alasan"}),i.jsx("option",{value:"not-received",children:"Layanan tidak diterima"}),i.jsx("option",{value:"wrong-amount",children:"Jumlah salah"}),i.jsx("option",{value:"double-charge",children:"Tagihan ganda"}),i.jsx("option",{value:"unauthorized",children:"Transaksi tidak dikenal"}),i.jsx("option",{value:"other",children:"Lainnya"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"report-details",className:"block text-sm font-medium mb-2",children:"Detail Masalah"}),i.jsx("textarea",{id:"report-details",className:"w-full p-2 border rounded-md h-24",placeholder:"Jelaskan detail masalah yang Anda alami"})]})]}),i.jsxs(is,{children:[i.jsx(Z,{type:"button",variant:"ghost",onClick:()=>n(!1),children:"Batal"}),i.jsx(Z,{type:"button",onClick:j,disabled:!o||c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Laporan"})]})]})]})]})]})]})}const sne=({className:t,...e})=>i.jsx("nav",{role:"navigation","aria-label":"pagination",className:Ee("mx-auto flex w-full justify-center",t),...e});sne.displayName="Pagination";const ane=w.forwardRef(({className:t,...e},r)=>i.jsx("ul",{ref:r,className:Ee("flex flex-row items-center gap-1",t),...e}));ane.displayName="PaginationContent";const p1=w.forwardRef(({className:t,...e},r)=>i.jsx("li",{ref:r,className:Ee("",t),...e}));p1.displayName="PaginationItem";const $C=({className:t,isActive:e,size:r="icon",...n})=>i.jsx("a",{"aria-current":e?"page":void 0,className:Ee(Uj({variant:e?"outline":"ghost",size:r}),t),...n});$C.displayName="PaginationLink";const ine=({className:t,...e})=>i.jsxs($C,{"aria-label":"Go to previous page",size:"default",className:Ee("gap-1 pl-2.5",t),...e,children:[i.jsx(Mz,{className:"h-4 w-4"}),i.jsx("span",{children:"Previous"})]});ine.displayName="PaginationPrevious";const one=({className:t,...e})=>i.jsxs($C,{"aria-label":"Go to next page",size:"default",className:Ee("gap-1 pr-2.5",t),...e,children:[i.jsx("span",{children:"Next"}),i.jsx(Qz,{className:"h-4 w-4"})]});one.displayName="PaginationNext";function Wg({className:t,...e}){return i.jsx("div",{className:Ee("animate-pulse rounded-md bg-muted",t),...e})}const VOe=[{id:"TRX-123456",type:"payment",productCategory:"Electricity",productName:"PLN Postpaid",customerId:"1234567890",customerName:"Budi Santoso",amount:15e4,fee:2500,totalAmount:152500,status:"success",createdAt:"2025-06-01T14:30:25",updatedAt:"2025-06-01T14:32:10",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250601-001",refNumber:"REF-123456789"},{id:"TRX-123457",type:"topup",productName:"Wallet Top Up",amount:5e5,fee:0,totalAmount:5e5,status:"success",createdAt:"2025-06-02T10:15:30",updatedAt:"2025-06-02T10:16:45",paymentMethod:"Bank Transfer BCA",refNumber:"REF-987654321"},{id:"TRX-123458",type:"payment",productCategory:"Mobile Credit",productName:"Telkomsel Prepaid 50K",customerId:"081234567890",amount:5e4,fee:1e3,totalAmount:51e3,status:"success",createdAt:"2025-06-02T16:45:12",updatedAt:"2025-06-02T16:46:30",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250602-002",refNumber:"REF-567891234"},{id:"TRX-123459",type:"payment",productCategory:"Water",productName:"PDAM",customerId:"9876543210",customerName:"Ani Wijaya",amount:75e3,fee:2e3,totalAmount:77e3,status:"pending",createdAt:"2025-06-03T09:20:05",updatedAt:"2025-06-03T09:20:05",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-003",refNumber:"REF-345678912",message:"Pembayaran sedang diproses oleh PDAM."},{id:"TRX-123460",type:"payment",productCategory:"Internet",productName:"Indihome",customerId:"5432109876",customerName:"Dewi Sari",amount:35e4,fee:2500,totalAmount:352500,status:"failed",createdAt:"2025-06-03T11:30:20",updatedAt:"2025-06-03T11:35:40",paymentMethod:"PPOB Wallet",invoiceNumber:"INV-20250603-004",refNumber:"REF-234567891",message:"Pembayaran gagal: Saldo tidak mencukupi"},{id:"TRX-123461",type:"transfer",productName:"Transfer ke Bank BNI",customerId:"0987654321",customerName:"Rudi Hartono",amount:1e6,fee:6500,totalAmount:1006500,status:"success",createdAt:"2025-06-03T13:45:10",updatedAt:"2025-06-03T13:47:25",paymentMethod:"PPOB Wallet",refNumber:"REF-123498765"},{id:"TRX-123462",type:"refund",productName:"Refund Telkomsel Prepaid",amount:5e4,fee:0,totalAmount:5e4,status:"success",createdAt:"2025-06-03T15:20:30",updatedAt:"2025-06-03T15:22:15",refNumber:"REF-876543219",message:"Refund untuk transaksi gagal TRX-123463"}];function KOe(){const t=ar(),[e,r]=w.useState("all"),[n,s]=w.useState(!1),[a,o]=w.useState("all"),[l,c]=w.useState("all"),[u,d]=w.useState("all"),[f,m]=w.useState(1),[p,y]=w.useState(""),[x,v]=w.useState(!1),[_,j]=w.useState(!1),C=new URLSearchParams(window.location.search).get("filter");w.useEffect(()=>{C==="in"?c("topup"):C==="out"&&c("payment")},[C]);const[N,k]=w.useState(null),[E,T]=w.useState(!1),P=[{value:"all",label:"Semua Periode"},{value:"this_month",label:"Bulan Ini"},{value:"last_month",label:"Bulan Lalu"},{value:"last_3_months",label:"3 Bulan Terakhir"},{value:"last_6_months",label:"6 Bulan Terakhir"},{value:"custom",label:"Periode Tertentu"}],O=[{value:"all",label:"Semua Transaksi"},{value:"payment",label:"Pembayaran"},{value:"topup",label:"Top Up"},{value:"transfer",label:"Transfer"},{value:"refund",label:"Refund"}],D=[{value:"all",label:"Semua Status",color:"gray"},{value:"success",label:"Berhasil",color:"green"},{value:"pending",label:"Dalam Proses",color:"yellow"},{value:"failed",label:"Gagal",color:"red"}],M=VOe.filter(J=>{if(!(p===""||J.id.toLowerCase().includes(p.toLowerCase())||J.productName.toLowerCase().includes(p.toLowerCase())||J.customerId&&J.customerId.toLowerCase().includes(p.toLowerCase())))return!1;let ae=!0;if(a!=="all"){const xe=new Date(J.createdAt),me=new Date,ye=me.getDate(),je=me.getMonth(),Fe=me.getFullYear();if(a==="today")ae=xe.getDate()===ye&&xe.getMonth()===je&&xe.getFullYear()===Fe;else if(a==="week"){const ne=new Date(me);ne.setDate(me.getDate()-me.getDay()),ne.setHours(0,0,0,0),ae=xe>=ne}else a==="month"&&(ae=xe.getMonth()===je&&xe.getFullYear()===Fe)}return!ae||!(l==="all"||J.type===l)||!(u==="all"||J.status===u)?!1:_?J.type==="topup"||J.type==="withdraw"||J.paymentMethod==="wallet"||J.productName.toLowerCase().includes("wallet")||J.description&&J.description.toLowerCase().includes("wallet"):!0}),F=5,G=Math.ceil(M.length/F),W=M.slice((f-1)*F,f*F),V=J=>{k(J),T(!0)},H=J=>{const le=D.find(ae=>ae.value===J);return le?i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium bg-${le.color}-100 text-${le.color}-800`,children:le.label}):null},Q=J=>{switch(J){case"payment":return i.jsx(se.creditCard,{className:"h-5 w-5 text-blue-500"});case"topup":return i.jsx(se.plus,{className:"h-5 w-5 text-green-500"});case"transfer":return i.jsx(se.arrowRight,{className:"h-5 w-5 text-orange-500"});case"refund":return i.jsx(se.arrowRight,{className:"h-5 w-5 text-purple-500 rotate-180"});default:return i.jsx(se.activity,{className:"h-5 w-5"})}},z=()=>{v(!0),setTimeout(()=>{v(!1)},1e3)};w.useEffect(()=>{c(e==="in"?"topup":e==="out"?"payment":"all")},[e]);const q=()=>{s(!1),v(!0)},$=J=>J.reduce((le,ae)=>{const ee=new Date(ae.createdAt);let ue;return _2e(ee)?ue="Hari Ini":C2e(ee)?ue="Kemarin":b2e(ee)?ue=as(ee,"EEEE",{locale:Ii}):w2e(ee)?ue=as(ee,"d MMMM",{locale:Ii}):ue=as(ee,"d MMMM yyyy",{locale:Ii}),le[ue]||(le[ue]=[]),le[ue].push(ae),le},{});return i.jsxs(br,{children:[i.jsxs("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob/wallet"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4 flex-1",children:"Riwayat Transaksi"}),i.jsx("button",{onClick:z,className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100",children:i.jsx(se.refreshCw,{className:"h-4 w-4"})}),i.jsxs(hl,{open:n,onOpenChange:s,children:[i.jsx(Y1,{asChild:!0,children:i.jsx("button",{className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 ml-1",children:i.jsx(se.filter,{className:"h-4 w-4"})})}),i.jsxs(Eo,{side:"right",className:"w-[300px] sm:w-[400px]",children:[i.jsx(ml,{children:i.jsx(pl,{children:"Filter Transaksi"})}),i.jsxs("div",{className:"py-6 space-y-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Periode"}),i.jsxs(Us,{value:a,onValueChange:o,children:[i.jsx(ys,{className:"w-full",children:i.jsx(Ms,{placeholder:"Pilih periode"})}),i.jsx(xs,{children:P.map(J=>i.jsx(Lt,{value:J.value,children:J.label},J.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Jenis Transaksi"}),i.jsxs(Us,{value:l,onValueChange:c,children:[i.jsx(ys,{className:"w-full",children:i.jsx(Ms,{placeholder:"Pilih jenis transaksi"})}),i.jsx(xs,{children:O.map(J=>i.jsx(Lt,{value:J.value,children:J.label},J.value))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-sm font-medium",children:"Status"}),i.jsxs(Us,{value:u,onValueChange:d,children:[i.jsx(ys,{className:"w-full",children:i.jsx(Ms,{placeholder:"Pilih status"})}),i.jsx(xs,{children:D.map(J=>i.jsx(Lt,{value:J.value,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-2 h-2 rounded-full bg-${J.color}-500 mr-2`}),J.label]})},J.value))})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"walletOnly",checked:_,onChange:J=>j(J.target.checked),className:"rounded border-gray-300 text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"walletOnly",className:"text-sm font-medium",children:"Hanya transaksi dompet PPOB"})]})]}),i.jsx(hc,{children:i.jsx(Z,{onClick:q,className:"w-full",children:"Terapkan Filter"})})]})]})]}),i.jsx(Ia,{defaultValue:"all",value:e,onValueChange:J=>r(J),className:"w-full",children:i.jsxs(la,{className:"w-full grid grid-cols-3 h-12 bg-gray-100 p-1 rounded-none",children:[i.jsx(nr,{value:"all",className:"rounded-md data-[state=active]:bg-white",children:"Semua"}),i.jsxs(nr,{value:"in",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(se.arrowDownCircle,{className:"h-4 w-4 mr-1 text-green-500"}),"Masuk"]}),i.jsxs(nr,{value:"out",className:"rounded-md data-[state=active]:bg-white",children:[i.jsx(se.arrowUpCircle,{className:"h-4 w-4 mr-1 text-red-500"}),"Keluar"]})]})})]}),i.jsx("div",{className:"px-4 py-3 bg-white border-b border-gray-100",children:i.jsxs("div",{className:"relative",children:[i.jsx(se.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx(Ce,{value:p,onChange:J=>y(J.target.value),placeholder:"Cari transaksi...",className:"pl-10 pr-4 py-2 w-full bg-gray-50 border-gray-200"})]})}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Cari Transaksi"}),i.jsx(Ce,{placeholder:"Cari transaksi...",value:p,onChange:J=>y(J.target.value),className:"w-full"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Periode"}),i.jsxs(Us,{value:a,onValueChange:o,children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Pilih periode"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"all",children:"Semua Waktu"}),i.jsx(Lt,{value:"today",children:"Hari Ini"}),i.jsx(Lt,{value:"week",children:"Minggu Ini"}),i.jsx(Lt,{value:"month",children:"Bulan Ini"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Jenis Transaksi"}),i.jsxs(Us,{value:l,onValueChange:c,children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Pilih jenis transaksi"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"all",children:"Semua Jenis"}),i.jsx(Lt,{value:"payment",children:"Pembayaran"}),i.jsx(Lt,{value:"topup",children:"Top Up"}),i.jsx(Lt,{value:"transfer",children:"Transfer"}),i.jsx(Lt,{value:"refund",children:"Refund"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Status"}),i.jsxs(Us,{value:u,onValueChange:d,children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Pilih status"})}),i.jsx(xs,{children:D.map(J=>i.jsx(Lt,{value:J.value,children:J.label},J.value))})]})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4 pb-2",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 overflow-x-auto",children:[i.jsxs(Z,{variant:l==="all"?"default":"outline",size:"sm",onClick:()=>c("all"),className:"whitespace-nowrap",children:[i.jsx(se.activity,{className:"mr-2 h-4 w-4"}),"Semua"]}),i.jsxs(Z,{variant:l==="topup"?"default":"outline",size:"sm",onClick:()=>c("topup"),className:"whitespace-nowrap",children:[i.jsx(se.arrowRight,{className:"mr-2 h-4 w-4 rotate-180"}),"Masuk"]}),i.jsxs(Z,{variant:l==="payment"?"default":"outline",size:"sm",onClick:()=>c("payment"),className:"whitespace-nowrap",children:[i.jsx(se.arrowRight,{className:"mr-2 h-4 w-4"}),"Keluar"]}),i.jsxs(Z,{variant:l==="transfer"?"default":"outline",size:"sm",onClick:()=>c("transfer"),className:"whitespace-nowrap",children:[i.jsx(se.repeat,{className:"mr-2 h-4 w-4"}),"Transfer"]}),i.jsxs(Z,{variant:l==="refund"?"default":"outline",size:"sm",onClick:()=>c("refund"),className:"whitespace-nowrap",children:[i.jsx(se.undo,{className:"mr-2 h-4 w-4"}),"Refund"]})]}),i.jsxs(Z,{variant:_?"default":"outline",size:"sm",onClick:()=>j(!_),title:_?"Semua Transaksi":"Hanya Transaksi Wallet",children:[i.jsx(se.wallet,{className:"mr-2 h-4 w-4"}),_?"Semua Transaksi":"Transaksi Wallet"]})]})]}),i.jsx(nf,{className:"flex-1 h-[calc(100vh-180px)]",children:x?i.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(J=>i.jsx(Ue,{className:"overflow-hidden",children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Wg,{className:"h-10 w-10 rounded-full"}),i.jsxs("div",{className:"space-y-2 flex-1",children:[i.jsx(Wg,{className:"h-4 w-3/4"}),i.jsx(Wg,{className:"h-3 w-1/2"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(Wg,{className:"h-4 w-20 ml-auto"}),i.jsx(Wg,{className:"h-3 w-16 mt-2 ml-auto"})]})]})})},J))}):W.length>0?i.jsx("div",{className:"divide-y divide-gray-100",children:Object.entries($(W)).map(([J,le])=>i.jsxs("div",{className:"bg-white",children:[i.jsx("div",{className:"sticky top-0 bg-gray-50 px-4 py-2 text-xs font-medium text-gray-500 uppercase tracking-wider",children:J}),i.jsx("div",{className:"divide-y divide-gray-100",children:le.map(ae=>i.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors cursor-pointer active:bg-gray-100",onClick:()=>V(ae),children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 bg-blue-50 rounded-full p-2 mt-0.5",children:Q(ae.type)}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-gray-900",children:ae.productName}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:ae.id}),i.jsx("div",{className:"mt-1",children:H(ae.status)})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${ae.type==="topup"||ae.type==="refund"?"text-green-600":"text-red-600"}`,children:[ae.type==="topup"||ae.type==="refund"?"+":"-",Te(ae.totalAmount)]}),i.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:as(new Date(ae.createdAt),"HH:mm")})]})]})},ae.id))})]},J))}):i.jsxs("div",{className:"py-12 flex flex-col items-center justify-center text-center px-4",children:[i.jsx("div",{className:"bg-gray-50 rounded-full p-4 mb-4",children:i.jsx(se.fileSearch,{className:"h-8 w-8 text-gray-400"})}),i.jsx("h3",{className:"font-medium text-gray-900",children:"Tidak ada transaksi"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-xs",children:"Tidak ada transaksi yang sesuai dengan filter yang dipilih."}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>{c("all"),d("all"),o("all"),y(""),j(!1),r("all")},className:"mt-4",children:[i.jsx(se.filterX,{className:"h-4 w-4 mr-2"}),"Reset Filter"]})]})}),W.length>0&&G>1&&i.jsx("div",{className:"py-4 border-t border-gray-100 bg-white sticky bottom-0 left-0 right-0 px-4",children:i.jsx(sne,{children:i.jsxs(ane,{children:[i.jsx(p1,{children:i.jsx(ine,{onClick:()=>m(Math.max(1,f-1)),"aria-disabled":f===1,className:f===1?"pointer-events-none opacity-50":""})}),Array.from({length:Math.min(G,5)}).map((J,le)=>{let ae=le+1;return G>5&&f>3&&(ae=f-3+le,ae>G)?null:i.jsx(p1,{children:i.jsx($C,{onClick:()=>m(ae),isActive:f===ae,children:ae})},le)}),i.jsx(p1,{children:i.jsx(one,{onClick:()=>m(Math.min(G,f+1)),"aria-disabled":f===G,className:f===G?"pointer-events-none opacity-50":""})})]})})}),i.jsx(Qr,{open:E,onOpenChange:T,children:i.jsx(Pr,{className:"sm:max-w-md p-0",children:N&&i.jsx($Oe,{transaction:N,onClose:()=>T(!1)})})})]})}var pN={exports:{}},gN,U6;function qOe(){if(U6)return gN;U6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gN=t,gN}var vN,M6;function zOe(){if(M6)return vN;M6=1;var t=qOe();function e(){}function r(){}return r.resetWarningCache=e,vN=function(){function n(o,l,c,u,d,f){if(f!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},vN}var Q6;function j4(){return Q6||(Q6=1,pN.exports=zOe()()),pN.exports}var GOe=j4();const ht=yr(GOe);var yN,L6;function WOe(){if(L6)return yN;L6=1;function t(l){return l&&typeof l=="object"&&"default"in l?l.default:l}var e=Ap(),r=t(e);function n(l,c,u){return c in l?Object.defineProperty(l,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):l[c]=u,l}function s(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var a=!!(typeof window<"u"&&window.document&&window.document.createElement);function o(l,c,u){if(typeof l!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof c!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof u<"u"&&typeof u!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function d(f){return f.displayName||f.name||"Component"}return function(m){if(typeof m!="function")throw new Error("Expected WrappedComponent to be a React component.");var p=[],y;function x(){y=l(p.map(function(_){return _.props})),v.canUseDOM?c(y):u&&(y=u(y))}var v=function(_){s(j,_);function j(){return _.apply(this,arguments)||this}j.peek=function(){return y},j.rewind=function(){if(j.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var N=y;return y=void 0,p=[],N};var S=j.prototype;return S.UNSAFE_componentWillMount=function(){p.push(this),x()},S.componentDidUpdate=function(){x()},S.componentWillUnmount=function(){var N=p.indexOf(this);p.splice(N,1),x()},S.render=function(){return r.createElement(m,this.props)},j}(e.PureComponent);return n(v,"displayName","SideEffect("+d(m)+")"),n(v,"canUseDOM",a),v}}return yN=o,yN}var XOe=WOe();const JOe=yr(XOe);var xN,H6;function YOe(){if(H6)return xN;H6=1;var t=typeof Element<"u",e=typeof Map=="function",r=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function s(a,o){if(a===o)return!0;if(a&&o&&typeof a=="object"&&typeof o=="object"){if(a.constructor!==o.constructor)return!1;var l,c,u;if(Array.isArray(a)){if(l=a.length,l!=o.length)return!1;for(c=l;c--!==0;)if(!s(a[c],o[c]))return!1;return!0}var d;if(e&&a instanceof Map&&o instanceof Map){if(a.size!==o.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;for(d=a.entries();!(c=d.next()).done;)if(!s(c.value[1],o.get(c.value[0])))return!1;return!0}if(r&&a instanceof Set&&o instanceof Set){if(a.size!==o.size)return!1;for(d=a.entries();!(c=d.next()).done;)if(!o.has(c.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(o)){if(l=a.length,l!=o.length)return!1;for(c=l;c--!==0;)if(a[c]!==o[c])return!1;return!0}if(a.constructor===RegExp)return a.source===o.source&&a.flags===o.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof o.valueOf=="function")return a.valueOf()===o.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof o.toString=="function")return a.toString()===o.toString();if(u=Object.keys(a),l=u.length,l!==Object.keys(o).length)return!1;for(c=l;c--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[c]))return!1;if(t&&a instanceof Element)return!1;for(c=l;c--!==0;)if(!((u[c]==="_owner"||u[c]==="__v"||u[c]==="__o")&&a.$$typeof)&&!s(a[u[c]],o[u[c]]))return!1;return!0}return a!==a&&o!==o}return xN=function(o,l){try{return s(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},xN}var ZOe=YOe();const eFe=yr(ZOe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wN,$6;function tFe(){if($6)return wN;$6=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function s(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},l=0;l<10;l++)o["_"+String.fromCharCode(l)]=l;var c=Object.getOwnPropertyNames(o).map(function(d){return o[d]});if(c.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(d){u[d]=d}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return wN=s()?Object.assign:function(a,o){for(var l,c=n(a),u,d=1;d<arguments.length;d++){l=Object(arguments[d]);for(var f in l)e.call(l,f)&&(c[f]=l[f]);if(t){u=t(l);for(var m=0;m<u.length;m++)r.call(l,u[m])&&(c[u[m]]=l[u[m]])}}return c},wN}var rFe=tFe();const nFe=yr(rFe);var Dd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},$t={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys($t).map(function(t){return $t[t]});var on={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},B_={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Vy={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},sFe=Object.keys(B_).reduce(function(t,e){return t[B_[e]]=e,t},{}),aFe=[$t.NOSCRIPT,$t.SCRIPT,$t.STYLE],yo="data-react-helmet",iFe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oFe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},lFe=function(){function t(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cFe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},V6=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},uFe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},QO=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},AFe=function(e){var r=Zh(e,$t.TITLE),n=Zh(e,Vy.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=Zh(e,Vy.DEFAULT_TITLE);return r||s||void 0},dFe=function(e){return Zh(e,Vy.ON_CHANGE_CLIENT_STATE)||function(){}},bN=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,s){return _a({},n,s)},{})},fFe=function(e,r){return r.filter(function(n){return typeof n[$t.BASE]<"u"}).map(function(n){return n[$t.BASE]}).reverse().reduce(function(n,s){if(!n.length)for(var a=Object.keys(s),o=0;o<a.length;o++){var l=a[o],c=l.toLowerCase();if(e.indexOf(c)!==-1&&s[c])return n.concat(s)}return n},[])},Xg=function(e,r,n){var s={};return n.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&gFe("Helmet: "+e+' should be of type "Array". Instead found type "'+iFe(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,o){var l={};o.filter(function(m){for(var p=void 0,y=Object.keys(m),x=0;x<y.length;x++){var v=y[x],_=v.toLowerCase();r.indexOf(_)!==-1&&!(p===on.REL&&m[p].toLowerCase()==="canonical")&&!(_===on.REL&&m[_].toLowerCase()==="stylesheet")&&(p=_),r.indexOf(v)!==-1&&(v===on.INNER_HTML||v===on.CSS_TEXT||v===on.ITEM_PROP)&&(p=v)}if(!p||!m[p])return!1;var j=m[p].toLowerCase();return s[p]||(s[p]={}),l[p]||(l[p]={}),s[p][j]?!1:(l[p][j]=!0,!0)}).reverse().forEach(function(m){return a.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],f=nFe({},s[d],l[d]);s[d]=f}return a},[]).reverse()},Zh=function(e,r){for(var n=e.length-1;n>=0;n--){var s=e[n];if(s.hasOwnProperty(r))return s[r]}return null},hFe=function(e){return{baseTag:fFe([on.HREF,on.TARGET],e),bodyAttributes:bN(Dd.BODY,e),defer:Zh(e,Vy.DEFER),encode:Zh(e,Vy.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:bN(Dd.HTML,e),linkTags:Xg($t.LINK,[on.REL,on.HREF],e),metaTags:Xg($t.META,[on.NAME,on.CHARSET,on.HTTPEQUIV,on.PROPERTY,on.ITEM_PROP],e),noscriptTags:Xg($t.NOSCRIPT,[on.INNER_HTML],e),onChangeClientState:dFe(e),scriptTags:Xg($t.SCRIPT,[on.SRC,on.INNER_HTML],e),styleTags:Xg($t.STYLE,[on.CSS_TEXT],e),title:AFe(e),titleAttributes:bN(Dd.TITLE,e)}},LO=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){LO(e)},0)}}(),K6=function(e){return clearTimeout(e)},mFe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||LO:global.requestAnimationFrame||LO,pFe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||K6:global.cancelAnimationFrame||K6,gFe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Jg=null,vFe=function(e){Jg&&pFe(Jg),e.defer?Jg=mFe(function(){q6(e,function(){Jg=null})}):(q6(e),Jg=null)},q6=function(e,r){var n=e.baseTag,s=e.bodyAttributes,a=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,f=e.styleTags,m=e.title,p=e.titleAttributes;HO($t.BODY,s),HO($t.HTML,a),yFe(m,p);var y={baseTag:Ch($t.BASE,n),linkTags:Ch($t.LINK,o),metaTags:Ch($t.META,l),noscriptTags:Ch($t.NOSCRIPT,c),scriptTags:Ch($t.SCRIPT,d),styleTags:Ch($t.STYLE,f)},x={},v={};Object.keys(y).forEach(function(_){var j=y[_],S=j.newTags,C=j.oldTags;S.length&&(x[_]=S),C.length&&(v[_]=y[_].oldTags)}),r&&r(),u(e,x,v)},lne=function(e){return Array.isArray(e)?e.join(""):e},yFe=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=lne(e)),HO($t.TITLE,r)},HO=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var s=n.getAttribute(yo),a=s?s.split(","):[],o=[].concat(a),l=Object.keys(r),c=0;c<l.length;c++){var u=l[c],d=r[u]||"";n.getAttribute(u)!==d&&n.setAttribute(u,d),a.indexOf(u)===-1&&a.push(u);var f=o.indexOf(u);f!==-1&&o.splice(f,1)}for(var m=o.length-1;m>=0;m--)n.removeAttribute(o[m]);a.length===o.length?n.removeAttribute(yo):n.getAttribute(yo)!==l.join(",")&&n.setAttribute(yo,l.join(","))}},Ch=function(e,r){var n=document.head||document.querySelector($t.HEAD),s=n.querySelectorAll(e+"["+yo+"]"),a=Array.prototype.slice.call(s),o=[],l=void 0;return r&&r.length&&r.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===on.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===on.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[d]>"u"?"":c[d];u.setAttribute(d,f)}u.setAttribute(yo,"true"),a.some(function(m,p){return l=p,u.isEqualNode(m)})?a.splice(l,1):o.push(u)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),o.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:o}},cne=function(e){return Object.keys(e).reduce(function(r,n){var s=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+s:s},"")},xFe=function(e,r,n,s){var a=cne(n),o=lne(r);return a?"<"+e+" "+yo+'="true" '+a+">"+QO(o,s)+"</"+e+">":"<"+e+" "+yo+'="true">'+QO(o,s)+"</"+e+">"},wFe=function(e,r,n){return r.reduce(function(s,a){var o=Object.keys(a).filter(function(u){return!(u===on.INNER_HTML||u===on.CSS_TEXT)}).reduce(function(u,d){var f=typeof a[d]>"u"?d:d+'="'+QO(a[d],n)+'"';return u?u+" "+f:f},""),l=a.innerHTML||a.cssText||"",c=aFe.indexOf(e)===-1;return s+"<"+e+" "+yo+'="true" '+o+(c?"/>":">"+l+"</"+e+">")},"")},une=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,s){return n[B_[s]||s]=e[s],n},r)},bFe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,s){return n[sFe[s]||s]=e[s],n},r)},_Fe=function(e,r,n){var s,a=(s={key:r},s[yo]=!0,s),o=une(n,a);return[Y.createElement($t.TITLE,o,r)]},jFe=function(e,r){return r.map(function(n,s){var a,o=(a={key:s},a[yo]=!0,a);return Object.keys(n).forEach(function(l){var c=B_[l]||l;if(c===on.INNER_HTML||c===on.CSS_TEXT){var u=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[c]=n[l]}),Y.createElement(e,o)})},Vl=function(e,r,n){switch(e){case $t.TITLE:return{toComponent:function(){return _Fe(e,r.title,r.titleAttributes)},toString:function(){return xFe(e,r.title,r.titleAttributes,n)}};case Dd.BODY:case Dd.HTML:return{toComponent:function(){return une(r)},toString:function(){return cne(r)}};default:return{toComponent:function(){return jFe(e,r)},toString:function(){return wFe(e,r,n)}}}},Ane=function(e){var r=e.baseTag,n=e.bodyAttributes,s=e.encode,a=e.htmlAttributes,o=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,f=e.title,m=f===void 0?"":f,p=e.titleAttributes;return{base:Vl($t.BASE,r,s),bodyAttributes:Vl(Dd.BODY,n,s),htmlAttributes:Vl(Dd.HTML,a,s),link:Vl($t.LINK,o,s),meta:Vl($t.META,l,s),noscript:Vl($t.NOSCRIPT,c,s),script:Vl($t.SCRIPT,u,s),style:Vl($t.STYLE,d,s),title:Vl($t.TITLE,{title:m,titleAttributes:p},s)}},CFe=function(e){var r,n;return n=r=function(s){cFe(a,s);function a(){return oFe(this,a),uFe(this,s.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(l){return!eFe(this.props,l)},a.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case $t.SCRIPT:case $t.NOSCRIPT:return{innerHTML:c};case $t.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,f=l.newChildProps,m=l.nestedChildren;return _a({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[_a({},f,this.mapNestedChildrenToProps(u,m))]),c))},a.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,f=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(d.type){case $t.TITLE:return _a({},f,(c={},c[d.type]=p,c.titleAttributes=_a({},m),c));case $t.BODY:return _a({},f,{bodyAttributes:_a({},m)});case $t.HTML:return _a({},f,{htmlAttributes:_a({},m)})}return _a({},f,(u={},u[d.type]=_a({},m),u))},a.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=_a({},c);return Object.keys(l).forEach(function(d){var f;u=_a({},u,(f={},f[d]=l[d],f))}),u},a.prototype.warnOnInvalidChildren=function(l,c){return!0},a.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Y.Children.forEach(l,function(f){if(!(!f||!f.props)){var m=f.props,p=m.children,y=V6(m,["children"]),x=bFe(y);switch(u.warnOnInvalidChildren(f,p),f.type){case $t.LINK:case $t.META:case $t.NOSCRIPT:case $t.SCRIPT:case $t.STYLE:d=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:d,newChildProps:x,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:f,newProps:c,newChildProps:x,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},a.prototype.render=function(){var l=this.props,c=l.children,u=V6(l,["children"]),d=_a({},u);return c&&(d=this.mapChildrenToProps(c,d)),Y.createElement(e,d)},lFe(a,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),a}(Y.Component),r.propTypes={base:ht.object,bodyAttributes:ht.object,children:ht.oneOfType([ht.arrayOf(ht.node),ht.node]),defaultTitle:ht.string,defer:ht.bool,encodeSpecialCharacters:ht.bool,htmlAttributes:ht.object,link:ht.arrayOf(ht.object),meta:ht.arrayOf(ht.object),noscript:ht.arrayOf(ht.object),onChangeClientState:ht.func,script:ht.arrayOf(ht.object),style:ht.arrayOf(ht.object),title:ht.string,titleAttributes:ht.object,titleTemplate:ht.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var s=e.rewind();return s||(s=Ane({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},n},BFe=function(){return null},EFe=JOe(hFe,vFe,Ane)(BFe),jo=CFe(EFe);jo.renderStatic=jo.rewind;function SFe({children:t}){const{user:e}=xn();return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm",children:i.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[i.jsx(Dt,{to:"/",className:"text-xl font-bold text-primary",children:"JPC Digi"}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(Dt,{to:"/",className:"text-gray-700 hover:text-primary",children:"Beranda"}),i.jsx(Dt,{to:"/search",className:"text-gray-700 hover:text-primary",children:"Produk"}),i.jsx(Dt,{to:"/ppob",className:"text-gray-700 hover:text-primary",children:"PPOB"}),i.jsx(Dt,{to:"/orders",className:"text-gray-700 hover:text-primary",children:"Pesanan"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Dt,{to:"/cart",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Keranjang"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})})]}),i.jsxs(Dt,{to:"/profile",className:"text-gray-700 hover:text-primary",children:[i.jsx("span",{className:"sr-only",children:"Profil"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})]})}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-10",children:i.jsxs("div",{className:"grid grid-cols-5",children:[i.jsxs(Dt,{to:"/",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(Dt,{to:"/search",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i.jsx("span",{className:"text-xs",children:"Produk"})]}),i.jsxs(Dt,{to:"/ppob",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-xs",children:"PPOB"})]}),i.jsxs(Dt,{to:"/cart",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),i.jsx("span",{className:"text-xs",children:"Keranjang"})]}),i.jsxs(Dt,{to:"/profile",className:"flex flex-col items-center py-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("span",{className:"text-xs",children:"Profil"})]})]})}),i.jsx("main",{className:"pb-20 md:pb-0",children:t}),i.jsx("footer",{className:"bg-gray-800 text-gray-300 py-8 mt-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"JPC Digi"}),i.jsx("p",{className:"text-sm",children:"Platform digital terpercaya untuk kebutuhan belanja dan layanan PPOB Anda."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Hubungi Kami"}),i.jsxs("ul",{className:"space-y-2 text-sm",children:[i.jsx("li",{children:"Email: support@jpcdigi.com"}),i.jsx("li",{children:"Telepon: (021) 1234-5678"}),i.jsx("li",{children:"WhatsApp: 0812-3456-7890"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Ikuti Kami"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Facebook"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Instagram"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),i.jsxs("a",{href:"#",className:"text-gray-300 hover:text-white",children:[i.jsx("span",{className:"sr-only",children:"Twitter"}),i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})]}),i.jsx("div",{className:"mt-8 border-t border-gray-700 pt-6 text-sm text-center",children:i.jsxs("p",{children:["© ",new Date().getFullYear()," JPC Digi. All rights reserved."]})})]})})]})}function NFe(){const[t,e]=w.useState("identity"),[r,n]=w.useState(!1),[s,a]=w.useState(!1),[o,l]=w.useState(null),[c,u]=w.useState(null),d=ar(),[f,m]=w.useState({nik:"",fullName:"",birthPlace:"",birthDate:"",gender:"",address:"",rt:"",rw:"",village:"",district:"",city:"",province:"",religion:"",maritalStatus:"",occupation:""}),p=_=>{const{name:j,value:S}=_.target;m(C=>({...C,[j]:S}))},y=_=>{_.target.files&&_.target.files[0]&&(n(!0),setTimeout(()=>{const j=new FileReader;j.onload=S=>{S.target&&l(S.target.result)},j.readAsDataURL(_.target.files[0]),n(!1)},1500))},x=_=>{_.target.files&&_.target.files[0]&&(n(!0),setTimeout(()=>{const j=new FileReader;j.onload=S=>{S.target&&u(S.target.result)},j.readAsDataURL(_.target.files[0]),n(!1)},1500))},v=_=>{_.preventDefault(),a(!0),setTimeout(()=>{a(!1),d("/ppob")},2e3)};return i.jsxs(SFe,{children:[i.jsxs(jo,{children:[i.jsx("title",{children:"Verifikasi Identitas - JPC Digi"}),i.jsx("meta",{name:"description",content:"Verifikasi identitas untuk menggunakan layanan PPOB JPC Digi"})]}),i.jsx("div",{className:"container py-8",children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Verifikasi Identitas"}),i.jsx("p",{className:"text-muted-foreground",children:"Verifikasi identitas Anda untuk menggunakan layanan PPOB secara lengkap"})]}),i.jsxs("div",{className:"flex space-x-2 mt-4 sm:mt-0",children:[i.jsxs(Z,{variant:"outline",onClick:()=>d("/ppob/wallet"),children:[i.jsx(se.wallet,{className:"mr-2 h-4 w-4"}),"Wallet Saya"]}),i.jsx(Z,{variant:"outline",onClick:()=>d("/ppob"),children:"Kembali ke PPOB"})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Lengkapi Verifikasi"}),i.jsx(Rr,{children:"Verifikasi identitas sesuai dengan regulasi untuk keamanan transaksi"})]}),i.jsx(Me,{children:i.jsxs(Ia,{value:t,onValueChange:e,children:[i.jsxs(la,{className:"grid grid-cols-2 mb-6",children:[i.jsx(nr,{value:"identity",children:"Data Diri"}),i.jsx(nr,{value:"documents",children:"Dokumen"})]}),i.jsx(Sr,{value:"identity",children:i.jsxs("form",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"nik",children:"Nomor KTP (NIK)"}),i.jsx(Ce,{id:"nik",name:"nik",placeholder:"Masukkan 16 digit NIK",value:f.nik,onChange:p})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"fullName",children:"Nama Lengkap"}),i.jsx(Ce,{id:"fullName",name:"fullName",placeholder:"Sesuai KTP",value:f.fullName,onChange:p})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"birthPlace",children:"Tempat Lahir"}),i.jsx(Ce,{id:"birthPlace",name:"birthPlace",placeholder:"Kota kelahiran",value:f.birthPlace,onChange:p})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"birthDate",children:"Tanggal Lahir"}),i.jsx(Ce,{id:"birthDate",name:"birthDate",type:"date",value:f.birthDate,onChange:p})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"address",children:"Alamat"}),i.jsx(Ce,{id:"address",name:"address",placeholder:"Alamat lengkap sesuai KTP",value:f.address,onChange:p})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"rt",children:"RT"}),i.jsx(Ce,{id:"rt",name:"rt",placeholder:"RT",value:f.rt,onChange:p})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"rw",children:"RW"}),i.jsx(Ce,{id:"rw",name:"rw",placeholder:"RW",value:f.rw,onChange:p})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"village",children:"Kelurahan/Desa"}),i.jsx(Ce,{id:"village",name:"village",placeholder:"Kelurahan/Desa",value:f.village,onChange:p})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"district",children:"Kecamatan"}),i.jsx(Ce,{id:"district",name:"district",placeholder:"Kecamatan",value:f.district,onChange:p})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"city",children:"Kota/Kabupaten"}),i.jsx(Ce,{id:"city",name:"city",placeholder:"Kota/Kabupaten",value:f.city,onChange:p})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"province",children:"Provinsi"}),i.jsx(Ce,{id:"province",name:"province",placeholder:"Provinsi",value:f.province,onChange:p})]})]}),i.jsx(Z,{type:"button",className:"w-full mt-4",onClick:()=>e("documents"),children:"Lanjutkan"})]})}),i.jsx(Sr,{value:"documents",children:i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto KTP yang jelas dan tidak terpotong"}),o?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o,alt:"KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>l(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"identity-upload",className:"hidden",accept:"image/*",onChange:y,disabled:r}),i.jsx("label",{htmlFor:"identity-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]}),i.jsx(Ks,{className:"my-6"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Foto Selfie dengan KTP"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Unggah foto diri Anda sambil memegang KTP"}),c?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:c,alt:"Selfie dengan KTP",className:"w-full max-h-60 object-contain border rounded-md"}),i.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"absolute top-2 right-2",onClick:()=>u(null),children:"Ganti"})]}):i.jsxs("div",{className:"border border-dashed rounded-md p-8 text-center",children:[i.jsx("input",{type:"file",id:"selfie-upload",className:"hidden",accept:"image/*",onChange:x,disabled:r}),i.jsx("label",{htmlFor:"selfie-upload",className:"cursor-pointer block",children:r?i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Mengunggah..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto text-muted-foreground mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),i.jsx("p",{children:"Klik untuk mengunggah foto selfie dengan KTP"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Format: JPG, PNG, maksimal 5MB"})]})})]})]})]}),i.jsxs("div",{className:"flex flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>e("identity"),children:"Kembali"}),i.jsx(Z,{type:"submit",disabled:!o||!c||s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Verifikasi"})]})]})})]})}),i.jsxs(ki,{className:"flex flex-col text-xs text-muted-foreground border-t pt-4",children:[i.jsx("p",{children:"Data yang dikirimkan akan digunakan untuk keperluan verifikasi identitas sesuai regulasi."}),i.jsx("p",{children:"JPC Digi menjamin keamanan dan kerahasiaan data pribadi Anda."})]})]})]})})]})}var Bh={},_N,z6;function dne(){return z6||(z6=1,_N={L:1,M:0,Q:3,H:2}),_N}var jN,G6;function fne(){return G6||(G6=1,jN={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),jN}var CN,W6;function TFe(){if(W6)return CN;W6=1;var t=fne();function e(r){this.mode=t.MODE_8BIT_BYTE,this.data=r}return e.prototype={getLength:function(r){return this.data.length},write:function(r){for(var n=0;n<this.data.length;n++)r.put(this.data.charCodeAt(n),8)}},CN=e,CN}var BN,X6;function kFe(){if(X6)return BN;X6=1;var t=dne();function e(r,n){this.totalCount=r,this.dataCount=n}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(r,n){var s=e.getRsBlockTable(r,n);if(s==null)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+n);for(var a=s.length/3,o=new Array,l=0;l<a;l++)for(var c=s[l*3+0],u=s[l*3+1],d=s[l*3+2],f=0;f<c;f++)o.push(new e(u,d));return o},e.getRsBlockTable=function(r,n){switch(n){case t.L:return e.RS_BLOCK_TABLE[(r-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(r-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(r-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(r-1)*4+3];default:return}},BN=e,BN}var EN,J6;function IFe(){if(J6)return EN;J6=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)==1},put:function(e,r){for(var n=0;n<r;n++)this.putBit((e>>>r-n-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},EN=t,EN}var SN,Y6;function hne(){if(Y6)return SN;Y6=1;for(var t={glog:function(r){if(r<1)throw new Error("glog("+r+")");return t.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return SN=t,SN}var NN,Z6;function mne(){if(Z6)return NN;Z6=1;var t=hne();function e(r,n){if(r.length==null)throw new Error(r.length+"/"+n);for(var s=0;s<r.length&&r[s]==0;)s++;this.num=new Array(r.length-s+n);for(var a=0;a<r.length-s;a++)this.num[a]=r[a+s]}return e.prototype={get:function(r){return this.num[r]},getLength:function(){return this.num.length},multiply:function(r){for(var n=new Array(this.getLength()+r.getLength()-1),s=0;s<this.getLength();s++)for(var a=0;a<r.getLength();a++)n[s+a]^=t.gexp(t.glog(this.get(s))+t.glog(r.get(a)));return new e(n,0)},mod:function(r){if(this.getLength()-r.getLength()<0)return this;for(var n=t.glog(this.get(0))-t.glog(r.get(0)),s=new Array(this.getLength()),a=0;a<this.getLength();a++)s[a]=this.get(a);for(var a=0;a<r.getLength();a++)s[a]^=t.gexp(t.glog(r.get(a))+n);return new e(s,0).mod(r)}},NN=e,NN}var TN,e$;function PFe(){if(e$)return TN;e$=1;var t=fne(),e=mne(),r=hne(),n={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var o=a<<10;s.getBCHDigit(o)-s.getBCHDigit(s.G15)>=0;)o^=s.G15<<s.getBCHDigit(o)-s.getBCHDigit(s.G15);return(a<<10|o)^s.G15_MASK},getBCHTypeNumber:function(a){for(var o=a<<12;s.getBCHDigit(o)-s.getBCHDigit(s.G18)>=0;)o^=s.G18<<s.getBCHDigit(o)-s.getBCHDigit(s.G18);return a<<12|o},getBCHDigit:function(a){for(var o=0;a!=0;)o++,a>>>=1;return o},getPatternPosition:function(a){return s.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,o,l){switch(a){case n.PATTERN000:return(o+l)%2==0;case n.PATTERN001:return o%2==0;case n.PATTERN010:return l%3==0;case n.PATTERN011:return(o+l)%3==0;case n.PATTERN100:return(Math.floor(o/2)+Math.floor(l/3))%2==0;case n.PATTERN101:return o*l%2+o*l%3==0;case n.PATTERN110:return(o*l%2+o*l%3)%2==0;case n.PATTERN111:return(o*l%3+(o+l)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var o=new e([1],0),l=0;l<a;l++)o=o.multiply(new e([1,r.gexp(l)],0));return o},getLengthInBits:function(a,o){if(1<=o&&o<10)switch(a){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(o<27)switch(a){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else if(o<41)switch(a){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}else throw new Error("type:"+o)},getLostPoint:function(a){for(var o=a.getModuleCount(),l=0,c=0;c<o;c++)for(var u=0;u<o;u++){for(var d=0,f=a.isDark(c,u),m=-1;m<=1;m++)if(!(c+m<0||o<=c+m))for(var p=-1;p<=1;p++)u+p<0||o<=u+p||m==0&&p==0||f==a.isDark(c+m,u+p)&&d++;d>5&&(l+=3+d-5)}for(var c=0;c<o-1;c++)for(var u=0;u<o-1;u++){var y=0;a.isDark(c,u)&&y++,a.isDark(c+1,u)&&y++,a.isDark(c,u+1)&&y++,a.isDark(c+1,u+1)&&y++,(y==0||y==4)&&(l+=3)}for(var c=0;c<o;c++)for(var u=0;u<o-6;u++)a.isDark(c,u)&&!a.isDark(c,u+1)&&a.isDark(c,u+2)&&a.isDark(c,u+3)&&a.isDark(c,u+4)&&!a.isDark(c,u+5)&&a.isDark(c,u+6)&&(l+=40);for(var u=0;u<o;u++)for(var c=0;c<o-6;c++)a.isDark(c,u)&&!a.isDark(c+1,u)&&a.isDark(c+2,u)&&a.isDark(c+3,u)&&a.isDark(c+4,u)&&!a.isDark(c+5,u)&&a.isDark(c+6,u)&&(l+=40);for(var x=0,u=0;u<o;u++)for(var c=0;c<o;c++)a.isDark(c,u)&&x++;var v=Math.abs(100*x/o/o-50)/5;return l+=v*10,l}};return TN=s,TN}var kN,t$;function OFe(){if(t$)return kN;t$=1;var t=TFe(),e=kFe(),r=IFe(),n=PFe(),s=mne();function a(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var o=a.prototype;return o.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},o.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},o.getModuleCount=function(){return this.moduleCount},o.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),u=new r,d=0,f=0;f<c.length;f++)d+=c[f].dataCount;for(var f=0;f<this.dataList.length;f++){var m=this.dataList[f];u.put(m.mode,4),u.put(m.getLength(),n.getLengthInBits(m.mode,l)),m.write(u)}if(u.getLengthInBits()<=d*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},o.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var u=0;u<this.moduleCount;u++){this.modules[u]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[u][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},o.setupPositionProbePattern=function(l,c){for(var u=-1;u<=7;u++)if(!(l+u<=-1||this.moduleCount<=l+u))for(var d=-1;d<=7;d++)c+d<=-1||this.moduleCount<=c+d||(0<=u&&u<=6&&(d==0||d==6)||0<=d&&d<=6&&(u==0||u==6)||2<=u&&u<=4&&2<=d&&d<=4?this.modules[l+u][c+d]=!0:this.modules[l+u][c+d]=!1)},o.getBestMaskPattern=function(){for(var l=0,c=0,u=0;u<8;u++){this.makeImpl(!0,u);var d=n.getLostPoint(this);(u==0||l>d)&&(l=d,c=u)}return c},o.createMovieClip=function(l,c,u){var d=l.createEmptyMovieClip(c,u),f=1;this.make();for(var m=0;m<this.modules.length;m++)for(var p=m*f,y=0;y<this.modules[m].length;y++){var x=y*f,v=this.modules[m][y];v&&(d.beginFill(0,100),d.moveTo(x,p),d.lineTo(x+f,p),d.lineTo(x+f,p+f),d.lineTo(x,p+f),d.endFill())}return d},o.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},o.setupPositionAdjustPattern=function(){for(var l=n.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var u=0;u<l.length;u++){var d=l[c],f=l[u];if(this.modules[d][f]==null)for(var m=-2;m<=2;m++)for(var p=-2;p<=2;p++)m==-2||m==2||p==-2||p==2||m==0&&p==0?this.modules[d+m][f+p]=!0:this.modules[d+m][f+p]=!1}},o.setupTypeNumber=function(l){for(var c=n.getBCHTypeNumber(this.typeNumber),u=0;u<18;u++){var d=!l&&(c>>u&1)==1;this.modules[Math.floor(u/3)][u%3+this.moduleCount-8-3]=d}for(var u=0;u<18;u++){var d=!l&&(c>>u&1)==1;this.modules[u%3+this.moduleCount-8-3][Math.floor(u/3)]=d}},o.setupTypeInfo=function(l,c){for(var u=this.errorCorrectLevel<<3|c,d=n.getBCHTypeInfo(u),f=0;f<15;f++){var m=!l&&(d>>f&1)==1;f<6?this.modules[f][8]=m:f<8?this.modules[f+1][8]=m:this.modules[this.moduleCount-15+f][8]=m}for(var f=0;f<15;f++){var m=!l&&(d>>f&1)==1;f<8?this.modules[8][this.moduleCount-f-1]=m:f<9?this.modules[8][15-f-1+1]=m:this.modules[8][15-f-1]=m}this.modules[this.moduleCount-8][8]=!l},o.mapData=function(l,c){for(var u=-1,d=this.moduleCount-1,f=7,m=0,p=this.moduleCount-1;p>0;p-=2)for(p==6&&p--;;){for(var y=0;y<2;y++)if(this.modules[d][p-y]==null){var x=!1;m<l.length&&(x=(l[m]>>>f&1)==1);var v=n.getMask(c,d,p-y);v&&(x=!x),this.modules[d][p-y]=x,f--,f==-1&&(m++,f=7)}if(d+=u,d<0||this.moduleCount<=d){d-=u,u=-u;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(l,c,u){for(var d=e.getRSBlocks(l,c),f=new r,m=0;m<u.length;m++){var p=u[m];f.put(p.mode,4),f.put(p.getLength(),n.getLengthInBits(p.mode,l)),p.write(f)}for(var y=0,m=0;m<d.length;m++)y+=d[m].dataCount;if(f.getLengthInBits()>y*8)throw new Error("code length overflow. ("+f.getLengthInBits()+">"+y*8+")");for(f.getLengthInBits()+4<=y*8&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(!1);for(;!(f.getLengthInBits()>=y*8||(f.put(a.PAD0,8),f.getLengthInBits()>=y*8));)f.put(a.PAD1,8);return a.createBytes(f,d)},a.createBytes=function(l,c){for(var u=0,d=0,f=0,m=new Array(c.length),p=new Array(c.length),y=0;y<c.length;y++){var x=c[y].dataCount,v=c[y].totalCount-x;d=Math.max(d,x),f=Math.max(f,v),m[y]=new Array(x);for(var _=0;_<m[y].length;_++)m[y][_]=255&l.buffer[_+u];u+=x;var j=n.getErrorCorrectPolynomial(v),S=new s(m[y],j.getLength()-1),C=S.mod(j);p[y]=new Array(j.getLength()-1);for(var _=0;_<p[y].length;_++){var N=_+C.getLength()-p[y].length;p[y][_]=N>=0?C.get(N):0}}for(var k=0,_=0;_<c.length;_++)k+=c[_].totalCount;for(var E=new Array(k),T=0,_=0;_<d;_++)for(var y=0;y<c.length;y++)_<m[y].length&&(E[T++]=m[y][_]);for(var _=0;_<f;_++)for(var y=0;y<c.length;y++)_<p[y].length&&(E[T++]=p[y][_]);return E},kN=a,kN}var Sb={},r$;function FFe(){if(r$)return Sb;r$=1,Object.defineProperty(Sb,"__esModule",{value:!0});var t=Object.assign||function(u){for(var d=1;d<arguments.length;d++){var f=arguments[d];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(u[m]=f[m])}return u},e=j4(),r=a(e),n=Ap(),s=a(n);function a(u){return u&&u.__esModule?u:{default:u}}function o(u,d){var f={};for(var m in u)d.indexOf(m)>=0||Object.prototype.hasOwnProperty.call(u,m)&&(f[m]=u[m]);return f}var l={bgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,bgD:r.default.string.isRequired,fgColor:r.default.oneOfType([r.default.object,r.default.string]).isRequired,fgD:r.default.string.isRequired,size:r.default.number.isRequired,title:r.default.string,viewBoxSize:r.default.number.isRequired,xmlns:r.default.string},c=(0,n.forwardRef)(function(u,d){var f=u.bgColor,m=u.bgD,p=u.fgD,y=u.fgColor,x=u.size,v=u.title,_=u.viewBoxSize,j=u.xmlns,S=j===void 0?"http://www.w3.org/2000/svg":j,C=o(u,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return s.default.createElement("svg",t({},C,{height:x,ref:d,viewBox:"0 0 "+_+" "+_,width:x,xmlns:S}),v?s.default.createElement("title",null,v):null,s.default.createElement("path",{d:m,fill:f}),s.default.createElement("path",{d:p,fill:y}))});return c.displayName="QRCodeSvg",c.propTypes=l,Sb.default=c,Sb}var n$;function RFe(){if(n$)return Bh;n$=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.QRCode=void 0;var t=Object.assign||function(x){for(var v=1;v<arguments.length;v++){var _=arguments[v];for(var j in _)Object.prototype.hasOwnProperty.call(_,j)&&(x[j]=_[j])}return x},e=j4(),r=f(e),n=dne(),s=f(n),a=OFe(),o=f(a),l=Ap(),c=f(l),u=FFe(),d=f(u);function f(x){return x&&x.__esModule?x:{default:x}}function m(x,v){var _={};for(var j in x)v.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(x,j)&&(_[j]=x[j]);return _}var p={bgColor:r.default.oneOfType([r.default.object,r.default.string]),fgColor:r.default.oneOfType([r.default.object,r.default.string]),level:r.default.string,size:r.default.number,value:r.default.string.isRequired},y=(0,l.forwardRef)(function(x,v){var _=x.bgColor,j=_===void 0?"#FFFFFF":_,S=x.fgColor,C=S===void 0?"#000000":S,N=x.level,k=N===void 0?"L":N,E=x.size,T=E===void 0?256:E,P=x.value,O=m(x,["bgColor","fgColor","level","size","value"]),D=new o.default(-1,s.default[k]);D.addData(P),D.make();var M=D.modules;return c.default.createElement(d.default,t({},O,{bgColor:j,bgD:M.map(function(F,G){return F.map(function(W,V){return W?"":"M "+V+" "+G+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:C,fgD:M.map(function(F,G){return F.map(function(W,V){return W?"M "+V+" "+G+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:v,size:T,viewBoxSize:M.length}))});return Bh.QRCode=y,y.displayName="QRCode",y.propTypes=p,Bh.default=y,Bh}var DFe=RFe();const pne=yr(DFe),ws=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:Ee("w-full caption-bottom text-sm",t),...e})}));ws.displayName="Table";const bs=w.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:Ee("[&_tr]:border-b",t),...e}));bs.displayName="TableHeader";const _s=w.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:Ee("[&_tr:last-child]:border-0",t),...e}));_s.displayName="TableBody";const UFe=w.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:Ee("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));UFe.displayName="TableFooter";const Ot=w.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:Ee("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ot.displayName="TableRow";const $e=w.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:Ee("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));$e.displayName="TableHead";const Ne=w.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:Ee("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ne.displayName="TableCell";const MFe=w.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:Ee("mt-4 text-sm text-muted-foreground",t),...e}));MFe.displayName="TableCaption";const s$=[{id:"TRX-12345",type:"topup",amount:5e5,date:"2025-06-02T10:15:30",status:"success",description:"Top Up via BCA Virtual Account",source:"BCA Virtual Account",balance:5e5},{id:"TRX-12346",type:"payment",amount:-15e4,date:"2025-06-02T14:30:25",status:"success",description:"Pembayaran Tagihan PLN",source:"PLN Postpaid",balance:35e4},{id:"TRX-12347",type:"payment",amount:-5e4,date:"2025-06-02T16:45:12",status:"success",description:"Pembelian Pulsa Telkomsel",source:"Telkomsel Prepaid",balance:3e5},{id:"TRX-12348",type:"payment",amount:-75e3,date:"2025-06-02T18:20:05",status:"success",description:"Pembayaran PDAM",source:"PDAM",balance:225e3},{id:"TRX-12349",type:"topup",amount:2e5,date:"2025-06-03T09:10:45",status:"success",description:"Top Up via DANA",source:"DANA",balance:425e3},{id:"TRX-12350",type:"payment",amount:-1e5,date:"2025-06-03T11:30:20",status:"success",description:"Pembelian Token Listrik",source:"PLN Prepaid",balance:325e3},{id:"TRX-12351",type:"payment",amount:-25e3,date:"2025-06-03T13:45:10",status:"success",description:"Pembayaran Telkom IndiHome",source:"Telkom",balance:3e5},{id:"TRX-12352",type:"topup",amount:1e5,date:"2025-06-03T15:20:30",status:"pending",description:"Top Up via OVO",source:"OVO",balance:3e5},{id:"TRX-12353",type:"payment",amount:-8e4,date:"2025-06-03T16:50:15",status:"failed",description:"Pembelian Paket Data XL",source:"XL Data",balance:3e5}];function QFe({className:t}){const[e,r]=w.useState("all"),[n,s]=w.useState([]),[a,o]=w.useState([]),[l,c]=w.useState(!0),[u,d]=w.useState("this-month"),[f,m]=w.useState("");w.useEffect(()=>{(async()=>{c(!0),await new Promise(N=>setTimeout(N,1e3)),s(s$),o(s$),c(!1)})()},[]),w.useEffect(()=>{p()},[e,u,f,n]);const p=()=>{let C=[...n];e==="topup"?C=C.filter(M=>M.type==="topup"):e==="payment"&&(C=C.filter(M=>M.type==="payment"));const N=new Date,k=new Date(N.getFullYear(),N.getMonth(),N.getDate()),E=new Date(k);E.setDate(E.getDate()-1);const T=new Date(k);T.setDate(T.getDate()-k.getDay());const P=new Date(N.getFullYear(),N.getMonth(),1),O=new Date(N.getFullYear(),N.getMonth()-1,1),D=new Date(N.getFullYear(),N.getMonth(),0);switch(u){case"today":C=C.filter(M=>new Date(M.date)>=k);break;case"yesterday":C=C.filter(M=>{const F=new Date(M.date);return F>=E&&F<k});break;case"this-week":C=C.filter(M=>new Date(M.date)>=T);break;case"this-month":C=C.filter(M=>new Date(M.date)>=P);break;case"last-month":C=C.filter(M=>{const F=new Date(M.date);return F>=O&&F<=D});break}if(f.trim()!==""){const M=f.toLowerCase();C=C.filter(F=>F.id.toLowerCase().includes(M)||F.description.toLowerCase().includes(M)||F.source.toLowerCase().includes(M))}C.sort((M,F)=>new Date(F.date).getTime()-new Date(M.date).getTime()),o(C)},y=C=>{const N=new Date(C);return as(N,"d MMMM yyyy, HH:mm",{locale:Ii})},x=C=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Math.abs(C)),v=()=>a.filter(C=>C.amount>0&&C.status==="success").reduce((C,N)=>C+N.amount,0),_=()=>a.filter(C=>C.amount<0&&C.status==="success").reduce((C,N)=>C+Math.abs(N.amount),0),j=C=>{switch(C){case"topup":return i.jsx(se.plus,{className:"h-4 w-4 text-green-500"});case"payment":return i.jsx(se.creditCard,{className:"h-4 w-4 text-blue-500"});case"withdrawal":return i.jsx(se.arrowRight,{className:"h-4 w-4 text-orange-500"});case"refund":return i.jsx(se.arrowRight,{className:"h-4 w-4 text-purple-500 rotate-180"});default:return i.jsx(se.activity,{className:"h-4 w-4"})}},S=C=>{switch(C){case"success":return i.jsx(qt,{className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Sukses"});case"pending":return i.jsx(qt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pending"});case"failed":return i.jsx(qt,{className:"bg-red-100 text-red-800 hover:bg-red-200",children:"Gagal"});default:return i.jsx(qt,{children:"Unknown"})}};return i.jsxs(Ue,{className:t,children:[i.jsxs(Nt,{className:"pb-3",children:[i.jsx(Tt,{children:"Mutasi Dompet PPOB"}),i.jsx(Rr,{children:"Riwayat transaksi dompet PPOB Anda"})]}),i.jsxs(Me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0 sm:flex-row sm:space-x-3 sm:items-center justify-between",children:[i.jsx(Ia,{value:e,onValueChange:r,className:"w-full sm:w-auto",children:i.jsxs(la,{className:"grid grid-cols-3 w-full sm:w-auto",children:[i.jsx(nr,{value:"all",children:"Semua"}),i.jsx(nr,{value:"topup",children:"Top Up"}),i.jsx(nr,{value:"payment",children:"Pembayaran"})]})}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs(Us,{value:u,onValueChange:d,children:[i.jsx(ys,{className:"w-full sm:w-[180px]",children:i.jsx(Ms,{placeholder:"Pilih Periode"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"all",children:"Semua Waktu"}),i.jsx(Lt,{value:"today",children:"Hari Ini"}),i.jsx(Lt,{value:"yesterday",children:"Kemarin"}),i.jsx(Lt,{value:"this-week",children:"Minggu Ini"}),i.jsx(Lt,{value:"this-month",children:"Bulan Ini"}),i.jsx(Lt,{value:"last-month",children:"Bulan Lalu"})]})]}),i.jsx(Ce,{placeholder:"Cari transaksi...",value:f,onChange:C=>m(C.target.value),className:"w-full sm:w-[200px]"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsx(Ue,{children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo Terakhir"}),i.jsx("p",{className:"text-2xl font-bold",children:n.length>0?x(n[0].balance):"Rp 0"})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pemasukan"}),i.jsx("p",{className:"text-2xl font-bold text-green-600",children:x(v())})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pengeluaran"}),i.jsx("p",{className:"text-2xl font-bold text-red-600",children:x(_())})]})})})]}),i.jsx(Ks,{}),l?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):a.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Tanggal"}),i.jsx($e,{children:"ID Transaksi"}),i.jsx($e,{children:"Keterangan"}),i.jsx($e,{children:"Jumlah"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Saldo"})]})}),i.jsx(_s,{children:a.map(C=>i.jsxs(Ot,{children:[i.jsx(Ne,{className:"whitespace-nowrap",children:y(C.date)}),i.jsx(Ne,{className:"font-medium",children:C.id}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center space-x-2",children:[j(C.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:C.description}),i.jsx("p",{className:"text-xs text-muted-foreground",children:C.source})]})]})}),i.jsxs(Ne,{className:C.amount>0?"text-green-600":"text-red-600",children:[C.amount>0?"+":"-",x(C.amount)]}),i.jsx(Ne,{children:S(C.status)}),i.jsx(Ne,{className:"font-medium",children:x(C.balance)})]},C.id))})]})})]}),i.jsxs(ki,{className:"flex justify-between",children:[i.jsxs(Z,{variant:"outline",children:[i.jsx(se.download,{className:"mr-2 h-4 w-4"}),"Unduh PDF"]}),i.jsxs(Z,{variant:"outline",children:[i.jsx(se.download,{className:"mr-2 h-4 w-4"}),"Unduh CSV"]})]})]})}const LFe=()=>{const t=ar(),[e,r]=w.useState("overview"),[n,s]=w.useState(75e4),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(""),[p,y]=w.useState("88750012345678"),[x,v]=w.useState(!1),[_,j]=w.useState(!1),[S,C]=w.useState(!1),[N,k]=w.useState(!1),[E,T]=w.useState(null),[P,O]=w.useState("transfer"),[D,M]=w.useState(!1),[F,G]=w.useState("all"),[W,V]=w.useState(null),H=$=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format($),Q=$=>{$.preventDefault(),C(!0),T("topup"),setTimeout(()=>{const J=parseInt(a.replace(/\D/g,""));s(ae=>ae+J),C(!1),k(!0);const le=`TP${Date.now().toString().slice(-8)}`;V({id:le,amount:J,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{v(!1),o(""),k(!1)},2e3)},1500)},z=$=>{$.preventDefault(),C(!0),T("withdraw"),setTimeout(()=>{const J=parseInt(l.replace(/\D/g,""));s(ae=>ae-J),C(!1),k(!0);const le=`WD${Date.now().toString().slice(-8)}`;V({id:le,amount:J,type:"withdraw",status:"success",timestamp:new Date}),setTimeout(()=>{j(!1),c(""),d(""),m(""),k(!1)},2e3)},1500)},q=($,J)=>{const le=$.target.value.replace(/\D/g,"");if(le===""){J("");return}J(new Intl.NumberFormat("id-ID").format(parseInt(le)))};return i.jsxs(br,{title:"PPOB Wallet",subtitle:"Kelola saldo PPOB Anda",withBackButton:!0,onBackButtonClick:()=>t("/ppob"),children:[i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(Ia,{defaultValue:"overview",value:e,onValueChange:r,className:"w-full",children:[i.jsxs(la,{className:"grid w-full grid-cols-2",children:[i.jsx(nr,{value:"overview",children:"Saldo"}),i.jsx(nr,{value:"history",children:"Riwayat"})]}),i.jsxs(Sr,{value:"overview",className:"space-y-4",children:[i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"Saldo PPOB Wallet"}),i.jsxs(Z,{variant:"ghost",size:"sm",onClick:()=>r("history"),children:[i.jsx(se.history,{className:"h-4 w-4 mr-1"}),"Riwayat"]})]}),i.jsx(Ue,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white mb-6",children:i.jsx(Me,{className:"p-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-blue-100",children:"Saldo Tersedia"}),i.jsx("h3",{className:"text-3xl font-bold",children:H(n)}),i.jsxs("p",{className:"text-xs text-blue-100",children:["Terakhir diperbarui: ",new Date().toLocaleString("id-ID")]})]})})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Z,{className:"h-auto py-4 flex flex-col items-center",onClick:()=>v(!0),children:[i.jsx(se.plus,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Top Up"})]}),i.jsxs(Z,{variant:"outline",className:"h-auto py-4 flex flex-col items-center",onClick:()=>j(!0),children:[i.jsx(se.arrowRight,{className:"h-6 w-6 mb-1"}),i.jsx("span",{children:"Tarik Dana"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Transaksi Terakhir"}),W?i.jsx(Ue,{className:"border",children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx(qt,{variant:W.type==="topup"?"success":"destructive",children:W.type==="topup"?"Top Up":"Tarik Dana"}),i.jsxs("p",{className:"text-sm font-semibold mt-1",children:[W.type==="topup"?"+":"-",H(W.amount)]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:W.timestamp.toLocaleString("id-ID")})]}),i.jsx(qt,{variant:W.status==="success"?"outline":"secondary",children:W.status==="success"?"Berhasil":W.status==="pending"?"Diproses":"Gagal"})]})})}):i.jsx("div",{className:"text-center py-6 text-muted-foreground",children:i.jsx("p",{children:"Belum ada transaksi"})}),i.jsx("div",{className:"mt-4",children:i.jsxs(Z,{variant:"outline",className:"w-full",onClick:()=>t("/ppob/history?wallet=true"),children:["Lihat Semua Transaksi",i.jsx(se.arrowRight,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsx(Sr,{value:"history",className:"space-y-4",children:i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transaksi"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs(Ue,{className:"bg-blue-50",children:[i.jsx(Nt,{className:"pb-2",children:i.jsxs(Tt,{className:"text-sm font-medium flex items-center",children:[i.jsx(se.arrowDownCircle,{className:"h-4 w-4 mr-2 text-green-600"}),"Uang Masuk"]})}),i.jsx(Me,{children:i.jsxs(Z,{variant:"ghost",className:"p-0 h-auto font-bold text-green-600 hover:text-green-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=in"),children:["Lihat",i.jsx(se.chevronRight,{className:"h-4 w-4 ml-1"})]})})]}),i.jsxs(Ue,{className:"bg-blue-50",children:[i.jsx(Nt,{className:"pb-2",children:i.jsxs(Tt,{className:"text-sm font-medium flex items-center",children:[i.jsx(se.arrowUpCircle,{className:"h-4 w-4 mr-2 text-red-600"}),"Uang Keluar"]})}),i.jsx(Me,{children:i.jsxs(Z,{variant:"ghost",className:"p-0 h-auto font-bold text-red-600 hover:text-red-700 hover:bg-transparent",onClick:()=>t("/ppob/history?filter=out"),children:["Lihat",i.jsx(se.chevronRight,{className:"h-4 w-4 ml-1"})]})})]})]}),i.jsx("div",{className:"space-y-2",children:i.jsx(QFe,{})}),i.jsxs("div",{className:"mt-4 text-center",children:[i.jsxs(Z,{variant:"outline",onClick:()=>t("/ppob/history?wallet=true"),children:[i.jsx(se.wallet,{className:"mr-2 h-4 w-4"}),"Lihat Transaksi Wallet"]}),i.jsxs(Z,{variant:"link",onClick:()=>t("/ppob/history"),children:[i.jsx(se.history,{className:"mr-2 h-4 w-4"}),"Semua Transaksi"]})]})]})})]})}),i.jsx(Qr,{open:x,onOpenChange:v,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Top Up Saldo"}),i.jsx(Es,{children:"Tambah saldo PPOB Wallet Anda dengan mudah."})]}),N&&E==="topup"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Top Up Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Saldo Anda telah bertambah",W&&i.jsx("span",{className:"block font-semibold mt-1 text-green-600",children:H(W.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:W&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",W.id,i.jsx("br",{}),"Waktu: ",W.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:Q,children:[i.jsxs(Ia,{defaultValue:"transfer",className:"w-full",onValueChange:$=>O($),children:[i.jsxs(la,{className:"grid w-full grid-cols-2",children:[i.jsx(nr,{value:"transfer",children:"Transfer Bank"}),i.jsx(nr,{value:"qrcode",children:"QR Code"})]}),i.jsxs(Sr,{value:"transfer",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(Ce,{id:"amount",placeholder:"0",className:"pl-9",value:a,onChange:$=>q($,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map($=>i.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format($)),children:H($)},$))})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(ze,{children:"Metode Pembayaran"}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(se.creditCard,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Virtual Account"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:p})]})]}),i.jsx(Z,{type:"button",variant:"ghost",size:"icon",onClick:()=>{navigator.clipboard.writeText(p),alert("Nomor Virtual Account disalin!")},children:i.jsx(se.copy,{className:"h-4 w-4"})})]})})}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Transfer ke nomor virtual account di atas untuk melakukan top up. Saldo akan bertambah otomatis setelah transfer berhasil."})]})]}),i.jsxs(Sr,{value:"qrcode",className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"qr-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(Ce,{id:"qr-amount",placeholder:"0",className:"pl-9",value:a,onChange:$=>q($,o),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp10.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp10.000.000"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[1e5,2e5,5e5,1e6].map($=>i.jsx(Z,{type:"button",variant:"outline",size:"sm",className:"flex-1 min-w-[80px]",onClick:()=>o(new Intl.NumberFormat("id-ID").format($)),children:H($)},$))})]}),i.jsx("div",{className:"flex justify-center mt-4",children:D?i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg",children:[i.jsx("div",{className:"bg-white p-2 rounded-md",children:i.jsx(pne,{value:`JPC:TOPUP:${a.replace(/\D/g,"")}:${Date.now()}`,size:180})}),i.jsx(Z,{type:"button",variant:"link",className:"mt-2 text-xs",onClick:()=>M(!1),children:"Ubah Nominal"})]}):i.jsxs(Z,{type:"button",variant:"outline",onClick:()=>{const $=parseInt(a.replace(/\D/g,""))||0;if($<1e4){alert("Minimal top up adalah Rp10.000");return}if($>1e7){alert("Maksimal top up adalah Rp10.000.000");return}M(!0)},disabled:!a,className:"w-full py-8",children:[i.jsx(se.qrCode,{className:"mr-2 h-5 w-5"}),"Generate QR Code"]})}),D&&i.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Scan QR code ini dengan aplikasi e-wallet atau mobile banking Anda untuk melakukan pembayaran."})]})]}),i.jsxs(is,{className:"mt-4",children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>{v(!1),M(!1),o("")},disabled:S,children:"Batal"}),P==="transfer"?i.jsx(Z,{type:"submit",disabled:!a||S||parseInt(a.replace(/\D/g,""))<1e4,children:S?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Konfirmasi Top Up"}):i.jsx(Z,{type:"button",onClick:()=>{C(!0),T("topup"),setTimeout(()=>{const $=parseInt(a.replace(/\D/g,""));s(le=>le+$),C(!1),k(!0);const J=`TP${Date.now().toString().slice(-8)}`;V({id:J,amount:$,type:"topup",status:"success",timestamp:new Date}),setTimeout(()=>{v(!1),o(""),M(!1),k(!1)},2e3)},1500)},disabled:!a||!D||S,children:S?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Saya Sudah Bayar"})]})]})]})}),i.jsx(Qr,{open:_,onOpenChange:j,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Tarik Dana"}),i.jsx(Es,{children:"Tarik dana dari PPOB Wallet Anda ke rekening bank yang terdaftar."})]}),N&&E==="withdraw"?i.jsxs("div",{className:"py-6 text-center space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h3",{className:"font-bold text-lg",children:"Penarikan Berhasil!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Dana akan masuk ke rekening bank Anda dalam 1x24 jam kerja",W&&i.jsx("span",{className:"block font-semibold mt-1 text-red-600",children:H(W.amount)})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:W&&i.jsxs(i.Fragment,{children:["ID Transaksi: ",W.id,i.jsx("br",{}),"Waktu: ",W.timestamp.toLocaleString("id-ID")]})})]}):i.jsxs("form",{onSubmit:z,children:[i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"withdraw-amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"Rp"}),i.jsx(Ce,{id:"withdraw-amount",placeholder:"0",className:"pl-9",value:l,onChange:$=>q($,c),required:!0})]}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsx("p",{className:"text-muted-foreground",children:"Min: Rp50.000"}),i.jsx("p",{className:"text-muted-foreground",children:"Maks: Rp5.000.000"})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Saldo tersedia: ",H(n)]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"withdraw-bank",children:"Bank Tujuan"}),i.jsxs(Us,{value:u,onValueChange:d,required:!0,children:[i.jsx(ys,{id:"withdraw-bank",children:i.jsx(Ms,{placeholder:"Pilih bank tujuan"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"bca",children:"Bank BCA"}),i.jsx(Lt,{value:"bni",children:"Bank BNI"}),i.jsx(Lt,{value:"mandiri",children:"Bank Mandiri"}),i.jsx(Lt,{value:"bri",children:"Bank BRI"}),i.jsx(Lt,{value:"permata",children:"Bank Permata"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"account-number",children:"Nomor Rekening"}),i.jsx(Ce,{id:"account-number",placeholder:"Contoh: 1234567890",value:f,onChange:$=>m($.target.value.replace(/\D/g,"")),required:!0})]})]}),i.jsxs(is,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>j(!1),disabled:S,children:"Batal"}),i.jsx(Z,{type:"submit",disabled:!l||!u||!f||S||parseInt(l.replace(/\D/g,""))<5e4||parseInt(l.replace(/\D/g,""))>n,children:S?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Tarik Dana"})]})]})]})})]})},HFe=[{id:"notif-1",title:"Pembayaran Berhasil",message:"Pembayaran tagihan PLN sebesar Rp 250.000 telah berhasil.",date:"2025-06-02T14:35:00",type:"success",read:!1},{id:"notif-2",title:"Promo Spesial",message:"Dapatkan cashback 10% untuk pembelian pulsa min. Rp 50.000.",date:"2025-06-02T10:15:00",type:"promo",read:!1},{id:"notif-3",title:"Pembayaran Tertunda",message:"Pembayaran BPJS Kesehatan sedang diproses.",date:"2025-06-01T18:22:00",type:"pending",read:!0},{id:"notif-4",title:"Transaksi Gagal",message:"Pembelian token listrik gagal. Saldo tidak mencukupi.",date:"2025-06-01T13:45:00",type:"error",read:!0},{id:"notif-5",title:"Top Up Berhasil",message:"Top up saldo PPOB Wallet sebesar Rp 500.000 berhasil.",date:"2025-05-31T09:10:00",type:"success",read:!0}];function $Fe({onClose:t}){const[e,r]=w.useState([]),[n,s]=w.useState(!0);w.useEffect(()=>{(async()=>{s(!0),await new Promise(f=>setTimeout(f,1e3)),r(HFe),s(!1)})()},[]);const a=e.filter(d=>!d.read).length,o=()=>{r(e.map(d=>({...d,read:!0})))},l=d=>{r(e.map(f=>f.id===d?{...f,read:!0}:f))},c=d=>{const f=new Date(d),p=Math.abs(new Date().getTime()-f.getTime()),y=Math.floor(p/(1e3*60*60*24));return y===0?`Hari ini, ${f.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}`:y===1?"Kemarin":y<7?f.toLocaleDateString("id-ID",{weekday:"long"}):f.toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})},u=d=>{switch(d){case"success":return i.jsx(se.check,{className:"h-4 w-4 text-green-500"});case"error":return i.jsx(se.flame,{className:"h-4 w-4 text-red-500"});case"pending":return i.jsx(se.clock,{className:"h-4 w-4 text-yellow-500"});case"promo":return i.jsx(se.ticket,{className:"h-4 w-4 text-purple-500"});default:return i.jsx(se.bell,{className:"h-4 w-4"})}};return i.jsxs(Ue,{className:"w-full max-w-md mx-auto border shadow-md",children:[i.jsxs(Nt,{className:"pb-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Tt,{className:"text-xl",children:"Notifikasi"}),a>0&&i.jsx(Z,{variant:"ghost",size:"sm",onClick:o,className:"text-xs",children:"Tandai Semua Dibaca"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs(qt,{variant:"outline",className:"text-xs",children:["Semua (",e.length,")"]}),a>0&&i.jsxs(qt,{className:"text-xs bg-primary",children:["Belum Dibaca (",a,")"]})]})]}),i.jsx(Me,{className:"px-0",children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?i.jsx("div",{className:"text-center py-8 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada notifikasi"})}):i.jsx("div",{className:"divide-y",children:e.map(d=>i.jsx("div",{className:Ee("px-4 py-3 hover:bg-muted/50 cursor-pointer transition-colors",!d.read&&"bg-muted/30"),onClick:()=>l(d.id),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1",children:u(d.type)}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:Ee("text-sm font-medium",!d.read&&"font-semibold"),children:d.title}),i.jsx("span",{className:"text-xs text-muted-foreground",children:c(d.date)})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.message}),!d.read&&i.jsx(qt,{className:"mt-1 bg-primary/20 text-primary hover:bg-primary/30 text-xs",variant:"secondary",children:"Baru"})]})]})},d.id))})})]})}function IN(){const t=ar(),[e,r]=w.useState(null),[n,s]=w.useState(0),[a,o]=w.useState(0),[l,c]=w.useState(new Date),[u,d]=w.useState(!0);return w.useEffect(()=>{(async()=>{d(!0);try{const{data:{session:p},error:y}=await oe.auth.getSession();if(y)throw y;if(p!=null&&p.user){const{data:x,error:v}=await oe.from("profiles").select("*").eq("id",p.user.id).single();if(v)throw v;r(x),x&&typeof x.balance=="number"&&s(x.balance);const{count:_,error:j}=await oe.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",p.user.id).eq("read_status",!1);if(j)throw j;_!==null&&o(_)}else t("/login")}catch(p){console.error("Error fetching data:",p)}finally{d(!1)}})();const m=setInterval(()=>{c(new Date)},6e4);return()=>{clearInterval(m)}},[t]),i.jsxs(br,{children:[i.jsxs(jo,{children:[i.jsx("title",{children:"JPC Digi - Layanan PPOB"}),i.jsx("style",{children:`
            @keyframes gradientShift {
              0% { background-position: 0% 50%; }
              50% { background-position: 100% 50%; }
              100% { background-position: 0% 50%; }
            }
            @keyframes float {
              0% { transform: translateY(0px); }
              50% { transform: translateY(-10px); }
              100% { transform: translateY(0px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.1); }
              100% { transform: scale(1); }
            }
            @keyframes sparkle {
              0% { opacity: 0.2; }
              50% { opacity: 1; }
              100% { opacity: 0.2; }
            }
            .gradient-bg {
              background-size: 200% 200%;
              animation: gradientShift 8s ease infinite;
            }
            .float {
              animation: float 4s ease-in-out infinite;
            }
            .pulse {
              animation: pulse 2s ease-in-out infinite;
            }
            .sparkle {
              animation: sparkle 1.5s ease-in-out infinite;
            }
          `})]}),i.jsxs("div",{className:"bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-white",style:{animation:"gradientShift 8s ease infinite"},children:[i.jsx("div",{className:"flex justify-between items-center p-2 text-xs",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(se.users,{className:"h-3 w-3 mr-1"})," ",e!=null&&e.name?e.name.split(" ")[0]:"Guest",i.jsx("div",{className:"flex items-center gap-0.5 bg-white/20 px-1 rounded"})]})}),i.jsxs("div",{className:"flex justify-between items-center p-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-12 w-12 rounded-full bg-white flex items-center justify-center shadow-lg pulse",children:i.jsx(se.wallet,{className:"h-7 w-7 text-indigo-600"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-4 w-4 bg-green-400 rounded-full border border-white pulse"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm opacity-80 font-medium",children:["Saldo ",e!=null&&e.name?e.name.split(" ")[0]:""]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-2xl font-bold sparkle",children:Te(n)}),i.jsx("div",{children:i.jsx(Z,{variant:"ghost",size:"sm",className:"p-0 h-6 text-white hover:bg-white/20 rounded-full",children:i.jsx(se.refreshCw,{className:"h-3 w-3"})})})]})]})]}),i.jsxs(Qr,{children:[i.jsx(x_,{asChild:!0,children:i.jsxs(Z,{variant:"ghost",size:"icon",className:"relative text-white",children:[i.jsx(se.bell,{className:"h-6 w-6"}),a>0&&i.jsx(qt,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500",children:a})]})}),i.jsxs(Pr,{className:"max-w-md p-0",children:[i.jsx(Kr,{className:"sr-only",children:i.jsx(qr,{children:"Notifikasi"})}),i.jsx($Fe,{onClose:()=>o(0)})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-x-2 sm:gap-x-4 px-4 mt-6 pb-6",style:{perspective:"1000px"},children:[i.jsx("div",{children:i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center mb-2 shadow-lg float",children:i.jsx(se.qrCode,{className:"h-8 w-8"})}),i.jsx("span",{className:"text-sm font-medium",children:"Pindai"})]})}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/topup"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.2s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(se.plus,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Isi Saldo"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/send"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.4s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(se.arrowUpCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Kirim"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center h-auto py-2 text-white",onClick:()=>t("/ppob/request"),children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gradient-to-br from-pink-400 to-pink-600 flex items-center justify-center mb-2 shadow-lg float",style:{animationDelay:"0.6s"},children:i.jsxs("div",{className:"relative flex items-center justify-center",children:[i.jsx("div",{className:"h-8 w-8 rounded-full border-2 border-white"}),i.jsx(se.arrowDownCircle,{className:"h-5 w-5 absolute pulse"})]})}),i.jsx("span",{className:"text-sm font-medium",children:"Minta"})]})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-t-3xl -mt-4 mb-16 shadow-lg",style:{borderTop:"3px solid rgba(129, 140, 248, 0.5)"},children:[i.jsx("div",{className:"mt-2 mb-6",children:i.jsx("div",{className:"relative bg-white rounded-xl overflow-hidden border border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex p-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-md overflow-hidden mr-3",children:i.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-red-600 text-white h-full w-full flex items-center justify-center font-bold pulse",children:"🔥"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-bold text-black",children:"Arang Oven"}),i.jsx("p",{className:"text-sm text-orange-500",children:"Mulai Rp6.000"})]}),i.jsx(Z,{className:"bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white text-xs rounded-md h-8 shadow-md",size:"sm",children:"Beli"})]})})}),i.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-4 sm:gap-6 mb-8",style:{perspective:"1000px"},children:[i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/ewallet"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(se.wallet,{className:"h-7 w-7 text-green-600 pulse"})}),i.jsx("span",{className:"text-xs font-medium",children:"e-Wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/pulsa-data"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-red-100 to-red-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(se.smartphone,{className:"h-7 w-7 text-red-600 pulse",style:{animationDelay:"0.2s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Pulsa & Data"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/electricity"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-amber-100 to-amber-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(se.zap,{className:"h-7 w-7 text-amber-600 pulse",style:{animationDelay:"0.4s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Listrik"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/games"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(se.gamepad,{className:"h-7 w-7 text-blue-600 pulse",style:{animationDelay:"0.6s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Games"})]}),i.jsxs("div",{className:"flex flex-col items-center",onClick:()=>t("/ppob/all"),children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mb-1 shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:i.jsx(se.menu,{className:"h-7 w-7 text-purple-600 pulse",style:{animationDelay:"0.8s"}})}),i.jsx("span",{className:"text-xs font-medium",children:"Lihat Semua"})]})]})]}),i.jsxs("div",{className:"bg-white px-4 py-2 mb-4",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(se.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:as(new Date,"HH:mm",{locale:Ii})})]}),i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(se.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:"02/06"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-primary rounded-md flex items-center justify-center mr-2",children:i.jsx(se.messageSquare,{className:"h-5 w-5 text-white"})}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:"berbagi kabar terbaru 📢"})}),i.jsx("div",{className:"text-xs text-gray-500",children:"01/06"})]})]}),i.jsx("div",{className:"px-4 mb-4",children:i.jsx("div",{className:"bg-primary rounded-xl overflow-hidden",children:i.jsx("img",{src:"https://placehold.co/600x200/0088FF/FFFFFF?text=Layanan+Prioritas",alt:"Banner promo",className:"w-full h-32 object-cover"})})}),i.jsxs("div",{className:"bg-white mx-4 rounded-xl border border-gray-200 p-4 mb-20",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(se.check,{className:"h-5 w-5 text-primary mr-2"}),i.jsx("span",{className:"font-semibold text-gray-600",children:"PROTECTION"})]}),i.jsx(Z,{variant:"outline",className:"h-8 border-primary text-primary text-xs",children:"PELAJARI"})]}),i.jsxs("div",{className:"flex border-t border-gray-100 pt-3",children:[i.jsxs("div",{className:"flex-1 flex flex-col items-center border-r border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(se.shield,{className:"h-5 w-5 text-primary mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"7"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Aktivitas Terlindungi"})]}),i.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx(se.lightbulb,{className:"h-5 w-5 text-amber-500 mr-1"}),i.jsx("span",{className:"text-xl font-bold",children:"2"})]}),i.jsx("span",{className:"text-xs text-gray-600",children:"Rekomendasi Keamanan"})]})]})]}),i.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around py-2",children:[i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/dashboard"),children:[i.jsx(se.home,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Beranda"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/activity"),children:[i.jsx(se.activity,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Aktivitas"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1 relative",onClick:()=>t("/ppob/scan"),children:[i.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center absolute -top-7",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-white text-xs font-bold",children:"PAY"}),i.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"}),i.jsx("div",{className:"h-2 w-2 bg-white rounded"})]})]})}),i.jsx("div",{className:"h-6"}),i.jsx("span",{className:"text-xs"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/ppob/topup"),children:[i.jsx(se.inbox,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Dompet"})]}),i.jsxs(Z,{variant:"ghost",className:"flex flex-col items-center rounded-none h-auto py-1",onClick:()=>t("/profile"),children:[i.jsx(se.users,{className:"h-6 w-6"}),i.jsx("span",{className:"text-xs",children:"Saya"})]})]})]})}function VFe({transaction:t,onClose:e}){const r=l=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(l),n=l=>{const c=new Date(l);return as(c,"dd MMM yyyy • HH:mm",{locale:Ii})},s=()=>{const l=as(new Date(t.date),"yyyyMMdd"),c=Math.floor(Math.random()*1e11).toString().padStart(12,"0");return`${l}${c}`},a=()=>{const l=as(new Date(t.date),"yyyyMMdd"),c=t.type==="topup"?"DANAID":"DANAPY",u=Math.floor(Math.random()*1e10).toString().padStart(10,"0");return`${l}${c}J${l.slice(-2)}${u}`},o=()=>`• • • ${Math.floor(Math.random()*1e4).toString().padStart(4,"0")}`;return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-auto pb-16",children:[i.jsxs("div",{className:"bg-white p-4 flex flex-col items-center",children:[i.jsx("div",{className:"w-16 h-16 mb-2",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(se.wallet,{className:"h-8 w-8 text-blue-500"})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)}),i.jsxs("p",{className:"text-lg font-bold mt-1",children:["ID JPC ",t.id]})]}),i.jsxs("div",{className:"flex items-center mt-2 bg-green-50 text-green-600 px-3 py-1 rounded-full",children:[i.jsx(se.check,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:"text-sm font-medium",children:"Transaksi berhasil!"})]})]}),i.jsx(Ue,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Me,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:t.type==="topup"?i.jsx(se.arrowDownCircle,{className:"h-6 w-6 text-green-500"}):t.type==="withdrawal"?i.jsx(se.arrowUpCircle,{className:"h-6 w-6 text-red-500"}):i.jsx(se.creditCard,{className:"h-6 w-6 text-blue-500"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"font-medium",children:t.type==="topup"?"Top Up":t.type==="send"?"Transfer":t.type}),i.jsx("p",{className:"text-sm text-gray-500",children:n(t.date)})]})]}),i.jsxs(qt,{className:`flex items-center gap-1 px-2 py-1 ${t.status==="success"?"bg-green-100 text-green-600":t.status==="pending"?"bg-yellow-100 text-yellow-600":"bg-red-100 text-red-600"}`,children:[t.status==="success"?i.jsx(se.check,{className:"h-4 w-4"}):t.status==="pending"?i.jsx(se.clock,{className:"h-4 w-4"}):i.jsx(se.activity,{className:"h-4 w-4"}),t.status==="success"?"Berhasil":t.status==="pending"?"Menunggu":"Gagal"]})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jumlah"}),i.jsx("p",{className:"text-xl font-bold",children:r(t.amount)})]})]})}),t.type==="send"&&t.recipient&&i.jsx(Ue,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Me,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Penerima"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nama"}),i.jsx("span",{className:"font-medium",children:t.recipient.name})]}),t.recipient.bankAccount&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Akun Bank"}),i.jsx("span",{children:t.recipient.bankAccount})]}),t.recipient.bankName&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Bank"}),i.jsx("span",{children:t.recipient.bankName})]})]})]})}),i.jsx(Ue,{className:"mx-4 my-4 shadow-sm",children:i.jsxs(Me,{className:"p-4",children:[i.jsx("h3",{className:"font-bold mb-4",children:"Detail Transaksi"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"ID Transaksi"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-right",children:s()}),i.jsx(Z,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 ml-1",children:i.jsx(se.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"ID Order Merchant"}),i.jsx("span",{children:t.merchantOrderId||o()})]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:"text-gray-500",children:"External Serial Number"}),i.jsx("div",{className:"text-right",children:i.jsx("span",{children:t.externalSerialNumber||a()})})]})]})]})})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 bg-white border-t",children:i.jsxs(Z,{className:"w-full",size:"lg",children:[i.jsx(se.messageSquare,{className:"mr-2 h-5 w-5"}),"BUTUH BANTUAN?"]})})]})}const a$=[{id:"TRX-20250601-001",type:"send",amount:95e4,date:"2025-06-01T23:57:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250601-002",type:"topup",amount:25e4,date:"2025-06-01T23:38:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-003",type:"topup",amount:2e5,date:"2025-06-01T15:59:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250601-004",type:"topup",amount:5e5,date:"2025-06-01T15:58:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-001",type:"send",amount:2099e3,date:"2025-05-28T20:47:00",recipient:{name:"YOGA PRASETYA",bankAccount:"****0549",bankName:"Seabank Indonesia"},status:"success",description:"Kirim ke YOGA PRASETYA"},{id:"TRX-20250528-002",type:"topup",amount:2e5,date:"2025-05-28T20:28:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-003",type:"topup",amount:9e5,date:"2025-05-28T20:27:00",status:"success",description:"Isi Saldo"},{id:"TRX-20250528-004",type:"topup",amount:9e5,date:"2025-05-28T20:26:00",status:"success",description:"Isi Saldo"}];function KFe(){ar();const[t,e]=w.useState(""),[r,n]=w.useState([]),[s,a]=w.useState([]),[o,l]=w.useState(!0),[c,u]=w.useState(null),[d,f]=w.useState(!1),m=Y.useMemo(()=>{const y={};return s.forEach(x=>{const v=new Date(x.date),_=`${v.getFullYear()}-${v.getMonth()}`;y[_]||(y[_]=[]),y[_].push(x)}),Object.entries(y).map(([x,v])=>{const[_,j]=x.split("-").map(Number),S=new Date(_,j),C=v.filter(N=>N.type==="send"||N.type==="payment"||N.type==="withdrawal").reduce((N,k)=>N+k.amount,0);return{monthName:as(S,"MMMM yyyy",{locale:Ii}),transactions:v,totalOut:C}}).sort((x,v)=>{const _=new Date(x.transactions[0].date);return new Date(v.transactions[0].date).getTime()-_.getTime()})},[s]);w.useEffect(()=>{(async()=>{l(!0),await new Promise(x=>setTimeout(x,1e3)),n(a$),a(a$),l(!1)})()},[]),w.useEffect(()=>{if(t.trim()==="")a(r);else{const y=t.toLowerCase(),x=r.filter(v=>{var _;return v.id.toLowerCase().includes(y)||v.description.toLowerCase().includes(y)||((_=v.recipient)==null?void 0:_.name)&&v.recipient.name.toLowerCase().includes(y)});a(x)}},[t,r]);const p=y=>{const x=new Date(y);return as(x,"dd MMM yyyy • HH:mm",{locale:Ii})};return i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("title",{children:"Aktivitas Transaksi - JPC Digi"})}),i.jsxs("div",{className:"bg-primary text-white p-4",children:[i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Aktivitas"}),i.jsxs("div",{className:"relative mb-2",children:[i.jsx(Ce,{className:"bg-white pl-10",placeholder:"Cari kirim uang...",value:t,onChange:y=>e(y.target.value)}),i.jsx(se.search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1",children:[i.jsx(Z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(se.sort,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"ghost",size:"icon",className:"h-6 w-6 text-gray-400",children:i.jsx(se.filter,{className:"h-4 w-4"})})]})]})]}),i.jsx("div",{className:"p-0",children:o?i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary"})}):s.length===0?i.jsx("div",{className:"text-center py-12 text-muted-foreground",children:i.jsx("p",{children:"Tidak ada transaksi ditemukan"})}):i.jsx("div",{children:m.map((y,x)=>i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center px-4 py-2 bg-gray-50",children:[i.jsx("h2",{className:"font-medium",children:y.monthName}),i.jsxs("div",{className:"text-right",children:[i.jsxs("span",{className:"text-red-500",children:["-",Te(y.totalOut)]}),i.jsx(se.chevronRight,{className:"inline-block ml-1 h-4 w-4 text-primary"})]})]}),i.jsx("div",{children:y.transactions.map(v=>{const _=v.type==="send"||v.type==="payment"||v.type==="withdrawal";return i.jsx("div",{className:"p-4 border-b cursor-pointer hover:bg-gray-50",onClick:()=>{u(v),f(!0)},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3",children:v.type==="send"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(se.arrowUpFromLine,{className:"h-5 w-5 text-blue-500"})}):v.type==="topup"?i.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.plus,{className:"h-5 w-5 text-green-500"})}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(se.shopping,{className:"h-5 w-5 text-red-500"})})}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:v.description}),i.jsx("p",{className:"text-sm text-gray-500",children:p(v.date)})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:`font-medium ${_?"text-red-500":"text-green-500"}`,children:[_?"-":"+",Te(v.amount)]}),i.jsx("div",{className:"mt-1",children:i.jsx(Z,{variant:"ghost",size:"sm",className:"h-6 p-0",children:i.jsx(se.trash,{className:"h-4 w-4 text-gray-400"})})})]})]})})]})},v.id)})})]},x))})}),i.jsx(Qr,{open:d,onOpenChange:y=>f(y),children:i.jsxs(Pr,{className:"max-w-md p-0 h-[85vh] overflow-y-auto",children:[i.jsx(Kr,{className:"sr-only",children:i.jsx(qr,{children:"Detail Transaksi"})}),c&&i.jsx(VFe,{transaction:c,onClose:()=>f(!1)})]})})]})}const g1={digiflazz:{useTestMode:!0},app:{transactionPrefix:"JPC-DIGI"}},Eh="https://jayaperkasacharcoal.co-id.id/api/digiflazz-proxy",qFe=g1.app.transactionPrefix,$O=()=>{const t=new Date().getTime(),e=Math.floor(Math.random()*1e3);return`${qFe}-${t}-${e}`};class zFe{async checkBalance(){try{return(await Fr.post(`${Eh}/v1/cek-saldo`,{cmd:"deposit"})).data.data.deposit}catch(e){throw console.error("Error checking balance:",e),new Error("Failed to check balance")}}async getPriceList(e){try{let n=(await Fr.post(`${Eh}/v1/price-list`,{cmd:"prepaid"})).data.data;return e&&(n=n.filter(s=>s.category.toLowerCase()===e.toLowerCase())),n}catch(r){throw console.error("Error fetching price list:",r),new Error("Failed to fetch price list")}}getOperatorFromPhoneNumber(e){const n=e.replace(/\D/g,"").substring(0,4);return["0811","0812","0813","0821","0822","0823"].includes(n)?"Telkomsel":["0817","0818","0819","0859","0877","0878"].includes(n)?"XL Axiata":["0851","0852","0853","0815","0816"].includes(n)?"Indosat Ooredoo":["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(n)?"Smartfren":["0896","0897","0898","0899"].includes(n)?"Tri Indonesia":"Unknown"}async topupPrepaid(e,r,n=!1){try{const s=$O(),a={buyer_sku_code:r,customer_no:e,ref_id:s,testing:n};return(await Fr.post(`${Eh}/v1/transaction`,a)).data}catch(s){throw console.error("Error processing prepaid transaction:",s),new Error("Failed to process prepaid transaction")}}async inquiryPostpaid(e,r,n=!1){try{const s=$O(),a={commands:"inq-pasca",customer_no:e,buyer_sku_code:r,ref_id:s,testing:n};return(await Fr.post(`${Eh}/v1/transaction`,a)).data}catch(s){throw console.error("Error processing postpaid inquiry:",s),new Error("Failed to process postpaid inquiry")}}async payPostpaid(e,r,n,s=!1){try{const a={commands:"pay-pasca",customer_no:e,buyer_sku_code:r,ref_id:n,testing:s};return(await Fr.post(`${Eh}/v1/transaction`,a)).data}catch(a){throw console.error("Error processing postpaid payment:",a),new Error("Failed to process postpaid payment")}}async checkTransactionStatus(e,r=!0){try{const n={ref_id:e,commands:"status-pasca"};return(await Fr.post(`${Eh}/v1/transaction`,n)).data}catch(n){throw console.error("Error checking transaction status:",n),new Error("Failed to check transaction status")}}}const XA=new zFe;function GFe(){const[t,e]=w.useState([]),[r,n]=w.useState(!1),[s,a]=w.useState(null),[o,l]=w.useState(0),[c,u]=w.useState(null),d=w.useCallback(async j=>{try{n(!0),a(null);const S=await XA.getPriceList(j);return e(S),S}catch(S){const C=S instanceof Error?S.message:"Failed to fetch products";return a(C),[]}finally{n(!1)}},[]),f=w.useCallback(async()=>{try{n(!0),a(null);const j=await XA.checkBalance();return l(j),j}catch(j){const S=j instanceof Error?j.message:"Failed to fetch balance";return a(S),0}finally{n(!1)}},[]),m=w.useCallback(async(j,S,C=g1.digiflazz.useTestMode)=>{try{n(!0),a(null);const N=await XA.topupPrepaid(j,S,C);return u(N),N}catch(N){const k=N instanceof Error?N.message:"Failed to process transaction";throw a(k),new Error(k)}finally{n(!1)}},[]),p=w.useCallback(async(j,S,C=g1.digiflazz.useTestMode)=>{try{n(!0),a(null);const N=await XA.inquiryPostpaid(j,S,C);return u(N),N}catch(N){const k=N instanceof Error?N.message:"Failed to process inquiry";throw a(k),new Error(k)}finally{n(!1)}},[]),y=w.useCallback(async(j,S,C,N=g1.digiflazz.useTestMode)=>{try{n(!0),a(null);const k=await XA.payPostpaid(j,S,C,N);return u(k),k}catch(k){const E=k instanceof Error?k.message:"Failed to process payment";throw a(E),new Error(E)}finally{n(!1)}},[]),x=w.useCallback(async(j,S=!0)=>{try{n(!0),a(null);const C=await XA.checkTransactionStatus(j,S);return u(C),C}catch(C){const N=C instanceof Error?C.message:"Failed to check transaction status";throw a(N),new Error(N)}finally{n(!1)}},[]),v=w.useCallback(j=>XA.getOperatorFromPhoneNumber(j),[]),_=w.useCallback(()=>$O(),[]);return{products:t,loading:r,error:s,balance:o,currentTransaction:c,fetchProducts:d,fetchBalance:f,processPrepaidTransaction:m,processPostpaidInquiry:p,processPostpaidPayment:y,checkTransactionStatus:x,getOperatorFromPhoneNumber:v,getNewRefId:_}}const gne=w.createContext({transactionHistory:[],addTransaction:()=>{},clearTransactions:()=>{},getTransactionById:()=>{}}),WFe=({children:t})=>{const[e,r]=w.useState([]),n=o=>{r(l=>[o,...l]);try{const l=localStorage.getItem("jpcDigi_transactions"),c=l?JSON.parse(l):[];c.unshift(o),c.length>100&&c.pop(),localStorage.setItem("jpcDigi_transactions",JSON.stringify(c))}catch(l){console.error("Error storing transaction in localStorage:",l)}},s=()=>{r([]),localStorage.removeItem("jpcDigi_transactions")},a=o=>e.find(l=>l.id===o);return Y.useEffect(()=>{try{const o=localStorage.getItem("jpcDigi_transactions");o&&r(JSON.parse(o))}catch(o){console.error("Error loading transactions from localStorage:",o)}},[]),i.jsx(gne.Provider,{value:{transactionHistory:e,addTransaction:n,clearTransactions:s,getTransactionById:a},children:t})},XFe=()=>w.useContext(gne),JFe=t=>{const e=t.product_name.match(/\d+/g),r=e?parseInt(e[0])>=1e3?`${Math.floor(parseInt(e[0])/1e3)}Rb`:e[0]:"",n=t.desc.match(/(\d+)\s*hari/i),s=n?`Masa Aktif ${n[0]}`:"Masa Aktif Sesuai Provider",a=Math.ceil(t.price*1.05),o=t.price<a;return{id:t.buyer_sku_code,nominal:r,description:t.product_name,price:t.price,originalPrice:o?a:void 0,validity:s,isPopular:t.stock>1e3||t.product_name.toLowerCase().includes("popular")}},i$=[];function YFe(){const t=ar(),e=Aa(),[r,n]=w.useState(""),[s,a]=w.useState(["0813 9458 6882","0822 6015 2977"]),[o,l]=w.useState("pulsa"),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[y,x]=w.useState(!1),[v,_]=w.useState("Telkomsel"),[j,S]=w.useState(i$),[C,N]=w.useState(i$),[k,E]=w.useState(null),T=GFe(),{addTransaction:P}=XFe(),O=()=>i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg flex flex-col items-center",children:[i.jsx(jr,{className:"h-8 w-8 animate-spin text-primary mb-2"}),i.jsx("p",{children:"Memproses pembayaran..."})]})}),D=H=>{const Q=H.replace(/\D/g,"");let z="";for(let q=0;q<Q.length;q++)(q===4||q===8)&&(z+=" "),z+=Q[q];return z},M=H=>{const Q=D(H.target.value);n(Q);const z=Q.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(z)?_("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(z)?_("XL Axiata"):["0851","0852","0853","0815","0816"].includes(z)?_("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(z)?_("Smartfren"):["0896","0897","0898","0899"].includes(z)?_("Tri Indonesia"):_("Unknown")},F=H=>{n(H)},G=H=>{u(H),f(!0)},W=async()=>{try{p(!0),E(null);const H=o==="pulsa"?"Pulsa":"Data",z=(await T.fetchProducts(H)).filter(q=>{const $=r.replace(/\D/g,"");return v==="Telkomsel"?q.brand.toLowerCase().includes("telkomsel"):v==="XL Axiata"?q.brand.toLowerCase().includes("xl"):v==="Indosat Ooredoo"?q.brand.toLowerCase().includes("indosat"):v==="Smartfren"?q.brand.toLowerCase().includes("smartfren"):v==="Tri Indonesia"?q.brand.toLowerCase().includes("tri")||q.brand.toLowerCase().includes("3"):!0}).map(JFe);z.sort((q,$)=>q.price-$.price),o==="pulsa"?S(z):N(z)}catch(H){E(H instanceof Error?H.message:"Failed to fetch products"),Se({variant:"destructive",title:"Error",description:"Failed to load products. Please try again."})}finally{p(!1)}},V=async()=>{var H;if(!(!c||!r))try{p(!0),E(null);const Q=r.replace(/\D/g,""),z=await T.processPrepaidTransaction(Q,c.id,!0);if(z&&z.data&&z.data.status==="success")P({id:z.data.ref_id||`tx-${Date.now()}`,type:"PPOB",subtype:o==="pulsa"?"Pulsa":"Data",amount:c.price,date:new Date().toISOString(),description:`${c.description} ${r}`,status:"success"}),x(!0),Se({title:"Pembayaran Berhasil",description:`Pembelian ${c.description} untuk nomor ${r} telah berhasil.`});else throw new Error(((H=z.data)==null?void 0:H.message)||"Transaction failed")}catch(Q){E(Q instanceof Error?Q.message:"Failed to process payment"),Se({variant:"destructive",title:"Pembayaran Gagal",description:Q instanceof Error?Q.message:"Gagal memproses pembayaran. Silakan coba lagi."}),f(!1)}finally{p(!1)}};return w.useEffect(()=>{const Q=new URLSearchParams(e.search).get("tab");if((Q==="pulsa"||Q==="data")&&l(Q),r){const z=r.replace(/\s/g,"").substring(0,4);["0811","0812","0813","0821","0822","0823"].includes(z)?_("Telkomsel"):["0817","0818","0819","0859","0877","0878"].includes(z)?_("XL Axiata"):["0851","0852","0853","0815","0816"].includes(z)?_("Indosat Ooredoo"):["0881","0882","0883","0884","0885","0886","0887","0888","0889"].includes(z)?_("Smartfren"):["0896","0897","0898","0899"].includes(z)?_("Tri Indonesia"):_("Unknown")}},[e.search,r]),w.useEffect(()=>{r&&r.length>=4&&W()},[r,o]),w.useEffect(()=>{const H=new URLSearchParams(e.search);H.set("tab",o),t(`${e.pathname}?${H.toString()}`,{replace:!0})},[o,t,e.pathname,e.search]),i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("title",{children:"Pulsa & Data - JPC Digi"})}),i.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary text-white",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"mr-3",children:i.jsx(se.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-lg font-semibold",children:"Pulsa & Paket Data"})]}),i.jsx("button",{children:i.jsx(se.file,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"p-4 bg-white",children:[i.jsxs("div",{className:"bg-white rounded-lg mb-4",children:[i.jsxs("div",{className:"border-b border-gray-100 py-2 px-1",children:[i.jsx("p",{className:"text-gray-500 text-sm mb-1",children:"NOMOR HP"}),i.jsx(Ce,{type:"tel",value:r,onChange:M,placeholder:"Masukkan nomor handphone",className:"border-none text-lg px-0 focus-visible:ring-0"})]}),r&&i.jsxs("div",{className:"py-2 px-1 flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center mr-2",children:i.jsx(se.smartphone,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Provider"}),i.jsx("p",{className:"font-medium",children:v})]})]}),s.length>0&&i.jsxs("div",{className:"pt-2 pb-3",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2 px-1",children:"Nomor Tersimpan"}),i.jsx("div",{className:"flex flex-wrap gap-2 px-1",children:s.map((H,Q)=>i.jsx("button",{onClick:()=>F(H),className:"px-3 py-1.5 bg-gray-100 rounded-lg text-sm hover:bg-gray-200 transition-colors",children:H},Q))})]})]}),i.jsxs("div",{className:"flex space-x-4 mb-4",children:[i.jsx("button",{onClick:()=>l("pulsa"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="pulsa"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Pulsa"}),i.jsx("button",{onClick:()=>l("data"),className:`px-4 py-2 text-sm font-medium rounded-lg ${o==="data"?"bg-primary text-white":"bg-gray-100 text-gray-700"}`,children:"Paket Data"})]}),T.loading?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(jr,{className:"h-8 w-8 animate-spin text-primary"})}):k?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(se.alertTriangle,{className:"h-8 w-8 text-destructive mb-2"}),i.jsx("h3",{className:"font-medium",children:"Error"}),i.jsx("p",{className:"text-sm text-gray-500",children:k}),i.jsx(Z,{onClick:W,variant:"outline",size:"sm",className:"mt-4",children:"Try Again"})]}):i.jsx(i.Fragment,{children:o==="pulsa"?i.jsx("div",{className:"grid grid-cols-2 gap-4",children:j.length===0&&!T.loading?i.jsx("div",{className:"col-span-2 text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan pulsa"})}):j.map(H=>i.jsx(Ue,{className:`cursor-pointer hover:border-primary transition-colors ${H.isPopular?"border-amber-400":""}`,onClick:()=>G(H),children:i.jsxs(Me,{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("div",{className:"font-semibold text-xl",children:H.nominal}),H.isPopular&&i.jsx("div",{className:"bg-amber-100 text-amber-800 text-xs px-2 py-0.5 rounded-full",children:"Popular"})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:H.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:H.validity}),i.jsxs("div",{className:"mt-3",children:[H.originalPrice&&i.jsx("span",{className:"text-xs text-gray-400 line-through mr-2",children:Te(H.originalPrice)}),i.jsx("span",{className:"text-primary font-medium",children:Te(H.price)})]})]})},H.id))}):i.jsx("div",{className:"space-y-4",children:C.length===0&&!T.loading?i.jsx("div",{className:"text-center p-4",children:i.jsx("p",{className:"text-gray-500",children:"Masukkan nomor HP untuk melihat pilihan paket data"})}):C.map(H=>i.jsx(Ue,{className:"cursor-pointer hover:border-primary transition-colors",onClick:()=>G(H),children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-semibold",children:H.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:H.validity})]}),i.jsx("div",{className:"text-primary font-medium",children:Te(H.price)})]})})},H.id))})})]})]}),i.jsx(Qr,{open:d,onOpenChange:f,children:i.jsx(Pr,{className:"sm:max-w-md",children:y?i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 space-y-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-8 w-8 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-center",children:"Pembayaran Berhasil!"}),i.jsxs("p",{className:"text-center text-gray-500",children:["Pembelian ",c==null?void 0:c.description," untuk nomor ",r," telah berhasil."]}),i.jsx(Z,{className:"mt-4 w-full",onClick:()=>{f(!1),x(!1)},children:"Kembali"})]}):i.jsxs(i.Fragment,{children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Konfirmasi Pembayaran"}),i.jsx(Es,{children:"Pastikan nomor handphone dan produk yang dipilih sudah benar."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Nomor Handphone"}),i.jsx("span",{className:"font-medium",children:r})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Provider"}),i.jsx("span",{children:v})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-500",children:"Produk"}),i.jsx("span",{children:c==null?void 0:c.description})]})]}),i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex justify-between font-medium",children:[i.jsx("span",{children:"Total Harga"}),i.jsx("span",{className:"text-amber-500",children:Te(c==null?void 0:c.price)})]})})]}),i.jsxs(is,{className:"sm:justify-between",children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:m,children:"Batal"}),i.jsx(Z,{type:"button",onClick:V,disabled:m,children:m?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Bayar Sekarang"})]})]})})}),m&&i.jsx(O,{})]})}const o$=[{id:"acc1",name:"Yoga Prasetya",bank:"Seabank Indonesia",accountNumber:"1234567890",isRecent:!0},{id:"acc2",name:"Budi Santoso",bank:"Bank BCA",accountNumber:"9876543210",isRecent:!1},{id:"acc3",name:"Siti Nurhaliza",bank:"Bank Mandiri",accountNumber:"5678901234",isRecent:!0}],ZFe=["Bank BCA","Bank Mandiri","Bank BNI","Bank BRI","Bank CIMB Niaga","Bank Permata","Bank Danamon","Seabank Indonesia","Bank Syariah Indonesia","Bank Jago"];function eRe(){const t=ar(),[e,r]=w.useState("transfer"),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(""),[u,d]=w.useState(""),[f,m]=w.useState(!1),[p,y]=w.useState(!1),[x,v]=w.useState(!1),_=E=>{const T=E.target.value.replace(/\D/g,"");s(T)},j=E=>{o(E.accountNumber),c(E.bank),d(E.name)},S=()=>{if(!n||parseInt(n)<1e4){alert("Minimal transfer Rp 10.000");return}if(!a||!l){alert("Mohon lengkapi data rekening tujuan");return}m(!0)},C=()=>{m(!1),v(!0),setTimeout(()=>{v(!1),y(!0)},2e3)},N=()=>n?Te(parseInt(n)):"",k=()=>{y(!1),t("/ppob/activity")};return i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("title",{children:"Kirim Uang - JPC Digi"})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsx("div",{className:"bg-primary text-white p-4",children:i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx(Z,{variant:"ghost",size:"icon",className:"text-white mr-2 p-0",onClick:()=>t("/ppob"),children:i.jsx(se.chevronLeft,{className:"h-6 w-6"})}),i.jsx("h1",{className:"text-xl font-bold",children:"Kirim Uang"})]})}),i.jsxs(Ia,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsx("div",{className:"px-4 pt-2",children:i.jsxs(la,{className:"grid w-full grid-cols-2",children:[i.jsx(nr,{value:"transfer",children:"Transfer Bank"}),i.jsx(nr,{value:"ewallet",children:"E-Wallet"})]})}),i.jsx(Sr,{value:"transfer",className:"p-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"amount",children:"Jumlah"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"Rp"}),i.jsx(Ce,{id:"amount",type:"text",className:"pl-10",value:n,onChange:_,placeholder:"0"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"Minimal Rp 10.000"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"bank",children:"Bank Tujuan"}),i.jsxs(Us,{value:l,onValueChange:c,children:[i.jsx(ys,{id:"bank",children:i.jsx(Ms,{placeholder:"Pilih bank"})}),i.jsx(xs,{children:ZFe.map(E=>i.jsx(Lt,{value:E,children:E},E))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"accountNumber",children:"Nomor Rekening"}),i.jsx(Ce,{id:"accountNumber",value:a,onChange:E=>o(E.target.value),placeholder:"Masukkan nomor rekening"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"recipientName",children:"Nama Penerima"}),i.jsx(Ce,{id:"recipientName",value:u,onChange:E=>d(E.target.value),placeholder:"Nama akan terisi otomatis",disabled:!a||a.length<8})]}),o$.length>0&&i.jsxs("div",{className:"mt-6",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Rekening Tersimpan"}),i.jsx("div",{className:"space-y-2",children:o$.map(E=>i.jsxs("div",{className:"border rounded-lg p-3 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>j(E),children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:E.name}),i.jsxs("p",{className:"text-sm text-gray-500",children:[E.bank," • ",E.accountNumber]})]}),E.isRecent&&i.jsx(qt,{variant:"outline",className:"text-xs",children:"Baru"})]},E.id))})]})]})}),i.jsx(Sr,{value:"ewallet",className:"p-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-gray-500",children:[i.jsx(se.wallet,{className:"h-12 w-12 mb-2 opacity-40"}),i.jsx("p",{children:"Fitur E-Wallet sedang dalam pengembangan"})]})})]}),i.jsx("div",{className:"mt-auto p-4 border-t",children:i.jsx(Z,{className:"w-full",size:"lg",disabled:!n||!a||!l||e!=="transfer",onClick:S,children:"Lanjutkan"})})]}),i.jsx(Qr,{open:f,onOpenChange:m,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{children:"Konfirmasi Transfer"})}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:i.jsx("p",{className:"text-center text-2xl font-bold",children:N()})}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Bank"}),i.jsx("p",{className:"font-medium",children:l})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nomor Rekening"}),i.jsx("p",{className:"font-medium",children:a})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Nama Penerima"}),i.jsx("p",{className:"font-medium",children:u})]}),i.jsx(Ks,{}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-gray-500",children:"Biaya Admin"}),i.jsx("p",{className:"font-medium",children:"Gratis"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:"Total"}),i.jsx("p",{className:"font-bold",children:N()})]})]})]}),i.jsxs(is,{children:[i.jsx(Z,{variant:"outline",onClick:()=>m(!1),children:"Batal"}),i.jsx(Z,{onClick:C,children:"Konfirmasi"})]})]})}),x&&i.jsx(Qr,{open:!0,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{children:"Memproses Transaksi"})}),i.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[i.jsx(se.spinner,{className:"h-12 w-12 animate-spin text-primary mb-4"}),i.jsx("p",{children:"Mohon tunggu, transaksi sedang diproses..."})]})]})}),i.jsx(Qr,{open:p,onOpenChange:y,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{children:"Transfer Berhasil"})}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(se.check,{className:"h-8 w-8 text-green-500"})}),i.jsx("p",{className:"text-center text-2xl font-bold",children:N()}),i.jsx("p",{className:"text-gray-500",children:"berhasil ditransfer ke"}),i.jsx("p",{className:"font-medium",children:u}),i.jsxs("p",{className:"text-sm text-gray-500",children:[l," • ",a]})]})}),i.jsx(is,{children:i.jsx(Z,{className:"w-full",onClick:k,children:"Selesai"})})]})})]})}var C4="Avatar",[tRe,Gze]=Pa(C4),[rRe,vne]=tRe(C4),yne=w.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[s,a]=w.useState("idle");return i.jsx(rRe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(yt.span,{...n,ref:e})})});yne.displayName=C4;var xne="AvatarImage",wne=w.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=t,o=vne(xne,r),l=nRe(n,a.referrerPolicy),c=vn(u=>{s(u),o.onImageLoadingStatusChange(u)});return qn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(yt.img,{...a,ref:e,src:n}):null});wne.displayName=xne;var bne="AvatarFallback",_ne=w.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...s}=t,a=vne(bne,r),[o,l]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(yt.span,{...s,ref:e}):null});_ne.displayName=bne;function nRe(t,e){const[r,n]=w.useState("idle");return qn(()=>{if(!t){n("error");return}let s=!0;const a=new window.Image,o=l=>()=>{s&&n(l)};return n("loading"),a.onload=o("loaded"),a.onerror=o("error"),a.src=t,e&&(a.referrerPolicy=e),()=>{s=!1}},[t,e]),r}var jne=yne,Cne=wne,Bne=_ne;const oA=w.forwardRef(({className:t,...e},r)=>i.jsx(jne,{ref:r,className:Ee("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));oA.displayName=jne.displayName;const Hm=w.forwardRef(({className:t,...e},r)=>i.jsx(Cne,{ref:r,className:Ee("aspect-square h-full w-full",t),...e}));Hm.displayName=Cne.displayName;const lA=w.forwardRef(({className:t,...e},r)=>i.jsx(Bne,{ref:r,className:Ee("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));lA.displayName=Bne.displayName;const sRe=()=>{const t=ar(),[e,r]=w.useState(""),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState("contacts"),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[p,y]=w.useState(""),[x,v]=w.useState(!1),[_,j]=w.useState(""),S=[{id:"1",name:"Ahmad Firdaus",phone:"081234567890",image:"/placeholder.svg"},{id:"2",name:"Budi Santoso",phone:"081298765432",image:"/placeholder.svg"},{id:"3",name:"Citra Dewi",phone:"081345678901",image:"/placeholder.svg"},{id:"4",name:"Doni Prasetya",phone:"081456789012",image:"/placeholder.svg"}],C=k=>{const E=k.target.value.replace(/\D/g,"");if(E===""){r("");return}r(new Intl.NumberFormat("id-ID").format(parseInt(E)))},N=k=>{k.preventDefault(),d(!0),setTimeout(()=>{const E=`REQ${Date.now().toString().slice(-8)}`;y(E),j(`https://jpcdigi.com/ppob/pay-request/${E}`),d(!1),m(!0),setTimeout(()=>{(l==="link"||l==="qr")&&v(!0)},1500)},1500)};return i.jsxs(br,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob/dashboard"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Minta Dana"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Minta dana dari pengguna lain"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[f?i.jsx(Ue,{className:"border-none shadow-sm mb-6",children:i.jsxs(Me,{className:"p-6 text-center",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-8 w-8 text-green-600"})})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Permintaan Terkirim!"}),i.jsx("p",{className:"text-muted-foreground mb-4",children:"Permintaan dana telah dikirim dan menunggu pembayaran"}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsxs("span",{className:"font-semibold",children:["Rp ",e]})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Tujuan"}),i.jsx("span",{className:"font-semibold",children:n||"Link Pembayaran"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Permintaan"}),i.jsx("span",{className:"font-semibold",children:p})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Z,{variant:"outline",className:"w-full flex justify-center items-center",onClick:()=>t("/ppob/history"),children:[i.jsx(se.arrowLeft,{className:"mr-2 h-4 w-4"}),"Kembali ke Beranda"]}),i.jsxs(Z,{className:"w-full flex justify-center items-center",onClick:()=>v(!0),children:[i.jsx(se.share,{className:"mr-2 h-4 w-4"}),"Bagikan Link Permintaan"]})]})]})}):i.jsxs(i.Fragment,{children:[i.jsx(Ue,{className:"border-none shadow-sm mb-6",children:i.jsx(Me,{className:"pt-6",children:i.jsx("form",{onSubmit:N,children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-2",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ze,{htmlFor:"amount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH YANG DIMINTA"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(Ce,{id:"amount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:e,onChange:C,required:!0})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(qt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(qt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"notes",children:"Catatan (Opsional)"}),i.jsx(Ce,{id:"notes",placeholder:"Contoh: Bayar makan siang",value:a,onChange:k=>o(k.target.value)})]})]})})})}),i.jsxs(Ia,{value:l,onValueChange:k=>c(k),className:"w-full",children:[i.jsxs(la,{className:"grid w-full grid-cols-3",children:[i.jsx(nr,{value:"contacts",children:"Kontak"}),i.jsx(nr,{value:"link",children:"Link"}),i.jsx(nr,{value:"qr",children:"QR Code"})]}),i.jsxs(Sr,{value:"contacts",className:"space-y-4 pt-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(ze,{htmlFor:"phone",className:"font-medium",children:"Nomor Telepon"}),i.jsx("span",{className:"text-xs text-primary",children:"Semua Kontak"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(se.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(Ce,{id:"phone",placeholder:"Contoh: 081234567890",className:"pl-9 bg-muted/30",value:n,onChange:k=>s(k.target.value.replace(/\D/g,"")),required:!0})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Nomor telepon penerima permintaan dana"})]}),i.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 mb-4",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Nomor Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:S.map(k=>i.jsxs("div",{onClick:()=>s(k.phone),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsxs(oA,{className:"h-10 w-10 border",children:[i.jsx(Hm,{src:k.image,alt:k.name}),i.jsx(lA,{children:k.name.substring(0,2)})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:k.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:k.phone})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:n===k.phone&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},k.id))})]}),i.jsx(Z,{className:"w-full bg-primary hover:bg-primary/90",disabled:!e||!n||u,onClick:N,children:u?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Permintaan"})]}),i.jsx(Sr,{value:"link",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(se.link,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Bagikan Link Permintaan"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat link yang dapat dibagikan untuk menerima pembayaran"}),i.jsx(Z,{className:"w-full",disabled:!e||u,onClick:N,children:u?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat Link Pembayaran"})]})}),i.jsx(Sr,{value:"qr",className:"space-y-4 pt-4",children:i.jsxs("div",{className:"bg-muted/30 p-4 rounded-lg text-center space-y-2",children:[i.jsx(se.qrCode,{className:"h-12 w-12 mx-auto text-primary/50"}),i.jsx("h3",{className:"font-medium",children:"Buat QR Code Pembayaran"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Buat kode QR yang dapat dipindai untuk menerima pembayaran"}),i.jsx(Z,{className:"w-full",disabled:!e||u,onClick:N,children:u?i.jsxs(i.Fragment,{children:[i.jsx(se.spinner,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Buat QR Code Pembayaran"})]})})]})]}),i.jsx(Qr,{open:x,onOpenChange:v,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Bagikan Permintaan"}),i.jsx(Es,{children:"Bagikan link atau QR code permintaan dana kepada orang lain"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[l==="qr"?i.jsx("div",{className:"flex justify-center",children:i.jsxs("div",{className:"p-4 border-2 border-dashed border-muted-foreground/50 rounded-lg bg-white",children:[i.jsx(pne,{value:_,size:180}),i.jsxs("p",{className:"text-xs text-center mt-2",children:["Rp ",e]})]})}):i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Link Permintaan"}),i.jsxs("div",{className:"flex",children:[i.jsx(Ce,{value:_,readOnly:!0,className:"rounded-r-none"}),i.jsx(Z,{className:"rounded-l-none",type:"button",onClick:()=>{navigator.clipboard.writeText(_),alert("Link permintaan disalin!")},children:i.jsx(se.copy,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Bagikan ke"}),i.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{icon:"messageSquare",name:"WhatsApp",color:"text-green-600"},{icon:"mail",name:"Email",color:"text-blue-600"},{icon:"wifi",name:"Facebook",color:"text-blue-800"},{icon:"copy",name:"Salin",color:"text-gray-600"}].map((k,E)=>{const T=se[k.icon];return i.jsxs(Z,{variant:"outline",className:"h-auto py-3 flex flex-col items-center",children:[i.jsx(T,{className:`h-5 w-5 mb-1 ${k.color}`}),i.jsx("span",{className:"text-xs",children:k.name})]},E)})})]})]}),i.jsx(is,{children:i.jsx(Z,{variant:"outline",onClick:()=>{v(!1),t("/ppob/history")},children:"Selesai"})})]})})]})]})},aRe=[{id:1,amount:5e4},{id:2,amount:1e5},{id:3,amount:15e4},{id:4,amount:2e5},{id:5,amount:5e5},{id:6,amount:1e6}],l$=[{id:"bca",name:"BCA",logo:"/logos/bca.png",fallback:"BC"},{id:"mandiri",name:"Mandiri",logo:"/logos/mandiri.png",fallback:"MD"},{id:"bni",name:"BNI",logo:"/logos/bni.png",fallback:"BN"},{id:"bri",name:"BRI",logo:"/logos/bri.png",fallback:"BR"},{id:"gopay",name:"GoPay",logo:"/logos/gopay.png",fallback:"GP"},{id:"ovo",name:"OVO",logo:"/logos/ovo.png",fallback:"OV"}],iRe=()=>{var v;const t=ar(),[e,r]=w.useState(""),[n,s]=w.useState(""),[a,o]=w.useState(""),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(""),p=_=>{r(_.toString()),s(new Intl.NumberFormat("id-ID").format(_))},y=_=>{const j=_.target.value.replace(/\D/g,"");if(j===""){r(""),s("");return}r(j),s(new Intl.NumberFormat("id-ID").format(parseInt(j)))},x=()=>{!e||!a||(c(!0),setTimeout(()=>{const _=`TX${Date.now().toString().slice(-8)}`;m(_),c(!1),d(!0)},1500))};return i.jsxs(br,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Saldo"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Isi Ulang Saldo Anda"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.file,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx(Ue,{className:"border-none shadow-sm mb-6 bg-gradient-to-r from-blue-600 to-blue-700 text-white",children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xs opacity-80 mb-1",children:"Saldo Anda"}),i.jsx("span",{className:"text-2xl font-bold",children:"Rp2.500.000"})]})})}),i.jsxs(Ia,{defaultValue:"amount",className:"mb-6",children:[i.jsxs(la,{className:"grid grid-cols-2 mb-4",children:[i.jsx(nr,{value:"amount",children:"Nominal"}),i.jsx(nr,{value:"payment",children:"Metode Pembayaran"})]}),i.jsx(Sr,{value:"amount",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white rounded-xl shadow-sm p-5 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ze,{htmlFor:"customAmount",className:"text-muted-foreground text-xs font-medium",children:"JUMLAH TOP UP"}),i.jsx("div",{className:"relative mt-3 mb-2",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("span",{className:"text-3xl font-bold text-primary mr-1",children:"Rp"}),i.jsx(Ce,{id:"customAmount",placeholder:"0",className:"text-3xl font-bold text-center border-none shadow-none focus-visible:ring-0 w-[60%] h-14 bg-transparent px-0",value:n,onChange:y})]})}),i.jsxs("div",{className:"flex justify-between text-xs mx-4",children:[i.jsx(qt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Min: Rp10.000"}),i.jsx(qt,{variant:"outline",className:"text-primary border-primary/20 bg-primary/5",children:"Maks: Rp10.000.000"})]})]})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:aRe.map(_=>i.jsx(Z,{type:"button",variant:e===_.amount.toString()?"default":"outline",className:Ee("h-12 font-medium",e===_.amount.toString()?"bg-primary text-white":"border-gray-200 text-gray-700"),onClick:()=>p(_.amount),children:Te(_.amount)},_.id))})]}),i.jsx(Z,{className:"w-full mt-4",size:"lg",disabled:!e,onClick:()=>{var _;(_=document.querySelector('[data-value="payment"]'))==null||_.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Lanjutkan"})]})}),i.jsx(Sr,{value:"payment",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(Ue,{className:"border-none shadow-sm bg-muted/20 mb-4",children:i.jsx(Me,{className:"p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Jumlah Top Up"}),i.jsx("p",{className:"font-bold text-lg",children:Te(parseInt(e||"0"))})]}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{var _;(_=document.querySelector('[data-value="amount"]'))==null||_.dispatchEvent(new MouseEvent("click",{bubbles:!0}))},children:"Ubah"})]})})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{className:"text-sm font-medium",children:"Pilih Metode Pembayaran"}),i.jsx("div",{className:"grid gap-2",children:l$.map(_=>i.jsxs("div",{className:Ee("flex items-center gap-3 p-3 rounded-lg border cursor-pointer",a===_.id?"border-primary bg-primary/5":"border-gray-200"),onClick:()=>o(_.id),children:[i.jsxs(oA,{className:"h-10 w-10 border",children:[i.jsx(Hm,{src:_.logo,alt:_.name}),i.jsx(lA,{children:_.fallback})]}),i.jsx("div",{className:"flex-1",children:i.jsx("p",{className:"text-sm font-medium",children:_.name})}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:a===_.id&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},_.id))})]}),i.jsx(Z,{className:"w-full mt-4",size:"lg",disabled:!a||!e||l,onClick:x,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):`Bayar ${Te(parseInt(e||"0"))}`})]})})]}),i.jsx(Qr,{open:u,onOpenChange:d,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{className:"text-center",children:"Top Up Berhasil!"}),i.jsx(Es,{className:"text-center",children:"Saldo Anda berhasil ditambahkan"})]}),i.jsx("div",{className:"flex justify-center py-6",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"font-semibold",children:Te(parseInt(e||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Metode"}),i.jsx("span",{className:"font-semibold",children:((v=l$.find(_=>_.id===a))==null?void 0:v.name)||""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:f})]})]}),i.jsx(is,{children:i.jsx(Z,{className:"w-full",onClick:()=>{d(!1),t("/ppob")},children:"Kembali ke Beranda"})})]})})]})]})},oRe=[{value:"20000",label:"Token 20rb",price:22500,desc:"Token Listrik 20.000 VA"},{value:"50000",label:"Token 50rb",price:51500,desc:"Token Listrik 50.000 VA"},{value:"100000",label:"Token 100rb",price:101500,desc:"Token Listrik 100.000 VA"},{value:"200000",label:"Token 200rb",price:201500,desc:"Token Listrik 200.000 VA"},{value:"500000",label:"Token 500rb",price:501500,desc:"Token Listrik 500.000 VA"},{value:"1000000",label:"Token 1jt",price:1001500,desc:"Token Listrik 1.000.000 VA"}],c$=[{id:"1",name:"Rumah Utama",number:"12345678901",address:"Jl. Kemang Raya No. 10"},{id:"2",name:"Apartemen",number:"23456789012",address:"Apartemen Sudirman Park Tower A/12"}],lRe=()=>{const t=ar(),[e,r]=w.useState(""),[n,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!1),[p,y]=w.useState(""),[x,v]=w.useState(""),_=()=>{!e||e.length<10||(c(!0),setTimeout(()=>{s({name:"Aga Tampan",address:"Jl. Gatot Subroto No. 12, Jakarta Selatan"}),c(!1)},1e3))},j=()=>{!e||!a||(d(!0),setTimeout(()=>{const S=Array(20).fill(0).map(()=>Math.floor(Math.random()*10)).join("");v(S);const C=`TX${Date.now().toString().slice(-8)}`;y(C),d(!1),m(!0)},1500))};return i.jsxs(br,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 border-b border-gray-100",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Token Listrik"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Beli token listrik prabayar"})]}),i.jsx("div",{className:"ml-auto rounded-full w-8 h-8 flex items-center justify-center bg-white shadow-sm",children:i.jsx(se.file,{className:"h-5 w-5"})})]})}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsx(Ue,{className:"border-none shadow-sm mb-6",children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(ze,{htmlFor:"meterNumber",className:"font-medium",children:"ID Pelanggan / Nomor Meter"}),n&&i.jsx(Z,{variant:"ghost",size:"sm",className:"text-primary h-8 px-2",onClick:()=>{r(""),s(null),o(null)},children:"Ubah"})]}),n?i.jsx("div",{className:"bg-muted/20 p-4 rounded-lg",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(se.users,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e}),i.jsx("p",{className:"text-xs text-muted-foreground",children:n.address})]})]})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(se.zap,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(Ce,{id:"meterNumber",placeholder:"Contoh: 12345678901",className:"pl-9 bg-muted/30",value:e,onChange:S=>r(S.target.value.replace(/\D/g,"")),disabled:l})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Masukkan nomor meter atau ID pelanggan PLN"}),c$.length>0&&i.jsxs("div",{className:"mt-4 bg-muted/20 rounded-lg p-3",children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Meter Tersimpan"}),i.jsx("div",{className:"grid grid-cols-1 gap-2",children:c$.map(S=>i.jsxs("div",{onClick:()=>r(S.number),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(se.zap,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:S.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:S.number})]}),i.jsx("div",{className:"w-5 h-5 rounded-full border border-primary flex items-center justify-center",children:e===S.number&&i.jsx("div",{className:"w-3 h-3 bg-primary rounded-full"})})]},S.id))})]}),i.jsx("div",{className:"mt-4",children:i.jsx(Z,{className:"w-full",disabled:e.length<10||l,onClick:_,children:l?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Periksa Nomor Meter"})})]})]}),n&&i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx(ze,{className:"text-sm font-medium",children:"Pilih Nominal"})}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:oRe.map(S=>i.jsxs("div",{className:Ee("border rounded-lg p-3 cursor-pointer transition-colors",a===S.value?"border-primary bg-primary/5":"border-gray-200 hover:border-primary/50"),onClick:()=>o(S.value),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"font-semibold",children:S.label}),a===S.value&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-primary flex items-center justify-center",children:i.jsx(se.check,{className:"h-3 w-3 text-white"})})]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:S.desc}),i.jsx("p",{className:"text-sm font-medium text-primary",children:Te(S.price)})]},S.value))}),i.jsx(Z,{className:"w-full mt-6",size:"lg",disabled:!a||u,onClick:j,children:u?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Beli Token"})]})]})})})}),i.jsx(Qr,{open:f,onOpenChange:m,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{className:"text-center",children:"Pembelian Berhasil!"}),i.jsx(Es,{className:"text-center",children:"Token listrik berhasil dibeli"})]}),i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(se.check,{className:"h-10 w-10 text-green-600"})})}),i.jsxs("div",{className:"bg-muted/50 p-4 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex flex-col items-center mb-4 bg-primary/10 p-3 rounded-lg",children:[i.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Token Anda"}),i.jsx("p",{className:"font-mono text-xl font-bold tracking-wider",children:x})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nomor Meter"}),i.jsx("span",{className:"font-semibold",children:e})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nama"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.name})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Nominal"}),i.jsx("span",{className:"font-semibold",children:Te(parseInt(a||"0"))})]}),i.jsxs("div",{className:"flex justify-between mb-2",children:[i.jsx("span",{className:"text-muted-foreground",children:"Admin"}),i.jsx("span",{className:"font-semibold",children:"Rp1.500"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"font-semibold",children:p})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(Z,{variant:"outline",className:"flex-1",onClick:()=>{navigator.clipboard.writeText(x),alert("Token berhasil disalin!")},children:[i.jsx(se.copy,{className:"mr-2 h-4 w-4"}),"Salin Token"]}),i.jsx(Z,{className:"flex-1",onClick:()=>{m(!1),t("/ppob")},children:"Selesai"})]})]})})]})},u$=[{id:"gopay",name:"GoPay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Gopay_logo.svg/180px-Gopay_logo.svg.png",color:"bg-blue-500",textColor:"text-blue-600",bgColor:"bg-blue-50"},{id:"ovo",name:"OVO",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/eb/Logo_ovo_purple.svg/180px-Logo_ovo_purple.svg.png",color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-50"},{id:"dana",name:"DANA",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/72/Logo_dana_blue.svg/180px-Logo_dana_blue.svg.png",color:"bg-blue-400",textColor:"text-blue-500",bgColor:"bg-blue-50"},{id:"linkaja",name:"LinkAja",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/8/85/LinkAja.svg/180px-LinkAja.svg.png",color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-50"},{id:"shopeepay",name:"ShopeePay",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/ShopeePay_logo.svg/180px-ShopeePay_logo.svg.png",color:"bg-orange-500",textColor:"text-orange-600",bgColor:"bg-orange-50"}],PN=[{walletId:"dana",accountNumber:"081234567890",name:"Budi Santoso"},{walletId:"gopay",accountNumber:"081387654321",name:"Siti Rahayu"},{walletId:"ovo",accountNumber:"081598765432",name:"Ahmad Hidayat"}],cRe=()=>{var F,G,W,V,H,Q;const t=ar(),[e,r]=w.useState("transfer"),[n]=w.useState(75e4),[s,a]=w.useState(null),[o,l]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,p]=w.useState(!1),[y,x]=w.useState(""),[v,_]=w.useState(!1),[j,S]=w.useState(!1),[C,N]=w.useState(""),k=z=>{const q=z.replace(/\D/g,"");return q.length<=4?q:q.length<=7?`${q.slice(0,4)}-${q.slice(4)}`:q.length<=10?`${q.slice(0,4)}-${q.slice(4,7)}-${q.slice(7)}`:`${q.slice(0,4)}-${q.slice(4,7)}-${q.slice(7,10)}-${q.slice(10,13)}`},E=z=>{const q=z.target.value.replace(/\D/g,"");l(q),p(!1)},T=z=>{const q=z.target.value.replace(/\D/g,"");u(q)},P=()=>{o.length<10||!s||(f(!0),setTimeout(()=>{var z;x(((z=PN.find(q=>q.accountNumber.endsWith(o.slice(-8))&&q.walletId===s))==null?void 0:z.name)||"User "+s.toUpperCase()),p(!0),f(!1)},1e3))},O=()=>{!m||!c||parseInt(c)<=0||(_(!0),setTimeout(()=>{const z=`EW${Date.now().toString().slice(-8)}`;N(z),_(!1),S(!0)},1500))},D=()=>{a(null),l(""),u(""),p(!1),x(""),S(!1)},M=z=>u$.find(q=>q.id===z);return i.jsxs(br,{children:[i.jsxs("div",{className:"bg-gradient-to-b from-indigo-600 to-indigo-800 text-white",children:[i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"e-Wallet"}),i.jsx("p",{className:"text-xs text-white/70",children:"Transfer ke e-wallet lainnya"})]})]}),i.jsx("div",{className:"p-4",children:i.jsx(Ue,{className:"bg-white/10 border-0 backdrop-blur-sm text-white",children:i.jsxs(Me,{className:"p-4",children:[i.jsx("p",{className:"text-sm text-white/80",children:"Saldo Tersedia"}),i.jsx("h2",{className:"text-2xl font-bold",children:Te(n)}),i.jsx("p",{className:"text-xs text-white/70 mt-1",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(se.clock,{className:"h-3 w-3 mr-1"}),"Terakhir diperbarui: ",new Date().toLocaleTimeString("id-ID")]})})]})})})]}),i.jsx("div",{className:"container max-w-md mx-auto px-4 py-6",children:i.jsxs(Ia,{defaultValue:"transfer",className:"w-full",onValueChange:r,children:[i.jsxs(la,{className:"grid grid-cols-2 mb-4",children:[i.jsx(nr,{value:"transfer",children:"Transfer"}),i.jsx(nr,{value:"history",children:"Riwayat"})]}),i.jsx(Sr,{value:"transfer",className:"space-y-4",children:j?i.jsx(Ue,{className:"border-none shadow-sm",children:i.jsxs(Me,{className:"pt-6 px-6 pb-6 flex flex-col items-center",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(se.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Transfer Berhasil!"}),i.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:["Dana telah berhasil ditransfer ke ",(H=M(s))==null?void 0:H.name]}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:Te(parseInt(c))})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Penerima"}),i.jsx("span",{className:"text-sm font-medium",children:y})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"E-Wallet"}),i.jsx("span",{className:"text-sm font-medium",children:(Q=M(s))==null?void 0:Q.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nomor Telepon"}),i.jsx("span",{className:"text-sm font-medium",children:k(o)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:C})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(Z,{variant:"outline",className:"flex-1",onClick:D,children:[i.jsx(se.arrowRight,{className:"mr-2 h-4 w-4"}),"Transfer Lagi"]}),i.jsx(Z,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ze,{className:"text-sm font-medium mb-2 block",children:"Pilih E-Wallet"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:u$.map(z=>i.jsxs("div",{className:`border rounded-lg p-3 flex flex-col items-center cursor-pointer transition-all ${s===z.id?`border-2 border-primary ${z.bgColor}`:"border-gray-200 hover:border-gray-300"}`,onClick:()=>a(z.id),children:[i.jsxs("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mb-1 ${s===z.id?z.bgColor:"bg-gray-100"}`,children:[s===z.id&&i.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:i.jsx(se.check,{className:"h-3 w-3 text-white"})}),i.jsx("img",{src:z.logo,alt:z.name,className:"w-6 h-6 object-contain"})]}),i.jsx("span",{className:"text-xs font-medium",children:z.name})]},z.id))})]}),s&&i.jsx(Ue,{className:"border-none shadow-sm",children:i.jsx(Me,{className:"p-4 space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"phoneNumber",children:"Nomor Telepon"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:i.jsx(se.phone,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(Ce,{id:"phoneNumber",className:"pl-9",placeholder:"Contoh: 081234567890",value:k(o),onChange:E,disabled:m||d})]}),PN.length>0&&!m&&i.jsxs("div",{className:"mt-4",children:[i.jsx(ze,{className:"text-sm mb-2 block",children:"Tujuan Tersimpan"}),i.jsx("div",{className:"space-y-2",children:PN.filter(z=>z.walletId===s).map((z,q)=>{var $,J,le,ae;return i.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted cursor-pointer",onClick:()=>{l(z.accountNumber),P()},children:[i.jsx(oA,{className:"h-9 w-9",children:i.jsx(lA,{className:`${($=M(z.walletId))==null?void 0:$.textColor} ${(J=M(z.walletId))==null?void 0:J.bgColor}`,children:z.name.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:z.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:k(z.accountNumber)})]}),i.jsx(qt,{variant:"outline",className:`ml-auto ${(le=M(z.walletId))==null?void 0:le.textColor}`,children:(ae=M(z.walletId))==null?void 0:ae.name})]},q)})})]}),!m&&o.length>=10&&i.jsx(Z,{className:"w-full mt-2",onClick:P,disabled:d,children:d?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memeriksa..."})]}):"Verifikasi Nomor"}),m&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-3 bg-muted/40 rounded-lg flex items-center gap-3 mt-2",children:[i.jsx(oA,{className:"h-10 w-10",children:i.jsx(lA,{className:`${(F=M(s))==null?void 0:F.textColor} ${(G=M(s))==null?void 0:G.bgColor}`,children:y.substring(0,2).toUpperCase()})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:y}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:k(o)}),i.jsx(qt,{variant:"outline",className:`${(W=M(s))==null?void 0:W.textColor} text-xs`,children:(V=M(s))==null?void 0:V.name})]})]}),i.jsx(Z,{variant:"ghost",size:"sm",className:"ml-auto h-8 px-2",onClick:()=>{p(!1),l("")},children:"Ubah"})]}),i.jsxs("div",{className:"space-y-2 mt-4",children:[i.jsx(ze,{htmlFor:"amount",children:"Nominal Transfer"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 font-medium",children:"Rp"}),i.jsx(Ce,{id:"amount",className:"pl-9",placeholder:"0",value:c?parseInt(c).toLocaleString("id-ID"):"",onChange:T})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:[5e4,1e5,2e5,5e5].map(z=>i.jsx(Z,{type:"button",variant:"outline",className:"flex-1 min-w-20",onClick:()=>u(z.toString()),children:Te(z)},z))})]}),i.jsx(Z,{className:"w-full mt-4",size:"lg",disabled:!c||parseInt(c)<=0||parseInt(c)>n||v,onClick:O,children:v?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Memproses..."})]}):"Transfer Sekarang"}),parseInt(c)>n&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Saldo Anda tidak mencukupi untuk melakukan transfer ini."})]})]})})})]})})}),i.jsx(Sr,{value:"history",className:"space-y-4",children:i.jsx(Ue,{className:"border-none shadow-sm",children:i.jsxs(Me,{className:"p-4",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Riwayat Transfer E-Wallet"}),i.jsx("div",{className:"space-y-3",children:[{id:"EW20250603001",wallet:"dana",name:"Budi Santoso",phone:"081234567890",amount:1e5,date:new Date(2025,5,2)},{id:"EW20250602002",wallet:"gopay",name:"Siti Rahayu",phone:"081387654321",amount:5e4,date:new Date(2025,5,1)},{id:"EW20250601003",wallet:"ovo",name:"Ahmad Hidayat",phone:"081598765432",amount:75e3,date:new Date(2025,5,1)}].map((z,q)=>{var $,J,le,ae,ee;return i.jsxs("div",{className:"border rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${($=M(z.wallet))==null?void 0:$.bgColor}`,children:i.jsx("img",{src:(J=M(z.wallet))==null?void 0:J.logo,alt:(le=M(z.wallet))==null?void 0:le.name,className:"w-6 h-6 object-contain"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-sm font-medium",children:z.name}),i.jsxs("p",{className:"text-sm font-semibold text-red-600",children:["-",Te(z.amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:k(z.phone)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.date.toLocaleDateString("id-ID")})]})]})]}),i.jsxs("div",{className:"mt-2 pt-2 border-t flex justify-between items-center",children:[i.jsxs("span",{className:"text-xs text-muted-foreground",children:["ID: ",z.id]}),i.jsx(qt,{variant:"outline",className:(ae=M(z.wallet))==null?void 0:ae.textColor,children:(ee=M(z.wallet))==null?void 0:ee.name})]})]},q)})})]})})})]})})]})},A$=[{id:"ml",name:"Mobile Legends",image:"https://play-lh.googleusercontent.com/ha7AWuJ9nlt3X5OgDI-HZkrZf0TjyuO6j6WnVcjbPHbhTVK9KTbdcKBQUDpzJqdJjA",publisher:"Moonton",category:"MOBA",items:[{id:"ml-1",name:"86 Diamonds",price:22e3,originalPrice:25e3,discount:!0},{id:"ml-2",name:"172 Diamonds",price:45e3,originalPrice:5e4,discount:!0},{id:"ml-3",name:"257 Diamonds",price:67e3,originalPrice:75e3,discount:!0},{id:"ml-4",name:"344 Diamonds",price:89e3,originalPrice:1e5,discount:!0},{id:"ml-5",name:"429 Diamonds",price:112e3,originalPrice:125e3,discount:!0},{id:"ml-6",name:"514 Diamonds",price:134e3,originalPrice:15e4,discount:!0},{id:"ml-7",name:"706 Diamonds",price:179e3,originalPrice:2e5,discount:!0},{id:"ml-8",name:"878 Diamonds",price:223e3,originalPrice:25e4,discount:!0},{id:"ml-9",name:"963 Diamonds",price:245e3,originalPrice:275e3,discount:!0},{id:"ml-10",name:"1050 Diamonds",price:268e3,originalPrice:3e5,discount:!0},{id:"ml-11",name:"Weekly Diamond Pass",price:28500,originalPrice:3e4,discount:!0},{id:"ml-12",name:"Starlight Member",price:149e3,originalPrice:149e3,discount:!1}]},{id:"ff",name:"Free Fire",image:"https://play-lh.googleusercontent.com/WWcssdzTZvx7Fc84lfMpZRvTUjqxUcKn3ANF5_XYOegQjbUQQdTmMvB8BtY_8VGcJQ",publisher:"Garena",category:"Battle Royale",items:[{id:"ff-1",name:"100 Diamonds",price:15e3,originalPrice:16e3,discount:!0},{id:"ff-2",name:"210 Diamonds",price:3e4,originalPrice:32e3,discount:!0},{id:"ff-3",name:"310 Diamonds",price:45e3,originalPrice:48e3,discount:!0},{id:"ff-4",name:"520 Diamonds",price:75e3,originalPrice:8e4,discount:!0},{id:"ff-5",name:"1060 Diamonds",price:15e4,originalPrice:16e4,discount:!0},{id:"ff-6",name:"2180 Diamonds",price:3e5,originalPrice:32e4,discount:!0},{id:"ff-7",name:"5600 Diamonds",price:75e4,originalPrice:8e5,discount:!0},{id:"ff-8",name:"Weekly Member",price:28500,originalPrice:3e4,discount:!0},{id:"ff-9",name:"Monthly Member",price:85e3,originalPrice:9e4,discount:!0}]},{id:"pubg",name:"PUBG Mobile",image:"https://play-lh.googleusercontent.com/JRd05pyBH41qjgsJuWduRJpDeZG0Hnb0yjf2nWqO7VaGKL10-G5UIygxED-WNOc3pg",publisher:"Tencent Games",category:"Battle Royale",items:[{id:"pubg-1",name:"60 UC",price:16e3,originalPrice:18e3,discount:!0},{id:"pubg-2",name:"300 UC",price:75e3,originalPrice:8e4,discount:!0},{id:"pubg-3",name:"600 UC",price:15e4,originalPrice:16e4,discount:!0},{id:"pubg-4",name:"1500 UC",price:375e3,originalPrice:4e5,discount:!0},{id:"pubg-5",name:"3000 UC",price:75e4,originalPrice:8e5,discount:!0},{id:"pubg-6",name:"6000 UC",price:149e4,originalPrice:16e5,discount:!0},{id:"pubg-7",name:"Royale Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"genshin",name:"Genshin Impact",image:"https://play-lh.googleusercontent.com/So91qs_eRRvalz7JtGXvUJ7Nsg-A5Q3LL4_ifmEXNsj28Tj0R7jzMCjzqKYzWrEJC6Y",publisher:"miHoYo",category:"RPG",items:[{id:"gi-1",name:"60 Genesis Crystals",price:16e3,originalPrice:18e3,discount:!0},{id:"gi-2",name:"300+30 Genesis Crystals",price:8e4,originalPrice:85e3,discount:!0},{id:"gi-3",name:"980+110 Genesis Crystals",price:25e4,originalPrice:27e4,discount:!0},{id:"gi-4",name:"1980+260 Genesis Crystals",price:48e4,originalPrice:5e5,discount:!0},{id:"gi-5",name:"3280+600 Genesis Crystals",price:8e5,originalPrice:85e4,discount:!0},{id:"gi-6",name:"Blessing of the Welkin Moon",price:75e3,originalPrice:8e4,discount:!0},{id:"gi-7",name:"Battle Pass",price:14e4,originalPrice:15e4,discount:!0}]},{id:"valorant",name:"Valorant",image:"https://play-lh.googleusercontent.com/fzkfPfJPxX0zlNzPYrIMW63AuFWjaCFzzoF-EZzN8_5y8lye0hnHJmBJpz9gy7ICt4Q",publisher:"Riot Games",category:"FPS",items:[{id:"val-1",name:"420 Points",price:5e4,originalPrice:55e3,discount:!0},{id:"val-2",name:"700 Points",price:8e4,originalPrice:85e3,discount:!0},{id:"val-3",name:"1375 Points",price:15e4,originalPrice:16e4,discount:!0},{id:"val-4",name:"2400 Points",price:25e4,originalPrice:265e3,discount:!0},{id:"val-5",name:"4000 Points",price:4e5,originalPrice:425e3,discount:!0},{id:"val-6",name:"8150 Points",price:8e5,originalPrice:85e4,discount:!0}]},{id:"codm",name:"Call of Duty Mobile",image:"https://play-lh.googleusercontent.com/aUALUc_yfJwV1mZuUHgRyXYXcXUwUfZBZkoXtYzVOoOOFHDlYZhZ8dywSBRWrtBY-8w",publisher:"Activision",category:"FPS",items:[{id:"codm-1",name:"26 CP",price:5e3,originalPrice:5500,discount:!0},{id:"codm-2",name:"53 CP",price:1e4,originalPrice:11e3,discount:!0},{id:"codm-3",name:"106 CP",price:2e4,originalPrice:22e3,discount:!0},{id:"codm-4",name:"264 CP",price:5e4,originalPrice:55e3,discount:!0},{id:"codm-5",name:"528 CP",price:1e5,originalPrice:11e4,discount:!0},{id:"codm-6",name:"1056 CP",price:2e5,originalPrice:22e4,discount:!0},{id:"codm-7",name:"2640 CP",price:5e5,originalPrice:55e4,discount:!0},{id:"codm-8",name:"5280 CP",price:1e6,originalPrice:11e5,discount:!0}]}],uRe=[{id:"all",name:"Semua"},{id:"moba",name:"MOBA"},{id:"battle-royale",name:"Battle Royale"},{id:"rpg",name:"RPG"},{id:"fps",name:"FPS"},{id:"strategy",name:"Strategy"},{id:"casual",name:"Casual"}],ARe=()=>{const t=ar(),[e,r]=w.useState(null),[n,s]=w.useState(""),[a,o]=w.useState(null),[l,c]=w.useState("popular"),[u,d]=w.useState("all"),[f,m]=w.useState(""),[p,y]=w.useState(!1),[x,v]=w.useState(!1),[_,j]=w.useState(!1),[S,C]=w.useState(""),N=e?A$.find(D=>D.id===e):null,k=A$.filter(D=>{const M=f===""||D.name.toLowerCase().includes(f.toLowerCase())||D.publisher.toLowerCase().includes(f.toLowerCase()),F=u==="all"||D.category.toLowerCase()===u.toLowerCase();return M&&F}),E=D=>{r(D),s(""),o(null)},T=D=>{o(D),v(!0)},P=()=>{!a||!N||!n||(y(!0),setTimeout(()=>{const D=`GM${Date.now().toString().slice(-8)}`;C(D),y(!1),v(!1),j(!0)},2e3))},O=()=>i.jsxs("div",{className:"flex justify-center items-center py-4",children:[i.jsx(se.spinner,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("span",{className:"ml-2 text-sm font-medium",children:"Memproses..."})]});return i.jsxs(br,{children:[i.jsx("div",{className:"bg-gradient-to-b from-purple-600 to-purple-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Top Up Games"}),i.jsx("p",{className:"text-xs text-white/70",children:"Isi ulang kredit game favoritmu"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(se.search,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx(Ce,{type:"text",placeholder:"Cari game...",value:f,onChange:D=>m(D.target.value),className:"pl-10"})]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>r(null),className:"rounded-full w-8 h-8 flex items-center justify-center bg-muted",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg overflow-hidden bg-muted",children:i.jsx("img",{src:N==null?void 0:N.image,alt:N==null?void 0:N.name,className:"object-cover w-full h-full"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:N==null?void 0:N.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:N==null?void 0:N.publisher})]})]})]}),i.jsx(Ue,{className:"mb-4",children:i.jsxs(Me,{className:"p-4 space-y-3",children:[i.jsx(ze,{htmlFor:"userId",children:"User ID"}),i.jsx(Ce,{id:"userId",placeholder:"Masukkan User ID",value:n,onChange:D=>s(D.target.value)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Pastikan User ID yang kamu masukkan sudah benar"})]})}),i.jsx("h3",{className:"font-semibold mb-3",children:"Pilih Nominal"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-6",children:N==null?void 0:N.items.map(D=>i.jsx(Ue,{className:`overflow-hidden cursor-pointer hover:shadow-md transition-shadow ${(a==null?void 0:a.id)===D.id?"border-primary border-2":""}`,onClick:()=>T(D),children:i.jsxs(Me,{className:"p-3",children:[i.jsx("h4",{className:"font-medium text-sm",children:D.name}),i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"font-semibold text-primary",children:Te(D.price)}),D.discount&&i.jsx("p",{className:"text-xs text-muted-foreground line-through",children:Te(D.originalPrice)})]}),D.discount&&i.jsxs(qt,{className:"mt-1 bg-green-100 text-green-700 hover:bg-green-100 text-xs",variant:"secondary",children:["Hemat ",Te(D.originalPrice-D.price)]})]})},D.id))})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4 overflow-x-auto hide-scrollbar",children:i.jsx("div",{className:"flex space-x-2 pb-2",children:uRe.map(D=>i.jsx(Z,{variant:u===D.id?"default":"outline",size:"sm",onClick:()=>d(D.id),className:"whitespace-nowrap",children:D.name},D.id))})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Game Populer"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:k.map(D=>i.jsx(Ue,{className:"overflow-hidden cursor-pointer hover:shadow-md transition-shadow",onClick:()=>E(D.id),children:i.jsxs(Me,{className:"p-3",children:[i.jsx("div",{className:"aspect-square rounded-lg overflow-hidden mb-2 bg-muted flex items-center justify-center",children:i.jsx("img",{src:D.image,alt:D.name,className:"object-cover w-full h-full"})}),i.jsx("h3",{className:"font-medium text-sm truncate",children:D.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:D.publisher}),i.jsx(qt,{variant:"outline",className:"mt-1 text-xs",children:D.category})]})},D.id))})]})]})]}),i.jsx(Qr,{open:x,onOpenChange:v,children:i.jsxs(Pr,{className:"sm:max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{children:"Konfirmasi Pembayaran"})}),i.jsx("div",{className:"space-y-4 py-2",children:i.jsxs("div",{className:"bg-muted/30 p-3 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs(oA,{className:"h-10 w-10 rounded-lg",children:[i.jsx(Hm,{src:N==null?void 0:N.image}),i.jsx(lA,{className:"rounded-lg bg-primary/20",children:N==null?void 0:N.name.substring(0,2).toUpperCase()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:N==null?void 0:N.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["User ID: ",n]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:a==null?void 0:a.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Harga"}),i.jsx("span",{className:"text-sm font-medium",children:a?Te(a.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Biaya Admin"}),i.jsx("span",{className:"text-sm font-medium",children:"Rp 0"})]}),i.jsx("div",{className:"pt-2 border-t mt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:"Total"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:a?Te(a.price):"-"})]})})]})]})}),i.jsx(is,{className:"flex flex-col gap-2",children:p?i.jsx(O,{}):i.jsxs(i.Fragment,{children:[i.jsx(Z,{className:"w-full",onClick:P,disabled:!n||!a,children:"Bayar Sekarang"}),i.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>v(!1),children:"Batal"})]})})]})}),i.jsx(Qr,{open:_,onOpenChange:j,children:i.jsx(Pr,{className:"sm:max-w-md",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-20 w-20 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(se.check,{className:"h-10 w-10 text-green-600"})}),i.jsx("h2",{className:"text-xl font-semibold mb-1",children:"Pembayaran Berhasil!"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Item game telah berhasil dibeli"}),i.jsxs("div",{className:"w-full bg-muted/30 p-4 rounded-lg space-y-3 mb-6 text-left",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Game"}),i.jsx("span",{className:"text-sm font-medium",children:N==null?void 0:N.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"User ID"}),i.jsx("span",{className:"text-sm font-medium",children:n})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Item"}),i.jsx("span",{className:"text-sm font-medium",children:a==null?void 0:a.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Jumlah"}),i.jsx("span",{className:"text-sm font-medium",children:a?Te(a.price):"-"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"ID Transaksi"}),i.jsx("span",{className:"text-sm font-medium",children:S})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Waktu"}),i.jsx("span",{className:"text-sm font-medium",children:new Date().toLocaleString("id-ID")})]})]}),i.jsxs("div",{className:"flex gap-3 w-full",children:[i.jsxs(Z,{variant:"outline",className:"flex-1",onClick:()=>{j(!1),r(null)},children:[i.jsx(se.arrowRight,{className:"mr-2 h-4 w-4"}),"Top Up Lagi"]}),i.jsx(Z,{className:"flex-1",onClick:()=>t("/ppob"),children:"Selesai"})]})]})})})]})},Ene=async()=>{try{const{data:t,error:e}=await oe.from("ppob_services").select("*").order("created_at",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching PPOB services:",t),[]}},d$={"Top Up":{bg:"#E3F2FD",icon:"#1976D2"},Tagihan:{bg:"#FFF3E0",icon:"#F57C00"},Investasi:{bg:"#E8F5E9",icon:"#388E3C"},Lainnya:{bg:"#F5F5F5",icon:"#757575"}},dRe=()=>{const t=ar(),[e,r]=w.useState(!1),[n,s]=w.useState([]),[a,o]=w.useState(!0),[l,c]=w.useState(null);w.useEffect(()=>{r(!0),(async()=>{o(!0);try{const p=await Ene();s(p),c(null)}catch(p){console.error("Error fetching PPOB services:",p),c("Failed to load services. Please try again later.")}finally{o(!1)}})()},[]);const u=n.reduce((m,p)=>{const y=p.category||"Lainnya";return m[y]||(m[y]=[]),m[y].push(p),m},{}),d=(m,p)=>{switch(m){case"wallet":return i.jsx(se.wallet,{className:p});case"smartphone":return i.jsx(se.smartphone,{className:p});case"wifi":return i.jsx(se.wifi,{className:p});case"globe":return i.jsx(se.package,{className:p});case"zap":return i.jsx(se.zap,{className:p});case"creditCard":return i.jsx(se.creditCard,{className:p});case"tv":return i.jsx(se.tv,{className:p});case"shield":return i.jsx(se.shield,{className:p});case"droplet":return i.jsx(se.droplet,{className:p});case"calculator":return i.jsx(se.barChart,{className:p});case"home":return i.jsx(se.home,{className:p});case"phone":return i.jsx(se.phone,{className:p});case"receipt":return i.jsx(se.file,{className:p});case"graduationCap":return i.jsx(se.file,{className:p});case"heart":return i.jsx(se.heart,{className:p});case"gift":return i.jsx(se.package,{className:p});case"banknote":return i.jsx(se.creditCard,{className:p});case"plus":return i.jsx(se.plus,{className:p});case"users":return i.jsx(se.users,{className:p});default:return i.jsx(se.bell,{className:p})}},f=m=>{t(m)};return a?i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"flex justify-center items-center h-24",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):l?i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("style",{children:`
              @keyframes fadeIn {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
              }
              @keyframes bounce {
                0%, 100% { transform: translateY(0); }
                50% { transform: translateY(-5px); }
              }
              @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.05); }
                100% { transform: scale(1); }
              }
              .animate-item {
                animation: fadeIn 0.5s ease forwards;
                opacity: 0;
              }
              .service-icon:hover {
                animation: bounce 0.6s ease infinite;
              }
              .pulse-effect {
                animation: pulse 2s infinite ease-in-out;
              }
              .baru-badge {
                animation: pulse 1.5s infinite;
              }
            `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:i.jsx("div",{className:"text-center text-red-500",children:l})})]}):i.jsxs(br,{children:[i.jsx(jo,{children:i.jsx("style",{children:`
            @keyframes fadeIn {
              from { opacity: 0; transform: translateY(10px); }
              to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce {
              0%, 100% { transform: translateY(0); }
              50% { transform: translateY(-5px); }
            }
            @keyframes pulse {
              0% { transform: scale(1); }
              50% { transform: scale(1.05); }
              100% { transform: scale(1); }
            }
            .animate-item {
              animation: fadeIn 0.5s ease forwards;
              opacity: 0;
            }
            .service-icon:hover {
              animation: bounce 0.6s ease infinite;
            }
            .pulse-effect {
              animation: pulse 2s infinite ease-in-out;
            }
            .baru-badge {
              animation: pulse 1.5s infinite;
            }
          `})}),i.jsx("div",{className:"bg-white sticky top-0 z-10 border-b border-gray-100 shadow-sm",children:i.jsxs("div",{className:"flex items-center px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center hover:bg-gray-100 transition-all duration-200",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsx("h1",{className:"text-lg font-semibold ml-4",children:"Semua Layanan "})]})}),i.jsx("div",{className:"pb-6 bg-gray-50 min-h-screen",children:Object.entries(u).map(([m,p])=>i.jsxs("div",{className:"mt-4 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-3",children:m}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-4 gap-y-6",children:p.map((y,x)=>{var v,_;return i.jsxs("div",{className:Ee("flex flex-col items-center relative animate-item",e?"":"opacity-0"),onClick:()=>f(y.route||"/ppob/generic"),style:{animationDelay:`${x*.07}s`},children:[i.jsxs("div",{className:Ee("w-14 h-14 rounded-xl flex items-center justify-center mb-2 relative service-icon shadow-sm",y.color||((v=d$[m])==null?void 0:v.bg)||"#F5F5F5",y.is_new&&"pulse-effect"),children:[i.jsx("div",{className:y.icon_color||((_=d$[m])==null?void 0:_.icon)||"#757575",children:d(y.icon||"Box","h-6 w-6")}),y.is_new&&i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[9px] px-1 rounded-full",children:"Baru"})]}),i.jsx("span",{className:"text-xs font-medium text-center max-w-[80px] leading-tight",children:y.name})]},y.id)})})})]},m))})]})},fRe=()=>{const t=ar();return i.jsxs(br,{children:[i.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[i.jsx("button",{onClick:()=>t("/ppob"),className:"rounded-full w-8 h-8 flex items-center justify-center bg-white/20",children:i.jsx(se.chevronLeft,{className:"h-5 w-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-semibold",children:"Test Page"}),i.jsx("p",{className:"text-xs text-white/70",children:"Testing icon rendering"})]})]})}),i.jsxs("div",{className:"container max-w-md mx-auto px-4 py-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Available Icons"}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(se.wallet,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"wallet"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center mb-1",children:i.jsx(se.smartphone,{className:"h-6 w-6 text-green-600"})}),i.jsx("span",{className:"text-xs",children:"smartphone"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-amber-100 flex items-center justify-center mb-1",children:i.jsx(se.zap,{className:"h-6 w-6 text-amber-600"})}),i.jsx("span",{className:"text-xs",children:"zap"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(se.gamepad,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"gamepad"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(se.tv,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"tv"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center mb-1",children:i.jsx(se.shoppingCart,{className:"h-6 w-6 text-red-600"})}),i.jsx("span",{className:"text-xs",children:"shoppingCart"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-1",children:i.jsx(se.menu,{className:"h-6 w-6 text-gray-600"})}),i.jsx("span",{className:"text-xs",children:"menu"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center mb-1",children:i.jsx(se.arrowRight,{className:"h-6 w-6 text-blue-600"})}),i.jsx("span",{className:"text-xs",children:"arrowRight"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-yellow-100 flex items-center justify-center mb-1",children:i.jsx(se.arrowRight,{className:"h-6 w-6 rotate-180 text-yellow-600"})}),i.jsx("span",{className:"text-xs",children:"arrowLeft (rotated)"})]})]}),i.jsx("div",{className:"mt-8",children:i.jsx(Z,{onClick:()=>t("/ppob"),className:"w-full",children:"Back to Dashboard"})})]})]})},qo=()=>{const t=ar(),e=Aa(),n=(e.pathname.split("/").pop()||"").split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" ");return i.jsxs(br,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(se.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:n}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(se.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center p-6 mt-10",children:[i.jsx("div",{className:"w-20 h-20 flex items-center justify-center rounded-full bg-blue-100 mb-4",children:i.jsx(se.settings,{className:"w-10 h-10 text-blue-500"})}),i.jsxs("h2",{className:"text-xl font-semibold mb-2",children:["Layanan ",n]}),i.jsxs("p",{className:"text-gray-500 text-center mb-8",children:["Halaman ini sedang dalam pengembangan. Fitur ",n," akan segera tersedia."]}),i.jsx("button",{onClick:()=>t("/ppob/all"),className:"px-6 py-3 bg-primary text-white rounded-lg font-medium shadow-sm",children:"Kembali ke Layanan"})]})]})},hRe=[{id:"charcoal-fund-1",name:"JPC Arang Premium",type:"Arang Kayu Keras",riskLevel:"Sedang",returnRate:"9-12% p.a.",minAmount:1e6,manager:"JPC Asset Management",isPromoted:!0,description:"Investasi pada produksi arang kayu berkualitas tinggi untuk kuliner dan BBQ"},{id:"charcoal-fund-2",name:"JPC Arang Ekspor",type:"Arang Ekspor",riskLevel:"Sedang-Tinggi",returnRate:"10-14% p.a.",minAmount:2e6,manager:"JPC Asset Management",isPromoted:!1,description:"Fokus pada perusahaan ekspor arang kayu ke pasar internasional"},{id:"charcoal-fund-3",name:"JPC Arang Briket",type:"Briket Arang",riskLevel:"Tinggi",returnRate:"12-18% p.a.",minAmount:5e6,manager:"JPC Asset Management",isPromoted:!0,description:"Mengembangkan teknologi briket arang untuk efisiensi dan keberlanjutan"},{id:"charcoal-fund-4",name:"JPC Arang Berkelanjutan",type:"Arang Ramah Lingkungan",riskLevel:"Sedang",returnRate:"8-11% p.a.",minAmount:15e5,manager:"JPC Asset Management",isPromoted:!1,description:"Investasi pada perusahaan arang dengan praktik penanaman kembali dan keberlanjutan"}],mRe=[{id:"charcoal-bond-1",name:"Obligasi JPC Arang A",issuer:"JPC Arang Indonesia",minAmount:2e6,interestRate:8.5,period:"3 tahun",isPromoted:!0,description:"Obligasi korporasi untuk pengembangan fasilitas produksi arang kayu"},{id:"charcoal-bond-2",name:"Obligasi JPC Arang B",issuer:"JPC Arang Indonesia",minAmount:5e6,interestRate:9.25,period:"5 tahun",isPromoted:!1,description:"Pendanaan untuk modernisasi teknologi pembuatan arang berkualitas tinggi"},{id:"charcoal-bond-3",name:"Sukuk JPC Arang",issuer:"JPC Arang Syariah",minAmount:1e6,interestRate:7.5,period:"2 tahun",isPromoted:!0,description:"Instrumen keuangan syariah berbasis aset produksi arang kayu"},{id:"charcoal-bond-4",name:"Green Bond JPC Arang",issuer:"JPC Arang Indonesia",minAmount:3e6,interestRate:8,period:"4 tahun",isPromoted:!1,description:"Obligasi untuk pengembangan arang yang ramah lingkungan dan berkelanjutan"}],JA=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t),pRe=()=>{var x;const t=ar(),[e,r]=w.useState("charcoalFund"),[n,s]=w.useState(null),[a,o]=w.useState(""),[l,c]=w.useState(!1),[u,d]=w.useState(!1),f=v=>{s(v)},m=v=>{const _=v.target.value.replace(/[^0-9]/g,"");o(_)},p=()=>{c(!1),d(!0)},y=()=>{s(null),o(""),d(!1)};return i.jsxs(br,{children:[i.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm sticky top-0 z-10",children:[i.jsx("button",{onClick:()=>t("/ppob/all"),className:"flex items-center justify-center w-10 h-10",children:i.jsx(se.arrowLeft,{className:"w-6 h-6"})}),i.jsx("h1",{className:"text-lg font-medium",children:"Investasi"}),i.jsx("button",{className:"flex items-center justify-center w-10 h-10",children:i.jsx(se.bell,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 bg-gradient-to-r from-amber-800 to-stone-900 rounded-xl p-4 text-white",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Investasi Arang Kayu JPC"}),i.jsx("p",{className:"text-sm mb-3",children:"Dapatkan keuntungan dari industri arang kayu premium dengan produk investasi kami"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(se.flame,{className:"w-5 h-5 text-amber-500"}),i.jsx("span",{className:"text-xs font-medium",children:"Potensi imbal hasil hingga 18% per tahun"})]})]}),i.jsxs(Ia,{defaultValue:"charcoalFund",className:"w-full mb-4",onValueChange:r,children:[i.jsxs(la,{className:"grid w-full grid-cols-2",children:[i.jsx(nr,{value:"charcoalFund",children:"Dana Arang"}),i.jsx(nr,{value:"charcoalBond",children:"Obligasi Arang"})]}),i.jsx(Sr,{value:"charcoalFund",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Dana Arang adalah produk investasi yang berfokus pada sektor arang kayu premium dengan potensi pertumbuhan tinggi."}),i.jsx(nf,{className:"h-[450px] pr-3",children:hRe.map(v=>i.jsxs(Ue,{className:`mb-4 relative ${(n==null?void 0:n.id)===v.id?"border-2 border-primary":""}`,onClick:()=>f(v),children:[i.jsx(Nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:v.name}),i.jsx(Rr,{children:v.manager})]}),v.isPromoted&&i.jsx(qt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Me,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsx("p",{className:"font-semibold text-green-600",children:v.returnRate})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Tingkat Risiko"}),i.jsx("p",{className:"font-semibold",children:v.riskLevel})]}),i.jsxs("div",{className:"col-span-2 mt-2",children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Penempatan"}),i.jsx("p",{className:"font-semibold",children:JA(v.minAmount)})]})]})}),i.jsx(ki,{children:i.jsx(Z,{variant:"outline",className:"w-full",onClick:_=>{_.stopPropagation(),f(v),c(!0)},children:"Pilih Dana Arang"})})]},v.id))})]})}),i.jsx(Sr,{value:"charcoalBond",children:i.jsxs("div",{className:"grid gap-4 mt-4",children:[i.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Obligasi Arang adalah obligasi yang diterbitkan oleh perusahaan arang kayu dengan imbal hasil yang menarik."}),i.jsx(nf,{className:"h-[450px] pr-3",children:mRe.map(v=>i.jsxs(Ue,{className:`mb-4 relative ${(n==null?void 0:n.id)===v.id?"border-2 border-primary":""}`,onClick:()=>f(v),children:[i.jsx(Nt,{className:"pb-2",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx(Tt,{className:"text-base",children:v.name}),i.jsx(Rr,{children:v.issuer})]}),v.isPromoted&&i.jsx(qt,{className:"bg-amber-500",children:"Rekomendasi"})]})}),i.jsx(Me,{className:"pb-2",children:i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Bunga"}),i.jsxs("p",{className:"font-semibold text-green-600",children:[v.interestRate,"% p.a."]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Jangka Waktu"}),i.jsx("p",{className:"font-semibold",children:v.period})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Penerbit"}),i.jsx("p",{className:"font-semibold",children:v.issuer})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500",children:"Minimal Investasi"}),i.jsx("p",{className:"font-semibold",children:JA(v.minAmount)})]})]})}),i.jsx(ki,{children:i.jsx(Z,{variant:"outline",className:"w-full",onClick:_=>{_.stopPropagation(),f(v),c(!0)},children:"Pilih Obligasi Arang"})})]},v.id))})]})})]})]}),i.jsx(Qr,{open:l,onOpenChange:c,children:i.jsxs(Pr,{className:"max-w-md p-6",children:[i.jsxs(Kr,{children:[i.jsx(qr,{className:"text-center text-xl",children:"Konfirmasi Investasi"}),i.jsxs(Es,{className:"text-center",children:[e==="deposito"?"Deposito":"Reksadana"," - ",n==null?void 0:n.name]})]}),i.jsxs("div",{className:"space-y-4 py-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"amount",children:"Jumlah Investasi"}),i.jsx(Ce,{id:"amount",placeholder:`Min. ${JA((n==null?void 0:n.minAmount)||0)}`,value:a?JA(parseInt(a)):"",onChange:m,className:"text-right"}),parseInt(a)<((n==null?void 0:n.minAmount)||0)&&a!==""&&i.jsxs("p",{className:"text-red-500 text-xs",children:["Jumlah investasi minimal ",JA((n==null?void 0:n.minAmount)||0)]})]}),e==="charcoalFund"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jenis"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.type})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Tingkat Risiko"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.riskLevel})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Imbal Hasil"}),i.jsx("span",{className:"font-semibold text-green-600",children:n==null?void 0:n.returnRate})]}),a&&parseInt(a)>=((n==null?void 0:n.minAmount)||0)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Estimasi Bunga"}),i.jsx("span",{className:"font-semibold text-green-600",children:e==="charcoalFund"?n==null?void 0:n.returnRate:JA(parseInt(a)*((n==null?void 0:n.interestRate)/100)*parseInt(((x=n==null?void 0:n.period)==null?void 0:x.split(" ")[0])||"1"))})]})]}),e==="charcoalBond"&&i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Bunga"}),i.jsxs("span",{className:"font-semibold",children:[n==null?void 0:n.interestRate,"% p.a."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Jangka Waktu"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.period})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Penerbit"}),i.jsx("span",{className:"font-semibold",children:n==null?void 0:n.issuer})]})]})]}),i.jsxs(is,{className:"flex-col gap-2 sm:flex-col",children:[i.jsx(Z,{className:"w-full",onClick:p,disabled:!a||parseInt(a)<((n==null?void 0:n.minAmount)||0),children:"Konfirmasi Investasi"}),i.jsx(Z,{variant:"outline",className:"w-full",onClick:()=>c(!1),children:"Batal"})]})]})}),i.jsx(Qr,{open:u,onOpenChange:d,children:i.jsx(Pr,{className:"max-w-md p-6",children:i.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-green-100 flex items-center justify-center mb-4",children:i.jsx(se.check,{className:"h-8 w-8 text-green-600"})}),i.jsx(qr,{className:"text-xl mb-2",children:"Investasi Berhasil!"}),i.jsxs(Es,{children:["Investasi ",e==="charcoalFund"?"Dana Arang":"Obligasi Arang"," ",n==null?void 0:n.name," sebesar ",JA(parseInt(a))," telah berhasil dilakukan."]}),i.jsxs("div",{className:"mt-6 w-full space-y-3",children:[i.jsx(Z,{className:"w-full",onClick:()=>t("/ppob/activity"),children:"Lihat Transaksi"}),i.jsx(Z,{variant:"outline",className:"w-full",onClick:y,children:"Investasi Lainnya"})]})]})})})]})};function gRe({children:t}){const{user:e,profile:r}=xn(),{toast:n}=No(),s=ar(),[a,o]=w.useState(null),[l,c]=w.useState([]);return w.useEffect(()=>{(async()=>{try{if(!e||!r||r.role!=="admin"){console.log("Not an admin user, skipping notification setup");return}if(!tY()){console.log("This browser does not support notifications"),o(!1);return}try{if(Notification.permission==="granted")o(!0);else if(Notification.permission==="denied"){o(!1);return}}catch(f){console.error("Error accessing Notification API:",f),o(!1);return}const d=await eO(e.id);d?(console.log("FCM Token registered:",d),o(!0)):(console.log("Failed to get FCM token"),o(!1))}catch(d){console.error("Error setting up notifications:",d),o(!1)}})()},[e,r]),w.useEffect(()=>{if(!e||!a)return;const u=eY(Bp),d=vbe(u,f=>{console.log("Foreground message received:",f);const m=f.data;m&&m.type==="order"&&(c(y=>[m,...y]),n({title:m.title||"Pesanan Baru",description:m.message||"Ada pesanan baru dari pelanggan",variant:"default",action:i.jsx("button",{onClick:()=>s(`/admin/orders/${m.orderId}`),className:"px-3 py-2 bg-flame-500 text-white rounded-md text-xs",children:"Lihat"})}),new Audio("/sounds/new_order_sound.mp3").play().catch(y=>console.log("Error playing notification sound:",y)))});return()=>d()},[e,a,n,s]),i.jsx(i.Fragment,{children:t})}function Bs({children:t}){const e=Aa(),{user:r,profile:n,logout:s}=xn(),a=MO("/sounds/new_order_sound.mp3"),o=MO("/sounds/new_chat_message_sound.mp3");if(w.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=oe.channel("admin-new-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},u=>{console.log("New order received in AdminLayout:",u.new),a()}).subscribe((u,d)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new orders in AdminLayout"),d&&console.error("Error subscribing to orders in AdminLayout:",d)});return()=>{oe.removeChannel(c)}},[r,n,a]),w.useEffect(()=>{if(!r||!n||n.role!=="admin"&&n.role!=="manager")return;const c=oe.channel("admin-new-chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},async u=>{const d=u.new;if(d.sender_type==="customer"&&d.session_id){const{data:f,error:m}=await oe.from("chat_sessions").select("admin_id, customer_id").eq("id",d.session_id).single();if(m){console.error("Error fetching session for new message notification:",m);return}const p=e.pathname===`/admin/chat/${f==null?void 0:f.customer_id}`;f&&(f.admin_id===r.id||f.admin_id===null)&&!p&&(console.log("New chat message for admin received in AdminLayout:",u.new),o())}}).subscribe((u,d)=>{u==="SUBSCRIBED"&&console.log("Subscribed to new chat messages in AdminLayout"),d&&console.error("Error subscribing to messages in AdminLayout:",d)});return()=>{oe.removeChannel(c)}},[r,n,o,e.pathname]),!r||!n||n.role!=="admin"&&n.role!=="manager")return i.jsx(B1,{to:"/admin-login",replace:!0});const l=[{icon:i.jsx(Lz,{}),label:"Dashboard",path:"/admin"},{icon:i.jsx(Qce,{}),label:"Inventaris",path:"/admin/inventory"},{icon:i.jsx(cc,{}),label:"Pengiriman",path:"/admin/shipping"},{icon:i.jsx(vR,{}),label:"Chat",path:"/admin/chats"},{icon:i.jsx(wR,{}),label:"Pengguna",path:"/admin/users"},{icon:i.jsx(Bj,{}),label:"Pesanan",path:"/admin/orders"},{icon:i.jsx(xR,{}),label:"Voucher",path:"/admin/vouchers"},{icon:i.jsx(v1,{}),label:"Broadcast",path:"/admin/broadcast"},{icon:i.jsx(RP,{}),label:"Analitik",path:"/admin/analytics"},{icon:i.jsx(zz,{}),label:"Pengaturan",path:"/admin/settings"},{icon:i.jsx(pR,{}),label:"PPOB",path:"/admin/ppob"}];return i.jsx(gRe,{children:i.jsxs("div",{className:"flex h-screen bg-gray-100",children:[i.jsxs("div",{className:"hidden md:flex flex-col w-64 bg-white border-r",children:[i.jsx("div",{className:"flex items-center justify-center h-16 border-b",children:i.jsx("h2",{className:"text-xl font-semibold text-flame-500",children:"Panel Admin"})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-y-auto",children:i.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:l.map(c=>i.jsxs(Dt,{to:c.path,className:Ee("flex items-center px-4 py-3 text-gray-600 hover:bg-gray-100 rounded-md",e.pathname===c.path&&"bg-flame-50 text-flame-600"),children:[i.jsx("span",{className:"mr-3",children:c.icon}),c.label]},c.path))})}),i.jsx("div",{className:"p-4 border-t",children:i.jsxs("button",{onClick:()=>s(),className:"flex w-full items-center px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-md",children:[i.jsx(gR,{className:"mr-3"}),"Keluar"]})})]}),i.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-10 bg-white border-t overflow-x-auto",children:i.jsxs("div",{className:"flex min-w-full",children:[i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(Dt,{to:l[0].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[0].path&&"text-flame-600"),children:[l[0].icon,i.jsx("span",{className:"text-xs mt-1",children:l[0].label})]},l[0].path),i.jsxs(Dt,{to:l[1].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[1].path&&"text-flame-600"),children:[l[1].icon,i.jsx("span",{className:"text-xs mt-1",children:l[1].label})]},l[1].path),i.jsxs(Dt,{to:l[2].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[2].path&&"text-flame-600"),children:[l[2].icon,i.jsx("span",{className:"text-xs mt-1",children:l[2].label})]},l[2].path),i.jsxs(Dt,{to:l[3].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[3].path&&"text-flame-600"),children:[l[3].icon,i.jsx("span",{className:"text-xs mt-1",children:l[3].label})]},l[3].path)]}),i.jsxs("div",{className:"grid grid-cols-4 w-full",children:[i.jsxs(Dt,{to:l[4].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[4].path&&"text-flame-600"),children:[l[4].icon,i.jsx("span",{className:"text-xs mt-1",children:l[4].label})]},l[4].path),i.jsxs(Dt,{to:l[5].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[5].path&&"text-flame-600"),children:[l[5].icon,i.jsx("span",{className:"text-xs mt-1",children:l[5].label})]},l[5].path),i.jsxs(Dt,{to:l[6].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[6].path&&"text-flame-600"),children:[l[6].icon,i.jsx("span",{className:"text-xs mt-1",children:l[6].label})]},l[6].path),i.jsxs(Dt,{to:l[7].path,className:Ee("flex flex-col items-center py-2 px-1",e.pathname===l[7].path&&"text-flame-600"),children:[l[7].icon,i.jsx("span",{className:"text-xs mt-1",children:l[7].label})]},l[7].path)]})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-100 p-4 pb-16 md:pb-4",children:t})})]})})}var ON,f$;function Oa(){if(f$)return ON;f$=1;var t=Array.isArray;return ON=t,ON}var FN,h$;function Sne(){if(h$)return FN;h$=1;var t=typeof Pw=="object"&&Pw&&Pw.Object===Object&&Pw;return FN=t,FN}var RN,m$;function jl(){if(m$)return RN;m$=1;var t=Sne(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return RN=r,RN}var DN,p$;function o0(){if(p$)return DN;p$=1;var t=jl(),e=t.Symbol;return DN=e,DN}var UN,g$;function vRe(){if(g$)return UN;g$=1;var t=o0(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function a(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[s]=c:delete o[s]),d}return UN=a,UN}var MN,v$;function yRe(){if(v$)return MN;v$=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return MN=r,MN}var QN,y$;function jc(){if(y$)return QN;y$=1;var t=o0(),e=vRe(),r=yRe(),n="[object Null]",s="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:a&&a in Object(l)?e(l):r(l)}return QN=o,QN}var LN,x$;function Cc(){if(x$)return LN;x$=1;function t(e){return e!=null&&typeof e=="object"}return LN=t,LN}var HN,w$;function Pp(){if(w$)return HN;w$=1;var t=jc(),e=Cc(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return HN=n,HN}var $N,b$;function B4(){if(b$)return $N;b$=1;var t=Oa(),e=Pp(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return $N=s,$N}var VN,_$;function pA(){if(_$)return VN;_$=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return VN=t,VN}var KN,j$;function E4(){if(j$)return KN;j$=1;var t=jc(),e=pA(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==s||c==r||c==a}return KN=o,KN}var qN,C$;function xRe(){if(C$)return qN;C$=1;var t=jl(),e=t["__core-js_shared__"];return qN=e,qN}var zN,B$;function wRe(){if(B$)return zN;B$=1;var t=xRe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return zN=r,zN}var GN,E$;function Nne(){if(E$)return GN;E$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return GN=r,GN}var WN,S$;function bRe(){if(S$)return WN;S$=1;var t=E4(),e=wRe(),r=pA(),n=Nne(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(m){if(!r(m)||e(m))return!1;var p=t(m)?d:a;return p.test(n(m))}return WN=f,WN}var XN,N$;function _Re(){if(N$)return XN;N$=1;function t(e,r){return e==null?void 0:e[r]}return XN=t,XN}var JN,T$;function df(){if(T$)return JN;T$=1;var t=bRe(),e=_Re();function r(n,s){var a=e(n,s);return t(a)?a:void 0}return JN=r,JN}var YN,k$;function VC(){if(k$)return YN;k$=1;var t=df(),e=t(Object,"create");return YN=e,YN}var ZN,I$;function jRe(){if(I$)return ZN;I$=1;var t=VC();function e(){this.__data__=t?t(null):{},this.size=0}return ZN=e,ZN}var eT,P$;function CRe(){if(P$)return eT;P$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return eT=t,eT}var tT,O$;function BRe(){if(O$)return tT;O$=1;var t=VC(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return tT=s,tT}var rT,F$;function ERe(){if(F$)return rT;F$=1;var t=VC(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var a=this.__data__;return t?a[s]!==void 0:r.call(a,s)}return rT=n,rT}var nT,R$;function SRe(){if(R$)return nT;R$=1;var t=VC(),e="__lodash_hash_undefined__";function r(n,s){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&s===void 0?e:s,this}return nT=r,nT}var sT,D$;function NRe(){if(D$)return sT;D$=1;var t=jRe(),e=CRe(),r=BRe(),n=ERe(),s=SRe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,sT=a,sT}var aT,U$;function TRe(){if(U$)return aT;U$=1;function t(){this.__data__=[],this.size=0}return aT=t,aT}var iT,M$;function S4(){if(M$)return iT;M$=1;function t(e,r){return e===r||e!==e&&r!==r}return iT=t,iT}var oT,Q$;function KC(){if(Q$)return oT;Q$=1;var t=S4();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return oT=e,oT}var lT,L$;function kRe(){if(L$)return lT;L$=1;var t=KC(),e=Array.prototype,r=e.splice;function n(s){var a=this.__data__,o=t(a,s);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return lT=n,lT}var cT,H$;function IRe(){if(H$)return cT;H$=1;var t=KC();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return cT=e,cT}var uT,$$;function PRe(){if($$)return uT;$$=1;var t=KC();function e(r){return t(this.__data__,r)>-1}return uT=e,uT}var AT,V$;function ORe(){if(V$)return AT;V$=1;var t=KC();function e(r,n){var s=this.__data__,a=t(s,r);return a<0?(++this.size,s.push([r,n])):s[a][1]=n,this}return AT=e,AT}var dT,K$;function qC(){if(K$)return dT;K$=1;var t=TRe(),e=kRe(),r=IRe(),n=PRe(),s=ORe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,dT=a,dT}var fT,q$;function N4(){if(q$)return fT;q$=1;var t=df(),e=jl(),r=t(e,"Map");return fT=r,fT}var hT,z$;function FRe(){if(z$)return hT;z$=1;var t=NRe(),e=qC(),r=N4();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return hT=n,hT}var mT,G$;function RRe(){if(G$)return mT;G$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return mT=t,mT}var pT,W$;function zC(){if(W$)return pT;W$=1;var t=RRe();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return pT=e,pT}var gT,X$;function DRe(){if(X$)return gT;X$=1;var t=zC();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return gT=e,gT}var vT,J$;function URe(){if(J$)return vT;J$=1;var t=zC();function e(r){return t(this,r).get(r)}return vT=e,vT}var yT,Y$;function MRe(){if(Y$)return yT;Y$=1;var t=zC();function e(r){return t(this,r).has(r)}return yT=e,yT}var xT,Z$;function QRe(){if(Z$)return xT;Z$=1;var t=zC();function e(r,n){var s=t(this,r),a=s.size;return s.set(r,n),this.size+=s.size==a?0:1,this}return xT=e,xT}var wT,eV;function T4(){if(eV)return wT;eV=1;var t=FRe(),e=DRe(),r=URe(),n=MRe(),s=QRe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,wT=a,wT}var bT,tV;function Tne(){if(tV)return bT;tV=1;var t=T4(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var a=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return a.cache=c.set(l,u)||c,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,bT=r,bT}var _T,rV;function LRe(){if(rV)return _T;rV=1;var t=Tne(),e=500;function r(n){var s=t(n,function(o){return a.size===e&&a.clear(),o}),a=s.cache;return s}return _T=r,_T}var jT,nV;function HRe(){if(nV)return jT;nV=1;var t=LRe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(e,function(o,l,c,u){a.push(c?u.replace(r,"$1"):l||o)}),a});return jT=n,jT}var CT,sV;function k4(){if(sV)return CT;sV=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,a=Array(s);++n<s;)a[n]=r(e[n],n,e);return a}return CT=t,CT}var BT,aV;function $Re(){if(aV)return BT;aV=1;var t=o0(),e=k4(),r=Oa(),n=Pp(),s=t?t.prototype:void 0,a=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return BT=o,BT}var ET,iV;function kne(){if(iV)return ET;iV=1;var t=$Re();function e(r){return r==null?"":t(r)}return ET=e,ET}var ST,oV;function Ine(){if(oV)return ST;oV=1;var t=Oa(),e=B4(),r=HRe(),n=kne();function s(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return ST=s,ST}var NT,lV;function GC(){if(lV)return NT;lV=1;var t=Pp();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return NT=e,NT}var TT,cV;function I4(){if(cV)return TT;cV=1;var t=Ine(),e=GC();function r(n,s){s=t(s,n);for(var a=0,o=s.length;n!=null&&a<o;)n=n[e(s[a++])];return a&&a==o?n:void 0}return TT=r,TT}var kT,uV;function Pne(){if(uV)return kT;uV=1;var t=I4();function e(r,n,s){var a=r==null?void 0:t(r,n);return a===void 0?s:a}return kT=e,kT}var VRe=Pne();const Pi=yr(VRe);var IT,AV;function KRe(){if(AV)return IT;AV=1;function t(e){return e==null}return IT=t,IT}var qRe=KRe();const sr=yr(qRe);var PT,dV;function zRe(){if(dV)return PT;dV=1;var t=jc(),e=Oa(),r=Cc(),n="[object String]";function s(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return PT=s,PT}var GRe=zRe();const l0=yr(GRe);var WRe=E4();const er=yr(WRe);var XRe=pA();const Op=yr(XRe);var OT={exports:{}},Cr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fV;function JRe(){if(fV)return Cr;fV=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(v){if(typeof v=="object"&&v!==null){var _=v.$$typeof;switch(_){case t:switch(v=v.type,v){case r:case s:case n:case u:case d:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case m:case f:case a:return v;default:return _}}case e:return _}}}return Cr.ContextConsumer=o,Cr.ContextProvider=a,Cr.Element=t,Cr.ForwardRef=c,Cr.Fragment=r,Cr.Lazy=m,Cr.Memo=f,Cr.Portal=e,Cr.Profiler=s,Cr.StrictMode=n,Cr.Suspense=u,Cr.SuspenseList=d,Cr.isAsyncMode=function(){return!1},Cr.isConcurrentMode=function(){return!1},Cr.isContextConsumer=function(v){return x(v)===o},Cr.isContextProvider=function(v){return x(v)===a},Cr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Cr.isForwardRef=function(v){return x(v)===c},Cr.isFragment=function(v){return x(v)===r},Cr.isLazy=function(v){return x(v)===m},Cr.isMemo=function(v){return x(v)===f},Cr.isPortal=function(v){return x(v)===e},Cr.isProfiler=function(v){return x(v)===s},Cr.isStrictMode=function(v){return x(v)===n},Cr.isSuspense=function(v){return x(v)===u},Cr.isSuspenseList=function(v){return x(v)===d},Cr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===n||v===u||v===d||v===p||typeof v=="object"&&v!==null&&(v.$$typeof===m||v.$$typeof===f||v.$$typeof===a||v.$$typeof===o||v.$$typeof===c||v.$$typeof===y||v.getModuleId!==void 0)},Cr.typeOf=x,Cr}var hV;function YRe(){return hV||(hV=1,OT.exports=JRe()),OT.exports}var One=YRe(),FT,mV;function Fne(){if(mV)return FT;mV=1;var t=jc(),e=Cc(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return FT=n,FT}var RT,pV;function ZRe(){if(pV)return RT;pV=1;var t=Fne();function e(r){return t(r)&&r!=+r}return RT=e,RT}var eDe=ZRe();const c0=yr(eDe);var tDe=Fne();const rDe=yr(tDe);var xo=function(e){return e===0?0:e>0?1:-1},xd=function(e){return l0(e)&&e.indexOf("%")===e.length-1},Je=function(e){return rDe(e)&&!c0(e)},Kn=function(e){return Je(e)||l0(e)},nDe=0,u0=function(e){var r=++nDe;return"".concat(e||"").concat(r)},sf=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!l0(e))return n;var a;if(xd(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return c0(a)&&(a=n),s&&a>r&&(a=r),a},vu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},sDe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},ho=function(e,r){return Je(e)&&Je(r)?function(n){return e+n*(r-e)}:function(){return r}};function E_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Pi(n,e))===r})}function em(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function VO(t){"@babel/helpers - typeof";return VO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VO(t)}var aDe=["viewBox","children"],iDe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gV=["points","pathLength"],DT={svg:aDe,polygon:gV,polyline:gV},P4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],S_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),!Op(n))return null;var s={};return Object.keys(n).forEach(function(a){P4.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},oDe=function(e,r,n){return function(s){return e(r,n,s),null}},N_=function(e,r,n){if(!Op(e)||VO(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(a){var o=e[a];P4.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=oDe(o,r,n))}),s},lDe=["children"],cDe=["children"];function vV(t,e){if(t==null)return{};var r=uDe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KO(t){"@babel/helpers - typeof";return KO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KO(t)}var yV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},ac=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},xV=null,UT=null,O4=function t(e){if(e===xV&&Array.isArray(UT))return UT;var r=[];return w.Children.forEach(e,function(n){sr(n)||(One.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),UT=r,xV=e,r};function Oi(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return ac(s)}):n=[ac(e)],O4(t).forEach(function(s){var a=Pi(s,"type.displayName")||Pi(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Xa(t,e){var r=Oi(t,e);return r&&r[0]}var wV=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Je(n)||n<=0||!Je(s)||s<=0)},ADe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],dDe=function(e){return e&&e.type&&l0(e.type)&&ADe.indexOf(e.type)>=0},fDe=function(e){return e&&KO(e)==="object"&&"clipDot"in e},hDe=function(e,r,n,s){var a,o=(a=DT==null?void 0:DT[s])!==null&&a!==void 0?a:[];return!er(e)&&(s&&o.includes(r)||iDe.includes(r))||n&&P4.includes(r)},Ar=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(w.isValidElement(e)&&(s=e.props),!Op(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;hDe((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},qO=function t(e,r){if(e===r)return!0;var n=w.Children.count(e);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return bV(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=e[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!bV(a,o))return!1}return!0},bV=function(e,r){if(sr(e)&&sr(r))return!0;if(!sr(e)&&!sr(r)){var n=e.props||{},s=n.children,a=vV(n,lDe),o=r.props||{},l=o.children,c=vV(o,cDe);return s&&l?em(a,c)&&qO(s,l):!s&&!l?em(a,c):!1}return!1},_V=function(e,r){var n=[],s={};return O4(e).forEach(function(a,o){if(dDe(a))n.push(a);else if(a){var l=ac(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);n.push(f),s[l]=!0}}}),n},mDe=function(e){var r=e&&e.type;return r&&yV[r]?yV[r]:null},pDe=function(e,r){return O4(r).indexOf(e)},gDe=["children","width","height","viewBox","className","style","title","desc"];function zO(){return zO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zO.apply(this,arguments)}function vDe(t,e){if(t==null)return{};var r=yDe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GO(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=vDe(t,gDe),d=s||{width:r,height:n,x:0,y:0},f=pr("recharts-surface",a);return Y.createElement("svg",zO({},Ar(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),e)}var xDe=["children","className"];function WO(){return WO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WO.apply(this,arguments)}function wDe(t,e){if(t==null)return{};var r=bDe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bn=Y.forwardRef(function(t,e){var r=t.children,n=t.className,s=wDe(t,xDe),a=pr("recharts-layer",n);return Y.createElement("g",WO({className:a},Ar(s,!0),{ref:e}),r)}),ic=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]},MT,jV;function _De(){if(jV)return MT;jV=1;function t(e,r,n){var s=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++s<a;)o[s]=e[s+r];return o}return MT=t,MT}var QT,CV;function jDe(){if(CV)return QT;CV=1;var t=_De();function e(r,n,s){var a=r.length;return s=s===void 0?a:s,!n&&s>=a?r:t(r,n,s)}return QT=e,QT}var LT,BV;function Rne(){if(BV)return LT;BV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+a+"]");function c(u){return l.test(u)}return LT=c,LT}var HT,EV;function CDe(){if(EV)return HT;EV=1;function t(e){return e.split("")}return HT=t,HT}var $T,SV;function BDe(){if(SV)return $T;SV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",y=u+"?",x="["+a+"]?",v="(?:"+p+"(?:"+[d,f,m].join("|")+")"+x+y+")*",_=x+y+v,j="(?:"+[d+l+"?",l,f,m,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+j+_,"g");function C(N){return N.match(S)||[]}return $T=C,$T}var VT,NV;function EDe(){if(NV)return VT;NV=1;var t=CDe(),e=Rne(),r=BDe();function n(s){return e(s)?r(s):t(s)}return VT=n,VT}var KT,TV;function SDe(){if(TV)return KT;TV=1;var t=jDe(),e=Rne(),r=EDe(),n=kne();function s(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[a]()+u}}return KT=s,KT}var qT,kV;function NDe(){if(kV)return qT;kV=1;var t=SDe(),e=t("toUpperCase");return qT=e,qT}var TDe=NDe();const WC=yr(TDe);function Jr(t){return function(){return t}}const Dne=Math.cos,T_=Math.sin,Oo=Math.sqrt,k_=Math.PI,XC=2*k_,XO=Math.PI,JO=2*XO,id=1e-6,kDe=JO-id;function Une(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function IDe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Une;const r=10**e;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class PDe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Une:IDe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,a,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,s,a){if(e=+e,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=s-r,d=o-e,f=l-r,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(m>id)if(!(Math.abs(f*c-u*d)>id)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,y=s-l,x=c*c+u*u,v=p*p+y*y,_=Math.sqrt(x),j=Math.sqrt(m),S=a*Math.tan((XO-Math.acos((x+m-v)/(2*_*j)))/2),C=S/j,N=S/_;Math.abs(C-1)>id&&this._append`L${e+C*d},${r+C*f}`,this._append`A${a},${a},0,0,${+(f*p>d*y)},${this._x1=e+N*c},${this._y1=r+N*u}`}}arc(e,r,n,s,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=e+l,d=r+c,f=1^o,m=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>id||Math.abs(this._y1-d)>id)&&this._append`L${u},${d}`,n&&(m<0&&(m=m%JO+JO),m>kDe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:m>id&&this._append`A${n},${n},0,${+(m>=XO)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function F4(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new PDe(e)}function R4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Mne(t){this._context=t}Mne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function JC(t){return new Mne(t)}function Qne(t){return t[0]}function Lne(t){return t[1]}function Hne(t,e){var r=Jr(!0),n=null,s=JC,a=null,o=F4(l);t=typeof t=="function"?t:t===void 0?Qne:Jr(t),e=typeof e=="function"?e:e===void 0?Lne:Jr(e);function l(c){var u,d=(c=R4(c)).length,f,m=!1,p;for(n==null&&(a=s(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+t(f,u,c),+e(f,u,c));if(p)return a=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Jr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Jr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Jr(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Nb(t,e,r){var n=null,s=Jr(!0),a=null,o=JC,l=null,c=F4(u);t=typeof t=="function"?t:t===void 0?Qne:Jr(+t),e=typeof e=="function"?e:Jr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Lne:Jr(+r);function u(f){var m,p,y,x=(f=R4(f)).length,v,_=!1,j,S=new Array(x),C=new Array(x);for(a==null&&(l=o(j=c())),m=0;m<=x;++m){if(!(m<x&&s(v=f[m],m,f))===_)if(_=!_)p=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=p;--y)l.point(S[y],C[y]);l.lineEnd(),l.areaEnd()}_&&(S[m]=+t(v,m,f),C[m]=+e(v,m,f),l.point(n?+n(v,m,f):S[m],r?+r(v,m,f):C[m]))}if(j)return l=null,j+""||null}function d(){return Hne().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Jr(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Jr(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jr(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Jr(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Jr(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jr(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Jr(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class $ne{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ODe(t){return new $ne(t,!0)}function FDe(t){return new $ne(t,!1)}const D4={draw(t,e){const r=Oo(e/k_);t.moveTo(r,0),t.arc(0,0,r,0,XC)}},RDe={draw(t,e){const r=Oo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Vne=Oo(1/3),DDe=Vne*2,UDe={draw(t,e){const r=Oo(e/DDe),n=r*Vne;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},MDe={draw(t,e){const r=Oo(e),n=-r/2;t.rect(n,n,r,r)}},QDe=.8908130915292852,Kne=T_(k_/10)/T_(7*k_/10),LDe=T_(XC/10)*Kne,HDe=-Dne(XC/10)*Kne,$De={draw(t,e){const r=Oo(e*QDe),n=LDe*r,s=HDe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let a=1;a<5;++a){const o=XC*a/5,l=Dne(o),c=T_(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},zT=Oo(3),VDe={draw(t,e){const r=-Oo(e/(zT*3));t.moveTo(0,r*2),t.lineTo(-zT*r,-r),t.lineTo(zT*r,-r),t.closePath()}},yi=-.5,xi=Oo(3)/2,YO=1/Oo(12),KDe=(YO/2+1)*3,qDe={draw(t,e){const r=Oo(e/KDe),n=r/2,s=r*YO,a=n,o=r*YO+r,l=-a,c=o;t.moveTo(n,s),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(yi*n-xi*s,xi*n+yi*s),t.lineTo(yi*a-xi*o,xi*a+yi*o),t.lineTo(yi*l-xi*c,xi*l+yi*c),t.lineTo(yi*n+xi*s,yi*s-xi*n),t.lineTo(yi*a+xi*o,yi*o-xi*a),t.lineTo(yi*l+xi*c,yi*c-xi*l),t.closePath()}};function zDe(t,e){let r=null,n=F4(s);t=typeof t=="function"?t:Jr(t||D4),e=typeof e=="function"?e:Jr(e===void 0?64:+e);function s(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(t=typeof a=="function"?a:Jr(a),s):t},s.size=function(a){return arguments.length?(e=typeof a=="function"?a:Jr(+a),s):e},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function I_(){}function P_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qne(t){this._context=t}qne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GDe(t){return new qne(t)}function zne(t){this._context=t}zne.prototype={areaStart:I_,areaEnd:I_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:P_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WDe(t){return new zne(t)}function Gne(t){this._context=t}Gne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:P_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XDe(t){return new Gne(t)}function Wne(t){this._context=t}Wne.prototype={areaStart:I_,areaEnd:I_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function JDe(t){return new Wne(t)}function IV(t){return t<0?-1:1}function PV(t,e,r){var n=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(IV(a)+IV(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function OV(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function GT(t,e,r){var n=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,s+l*e,a-l,o-l*r,a,o)}function O_(t){this._context=t}O_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:GT(this,this._t0,OV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,GT(this,OV(this,r=PV(this,t,e)),r);break;default:GT(this,this._t0,r=PV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Xne(t){this._context=new Jne(t)}(Xne.prototype=Object.create(O_.prototype)).point=function(t,e){O_.prototype.point.call(this,e,t)};function Jne(t){this._context=t}Jne.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,a){this._context.bezierCurveTo(e,t,n,r,a,s)}};function YDe(t){return new O_(t)}function ZDe(t){return new Xne(t)}function Yne(t){this._context=t}Yne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=FV(t),s=FV(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function FV(t){var e,r=t.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function e4e(t){return new Yne(t)}function YC(t,e){this._context=t,this._t=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function t4e(t){return new YC(t,.5)}function r4e(t){return new YC(t,0)}function n4e(t){return new YC(t,1)}function $m(t,e){if((o=t.length)>1)for(var r=1,n,s,a=t[e[0]],o,l=a.length;r<o;++r)for(s=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function ZO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function s4e(t,e){return t[e]}function a4e(t){const e=[];return e.key=t,e}function i4e(){var t=Jr([]),e=ZO,r=$m,n=s4e;function s(a){var o=Array.from(t.apply(this,arguments),a4e),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=R4(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Jr(Array.from(a)),s):t},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Jr(+a),s):n},s.order=function(a){return arguments.length?(e=a==null?ZO:typeof a=="function"?a:Jr(Array.from(a)),s):e},s.offset=function(a){return arguments.length?(r=a??$m,s):r},s}function o4e(t,e){if((n=t.length)>0){for(var r,n,s=0,a=t[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}$m(t,e)}}function l4e(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}$m(t,e)}}function c4e(t,e){if(!(!((o=t.length)>0)||!((a=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,m=d[n-1][1]||0,p=(f-m)/2,y=0;y<l;++y){var x=t[e[y]],v=x[n][1]||0,_=x[n-1][1]||0;p+=v-_}c+=f,u+=p*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,$m(t,e)}}function Ky(t){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ky(t)}var u4e=["type","size","sizeType"];function eF(){return eF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eF.apply(this,arguments)}function RV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function DV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(r),!0).forEach(function(n){A4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A4e(t,e,r){return e=d4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d4e(t){var e=f4e(t,"string");return Ky(e)=="symbol"?e:e+""}function f4e(t,e){if(Ky(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ky(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h4e(t,e){if(t==null)return{};var r=m4e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Zne={symbolCircle:D4,symbolCross:RDe,symbolDiamond:UDe,symbolSquare:MDe,symbolStar:$De,symbolTriangle:VDe,symbolWye:qDe},p4e=Math.PI/180,g4e=function(e){var r="symbol".concat(WC(e));return Zne[r]||D4},v4e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*p4e;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},y4e=function(e,r){Zne["symbol".concat(WC(e))]=r},U4=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,a=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=h4e(e,u4e),u=DV(DV({},c),{},{type:n,size:a,sizeType:l}),d=function(){var v=g4e(n),_=zDe().type(v).size(v4e(a,l,n));return _()},f=u.className,m=u.cx,p=u.cy,y=Ar(u,!0);return m===+m&&p===+p&&a===+a?Y.createElement("path",eF({},y,{className:pr("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(p,")"),d:d()})):null};U4.registerSymbol=y4e;function Vm(t){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vm(t)}function tF(){return tF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tF.apply(this,arguments)}function UV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function x4e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UV(Object(r),!0).forEach(function(n){qy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tse(n.key),n)}}function _4e(t,e,r){return e&&b4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j4e(t,e,r){return e=F_(e),C4e(t,ese()?Reflect.construct(e,r||[],F_(t).constructor):e.apply(t,r))}function C4e(t,e){if(e&&(Vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B4e(t)}function B4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ese(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ese=function(){return!!t})()}function F_(t){return F_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F_(t)}function E4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rF(t,e)}function rF(t,e){return rF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rF(t,e)}function qy(t,e,r){return e=tse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tse(t){var e=S4e(t,"string");return Vm(e)=="symbol"?e:e+""}function S4e(t,e){if(Vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=32,M4=function(t){function e(){return w4e(this,e),j4e(this,e,arguments)}return E4e(e,t),_4e(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=wi/2,o=wi/6,l=wi/3,c=n.inactive?s:n.color;if(n.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:wi,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(wi,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(wi/8,"h").concat(wi,"v").concat(wi*3/4,"h").concat(-wi,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(n.legendIcon)){var u=x4e({},n);return delete u.legendIcon,Y.cloneElement(n.legendIcon,u)}return Y.createElement(U4,{fill:c,cx:a,cy:a,size:wi,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:wi,height:wi},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(p,y){var x=p.formatter||c,v=pr(qy(qy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",p.inactive));if(p.type==="none")return null;var _=er(p.value)?null:p.value;ic(!er(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var j=p.inactive?u:p.color;return Y.createElement("li",tF({className:v,style:f,key:"legend-item-".concat(y)},N_(n.props,p,y)),Y.createElement(GO,{width:o,height:o,viewBox:d,style:m},n.renderIcon(p)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},x?x(_,p,y):_))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(w.PureComponent);qy(M4,"displayName","Legend");qy(M4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WT,MV;function N4e(){if(MV)return WT;MV=1;var t=qC();function e(){this.__data__=new t,this.size=0}return WT=e,WT}var XT,QV;function T4e(){if(QV)return XT;QV=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return XT=t,XT}var JT,LV;function k4e(){if(LV)return JT;LV=1;function t(e){return this.__data__.get(e)}return JT=t,JT}var YT,HV;function I4e(){if(HV)return YT;HV=1;function t(e){return this.__data__.has(e)}return YT=t,YT}var ZT,$V;function P4e(){if($V)return ZT;$V=1;var t=qC(),e=N4(),r=T4(),n=200;function s(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return ZT=s,ZT}var ek,VV;function rse(){if(VV)return ek;VV=1;var t=qC(),e=N4e(),r=T4e(),n=k4e(),s=I4e(),a=P4e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=a,ek=o,ek}var tk,KV;function O4e(){if(KV)return tk;KV=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return tk=e,tk}var rk,qV;function F4e(){if(qV)return rk;qV=1;function t(e){return this.__data__.has(e)}return rk=t,rk}var nk,zV;function nse(){if(zV)return nk;zV=1;var t=T4(),e=O4e(),r=F4e();function n(s){var a=-1,o=s==null?0:s.length;for(this.__data__=new t;++a<o;)this.add(s[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,nk=n,nk}var sk,GV;function sse(){if(GV)return sk;GV=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return sk=t,sk}var ak,WV;function ase(){if(WV)return ak;WV=1;function t(e,r){return e.has(r)}return ak=t,ak}var ik,XV;function ise(){if(XV)return ik;XV=1;var t=nse(),e=sse(),r=ase(),n=1,s=2;function a(o,l,c,u,d,f){var m=c&n,p=o.length,y=l.length;if(p!=y&&!(m&&y>p))return!1;var x=f.get(o),v=f.get(l);if(x&&v)return x==l&&v==o;var _=-1,j=!0,S=c&s?new t:void 0;for(f.set(o,l),f.set(l,o);++_<p;){var C=o[_],N=l[_];if(u)var k=m?u(N,C,_,l,o,f):u(C,N,_,o,l,f);if(k!==void 0){if(k)continue;j=!1;break}if(S){if(!e(l,function(E,T){if(!r(S,T)&&(C===E||d(C,E,c,u,f)))return S.push(T)})){j=!1;break}}else if(!(C===N||d(C,N,c,u,f))){j=!1;break}}return f.delete(o),f.delete(l),j}return ik=a,ik}var ok,JV;function R4e(){if(JV)return ok;JV=1;var t=jl(),e=t.Uint8Array;return ok=e,ok}var lk,YV;function D4e(){if(YV)return lk;YV=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,a){n[++r]=[a,s]}),n}return lk=t,lk}var ck,ZV;function Q4(){if(ZV)return ck;ZV=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return ck=t,ck}var uk,e8;function U4e(){if(e8)return uk;e8=1;var t=o0(),e=R4e(),r=S4(),n=ise(),s=D4e(),a=Q4(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",m="[object Number]",p="[object RegExp]",y="[object Set]",x="[object String]",v="[object Symbol]",_="[object ArrayBuffer]",j="[object DataView]",S=t?t.prototype:void 0,C=S?S.valueOf:void 0;function N(k,E,T,P,O,D,M){switch(T){case j:if(k.byteLength!=E.byteLength||k.byteOffset!=E.byteOffset)return!1;k=k.buffer,E=E.buffer;case _:return!(k.byteLength!=E.byteLength||!D(new e(k),new e(E)));case c:case u:case m:return r(+k,+E);case d:return k.name==E.name&&k.message==E.message;case p:case x:return k==E+"";case f:var F=s;case y:var G=P&o;if(F||(F=a),k.size!=E.size&&!G)return!1;var W=M.get(k);if(W)return W==E;P|=l,M.set(k,E);var V=n(F(k),F(E),P,O,D,M);return M.delete(k),V;case v:if(C)return C.call(k)==C.call(E)}return!1}return uk=N,uk}var Ak,t8;function ose(){if(t8)return Ak;t8=1;function t(e,r){for(var n=-1,s=r.length,a=e.length;++n<s;)e[a+n]=r[n];return e}return Ak=t,Ak}var dk,r8;function M4e(){if(r8)return dk;r8=1;var t=ose(),e=Oa();function r(n,s,a){var o=s(n);return e(n)?o:t(o,a(n))}return dk=r,dk}var fk,n8;function Q4e(){if(n8)return fk;n8=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,a=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return fk=t,fk}var hk,s8;function L4e(){if(s8)return hk;s8=1;function t(){return[]}return hk=t,hk}var mk,a8;function H4e(){if(a8)return mk;a8=1;var t=Q4e(),e=L4e(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return mk=a,mk}var pk,i8;function $4e(){if(i8)return pk;i8=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return pk=t,pk}var gk,o8;function V4e(){if(o8)return gk;o8=1;var t=jc(),e=Cc(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return gk=n,gk}var vk,l8;function L4(){if(l8)return vk;l8=1;var t=V4e(),e=Cc(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return vk=a,vk}var bv={exports:{}},yk,c8;function K4e(){if(c8)return yk;c8=1;function t(){return!1}return yk=t,yk}bv.exports;var u8;function lse(){return u8||(u8=1,function(t,e){var r=jl(),n=K4e(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(bv,bv.exports)),bv.exports}var xk,A8;function H4(){if(A8)return xk;A8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var a=typeof n;return s=s??t,!!s&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return xk=r,xk}var wk,d8;function $4(){if(d8)return wk;d8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return wk=e,wk}var bk,f8;function q4e(){if(f8)return bk;f8=1;var t=jc(),e=$4(),r=Cc(),n="[object Arguments]",s="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",m="[object RegExp]",p="[object Set]",y="[object String]",x="[object WeakMap]",v="[object ArrayBuffer]",_="[object DataView]",j="[object Float32Array]",S="[object Float64Array]",C="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",E="[object Uint8Array]",T="[object Uint8ClampedArray]",P="[object Uint16Array]",O="[object Uint32Array]",D={};D[j]=D[S]=D[C]=D[N]=D[k]=D[E]=D[T]=D[P]=D[O]=!0,D[n]=D[s]=D[v]=D[a]=D[_]=D[o]=D[l]=D[c]=D[u]=D[d]=D[f]=D[m]=D[p]=D[y]=D[x]=!1;function M(F){return r(F)&&e(F.length)&&!!D[t(F)]}return bk=M,bk}var _k,h8;function cse(){if(h8)return _k;h8=1;function t(e){return function(r){return e(r)}}return _k=t,_k}var _v={exports:{}};_v.exports;var m8;function z4e(){return m8||(m8=1,function(t,e){var r=Sne(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(_v,_v.exports)),_v.exports}var jk,p8;function use(){if(p8)return jk;p8=1;var t=q4e(),e=cse(),r=z4e(),n=r&&r.isTypedArray,s=n?e(n):t;return jk=s,jk}var Ck,g8;function G4e(){if(g8)return Ck;g8=1;var t=$4e(),e=L4(),r=Oa(),n=lse(),s=H4(),a=use(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),m=!f&&e(u),p=!f&&!m&&n(u),y=!f&&!m&&!p&&a(u),x=f||m||p||y,v=x?t(u.length,String):[],_=v.length;for(var j in u)(d||l.call(u,j))&&!(x&&(j=="length"||p&&(j=="offset"||j=="parent")||y&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||s(j,_)))&&v.push(j);return v}return Ck=c,Ck}var Bk,v8;function W4e(){if(v8)return Bk;v8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return Bk=e,Bk}var Ek,y8;function Ase(){if(y8)return Ek;y8=1;function t(e,r){return function(n){return e(r(n))}}return Ek=t,Ek}var Sk,x8;function X4e(){if(x8)return Sk;x8=1;var t=Ase(),e=t(Object.keys,Object);return Sk=e,Sk}var Nk,w8;function J4e(){if(w8)return Nk;w8=1;var t=W4e(),e=X4e(),r=Object.prototype,n=r.hasOwnProperty;function s(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return Nk=s,Nk}var Tk,b8;function A0(){if(b8)return Tk;b8=1;var t=E4(),e=$4();function r(n){return n!=null&&e(n.length)&&!t(n)}return Tk=r,Tk}var kk,_8;function ZC(){if(_8)return kk;_8=1;var t=G4e(),e=J4e(),r=A0();function n(s){return r(s)?t(s):e(s)}return kk=n,kk}var Ik,j8;function Y4e(){if(j8)return Ik;j8=1;var t=M4e(),e=H4e(),r=ZC();function n(s){return t(s,r,e)}return Ik=n,Ik}var Pk,C8;function Z4e(){if(C8)return Pk;C8=1;var t=Y4e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(a,o,l,c,u,d){var f=l&e,m=t(a),p=m.length,y=t(o),x=y.length;if(p!=x&&!f)return!1;for(var v=p;v--;){var _=m[v];if(!(f?_ in o:n.call(o,_)))return!1}var j=d.get(a),S=d.get(o);if(j&&S)return j==o&&S==a;var C=!0;d.set(a,o),d.set(o,a);for(var N=f;++v<p;){_=m[v];var k=a[_],E=o[_];if(c)var T=f?c(E,k,_,o,a,d):c(k,E,_,a,o,d);if(!(T===void 0?k===E||u(k,E,l,c,d):T)){C=!1;break}N||(N=_=="constructor")}if(C&&!N){var P=a.constructor,O=o.constructor;P!=O&&"constructor"in a&&"constructor"in o&&!(typeof P=="function"&&P instanceof P&&typeof O=="function"&&O instanceof O)&&(C=!1)}return d.delete(a),d.delete(o),C}return Pk=s,Pk}var Ok,B8;function eUe(){if(B8)return Ok;B8=1;var t=df(),e=jl(),r=t(e,"DataView");return Ok=r,Ok}var Fk,E8;function tUe(){if(E8)return Fk;E8=1;var t=df(),e=jl(),r=t(e,"Promise");return Fk=r,Fk}var Rk,S8;function dse(){if(S8)return Rk;S8=1;var t=df(),e=jl(),r=t(e,"Set");return Rk=r,Rk}var Dk,N8;function rUe(){if(N8)return Dk;N8=1;var t=df(),e=jl(),r=t(e,"WeakMap");return Dk=r,Dk}var Uk,T8;function nUe(){if(T8)return Uk;T8=1;var t=eUe(),e=N4(),r=tUe(),n=dse(),s=rUe(),a=jc(),o=Nne(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",m="[object DataView]",p=o(t),y=o(e),x=o(r),v=o(n),_=o(s),j=a;return(t&&j(new t(new ArrayBuffer(1)))!=m||e&&j(new e)!=l||r&&j(r.resolve())!=u||n&&j(new n)!=d||s&&j(new s)!=f)&&(j=function(S){var C=a(S),N=C==c?S.constructor:void 0,k=N?o(N):"";if(k)switch(k){case p:return m;case y:return l;case x:return u;case v:return d;case _:return f}return C}),Uk=j,Uk}var Mk,k8;function sUe(){if(k8)return Mk;k8=1;var t=rse(),e=ise(),r=U4e(),n=Z4e(),s=nUe(),a=Oa(),o=lse(),l=use(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",m=Object.prototype,p=m.hasOwnProperty;function y(x,v,_,j,S,C){var N=a(x),k=a(v),E=N?d:s(x),T=k?d:s(v);E=E==u?f:E,T=T==u?f:T;var P=E==f,O=T==f,D=E==T;if(D&&o(x)){if(!o(v))return!1;N=!0,P=!1}if(D&&!P)return C||(C=new t),N||l(x)?e(x,v,_,j,S,C):r(x,v,E,_,j,S,C);if(!(_&c)){var M=P&&p.call(x,"__wrapped__"),F=O&&p.call(v,"__wrapped__");if(M||F){var G=M?x.value():x,W=F?v.value():v;return C||(C=new t),S(G,W,_,j,C)}}return D?(C||(C=new t),n(x,v,_,j,S,C)):!1}return Mk=y,Mk}var Qk,I8;function V4(){if(I8)return Qk;I8=1;var t=sUe(),e=Cc();function r(n,s,a,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,a,o,r,l)}return Qk=r,Qk}var Lk,P8;function aUe(){if(P8)return Lk;P8=1;var t=rse(),e=V4(),r=1,n=2;function s(a,o,l,c){var u=l.length,d=u,f=!c;if(a==null)return!d;for(a=Object(a);u--;){var m=l[u];if(f&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++u<d;){m=l[u];var p=m[0],y=a[p],x=m[1];if(f&&m[2]){if(y===void 0&&!(p in a))return!1}else{var v=new t;if(c)var _=c(y,x,p,a,o,v);if(!(_===void 0?e(x,y,r|n,c,v):_))return!1}}return!0}return Lk=s,Lk}var Hk,O8;function fse(){if(O8)return Hk;O8=1;var t=pA();function e(r){return r===r&&!t(r)}return Hk=e,Hk}var $k,F8;function iUe(){if(F8)return $k;F8=1;var t=fse(),e=ZC();function r(n){for(var s=e(n),a=s.length;a--;){var o=s[a],l=n[o];s[a]=[o,l,t(l)]}return s}return $k=r,$k}var Vk,R8;function hse(){if(R8)return Vk;R8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Vk=t,Vk}var Kk,D8;function oUe(){if(D8)return Kk;D8=1;var t=aUe(),e=iUe(),r=hse();function n(s){var a=e(s);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===s||t(o,s,a)}}return Kk=n,Kk}var qk,U8;function lUe(){if(U8)return qk;U8=1;function t(e,r){return e!=null&&r in Object(e)}return qk=t,qk}var zk,M8;function cUe(){if(M8)return zk;M8=1;var t=Ine(),e=L4(),r=Oa(),n=H4(),s=$4(),a=GC();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,m=!1;++d<f;){var p=a(c[d]);if(!(m=l!=null&&u(l,p)))break;l=l[p]}return m||++d!=f?m:(f=l==null?0:l.length,!!f&&s(f)&&n(p,f)&&(r(l)||e(l)))}return zk=o,zk}var Gk,Q8;function uUe(){if(Q8)return Gk;Q8=1;var t=lUe(),e=cUe();function r(n,s){return n!=null&&e(n,s,t)}return Gk=r,Gk}var Wk,L8;function AUe(){if(L8)return Wk;L8=1;var t=V4(),e=Pne(),r=uUe(),n=B4(),s=fse(),a=hse(),o=GC(),l=1,c=2;function u(d,f){return n(d)&&s(f)?a(o(d),f):function(m){var p=e(m,d);return p===void 0&&p===f?r(m,d):t(f,p,l|c)}}return Wk=u,Wk}var Xk,H8;function Fp(){if(H8)return Xk;H8=1;function t(e){return e}return Xk=t,Xk}var Jk,$8;function dUe(){if($8)return Jk;$8=1;function t(e){return function(r){return r==null?void 0:r[e]}}return Jk=t,Jk}var Yk,V8;function fUe(){if(V8)return Yk;V8=1;var t=I4();function e(r){return function(n){return t(n,r)}}return Yk=e,Yk}var Zk,K8;function hUe(){if(K8)return Zk;K8=1;var t=dUe(),e=fUe(),r=B4(),n=GC();function s(a){return r(a)?t(n(a)):e(a)}return Zk=s,Zk}var eI,q8;function gA(){if(q8)return eI;q8=1;var t=oUe(),e=AUe(),r=Fp(),n=Oa(),s=hUe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return eI=a,eI}var tI,z8;function mse(){if(z8)return tI;z8=1;function t(e,r,n,s){for(var a=e.length,o=n+(s?1:-1);s?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return tI=t,tI}var rI,G8;function mUe(){if(G8)return rI;G8=1;function t(e){return e!==e}return rI=t,rI}var nI,W8;function pUe(){if(W8)return nI;W8=1;function t(e,r,n){for(var s=n-1,a=e.length;++s<a;)if(e[s]===r)return s;return-1}return nI=t,nI}var sI,X8;function gUe(){if(X8)return sI;X8=1;var t=mse(),e=mUe(),r=pUe();function n(s,a,o){return a===a?r(s,a,o):t(s,e,o)}return sI=n,sI}var aI,J8;function vUe(){if(J8)return aI;J8=1;var t=gUe();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return aI=e,aI}var iI,Y8;function yUe(){if(Y8)return iI;Y8=1;function t(e,r,n){for(var s=-1,a=e==null?0:e.length;++s<a;)if(n(r,e[s]))return!0;return!1}return iI=t,iI}var oI,Z8;function xUe(){if(Z8)return oI;Z8=1;function t(){}return oI=t,oI}var lI,eK;function wUe(){if(eK)return lI;eK=1;var t=dse(),e=xUe(),r=Q4(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return lI=s,lI}var cI,tK;function bUe(){if(tK)return cI;tK=1;var t=nse(),e=vUe(),r=yUe(),n=ase(),s=wUe(),a=Q4(),o=200;function l(c,u,d){var f=-1,m=e,p=c.length,y=!0,x=[],v=x;if(d)y=!1,m=r;else if(p>=o){var _=u?null:s(c);if(_)return a(_);y=!1,m=n,v=new t}else v=u?[]:x;e:for(;++f<p;){var j=c[f],S=u?u(j):j;if(j=d||j!==0?j:0,y&&S===S){for(var C=v.length;C--;)if(v[C]===S)continue e;u&&v.push(S),x.push(j)}else m(v,S,d)||(v!==x&&v.push(S),x.push(j))}return x}return cI=l,cI}var uI,rK;function _Ue(){if(rK)return uI;rK=1;var t=gA(),e=bUe();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return uI=r,uI}var jUe=_Ue();const nK=yr(jUe);function pse(t,e,r){return e===!0?nK(t,r):er(e)?nK(t,e):t}function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}var CUe=["ref"];function sK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sK(Object(r),!0).forEach(function(n){eB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vse(n.key),n)}}function EUe(t,e,r){return e&&aK(t.prototype,e),r&&aK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SUe(t,e,r){return e=R_(e),NUe(t,gse()?Reflect.construct(e,r||[],R_(t).constructor):e.apply(t,r))}function NUe(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TUe(t)}function TUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gse=function(){return!!t})()}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R_(t)}function kUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nF(t,e)}function nF(t,e){return nF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nF(t,e)}function eB(t,e,r){return e=vse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vse(t){var e=IUe(t,"string");return Km(e)=="symbol"?e:e+""}function IUe(t,e){if(Km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function PUe(t,e){if(t==null)return{};var r=OUe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function OUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FUe(t){return t.value}function RUe(t,e){if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return Y.createElement(t,e);e.ref;var r=PUe(e,CUe);return Y.createElement(M4,r)}var iK=1,tm=function(t){function e(){var r;BUe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=SUe(this,e,[].concat(s)),eB(r,"lastBoundingBox",{width:-1,height:-1}),r}return kUe(e,t),EUe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>iK||Math.abs(s.height-this.lastBoundingBox.height)>iK)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Kl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,m;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();m={top:((d||0)-y.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Kl(Kl({},f),m)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=Kl(Kl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},RUe(a,Kl(Kl({},this.props),{},{payload:pse(d,u,FUe)})))}}],[{key:"getWithHeight",value:function(n,s){var a=Kl(Kl({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&Je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(w.PureComponent);eB(tm,"displayName","Legend");eB(tm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var AI,oK;function DUe(){if(oK)return AI;oK=1;var t=o0(),e=L4(),r=Oa(),n=t?t.isConcatSpreadable:void 0;function s(a){return r(a)||e(a)||!!(n&&a&&a[n])}return AI=s,AI}var dI,lK;function yse(){if(lK)return dI;lK=1;var t=ose(),e=DUe();function r(n,s,a,o,l){var c=-1,u=n.length;for(a||(a=e),l||(l=[]);++c<u;){var d=n[c];s>0&&a(d)?s>1?r(d,s-1,a,o,l):t(l,d):o||(l[l.length]=d)}return l}return dI=r,dI}var fI,cK;function UUe(){if(cK)return fI;cK=1;function t(e){return function(r,n,s){for(var a=-1,o=Object(r),l=s(r),c=l.length;c--;){var u=l[e?c:++a];if(n(o[u],u,o)===!1)break}return r}}return fI=t,fI}var hI,uK;function MUe(){if(uK)return hI;uK=1;var t=UUe(),e=t();return hI=e,hI}var mI,AK;function xse(){if(AK)return mI;AK=1;var t=MUe(),e=ZC();function r(n,s){return n&&t(n,s,e)}return mI=r,mI}var pI,dK;function QUe(){if(dK)return pI;dK=1;var t=A0();function e(r,n){return function(s,a){if(s==null)return s;if(!t(s))return r(s,a);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return s}}return pI=e,pI}var gI,fK;function K4(){if(fK)return gI;fK=1;var t=xse(),e=QUe(),r=e(t);return gI=r,gI}var vI,hK;function wse(){if(hK)return vI;hK=1;var t=K4(),e=A0();function r(n,s){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++a]=s(l,c,u)}),o}return vI=r,vI}var yI,mK;function LUe(){if(mK)return yI;mK=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return yI=t,yI}var xI,pK;function HUe(){if(pK)return xI;pK=1;var t=Pp();function e(r,n){if(r!==n){var s=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||a&&c&&d||!s&&d||!o)return 1;if(!a&&!l&&!f&&r<n||f&&s&&o&&!a&&!l||u&&s&&o||!c&&o||!d)return-1}return 0}return xI=e,xI}var wI,gK;function $Ue(){if(gK)return wI;gK=1;var t=HUe();function e(r,n,s){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,u=s.length;++a<c;){var d=t(o[a],l[a]);if(d){if(a>=u)return d;var f=s[a];return d*(f=="desc"?-1:1)}}return r.index-n.index}return wI=e,wI}var bI,vK;function VUe(){if(vK)return bI;vK=1;var t=k4(),e=I4(),r=gA(),n=wse(),s=LUe(),a=cse(),o=$Ue(),l=Fp(),c=Oa();function u(d,f,m){f.length?f=t(f,function(x){return c(x)?function(v){return e(v,x.length===1?x[0]:x)}:x}):f=[l];var p=-1;f=t(f,a(r));var y=n(d,function(x,v,_){var j=t(f,function(S){return S(x)});return{criteria:j,index:++p,value:x}});return s(y,function(x,v){return o(x,v,m)})}return bI=u,bI}var _I,yK;function KUe(){if(yK)return _I;yK=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return _I=t,_I}var jI,xK;function qUe(){if(xK)return jI;xK=1;var t=KUe(),e=Math.max;function r(n,s,a){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),u=Array(c);++l<c;)u[l]=o[s+l];l=-1;for(var d=Array(s+1);++l<s;)d[l]=o[l];return d[s]=a(u),t(n,this,d)}}return jI=r,jI}var CI,wK;function zUe(){if(wK)return CI;wK=1;function t(e){return function(){return e}}return CI=t,CI}var BI,bK;function bse(){if(bK)return BI;bK=1;var t=df(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return BI=e,BI}var EI,_K;function GUe(){if(_K)return EI;_K=1;var t=zUe(),e=bse(),r=Fp(),n=e?function(s,a){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return EI=n,EI}var SI,jK;function WUe(){if(jK)return SI;jK=1;var t=800,e=16,r=Date.now;function n(s){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}return SI=n,SI}var NI,CK;function XUe(){if(CK)return NI;CK=1;var t=GUe(),e=WUe(),r=e(t);return NI=r,NI}var TI,BK;function JUe(){if(BK)return TI;BK=1;var t=Fp(),e=qUe(),r=XUe();function n(s,a){return r(e(s,a,t),s+"")}return TI=n,TI}var kI,EK;function tB(){if(EK)return kI;EK=1;var t=S4(),e=A0(),r=H4(),n=pA();function s(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return kI=s,kI}var II,SK;function YUe(){if(SK)return II;SK=1;var t=yse(),e=VUe(),r=JUe(),n=tB(),s=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return II=s,II}var ZUe=YUe();const q4=yr(ZUe);function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function sF(){return sF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sF.apply(this,arguments)}function eMe(t,e){return sMe(t)||nMe(t,e)||rMe(t,e)||tMe()}function tMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rMe(t,e){if(t){if(typeof t=="string")return NK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NK(t,e)}}function NK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sMe(t){if(Array.isArray(t))return t}function TK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function PI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TK(Object(r),!0).forEach(function(n){aMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aMe(t,e,r){return e=iMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iMe(t){var e=oMe(t,"string");return zy(e)=="symbol"?e:e+""}function oMe(t,e){if(zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lMe(t){return Array.isArray(t)&&Kn(t[0])&&Kn(t[1])?t.join(" ~ "):t}var cMe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,a=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,m=e.itemSorter,p=e.wrapperClassName,y=e.labelClassName,x=e.label,v=e.labelFormatter,_=e.accessibilityLayer,j=_===void 0?!1:_,S=function(){if(d&&d.length){var M={padding:0,margin:0},F=(m?q4(d,m):d).map(function(G,W){if(G.type==="none")return null;var V=PI({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},l),H=G.formatter||f||lMe,Q=G.value,z=G.name,q=Q,$=z;if(H&&q!=null&&$!=null){var J=H(Q,z,G,W,d);if(Array.isArray(J)){var le=eMe(J,2);q=le[0],$=le[1]}else q=J}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:V},Kn($)?Y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,Kn($)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},q),Y.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:M},F)}return null},C=PI({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),N=PI({margin:0},u),k=!sr(x),E=k?x:"",T=pr("recharts-default-tooltip",p),P=pr("recharts-tooltip-label",y);k&&v&&d!==void 0&&d!==null&&(E=v(x,d));var O=j?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",sF({className:T,style:C},O),Y.createElement("p",{className:P,style:N},Y.isValidElement(E)?E:"".concat(E)),S())};function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function Tb(t,e,r){return e=uMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uMe(t){var e=AMe(t,"string");return Gy(e)=="symbol"?e:e+""}function AMe(t,e){if(Gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yg="recharts-tooltip-wrapper",dMe={visibility:"hidden"};function fMe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return pr(Yg,Tb(Tb(Tb(Tb({},"".concat(Yg,"-right"),Je(r)&&e&&Je(e.x)&&r>=e.x),"".concat(Yg,"-left"),Je(r)&&e&&Je(e.x)&&r<e.x),"".concat(Yg,"-bottom"),Je(n)&&e&&Je(e.y)&&n>=e.y),"".concat(Yg,"-top"),Je(n)&&e&&Je(e.y)&&n<e.y))}function kK(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&Je(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(e[n])return o[n]?d:f;if(o[n]){var m=d,p=c[n];return m<p?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(f,c[n])}function hMe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function mMe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=kK({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=kK({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=hMe({translateX:d,translateY:f,useTranslate3d:l})):u=dMe,{cssProperties:u,cssClasses:fMe({translateX:d,translateY:f,coordinate:r})}}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}function IK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function PK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IK(Object(r),!0).forEach(function(n){iF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jse(n.key),n)}}function vMe(t,e,r){return e&&gMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yMe(t,e,r){return e=D_(e),xMe(t,_se()?Reflect.construct(e,r||[],D_(t).constructor):e.apply(t,r))}function xMe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wMe(t)}function wMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _se(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_se=function(){return!!t})()}function D_(t){return D_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},D_(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aF(t,e)}function aF(t,e){return aF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aF(t,e)}function iF(t,e,r){return e=jse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jse(t){var e=_Me(t,"string");return qm(e)=="symbol"?e:e+""}function _Me(t,e){if(qm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var OK=1,jMe=function(t){function e(){var r;pMe(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=yMe(this,e,[].concat(s)),iF(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iF(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return bMe(e,t),vMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>OK||Math.abs(n.height-this.state.lastBoundingBox.height)>OK)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,m=s.isAnimationActive,p=s.offset,y=s.position,x=s.reverseDirection,v=s.useTranslate3d,_=s.viewBox,j=s.wrapperStyle,S=mMe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:_}),C=S.cssClasses,N=S.cssProperties,k=PK(PK({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},j);return Y.createElement("div",{tabIndex:-1,className:C,style:k,ref:function(T){n.wrapperNode=T}},u)}}])}(w.PureComponent),CMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Rp={isSsr:CMe()};function zm(t){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zm(t)}function FK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FK(Object(r),!0).forEach(function(n){z4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bse(n.key),n)}}function SMe(t,e,r){return e&&EMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NMe(t,e,r){return e=U_(e),TMe(t,Cse()?Reflect.construct(e,r||[],U_(t).constructor):e.apply(t,r))}function TMe(t,e){if(e&&(zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kMe(t)}function kMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cse=function(){return!!t})()}function U_(t){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U_(t)}function IMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oF(t,e)}function oF(t,e){return oF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},oF(t,e)}function z4(t,e,r){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bse(t){var e=PMe(t,"string");return zm(e)=="symbol"?e:e+""}function PMe(t,e){if(zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OMe(t){return t.dataKey}function FMe(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(cMe,e)}var co=function(t){function e(){return BMe(this,e),NMe(this,e,arguments)}return IMe(e,t),SMe(e,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,m=s.isAnimationActive,p=s.offset,y=s.payload,x=s.payloadUniqBy,v=s.position,_=s.reverseDirection,j=s.useTranslate3d,S=s.viewBox,C=s.wrapperStyle,N=y??[];f&&N.length&&(N=pse(y.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),x,OMe));var k=N.length>0;return Y.createElement(jMe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:k,offset:p,position:v,reverseDirection:_,useTranslate3d:j,viewBox:S,wrapperStyle:C},FMe(u,RK(RK({},this.props),{},{payload:N})))}}])}(w.PureComponent);z4(co,"displayName","Tooltip");z4(co,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Rp.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var OI,DK;function RMe(){if(DK)return OI;DK=1;var t=jl(),e=function(){return t.Date.now()};return OI=e,OI}var FI,UK;function DMe(){if(UK)return FI;UK=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return FI=e,FI}var RI,MK;function UMe(){if(MK)return RI;MK=1;var t=DMe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return RI=r,RI}var DI,QK;function Ese(){if(QK)return DI;QK=1;var t=UMe(),e=pA(),r=Pp(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):s.test(u)?n:+u}return DI=c,DI}var UI,LK;function MMe(){if(LK)return UI;LK=1;var t=pA(),e=RMe(),r=Ese(),n="Expected a function",s=Math.max,a=Math.min;function o(l,c,u){var d,f,m,p,y,x,v=0,_=!1,j=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(_=!!u.leading,j="maxWait"in u,m=j?s(r(u.maxWait)||0,c):m,S="trailing"in u?!!u.trailing:S);function C(F){var G=d,W=f;return d=f=void 0,v=F,p=l.apply(W,G),p}function N(F){return v=F,y=setTimeout(T,c),_?C(F):p}function k(F){var G=F-x,W=F-v,V=c-G;return j?a(V,m-W):V}function E(F){var G=F-x,W=F-v;return x===void 0||G>=c||G<0||j&&W>=m}function T(){var F=e();if(E(F))return P(F);y=setTimeout(T,k(F))}function P(F){return y=void 0,S&&d?C(F):(d=f=void 0,p)}function O(){y!==void 0&&clearTimeout(y),v=0,d=x=f=y=void 0}function D(){return y===void 0?p:P(e())}function M(){var F=e(),G=E(F);if(d=arguments,f=this,x=F,G){if(y===void 0)return N(x);if(j)return clearTimeout(y),y=setTimeout(T,c),C(x)}return y===void 0&&(y=setTimeout(T,c)),p}return M.cancel=O,M.flush=D,M}return UI=o,UI}var MI,HK;function QMe(){if(HK)return MI;HK=1;var t=MMe(),e=pA(),r="Expected a function";function n(s,a,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,a,{leading:l,maxWait:a,trailing:c})}return MI=n,MI}var LMe=QMe();const Sse=yr(LMe);function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function $K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(r),!0).forEach(function(n){HMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HMe(t,e,r){return e=$Me(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Me(t){var e=VMe(t,"string");return Wy(e)=="symbol"?e:e+""}function VMe(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KMe(t,e){return WMe(t)||GMe(t,e)||zMe(t,e)||qMe()}function qMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zMe(t,e){if(t){if(typeof t=="string")return VK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VK(t,e)}}function VK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function GMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function WMe(t){if(Array.isArray(t))return t}var XMe=w.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,m=t.maxHeight,p=t.children,y=t.debounce,x=y===void 0?0:y,v=t.id,_=t.className,j=t.onResize,S=t.style,C=S===void 0?{}:S,N=w.useRef(null),k=w.useRef();k.current=j,w.useImperativeHandle(e,function(){return Object.defineProperty(N.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),N.current},configurable:!0})});var E=w.useState({containerWidth:s.width,containerHeight:s.height}),T=KMe(E,2),P=T[0],O=T[1],D=w.useCallback(function(F,G){O(function(W){var V=Math.round(F),H=Math.round(G);return W.containerWidth===V&&W.containerHeight===H?W:{containerWidth:V,containerHeight:H}})},[]);w.useEffect(function(){var F=function(z){var q,$=z[0].contentRect,J=$.width,le=$.height;D(J,le),(q=k.current)===null||q===void 0||q.call(k,J,le)};x>0&&(F=Sse(F,x,{trailing:!0,leading:!1}));var G=new ResizeObserver(F),W=N.current.getBoundingClientRect(),V=W.width,H=W.height;return D(V,H),G.observe(N.current),function(){G.disconnect()}},[D,x]);var M=w.useMemo(function(){var F=P.containerWidth,G=P.containerHeight;if(F<0||G<0)return null;ic(xd(o)||xd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ic(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=xd(o)?F:o,V=xd(c)?G:c;r&&r>0&&(W?V=W/r:V&&(W=V*r),m&&V>m&&(V=m)),ic(W>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,V,o,c,d,f,r);var H=!Array.isArray(p)&&ac(p.type).endsWith("Chart");return Y.Children.map(p,function(Q){return One.isElement(Q)?w.cloneElement(Q,kb({width:W,height:V},H?{style:kb({height:"100%",width:"100%",maxHeight:V,maxWidth:W},Q.props.style)}:{})):Q})},[r,p,c,m,f,d,P,o]);return Y.createElement("div",{id:v?"".concat(v):void 0,className:pr("recharts-responsive-container",_),style:kb(kb({},C),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:N},M)}),Nse=function(e){return null};Nse.displayName="Cell";function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function KK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KK(Object(r),!0).forEach(function(n){JMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e,r){return e=YMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YMe(t){var e=ZMe(t,"string");return Xy(e)=="symbol"?e:e+""}function ZMe(t,e){if(Xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sh={widthCache:{},cacheCount:0},eQe=2e3,tQe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qK="recharts_measurement_span";function rQe(t){var e=lF({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Kv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rp.isSsr)return{width:0,height:0};var n=rQe(r),s=JSON.stringify({text:e,copyStyle:n});if(Sh.widthCache[s])return Sh.widthCache[s];try{var a=document.getElementById(qK);a||(a=document.createElement("span"),a.setAttribute("id",qK),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=lF(lF({},tQe),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Sh.widthCache[s]=c,++Sh.cacheCount>eQe&&(Sh.cacheCount=0,Sh.widthCache={}),c}catch{return{width:0,height:0}}},nQe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Jy(t){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jy(t)}function M_(t,e){return oQe(t)||iQe(t,e)||aQe(t,e)||sQe()}function sQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQe(t,e){if(t){if(typeof t=="string")return zK(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zK(t,e)}}function zK(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oQe(t){if(Array.isArray(t))return t}function lQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GK(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uQe(n.key),n)}}function cQe(t,e,r){return e&&GK(t.prototype,e),r&&GK(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uQe(t){var e=AQe(t,"string");return Jy(e)=="symbol"?e:e+""}function AQe(t,e){if(Jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dQe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fQe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Tse={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hQe=Object.keys(Tse),$h="NaN";function mQe(t,e){return t*Tse[e]}var Ib=function(){function t(e,r){lQe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!dQe.test(r)&&(this.num=NaN,this.unit=""),hQe.includes(r)&&(this.num=mQe(e,r),this.unit="px")}return cQe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=fQe.exec(r))!==null&&n!==void 0?n:[],a=M_(s,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function kse(t){if(t.includes($h))return $h;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=WK.exec(e))!==null&&r!==void 0?r:[],s=M_(n,4),a=s[1],o=s[2],l=s[3],c=Ib.parse(a??""),u=Ib.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $h;e=e.replace(WK,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,m=(f=XK.exec(e))!==null&&f!==void 0?f:[],p=M_(m,4),y=p[1],x=p[2],v=p[3],_=Ib.parse(y??""),j=Ib.parse(v??""),S=x==="+"?_.add(j):_.subtract(j);if(S.isNaN())return $h;e=e.replace(XK,S.toString())}return e}var JK=/\(([^()]*)\)/;function pQe(t){for(var e=t;e.includes("(");){var r=JK.exec(e),n=M_(r,2),s=n[1];e=e.replace(JK,kse(s))}return e}function gQe(t){var e=t.replace(/\s+/g,"");return e=pQe(e),e=kse(e),e}function vQe(t){try{return gQe(t)}catch{return $h}}function QI(t){var e=vQe(t.slice(5,-1));return e===$h?"":e}var yQe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xQe=["dx","dy","angle","className","breakAll"];function cF(){return cF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cF.apply(this,arguments)}function YK(t,e){if(t==null)return{};var r=wQe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wQe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZK(t,e){return CQe(t)||jQe(t,e)||_Qe(t,e)||bQe()}function bQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Qe(t,e){if(t){if(typeof t=="string")return e9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e9(t,e)}}function e9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jQe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CQe(t){if(Array.isArray(t))return t}var Ise=/[ \f\n\r\t\v\u2028\u2029]+/,Pse=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var a=[];sr(r)||(n?a=r.toString().split(""):a=r.toString().split(Ise));var o=a.map(function(c){return{word:c,width:Kv(c,s).width}}),l=n?0:Kv(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},BQe=function(e,r,n,s,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=Je(o),f=l,m=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(V,H){var Q=H.word,z=H.width,q=V[V.length-1];if(q&&(s==null||a||q.width+z+n<Number(s)))q.words.push(Q),q.width+=z+n;else{var $={words:[Q],width:z};V.push($)}return V},[])},p=m(r),y=function(W){return W.reduce(function(V,H){return V.width>H.width?V:H})};if(!d)return p;for(var x="…",v=function(W){var V=f.slice(0,W),H=Pse({breakAll:u,style:c,children:V+x}).wordsWithComputedWidth,Q=m(H),z=Q.length>o||y(Q).width>Number(s);return[z,Q]},_=0,j=f.length-1,S=0,C;_<=j&&S<=f.length-1;){var N=Math.floor((_+j)/2),k=N-1,E=v(k),T=ZK(E,2),P=T[0],O=T[1],D=v(N),M=ZK(D,1),F=M[0];if(!P&&!F&&(_=N+1),P&&F&&(j=N-1),!P&&F){C=O;break}S++}return C||p},t9=function(e){var r=sr(e)?[]:e.toString().split(Ise);return[{words:r}]},EQe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!Rp.isSsr){var c,u,d=Pse({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return t9(s);return BQe({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return t9(s)},r9="#808080",Q_=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,m=e.textAnchor,p=m===void 0?"start":m,y=e.verticalAnchor,x=y===void 0?"end":y,v=e.fill,_=v===void 0?r9:v,j=YK(e,yQe),S=w.useMemo(function(){return EQe({breakAll:j.breakAll,children:j.children,maxLines:j.maxLines,scaleToFit:f,style:j.style,width:j.width})},[j.breakAll,j.children,j.maxLines,f,j.style,j.width]),C=j.dx,N=j.dy,k=j.angle,E=j.className,T=j.breakAll,P=YK(j,xQe);if(!Kn(n)||!Kn(a))return null;var O=n+(Je(C)?C:0),D=a+(Je(N)?N:0),M;switch(x){case"start":M=QI("calc(".concat(u,")"));break;case"middle":M=QI("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:M=QI("calc(".concat(S.length-1," * -").concat(l,")"));break}var F=[];if(f){var G=S[0].width,W=j.width;F.push("scale(".concat((Je(W)?W/G:1)/G,")"))}return k&&F.push("rotate(".concat(k,", ").concat(O,", ").concat(D,")")),F.length&&(P.transform=F.join(" ")),Y.createElement("text",cF({},Ar(P,!0),{x:O,y:D,className:pr("recharts-text",E),textAnchor:p,fill:_.includes("url")?r9:_}),S.map(function(V,H){var Q=V.words.join(T?"":" ");return Y.createElement("tspan",{x:O,dy:H===0?M:l,key:"".concat(Q,"-").concat(H)},Q)}))};function $u(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function SQe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function G4(t){let e,r,n;t.length!==2?(e=$u,r=(l,c)=>$u(t(l),c),n=(l,c)=>t(l)-c):(e=t===$u||t===SQe?t:NQe,r=t,n=t);function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function NQe(){return 0}function Ose(t){return t===null?NaN:+t}function*TQe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kQe=G4($u),d0=kQe.right;G4(Ose).center;class n9 extends Map{constructor(e,r=OQe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(s9(this,e))}has(e){return super.has(s9(this,e))}set(e,r){return super.set(IQe(this,e),r)}delete(e){return super.delete(PQe(this,e))}}function s9({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function IQe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function PQe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function OQe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function FQe(t=$u){if(t===$u)return Fse;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Fse(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RQe=Math.sqrt(50),DQe=Math.sqrt(10),UQe=Math.sqrt(2);function L_(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=RQe?10:a>=DQe?5:a>=UQe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?L_(t,e,r*2):[l,c,u]}function uF(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,a,o]=n?L_(e,t,r):L_(t,e,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function AF(t,e,r){return e=+e,t=+t,r=+r,L_(t,e,r)[2]}function dF(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?AF(e,t,r):AF(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function a9(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i9(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Rse(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?Fse:FQe(s);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*f/c+m)),y=Math.min(n,Math.floor(e+(c-u)*f/c+m));Rse(t,e,p,y,s)}const a=t[e];let o=r,l=n;for(Zg(t,r,e),s(t[n],a)>0&&Zg(t,r,n);o<l;){for(Zg(t,o,l),++o,--l;s(t[o],a)<0;)++o;for(;s(t[l],a)>0;)--l}s(t[r],a)===0?Zg(t,r,l):(++l,Zg(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Zg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function MQe(t,e,r){if(t=Float64Array.from(TQe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return i9(t);if(e>=1)return a9(t);var n,s=(n-1)*e,a=Math.floor(s),o=a9(Rse(t,a).subarray(0,a+1)),l=i9(t.subarray(a+1));return o+(l-o)*(s-a)}}function QQe(t,e,r=Ose){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,a=Math.floor(s),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(s-a)}}function LQe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(s);++n<s;)a[n]=t+n*r;return a}function Mi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Bc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const fF=Symbol("implicit");function W4(){var t=new n9,e=[],r=[],n=fF;function s(a){let o=t.get(a);if(o===void 0){if(n!==fF)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new n9;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return W4(e,r).unknown(n)},Mi.apply(s,arguments),s}function Yy(){var t=W4().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var m=e().length,p=s<n,y=p?s:n,x=p?n:s;a=(x-y)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),y+=(x-y-a*(m-c))*d,o=a*(1-c),l&&(y=Math.round(y),o=Math.round(o));var v=LQe(m).map(function(_){return y+a*_});return r(p?v.reverse():v)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([n,s]=m,n=+n,s=+s,f()):[n,s]},t.rangeRound=function(m){return[n,s]=m,n=+n,s=+s,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},t.copy=function(){return Yy(e(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Mi.apply(f(),arguments)}function Dse(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Dse(e())},t}function qv(){return Dse(Yy.apply(null,arguments).paddingInner(1))}function X4(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Use(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function f0(){}var Zy=.7,H_=1/Zy,rm="\\s*([+-]?\\d+)\\s*",ex="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HQe=/^#([0-9a-f]{3,8})$/,$Qe=new RegExp(`^rgb\\(${rm},${rm},${rm}\\)$`),VQe=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),KQe=new RegExp(`^rgba\\(${rm},${rm},${rm},${ex}\\)$`),qQe=new RegExp(`^rgba\\(${ul},${ul},${ul},${ex}\\)$`),zQe=new RegExp(`^hsl\\(${ex},${ul},${ul}\\)$`),GQe=new RegExp(`^hsla\\(${ex},${ul},${ul},${ex}\\)$`),o9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X4(f0,tx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:l9,formatHex:l9,formatHex8:WQe,formatHsl:XQe,formatRgb:c9,toString:c9});function l9(){return this.rgb().formatHex()}function WQe(){return this.rgb().formatHex8()}function XQe(){return Mse(this).formatHsl()}function c9(){return this.rgb().formatRgb()}function tx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=HQe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?u9(e):r===3?new Sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Pb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Pb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$Qe.exec(t))?new Sa(e[1],e[2],e[3],1):(e=VQe.exec(t))?new Sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KQe.exec(t))?Pb(e[1],e[2],e[3],e[4]):(e=qQe.exec(t))?Pb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=zQe.exec(t))?f9(e[1],e[2]/100,e[3]/100,1):(e=GQe.exec(t))?f9(e[1],e[2]/100,e[3]/100,e[4]):o9.hasOwnProperty(t)?u9(o9[t]):t==="transparent"?new Sa(NaN,NaN,NaN,0):null}function u9(t){return new Sa(t>>16&255,t>>8&255,t&255,1)}function Pb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Sa(t,e,r,n)}function JQe(t){return t instanceof f0||(t=tx(t)),t?(t=t.rgb(),new Sa(t.r,t.g,t.b,t.opacity)):new Sa}function hF(t,e,r,n){return arguments.length===1?JQe(t):new Sa(t,e,r,n??1)}function Sa(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}X4(Sa,hF,Use(f0,{brighter(t){return t=t==null?H_:Math.pow(H_,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new Sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Sa(Ud(this.r),Ud(this.g),Ud(this.b),$_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A9,formatHex:A9,formatHex8:YQe,formatRgb:d9,toString:d9}));function A9(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}`}function YQe(){return`#${wd(this.r)}${wd(this.g)}${wd(this.b)}${wd((isNaN(this.opacity)?1:this.opacity)*255)}`}function d9(){const t=$_(this.opacity);return`${t===1?"rgb(":"rgba("}${Ud(this.r)}, ${Ud(this.g)}, ${Ud(this.b)}${t===1?")":`, ${t})`}`}function $_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ud(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function wd(t){return t=Ud(t),(t<16?"0":"")+t.toString(16)}function f9(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new po(t,e,r,n)}function Mse(t){if(t instanceof po)return new po(t.h,t.s,t.l,t.opacity);if(t instanceof f0||(t=tx(t)),!t)return new po;if(t instanceof po)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new po(o,l,c,t.opacity)}function ZQe(t,e,r,n){return arguments.length===1?Mse(t):new po(t,e,r,n??1)}function po(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}X4(po,ZQe,Use(f0,{brighter(t){return t=t==null?H_:Math.pow(H_,t),new po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zy:Math.pow(Zy,t),new po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new Sa(LI(t>=240?t-240:t+120,s,n),LI(t,s,n),LI(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new po(h9(this.h),Ob(this.s),Ob(this.l),$_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$_(this.opacity);return`${t===1?"hsl(":"hsla("}${h9(this.h)}, ${Ob(this.s)*100}%, ${Ob(this.l)*100}%${t===1?")":`, ${t})`}`}}));function h9(t){return t=(t||0)%360,t<0?t+360:t}function Ob(t){return Math.max(0,Math.min(1,t||0))}function LI(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const J4=t=>()=>t;function eLe(t,e){return function(r){return t+r*e}}function tLe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function rLe(t){return(t=+t)==1?Qse:function(e,r){return r-e?tLe(e,r,t):J4(isNaN(e)?r:e)}}function Qse(t,e){var r=e-t;return r?eLe(t,r):J4(isNaN(t)?e:t)}const m9=function t(e){var r=rLe(e);function n(s,a){var o=r((s=hF(s)).r,(a=hF(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=Qse(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=t,n}(1);function nLe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=t[s]*(1-a)+e[s]*a;return n}}function sLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aLe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=Dp(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function iLe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function V_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function oLe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=Dp(t[s],e[s]):n[s]=e[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var mF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HI=new RegExp(mF.source,"g");function lLe(t){return function(){return t}}function cLe(t){return function(e){return t(e)+""}}function uLe(t,e){var r=mF.lastIndex=HI.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=mF.exec(t))&&(s=HI.exec(e));)(a=s.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:V_(n,s)})),r=HI.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?cLe(c[0].x):lLe(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Dp(t,e){var r=typeof e,n;return e==null||r==="boolean"?J4(e):(r==="number"?V_:r==="string"?(n=tx(e))?(e=n,m9):uLe:e instanceof tx?m9:e instanceof Date?iLe:sLe(e)?nLe:Array.isArray(e)?aLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?oLe:V_)(t,e)}function Y4(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function ALe(t,e){e===void 0&&(e=t,t=Dp);for(var r=0,n=e.length-1,s=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function dLe(t){return function(){return t}}function K_(t){return+t}var p9=[0,1];function sa(t){return t}function pF(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:dLe(isNaN(e)?NaN:.5)}function fLe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function hLe(t,e,r){var n=t[0],s=t[1],a=e[0],o=e[1];return s<n?(n=pF(s,n),a=r(o,a)):(n=pF(n,s),a=r(a,o)),function(l){return a(n(l))}}function mLe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=pF(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=d0(t,l,1,n)-1;return a[c](s[c](l))}}function h0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rB(){var t=p9,e=p9,r=Dp,n,s,a,o=sa,l,c,u;function d(){var m=Math.min(t.length,e.length);return o!==sa&&(o=fLe(t[0],t[m-1])),l=m>2?mLe:hLe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(t.map(n),e,r)))(n(o(m)))}return f.invert=function(m){return o(s((u||(u=l(e,t.map(n),V_)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,K_),d()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),r=Y4,d()},f.clamp=function(m){return arguments.length?(o=m?!0:sa,d()):o!==sa},f.interpolate=function(m){return arguments.length?(r=m,d()):r},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,p){return n=m,s=p,d()}}function Z4(){return rB()(sa,sa)}function pLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function q_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Gm(t){return t=q_(Math.abs(t)),t?t[1]:NaN}function gLe(t,e){return function(r,n){for(var s=r.length,a=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function vLe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var yLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function rx(t){if(!(e=yLe.exec(t)))throw new Error("invalid format: "+t);var e;return new eU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}rx.prototype=eU.prototype;function eU(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xLe(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var Lse;function wLe(t,e){var r=q_(t,e);if(!r)return t+"";var n=r[0],s=r[1],a=s-(Lse=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+q_(t,Math.max(0,e+a-1))[0]}function g9(t,e){var r=q_(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const v9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:pLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>g9(t*100,e),r:g9,s:wLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function y9(t){return t}var x9=Array.prototype.map,w9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function bLe(t){var e=t.grouping===void 0||t.thousands===void 0?y9:gLe(x9.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?y9:vLe(x9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=rx(f);var m=f.fill,p=f.align,y=f.sign,x=f.symbol,v=f.zero,_=f.width,j=f.comma,S=f.precision,C=f.trim,N=f.type;N==="n"?(j=!0,N="g"):v9[N]||(S===void 0&&(S=12),C=!0,N="g"),(v||m==="0"&&p==="=")&&(v=!0,m="0",p="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",E=x==="$"?n:/[%p]/.test(N)?o:"",T=v9[N],P=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function O(D){var M=k,F=E,G,W,V;if(N==="c")F=T(D)+F,D="";else{D=+D;var H=D<0||1/D<0;if(D=isNaN(D)?c:T(Math.abs(D),S),C&&(D=xLe(D)),H&&+D==0&&y!=="+"&&(H=!1),M=(H?y==="("?y:l:y==="-"||y==="("?"":y)+M,F=(N==="s"?w9[8+Lse/3]:"")+F+(H&&y==="("?")":""),P){for(G=-1,W=D.length;++G<W;)if(V=D.charCodeAt(G),48>V||V>57){F=(V===46?s+D.slice(G+1):D.slice(G))+F,D=D.slice(0,G);break}}}j&&!v&&(D=e(D,1/0));var Q=M.length+D.length+F.length,z=Q<_?new Array(_-Q+1).join(m):"";switch(j&&v&&(D=e(z+D,z.length?_-F.length:1/0),z=""),p){case"<":D=M+D+F+z;break;case"=":D=M+z+D+F;break;case"^":D=z.slice(0,Q=z.length>>1)+M+D+F+z.slice(Q);break;default:D=z+M+D+F;break}return a(D)}return O.toString=function(){return f+""},O}function d(f,m){var p=u((f=rx(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Gm(m)/3)))*3,x=Math.pow(10,-y),v=w9[8+y/3];return function(_){return p(x*_)+v}}return{format:u,formatPrefix:d}}var Fb,tU,Hse;_Le({thousands:",",grouping:[3],currency:["$",""]});function _Le(t){return Fb=bLe(t),tU=Fb.format,Hse=Fb.formatPrefix,Fb}function jLe(t){return Math.max(0,-Gm(Math.abs(t)))}function CLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gm(e)/3)))*3-Gm(Math.abs(t)))}function BLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gm(e)-Gm(t))+1}function $se(t,e,r,n){var s=dF(t,e,r),a;switch(n=rx(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=CLe(s,o))&&(n.precision=a),Hse(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=BLe(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=jLe(s))&&(n.precision=a-(n.type==="%")*2);break}}return tU(n)}function vA(t){var e=t.domain;return t.ticks=function(r){var n=e();return uF(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return $se(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=AF(o,l,r),u===c)return n[s]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function z_(){var t=Z4();return t.copy=function(){return h0(t,z_())},Mi.apply(t,arguments),vA(t)}function Vse(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,K_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Vse(t).unknown(e)},t=arguments.length?Array.from(t,K_):[0,1],vA(r)}function Kse(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],a=t[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),t[r]=e.floor(s),t[n]=e.ceil(a),t}function b9(t){return Math.log(t)}function _9(t){return Math.exp(t)}function ELe(t){return-Math.log(-t)}function SLe(t){return-Math.exp(-t)}function NLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function TLe(t){return t===10?NLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function j9(t){return(e,r)=>-t(-e,r)}function rU(t){const e=t(b9,_9),r=e.domain;let n=10,s,a;function o(){return s=kLe(n),a=TLe(n),r()[0]<0?(s=j9(s),a=j9(a),t(ELe,SLe)):t(b9,_9),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=s(u),p=s(d),y,x;const v=l==null?10:+l;let _=[];if(!(n%1)&&p-m<v){if(m=Math.floor(m),p=Math.ceil(p),u>0){for(;m<=p;++m)for(y=1;y<n;++y)if(x=m<0?y/a(-m):y*a(m),!(x<u)){if(x>d)break;_.push(x)}}else for(;m<=p;++m)for(y=n-1;y>=1;--y)if(x=m>0?y/a(-m):y*a(m),!(x<u)){if(x>d)break;_.push(x)}_.length*2<v&&(_=uF(u,d,v))}else _=uF(m,p,Math.min(p-m,v)).map(a);return f?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=rx(c)).precision==null&&(c.trim=!0),c=tU(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(Kse(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),e}function qse(){const t=rU(rB()).domain([1,10]);return t.copy=()=>h0(t,qse()).base(t.base()),Mi.apply(t,arguments),t}function C9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function B9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nU(t){var e=1,r=t(C9(e),B9(e));return r.constant=function(n){return arguments.length?t(C9(e=+n),B9(e)):e},vA(r)}function zse(){var t=nU(rB());return t.copy=function(){return h0(t,zse()).constant(t.constant())},Mi.apply(t,arguments)}function E9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ILe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function PLe(t){return t<0?-t*t:t*t}function sU(t){var e=t(sa,sa),r=1;function n(){return r===1?t(sa,sa):r===.5?t(ILe,PLe):t(E9(r),E9(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},vA(e)}function aU(){var t=sU(rB());return t.copy=function(){return h0(t,aU()).exponent(t.exponent())},Mi.apply(t,arguments),t}function OLe(){return aU.apply(null,arguments).exponent(.5)}function S9(t){return Math.sign(t)*t*t}function FLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Gse(){var t=Z4(),e=[0,1],r=!1,n;function s(a){var o=FLe(t(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return t.invert(S9(a))},s.domain=function(a){return arguments.length?(t.domain(a),s):t.domain()},s.range=function(a){return arguments.length?(t.range((e=Array.from(a,K_)).map(S9)),s):e.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(t.clamp(a),s):t.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return Gse(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Mi.apply(s,arguments),vA(s)}function Wse(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=QQe(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[d0(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($u),s()},a.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Wse().domain(t).range(e).unknown(n)},Mi.apply(a,arguments)}function Xse(){var t=0,e=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[d0(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Xse().domain([t,e]).range(s).unknown(a)},Mi.apply(vA(o),arguments)}function Jse(){var t=[.5],e=[0,1],r,n=1;function s(a){return a!=null&&a<=a?e[d0(t,a,0,n)]:r}return s.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return Jse().domain(t).range(e).unknown(r)},Mi.apply(s,arguments)}const $I=new Date,VI=new Date;function Gn(t,e,r,n){function s(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(t(a=new Date(+a)),a),s.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},s.filter=a=>Gn(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(s.count=(a,o)=>($I.setTime(+a),VI.setTime(+o),t($I),t(VI),Math.floor(r($I,VI))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const G_=Gn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);G_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Gn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):G_);G_.range;const Jl=1e3,Ti=Jl*60,Yl=Ti*60,vc=Yl*24,iU=vc*7,N9=vc*30,KI=vc*365,bd=Gn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Jl)},(t,e)=>(e-t)/Jl,t=>t.getUTCSeconds());bd.range;const oU=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jl)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getMinutes());oU.range;const lU=Gn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ti)},(t,e)=>(e-t)/Ti,t=>t.getUTCMinutes());lU.range;const cU=Gn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Jl-t.getMinutes()*Ti)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getHours());cU.range;const uU=Gn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yl)},(t,e)=>(e-t)/Yl,t=>t.getUTCHours());uU.range;const m0=Gn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ti)/vc,t=>t.getDate()-1);m0.range;const nB=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vc,t=>t.getUTCDate()-1);nB.range;const Yse=Gn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vc,t=>Math.floor(t/vc));Yse.range;function ff(t){return Gn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ti)/iU)}const sB=ff(0),W_=ff(1),RLe=ff(2),DLe=ff(3),Wm=ff(4),ULe=ff(5),MLe=ff(6);sB.range;W_.range;RLe.range;DLe.range;Wm.range;ULe.range;MLe.range;function hf(t){return Gn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/iU)}const aB=hf(0),X_=hf(1),QLe=hf(2),LLe=hf(3),Xm=hf(4),HLe=hf(5),$Le=hf(6);aB.range;X_.range;QLe.range;LLe.range;Xm.range;HLe.range;$Le.range;const AU=Gn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());AU.range;const dU=Gn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());dU.range;const yc=Gn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});yc.range;const xc=Gn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Gn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});xc.range;function Zse(t,e,r,n,s,a){const o=[[bd,1,Jl],[bd,5,5*Jl],[bd,15,15*Jl],[bd,30,30*Jl],[a,1,Ti],[a,5,5*Ti],[a,15,15*Ti],[a,30,30*Ti],[s,1,Yl],[s,3,3*Yl],[s,6,6*Yl],[s,12,12*Yl],[n,1,vc],[n,2,2*vc],[r,1,iU],[e,1,N9],[e,3,3*N9],[t,1,KI]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),y=p?p.range(u,+d+1):[];return m?y.reverse():y}function c(u,d,f){const m=Math.abs(d-u)/f,p=G4(([,,v])=>v).right(o,m);if(p===o.length)return t.every(dF(u/KI,d/KI,f));if(p===0)return G_.every(Math.max(dF(u,d,f),1));const[y,x]=o[m/o[p-1][2]<o[p][2]/m?p-1:p];return y.every(x)}return[l,c]}const[VLe,KLe]=Zse(xc,dU,aB,Yse,uU,lU),[qLe,zLe]=Zse(yc,AU,sB,m0,cU,oU);function qI(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function zI(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ev(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function GLe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=tv(s),d=rv(s),f=tv(a),m=rv(a),p=tv(o),y=rv(o),x=tv(l),v=rv(l),_=tv(c),j=rv(c),S={a:H,A:Q,b:z,B:q,c:null,d:F9,e:F9,f:g5e,g:E5e,G:N5e,H:h5e,I:m5e,j:p5e,L:eae,m:v5e,M:y5e,p:$,q:J,Q:U9,s:M9,S:x5e,u:w5e,U:b5e,V:_5e,w:j5e,W:C5e,x:null,X:null,y:B5e,Y:S5e,Z:T5e,"%":D9},C={a:le,A:ae,b:ee,B:ue,c:null,d:R9,e:R9,f:O5e,g:V5e,G:q5e,H:k5e,I:I5e,j:P5e,L:rae,m:F5e,M:R5e,p:xe,q:me,Q:U9,s:M9,S:D5e,u:U5e,U:M5e,V:Q5e,w:L5e,W:H5e,x:null,X:null,y:$5e,Y:K5e,Z:z5e,"%":D9},N={a:O,A:D,b:M,B:F,c:G,d:P9,e:P9,f:u5e,g:I9,G:k9,H:O9,I:O9,j:i5e,L:c5e,m:a5e,M:o5e,p:P,q:s5e,Q:d5e,s:f5e,S:l5e,u:ZLe,U:e5e,V:t5e,w:YLe,W:r5e,x:W,X:V,y:I9,Y:k9,Z:n5e,"%":A5e};S.x=k(r,S),S.X=k(n,S),S.c=k(e,S),C.x=k(r,C),C.X=k(n,C),C.c=k(e,C);function k(ye,je){return function(Fe){var ne=[],ke=-1,We=0,ct=ye.length,ft,Xt,re;for(Fe instanceof Date||(Fe=new Date(+Fe));++ke<ct;)ye.charCodeAt(ke)===37&&(ne.push(ye.slice(We,ke)),(Xt=T9[ft=ye.charAt(++ke)])!=null?ft=ye.charAt(++ke):Xt=ft==="e"?" ":"0",(re=je[ft])&&(ft=re(Fe,Xt)),ne.push(ft),We=ke+1);return ne.push(ye.slice(We,ke)),ne.join("")}}function E(ye,je){return function(Fe){var ne=ev(1900,void 0,1),ke=T(ne,ye,Fe+="",0),We,ct;if(ke!=Fe.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(je&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(We=zI(ev(ne.y,0,1)),ct=We.getUTCDay(),We=ct>4||ct===0?X_.ceil(We):X_(We),We=nB.offset(We,(ne.V-1)*7),ne.y=We.getUTCFullYear(),ne.m=We.getUTCMonth(),ne.d=We.getUTCDate()+(ne.w+6)%7):(We=qI(ev(ne.y,0,1)),ct=We.getDay(),We=ct>4||ct===0?W_.ceil(We):W_(We),We=m0.offset(We,(ne.V-1)*7),ne.y=We.getFullYear(),ne.m=We.getMonth(),ne.d=We.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ct="Z"in ne?zI(ev(ne.y,0,1)).getUTCDay():qI(ev(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ct+5)%7:ne.w+ne.U*7-(ct+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,zI(ne)):qI(ne)}}function T(ye,je,Fe,ne){for(var ke=0,We=je.length,ct=Fe.length,ft,Xt;ke<We;){if(ne>=ct)return-1;if(ft=je.charCodeAt(ke++),ft===37){if(ft=je.charAt(ke++),Xt=N[ft in T9?je.charAt(ke++):ft],!Xt||(ne=Xt(ye,Fe,ne))<0)return-1}else if(ft!=Fe.charCodeAt(ne++))return-1}return ne}function P(ye,je,Fe){var ne=u.exec(je.slice(Fe));return ne?(ye.p=d.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function O(ye,je,Fe){var ne=p.exec(je.slice(Fe));return ne?(ye.w=y.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function D(ye,je,Fe){var ne=f.exec(je.slice(Fe));return ne?(ye.w=m.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function M(ye,je,Fe){var ne=_.exec(je.slice(Fe));return ne?(ye.m=j.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function F(ye,je,Fe){var ne=x.exec(je.slice(Fe));return ne?(ye.m=v.get(ne[0].toLowerCase()),Fe+ne[0].length):-1}function G(ye,je,Fe){return T(ye,e,je,Fe)}function W(ye,je,Fe){return T(ye,r,je,Fe)}function V(ye,je,Fe){return T(ye,n,je,Fe)}function H(ye){return o[ye.getDay()]}function Q(ye){return a[ye.getDay()]}function z(ye){return c[ye.getMonth()]}function q(ye){return l[ye.getMonth()]}function $(ye){return s[+(ye.getHours()>=12)]}function J(ye){return 1+~~(ye.getMonth()/3)}function le(ye){return o[ye.getUTCDay()]}function ae(ye){return a[ye.getUTCDay()]}function ee(ye){return c[ye.getUTCMonth()]}function ue(ye){return l[ye.getUTCMonth()]}function xe(ye){return s[+(ye.getUTCHours()>=12)]}function me(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var je=k(ye+="",S);return je.toString=function(){return ye},je},parse:function(ye){var je=E(ye+="",!1);return je.toString=function(){return ye},je},utcFormat:function(ye){var je=k(ye+="",C);return je.toString=function(){return ye},je},utcParse:function(ye){var je=E(ye+="",!0);return je.toString=function(){return ye},je}}}var T9={"-":"",_:" ",0:"0"},os=/^\s*\d+/,WLe=/^%/,XLe=/[\\^$*+?|[\]().{}]/g;function _r(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(e)+s:s)}function JLe(t){return t.replace(XLe,"\\$&")}function tv(t){return new RegExp("^(?:"+t.map(JLe).join("|")+")","i")}function rv(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function YLe(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function ZLe(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function e5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function t5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function r5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function k9(t,e,r){var n=os.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function I9(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function n5e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function s5e(t,e,r){var n=os.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function a5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function P9(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function i5e(t,e,r){var n=os.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function O9(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function o5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function l5e(t,e,r){var n=os.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function c5e(t,e,r){var n=os.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function u5e(t,e,r){var n=os.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function A5e(t,e,r){var n=WLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function d5e(t,e,r){var n=os.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function f5e(t,e,r){var n=os.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function F9(t,e){return _r(t.getDate(),e,2)}function h5e(t,e){return _r(t.getHours(),e,2)}function m5e(t,e){return _r(t.getHours()%12||12,e,2)}function p5e(t,e){return _r(1+m0.count(yc(t),t),e,3)}function eae(t,e){return _r(t.getMilliseconds(),e,3)}function g5e(t,e){return eae(t,e)+"000"}function v5e(t,e){return _r(t.getMonth()+1,e,2)}function y5e(t,e){return _r(t.getMinutes(),e,2)}function x5e(t,e){return _r(t.getSeconds(),e,2)}function w5e(t){var e=t.getDay();return e===0?7:e}function b5e(t,e){return _r(sB.count(yc(t)-1,t),e,2)}function tae(t){var e=t.getDay();return e>=4||e===0?Wm(t):Wm.ceil(t)}function _5e(t,e){return t=tae(t),_r(Wm.count(yc(t),t)+(yc(t).getDay()===4),e,2)}function j5e(t){return t.getDay()}function C5e(t,e){return _r(W_.count(yc(t)-1,t),e,2)}function B5e(t,e){return _r(t.getFullYear()%100,e,2)}function E5e(t,e){return t=tae(t),_r(t.getFullYear()%100,e,2)}function S5e(t,e){return _r(t.getFullYear()%1e4,e,4)}function N5e(t,e){var r=t.getDay();return t=r>=4||r===0?Wm(t):Wm.ceil(t),_r(t.getFullYear()%1e4,e,4)}function T5e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_r(e/60|0,"0",2)+_r(e%60,"0",2)}function R9(t,e){return _r(t.getUTCDate(),e,2)}function k5e(t,e){return _r(t.getUTCHours(),e,2)}function I5e(t,e){return _r(t.getUTCHours()%12||12,e,2)}function P5e(t,e){return _r(1+nB.count(xc(t),t),e,3)}function rae(t,e){return _r(t.getUTCMilliseconds(),e,3)}function O5e(t,e){return rae(t,e)+"000"}function F5e(t,e){return _r(t.getUTCMonth()+1,e,2)}function R5e(t,e){return _r(t.getUTCMinutes(),e,2)}function D5e(t,e){return _r(t.getUTCSeconds(),e,2)}function U5e(t){var e=t.getUTCDay();return e===0?7:e}function M5e(t,e){return _r(aB.count(xc(t)-1,t),e,2)}function nae(t){var e=t.getUTCDay();return e>=4||e===0?Xm(t):Xm.ceil(t)}function Q5e(t,e){return t=nae(t),_r(Xm.count(xc(t),t)+(xc(t).getUTCDay()===4),e,2)}function L5e(t){return t.getUTCDay()}function H5e(t,e){return _r(X_.count(xc(t)-1,t),e,2)}function $5e(t,e){return _r(t.getUTCFullYear()%100,e,2)}function V5e(t,e){return t=nae(t),_r(t.getUTCFullYear()%100,e,2)}function K5e(t,e){return _r(t.getUTCFullYear()%1e4,e,4)}function q5e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Xm(t):Xm.ceil(t),_r(t.getUTCFullYear()%1e4,e,4)}function z5e(){return"+0000"}function D9(){return"%"}function U9(t){return+t}function M9(t){return Math.floor(+t/1e3)}var Nh,sae,aae;G5e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function G5e(t){return Nh=GLe(t),sae=Nh.format,Nh.parse,aae=Nh.utcFormat,Nh.utcParse,Nh}function W5e(t){return new Date(t)}function X5e(t){return t instanceof Date?+t:+new Date(+t)}function fU(t,e,r,n,s,a,o,l,c,u){var d=Z4(),f=d.invert,m=d.domain,p=u(".%L"),y=u(":%S"),x=u("%I:%M"),v=u("%I %p"),_=u("%a %d"),j=u("%b %d"),S=u("%B"),C=u("%Y");function N(k){return(c(k)<k?p:l(k)<k?y:o(k)<k?x:a(k)<k?v:n(k)<k?s(k)<k?_:j:r(k)<k?S:C)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?m(Array.from(k,X5e)):m().map(W5e)},d.ticks=function(k){var E=m();return t(E[0],E[E.length-1],k??10)},d.tickFormat=function(k,E){return E==null?N:u(E)},d.nice=function(k){var E=m();return(!k||typeof k.range!="function")&&(k=e(E[0],E[E.length-1],k??10)),k?m(Kse(E,k)):d},d.copy=function(){return h0(d,fU(t,e,r,n,s,a,o,l,c,u))},d}function J5e(){return Mi.apply(fU(qLe,zLe,yc,AU,sB,m0,cU,oU,bd,sae).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Y5e(){return Mi.apply(fU(VLe,KLe,xc,dU,aB,nB,uU,lU,bd,aae).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function iB(){var t=0,e=1,r,n,s,a,o=sa,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),s=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var p,y;return arguments.length?([p,y]=m,o=f(p,y),u):[o(0),o(1)]}}return u.range=d(Dp),u.rangeRound=d(Y4),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),s=r===n?0:1/(n-r),u}}function yA(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function iae(){var t=vA(iB()(sa));return t.copy=function(){return yA(t,iae())},Bc.apply(t,arguments)}function oae(){var t=rU(iB()).domain([1,10]);return t.copy=function(){return yA(t,oae()).base(t.base())},Bc.apply(t,arguments)}function lae(){var t=nU(iB());return t.copy=function(){return yA(t,lae()).constant(t.constant())},Bc.apply(t,arguments)}function hU(){var t=sU(iB());return t.copy=function(){return yA(t,hU()).exponent(t.exponent())},Bc.apply(t,arguments)}function Z5e(){return hU.apply(null,arguments).exponent(.5)}function cae(){var t=[],e=sa;function r(n){if(n!=null&&!isNaN(n=+n))return e((d0(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort($u),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>MQe(t,a/n))},r.copy=function(){return cae(e).domain(t)},Bc.apply(r,arguments)}function oB(){var t=0,e=.5,r=1,n=1,s,a,o,l,c,u=sa,d,f=!1,m;function p(x){return isNaN(x=+x)?m:(x=.5+((x=+d(x))-a)*(n*x<n*a?l:c),u(f?Math.max(0,Math.min(1,x)):x))}p.domain=function(x){return arguments.length?([t,e,r]=x,s=d(t=+t),a=d(e=+e),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p):[t,e,r]},p.clamp=function(x){return arguments.length?(f=!!x,p):f},p.interpolator=function(x){return arguments.length?(u=x,p):u};function y(x){return function(v){var _,j,S;return arguments.length?([_,j,S]=v,u=ALe(x,[_,j,S]),p):[u(0),u(.5),u(1)]}}return p.range=y(Dp),p.rangeRound=y(Y4),p.unknown=function(x){return arguments.length?(m=x,p):m},function(x){return d=x,s=x(t),a=x(e),o=x(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,p}}function uae(){var t=vA(oB()(sa));return t.copy=function(){return yA(t,uae())},Bc.apply(t,arguments)}function Aae(){var t=rU(oB()).domain([.1,1,10]);return t.copy=function(){return yA(t,Aae()).base(t.base())},Bc.apply(t,arguments)}function dae(){var t=nU(oB());return t.copy=function(){return yA(t,dae()).constant(t.constant())},Bc.apply(t,arguments)}function mU(){var t=sU(oB());return t.copy=function(){return yA(t,mU()).exponent(t.exponent())},Bc.apply(t,arguments)}function e3e(){return mU.apply(null,arguments).exponent(.5)}const Q9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yy,scaleDiverging:uae,scaleDivergingLog:Aae,scaleDivergingPow:mU,scaleDivergingSqrt:e3e,scaleDivergingSymlog:dae,scaleIdentity:Vse,scaleImplicit:fF,scaleLinear:z_,scaleLog:qse,scaleOrdinal:W4,scalePoint:qv,scalePow:aU,scaleQuantile:Wse,scaleQuantize:Xse,scaleRadial:Gse,scaleSequential:iae,scaleSequentialLog:oae,scaleSequentialPow:hU,scaleSequentialQuantile:cae,scaleSequentialSqrt:Z5e,scaleSequentialSymlog:lae,scaleSqrt:OLe,scaleSymlog:zse,scaleThreshold:Jse,scaleTime:J5e,scaleUtc:Y5e,tickFormat:$se},Symbol.toStringTag,{value:"Module"}));var GI,L9;function fae(){if(L9)return GI;L9=1;var t=Pp();function e(r,n,s){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):s(c,u)))var u=c,d=l}return d}return GI=e,GI}var WI,H9;function t3e(){if(H9)return WI;H9=1;function t(e,r){return e>r}return WI=t,WI}var XI,$9;function r3e(){if($9)return XI;$9=1;var t=fae(),e=t3e(),r=Fp();function n(s){return s&&s.length?t(s,r,e):void 0}return XI=n,XI}var n3e=r3e();const lB=yr(n3e);var JI,V9;function s3e(){if(V9)return JI;V9=1;function t(e,r){return e<r}return JI=t,JI}var YI,K9;function a3e(){if(K9)return YI;K9=1;var t=fae(),e=s3e(),r=Fp();function n(s){return s&&s.length?t(s,r,e):void 0}return YI=n,YI}var i3e=a3e();const cB=yr(i3e);var ZI,q9;function o3e(){if(q9)return ZI;q9=1;var t=k4(),e=gA(),r=wse(),n=Oa();function s(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return ZI=s,ZI}var eP,z9;function l3e(){if(z9)return eP;z9=1;var t=yse(),e=o3e();function r(n,s){return t(e(n,s),1)}return eP=r,eP}var c3e=l3e();const u3e=yr(c3e);var tP,G9;function A3e(){if(G9)return tP;G9=1;var t=V4();function e(r,n){return t(r,n)}return tP=e,tP}var d3e=A3e();const uB=yr(d3e);var Up=1e9,f3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},gU,ln=!0,Di="[DecimalError] ",Md=Di+"Invalid argument: ",pU=Di+"Exponent out of range: ",Mp=Math.floor,od=Math.pow,h3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ti,ns=1e7,rn=7,hae=9007199254740991,J_=Mp(hae/rn),dt={};dt.absoluteValue=dt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};dt.comparedTo=dt.cmp=function(t){var e,r,n,s,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};dt.decimalPlaces=dt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*rn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};dt.dividedBy=dt.div=function(t){return oc(this,new this.constructor(t))};dt.dividedToIntegerBy=dt.idiv=function(t){var e=this,r=e.constructor;return $r(oc(e,new r(t),0,1),r.precision)};dt.equals=dt.eq=function(t){return!this.cmp(t)};dt.exponent=function(){return Rn(this)};dt.greaterThan=dt.gt=function(t){return this.cmp(t)>0};dt.greaterThanOrEqualTo=dt.gte=function(t){return this.cmp(t)>=0};dt.isInteger=dt.isint=function(){return this.e>this.d.length-2};dt.isNegative=dt.isneg=function(){return this.s<0};dt.isPositive=dt.ispos=function(){return this.s>0};dt.isZero=function(){return this.s===0};dt.lessThan=dt.lt=function(t){return this.cmp(t)<0};dt.lessThanOrEqualTo=dt.lte=function(t){return this.cmp(t)<1};dt.logarithm=dt.log=function(t){var e,r=this,n=r.constructor,s=n.precision,a=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ti))throw Error(Di+"NaN");if(r.s<1)throw Error(Di+(r.s?"NaN":"-Infinity"));return r.eq(ti)?new n(0):(ln=!1,e=oc(nx(r,a),nx(t,a),a),ln=!0,$r(e,s))};dt.minus=dt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?gae(e,t):mae(e,(t.s=-t.s,t))};dt.modulo=dt.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(Di+"NaN");return r.s?(ln=!1,e=oc(r,t,0,1).times(t),ln=!0,r.minus(e)):$r(new n(r),s)};dt.naturalExponential=dt.exp=function(){return pae(this)};dt.naturalLogarithm=dt.ln=function(){return nx(this)};dt.negated=dt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};dt.plus=dt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?mae(e,t):gae(e,(t.s=-t.s,t))};dt.precision=dt.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Md+t);if(e=Rn(s)+1,n=s.d.length-1,r=n*rn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};dt.squareRoot=dt.sqrt=function(){var t,e,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Di+"NaN")}for(t=Rn(l),ln=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=al(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Mp((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(oc(l,a,o+2)).times(.5),al(a.d).slice(0,o)===(e=al(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if($r(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return ln=!0,$r(n,r)};dt.times=dt.mul=function(t){var e,r,n,s,a,o,l,c,u,d=this,f=d.constructor,m=d.d,p=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=m.length,u=p.length,c<u&&(a=m,m=p,p=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,s=c+n;s>n;)l=a[s]+p[n]*m[s-n-1]+e,a[s--]=l%ns|0,e=l/ns|0;a[s]=(a[s]+e)%ns|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,ln?$r(t,f.precision):t};dt.toDecimalPlaces=dt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(yl(t,0,Up),e===void 0?e=n.rounding:yl(e,0,8),$r(r,t+Rn(r)+1,e))};dt.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=af(n,!0):(yl(t,0,Up),e===void 0?e=s.rounding:yl(e,0,8),n=$r(new s(n),t+1,e),r=af(n,!0,t+1)),r};dt.toFixed=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?af(s):(yl(t,0,Up),e===void 0?e=a.rounding:yl(e,0,8),n=$r(new a(s),t+Rn(s)+1,e),r=af(n.abs(),!1,t+Rn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};dt.toInteger=dt.toint=function(){var t=this,e=t.constructor;return $r(new e(t),Rn(t)+1,e.rounding)};dt.toNumber=function(){return+this};dt.toPower=dt.pow=function(t){var e,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ti);if(l=new c(l),!l.s){if(t.s<1)throw Error(Di+"Infinity");return l}if(l.eq(ti))return l;if(n=c.precision,t.eq(ti))return $r(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=hae){for(s=new c(ti),e=Math.ceil(n/rn+4),ln=!1;r%2&&(s=s.times(l),X9(s.d,e)),r=Mp(r/2),r!==0;)l=l.times(l),X9(l.d,e);return ln=!0,t.s<0?new c(ti).div(s):$r(s,n)}}else if(a<0)throw Error(Di+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ln=!1,s=t.times(nx(l,n+u)),ln=!0,s=pae(s),s.s=a,s};dt.toPrecision=function(t,e){var r,n,s=this,a=s.constructor;return t===void 0?(r=Rn(s),n=af(s,r<=a.toExpNeg||r>=a.toExpPos)):(yl(t,1,Up),e===void 0?e=a.rounding:yl(e,0,8),s=$r(new a(s),t,e),r=Rn(s),n=af(s,t<=r||r<=a.toExpNeg,t)),n};dt.toSignificantDigits=dt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(yl(t,1,Up),e===void 0?e=n.rounding:yl(e,0,8)),$r(new n(r),t,e)};dt.toString=dt.valueOf=dt.val=dt.toJSON=dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Rn(t),r=t.constructor;return af(t,e<=r.toExpNeg||e>=r.toExpPos)};function mae(t,e){var r,n,s,a,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ln?$r(e,f):e;if(c=t.d,u=e.d,o=t.e,s=e.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/rn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ns|0,c[a]%=ns;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,ln?$r(e,f):e}function yl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Md+t)}function al(t){var e,r,n,s=t.length-1,a="",o=t[0];if(s>0){for(a+=o,e=1;e<s;e++)n=t[e]+"",r=rn-n.length,r&&(a+=du(r)),a+=n;o=t[e],n=o+"",r=rn-n.length,r&&(a+=du(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var oc=function(){function t(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%ns|0,o=a/ns|0;return o&&n.unshift(o),n}function e(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*ns+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,f,m,p,y,x,v,_,j,S,C,N,k,E,T,P=n.constructor,O=n.s==s.s?1:-1,D=n.d,M=s.d;if(!n.s)return new P(n);if(!s.s)throw Error(Di+"Division by zero");for(c=n.e-s.e,E=M.length,N=D.length,p=new P(O),y=p.d=[],u=0;M[u]==(D[u]||0);)++u;if(M[u]>(D[u]||0)&&--c,a==null?j=a=P.precision:o?j=a+(Rn(n)-Rn(s))+1:j=a,j<0)return new P(0);if(j=j/rn+2|0,u=0,E==1)for(d=0,M=M[0],j++;(u<N||d)&&j--;u++)S=d*ns+(D[u]||0),y[u]=S/M|0,d=S%M|0;else{for(d=ns/(M[0]+1)|0,d>1&&(M=t(M,d),D=t(D,d),E=M.length,N=D.length),C=E,x=D.slice(0,E),v=x.length;v<E;)x[v++]=0;T=M.slice(),T.unshift(0),k=M[0],M[1]>=ns/2&&++k;do d=0,l=e(M,x,E,v),l<0?(_=x[0],E!=v&&(_=_*ns+(x[1]||0)),d=_/k|0,d>1?(d>=ns&&(d=ns-1),f=t(M,d),m=f.length,v=x.length,l=e(f,x,m,v),l==1&&(d--,r(f,E<m?T:M,m))):(d==0&&(l=d=1),f=M.slice()),m=f.length,m<v&&f.unshift(0),r(x,f,v),l==-1&&(v=x.length,l=e(M,x,E,v),l<1&&(d++,r(x,E<v?T:M,v))),v=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[v++]=D[C]||0:(x=[D[C]],v=1);while((C++<N||x[0]!==void 0)&&j--)}return y[0]||y.shift(),p.e=c,$r(p,o?a+Rn(p)+1:a)}}();function pae(t,e){var r,n,s,a,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(Rn(t)>16)throw Error(pU+Rn(t));if(!t.s)return new d(ti);for(ln=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(od(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(ti),d.precision=l;;){if(s=$r(s.times(t),l),r=r.times(++c),o=a.plus(oc(s,r,l)),al(o.d).slice(0,l)===al(a.d).slice(0,l)){for(;u--;)a=$r(a.times(a),l);return d.precision=f,e==null?(ln=!0,$r(a,f)):a}a=o}}function Rn(t){for(var e=t.e*rn,r=t.d[0];r>=10;r/=10)e++;return e}function rP(t,e,r){if(e>t.LN10.sd())throw ln=!0,r&&(t.precision=r),Error(Di+"LN10 precision limit exceeded");return $r(new t(t.LN10),e)}function du(t){for(var e="";t--;)e+="0";return e}function nx(t,e){var r,n,s,a,o,l,c,u,d,f=1,m=10,p=t,y=p.d,x=p.constructor,v=x.precision;if(p.s<1)throw Error(Di+(p.s?"NaN":"-Infinity"));if(p.eq(ti))return new x(0);if(e==null?(ln=!1,u=v):u=e,p.eq(10))return e==null&&(ln=!0),rP(x,u);if(u+=m,x.precision=u,r=al(y),n=r.charAt(0),a=Rn(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=al(p.d),n=r.charAt(0),f++;a=Rn(p),n>1?(p=new x("0."+r),a++):p=new x(n+"."+r.slice(1))}else return c=rP(x,u+2,v).times(a+""),p=nx(new x(n+"."+r.slice(1)),u-m).plus(c),x.precision=v,e==null?(ln=!0,$r(p,v)):p;for(l=o=p=oc(p.minus(ti),p.plus(ti),u),d=$r(p.times(p),u),s=3;;){if(o=$r(o.times(d),u),c=l.plus(oc(o,new x(s),u)),al(c.d).slice(0,u)===al(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(rP(x,u+2,v).times(a+""))),l=oc(l,new x(f),u),x.precision=v,e==null?(ln=!0,$r(l,v)):l;l=c,s+=2}}function W9(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Mp(r/rn),t.d=[],n=(r+1)%rn,r<0&&(n+=rn),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=rn;n<s;)t.d.push(+e.slice(n,n+=rn));e=e.slice(n),n=rn-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),ln&&(t.e>J_||t.e<-J_))throw Error(pU+r)}else t.s=0,t.e=0,t.d=[0];return t}function $r(t,e,r){var n,s,a,o,l,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=rn,s=e,u=f[d=0];else{if(d=Math.ceil((n+1)/rn),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=rn,s=n-rn+o}if(r!==void 0&&(a=od(10,o-s-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/od(10,o-s):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=Rn(t),f.length=1,e=e-a-1,f[0]=od(10,(rn-e%rn)%rn),t.e=Mp(-e/rn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=od(10,rn-n),f[d]=s>0?(u/od(10,o-s)%od(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ns&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=ns)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ln&&(t.e>J_||t.e<-J_))throw Error(pU+Rn(t));return t}function gae(t,e){var r,n,s,a,o,l,c,u,d,f,m=t.constructor,p=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),ln?$r(e,p):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(p/rn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=ns-1;--c[a],c[s]+=ns}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ln?$r(e,p):e):new m(0)}function af(t,e,r){var n,s=Rn(t),a=al(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+du(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+du(-s-1)+a,r&&(n=r-o)>0&&(a+=du(n))):s>=o?(a+=du(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+du(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=du(n))),t.s<0?"-"+a:a}function X9(t,e){if(t.length>e)return t.length=e,!0}function vae(t){var e,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Md+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return W9(o,a.toString())}else if(typeof a!="string")throw Error(Md+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,h3e.test(a))W9(o,a);else throw Error(Md+a)}if(s.prototype=dt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=vae,s.config=s.set=m3e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function m3e(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,r,n,s=["precision",1,Up,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Mp(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Md+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Md+r+": "+n);return this}var gU=vae(f3e);ti=new gU(1);const Or=gU;function p3e(t){return x3e(t)||y3e(t)||v3e(t)||g3e()}function g3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v3e(t,e){if(t){if(typeof t=="string")return gF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gF(t,e)}}function y3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function x3e(t){if(Array.isArray(t))return gF(t)}function gF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w3e=function(e){return e},yae={},xae=function(e){return e===yae},J9=function(e){return function r(){return arguments.length===0||arguments.length===1&&xae(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},b3e=function t(e,r){return e===1?r:J9(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==yae}).length;return o>=e?r.apply(void 0,s):t(e-o,J9(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return xae(f)?c.shift():f});return r.apply(void 0,p3e(d).concat(c))}))})},AB=function(e){return b3e(e.length,e)},vF=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},_3e=AB(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),j3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return w3e;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},yF=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},wae=function(e){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function C3e(t){var e;return t===0?e=1:e=Math.floor(new Or(t).abs().log(10).toNumber())+1,e}function B3e(t,e,r){for(var n=new Or(t),s=0,a=[];n.lt(e)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var E3e=AB(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),S3e=AB(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),N3e=AB(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const dB={rangeStep:B3e,getDigitCount:C3e,interpolateNumber:E3e,uninterpolateNumber:S3e,uninterpolateTruncation:N3e};function xF(t){return I3e(t)||k3e(t)||bae(t)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function I3e(t){if(Array.isArray(t))return wF(t)}function sx(t,e){return F3e(t)||O3e(t,e)||bae(t,e)||P3e()}function P3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bae(t,e){if(t){if(typeof t=="string")return wF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wF(t,e)}}function wF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function F3e(t){if(Array.isArray(t))return t}function _ae(t){var e=sx(t,2),r=e[0],n=e[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function jae(t,e,r){if(t.lte(0))return new Or(0);var n=dB.getDigitCount(t.toNumber()),s=new Or(10).pow(n),a=t.div(s),o=n!==1?.05:.1,l=new Or(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new Or(Math.ceil(c))}function R3e(t,e,r){var n=1,s=new Or(t);if(!s.isint()&&r){var a=Math.abs(t);a<1?(n=new Or(10).pow(dB.getDigitCount(t)-1),s=new Or(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Or(Math.floor(t)))}else t===0?s=new Or(Math.floor((e-1)/2)):r||(s=new Or(Math.floor(t)));var o=Math.floor((e-1)/2),l=j3e(_3e(function(c){return s.add(new Or(c-o).mul(n)).toNumber()}),vF);return l(0,e)}function Cae(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Or(0),tickMin:new Or(0),tickMax:new Or(0)};var a=jae(new Or(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new Or(0):(o=new Or(t).add(e).div(2),o=o.sub(new Or(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new Or(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?Cae(t,e,r,n,s+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Or(l).mul(a)),tickMax:o.add(new Or(c).mul(a))})}function D3e(t){var e=sx(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=_ae([r,n]),c=sx(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xF(vF(0,s-1).map(function(){return 1/0}))):[].concat(xF(vF(0,s-1).map(function(){return-1/0})),[d]);return r>n?yF(f):f}if(u===d)return R3e(u,s,a);var m=Cae(u,d,o,a),p=m.step,y=m.tickMin,x=m.tickMax,v=dB.rangeStep(y,x.add(new Or(.1).mul(p)),p);return r>n?yF(v):v}function U3e(t,e){var r=sx(t,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=_ae([n,s]),l=sx(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(e,2),f=jae(new Or(u).sub(c).div(d-1),a,0),m=[].concat(xF(dB.rangeStep(new Or(c),new Or(u).sub(new Or(.99).mul(f)),f)),[u]);return n>s?yF(m):m}var M3e=wae(D3e),Q3e=wae(U3e),L3e="Invariant failed";function of(t,e){throw new Error(L3e)}var H3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Jm(t){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jm(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function $3e(t,e){return z3e(t)||q3e(t,e)||K3e(t,e)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K3e(t,e){if(t){if(typeof t=="string")return Y9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y9(t,e)}}function Y9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function z3e(t){if(Array.isArray(t))return t}function G3e(t,e){if(t==null)return{};var r=W3e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sae(n.key),n)}}function Y3e(t,e,r){return e&&J3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z3e(t,e,r){return e=Z_(e),eHe(t,Bae()?Reflect.construct(e,r||[],Z_(t).constructor):e.apply(t,r))}function eHe(t,e){if(e&&(Jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tHe(t)}function tHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bae=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(t)}function rHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bF(t,e)}function bF(t,e){return bF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},bF(t,e)}function Eae(t,e,r){return e=Sae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=nHe(t,"string");return Jm(e)=="symbol"?e:e+""}function nHe(t,e){if(Jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p0=function(t){function e(){return X3e(this,e),Z3e(this,e,arguments)}return rHe(e,t),Y3e(e,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,m=G3e(n,H3e),p=Ar(m,!1);this.props.direction==="x"&&d.type!=="number"&&of();var y=c.map(function(x){var v=u(x,l),_=v.x,j=v.y,S=v.value,C=v.errorVal;if(!C)return null;var N=[],k,E;if(Array.isArray(C)){var T=$3e(C,2);k=T[0],E=T[1]}else k=E=C;if(a==="vertical"){var P=d.scale,O=j+s,D=O+o,M=O-o,F=P(S-k),G=P(S+E);N.push({x1:G,y1:D,x2:G,y2:M}),N.push({x1:F,y1:O,x2:G,y2:O}),N.push({x1:F,y1:D,x2:F,y2:M})}else if(a==="horizontal"){var W=f.scale,V=_+s,H=V-o,Q=V+o,z=W(S-k),q=W(S+E);N.push({x1:H,y1:q,x2:Q,y2:q}),N.push({x1:V,y1:z,x2:V,y2:q}),N.push({x1:H,y1:z,x2:Q,y2:z})}return Y.createElement(Bn,Y_({className:"recharts-errorBar",key:"bar-".concat(N.map(function($){return"".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))},p),N.map(function($){return Y.createElement("line",Y_({},$,{key:"line-".concat($.x1,"-").concat($.x2,"-").concat($.y1,"-").concat($.y2)}))}))});return Y.createElement(Bn,{className:"recharts-errorBars"},y)}}])}(Y.Component);Eae(p0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Eae(p0,"displayName","ErrorBar");function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function Z9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function YA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z9(Object(r),!0).forEach(function(n){sHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sHe(t,e,r){return e=aHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aHe(t){var e=iHe(t,"string");return ax(e)=="symbol"?e:e+""}function iHe(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nae=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,a=e.legendContent,o=Xa(r,tm);if(!o)return null;var l=tm.defaultProps,c=l!==void 0?YA(YA({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var m=f.item,p=f.props,y=p.sectors||p.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||m.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,m=f.type.defaultProps,p=m!==void 0?YA(YA({},m),f.props):{},y=p.dataKey,x=p.name,v=p.legendType,_=p.hide;return{inactive:_,dataKey:y,type:c.iconType||v||"square",color:vU(f),value:x||y,payload:p}}),YA(YA(YA({},c),tm.getWithHeight(o,s)),{},{payload:u,item:o})};function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function eq(t){return uHe(t)||cHe(t)||lHe(t)||oHe()}function oHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lHe(t,e){if(t){if(typeof t=="string")return _F(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _F(t,e)}}function cHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uHe(t){if(Array.isArray(t))return _F(t)}function _F(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tq(Object(r),!0).forEach(function(n){nm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nm(t,e,r){return e=AHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AHe(t){var e=dHe(t,"string");return ix(e)=="symbol"?e:e+""}function dHe(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ii(t,e,r){return sr(t)||sr(e)?r:Kn(e)?Pi(t,e,r):er(e)?e(t):r}function zv(t,e,r,n){var s=u3e(t,function(l){return ii(l,e)});if(r==="number"){var a=s.filter(function(l){return Je(l)||parseFloat(l)});return a.length?[cB(a),lB(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!sr(l)}):s;return o.map(function(l){return Kn(l)||l instanceof Date?l:""})}var fHe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,m=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(xo(f-d)!==xo(m-f)){var y=[];if(xo(m-f)===xo(c[1]-c[0])){p=m;var x=f+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{p=d;var v=m+c[1]-c[0];y[0]=Math.min(f,(v+f)/2),y[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){o=s[u].index;break}}else{var j=Math.min(d,m),S=Math.max(d,m);if(e>(j+f)/2&&e<=(S+f)/2){o=s[u].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C>0&&C<l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2&&e<=(n[C].coordinate+n[C+1].coordinate)/2||C===l-1&&e>(n[C].coordinate+n[C-1].coordinate)/2){o=n[C].index;break}return o},vU=function(e){var r,n=e,s=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},hHe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,p=f.length;m<p;m++){var y=d[f[m]],x=y.items,v=y.cateAxisId,_=x.filter(function(E){return ac(E.type).indexOf("Bar")>=0});if(_&&_.length){var j=_[0].type.defaultProps,S=j!==void 0?gn(gn({},j),_[0].props):_[0].props,C=S.barSize,N=S[v];o[N]||(o[N]=[]);var k=sr(C)?r:C;o[N].push({item:_[0],stackList:_.slice(1),barSize:sr(k)?void 0:sf(k,n,0)})}}return o},mHe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=sf(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,p=s/c,y=o.reduce(function(C,N){return C+N.barSize||0},0);y+=(c-1)*u,y>=s&&(y-=(c-1)*u,u=0),y>=s&&p>0&&(m=!0,p*=.9,y=c*p);var x=(s-y)/2>>0,v={offset:x-u,size:0};d=o.reduce(function(C,N){var k={item:N.item,position:{offset:v.offset+v.size+u,size:m?p:N.barSize}},E=[].concat(eq(C),[k]);return v=E[E.length-1].position,N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){E.push({item:T,position:v})}),E},f)}else{var _=sf(n,s,0,!0);s-2*_-(c-1)*u<=0&&(u=0);var j=(s-2*_-(c-1)*u)/c;j>1&&(j>>=0);var S=l===+l?Math.min(j,l):j;d=o.reduce(function(C,N,k){var E=[].concat(eq(C),[{item:N.item,position:{offset:_+(j+u)*k+(j-S)/2,size:S}}]);return N.stackList&&N.stackList.length&&N.stackList.forEach(function(T){E.push({item:T,position:E[E.length-1].position})}),E},f)}return d},pHe=function(e,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Nae({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,m=d.height,p=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&p!=="center"&&Je(e[p]))return gn(gn({},e),{},nm({},p,e[p]+(f||0)));if((x==="horizontal"||x==="vertical"&&p==="center")&&y!=="middle"&&Je(e[y]))return gn(gn({},e),{},nm({},y,e[y]+(m||0)))}return e},gHe=function(e,r,n){return sr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Tae=function(e,r,n,s,a){var o=r.props.children,l=Oi(o,p0).filter(function(u){return gHe(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=ii(d,n);if(sr(f))return u;var m=Array.isArray(f)?[cB(f),lB(f)]:[f,f],p=c.reduce(function(y,x){var v=ii(d,x,0),_=m[0]-Math.abs(Array.isArray(v)?v[0]:v),j=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(_,y[0]),Math.max(j,y[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},vHe=function(e,r,n,s,a){var o=r.map(function(l){return Tae(e,l,n,a,s)}).filter(function(l){return!sr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},kae=function(e,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Tae(e,c,u,s)||zv(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Iae=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Pae=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Zl=function(e,r,n){if(!e)return null;var s=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?xo(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:s(m)+u,value:f,offset:u}});return d.filter(function(f){return!c0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,m){return{coordinate:s(f)+u,value:f,index:m,offset:u}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,m){return{coordinate:s(f)+u,value:a?a[f]:f,index:m,offset:u}})},nP=new WeakMap,Rb=function(e,r){if(typeof r!="function")return e;nP.has(e)||nP.set(e,new WeakMap);var n=nP.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},yHe=function(e,r,n){var s=e.scale,a=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Yy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:z_(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qv(),realScaleType:"point"}:a==="category"?{scale:Yy(),realScaleType:"band"}:{scale:z_(),realScaleType:"linear"};if(l0(s)){var c="scale".concat(WC(s));return{scale:(Q9[c]||qv)(),realScaleType:Q9[c]?c:"point"}}return er(s)?{scale:s}:{scale:qv(),realScaleType:"point"}},rq=1e-4,xHe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),a=Math.min(s[0],s[1])-rq,o=Math.max(s[0],s[1])+rq,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},wHe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},bHe=function(e,r){if(!r||r.length!==2||!Je(r[0])||!Je(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(a[0]=n),(!Je(e[1])||e[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},_He=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=c0(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},jHe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=c0(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},CHe={sign:_He,expand:o4e,none:$m,silhouette:l4e,wiggle:c4e,positive:jHe},BHe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),a=CHe[n],o=i4e().keys(s).value(function(l,c){return+ii(l,c,0)}).order(ZO).offset(a);return o(e)},EHe=function(e,r,n,s,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,m){var p,y=(p=m.type)!==null&&p!==void 0&&p.defaultProps?gn(gn({},m.type.defaultProps),m.props):m.props,x=y.stackId,v=y.hide;if(v)return f;var _=y[n],j=f[_]||{hasStack:!1,stackGroups:{}};if(Kn(x)){var S=j.stackGroups[x]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(m),j.hasStack=!0,j.stackGroups[x]=S}else j.stackGroups[u0("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[m]};return gn(gn({},f),{},nm({},_,j))},c),d={};return Object.keys(u).reduce(function(f,m){var p=u[m];if(p.hasStack){var y={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(x,v){var _=p.stackGroups[v];return gn(gn({},x),{},nm({},v,{numericAxisId:n,cateAxisId:s,items:_.items,stackedData:BHe(e,_.items,a)}))},y)}return gn(gn({},f),{},nm({},m,p))},d)},SHe=function(e,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=M3e(u,a,l);return e.domain([cB(d),lB(d)]),{niceTicks:d}}if(a&&s==="number"){var f=e.domain(),m=Q3e(f,a,l);return{niceTicks:m}}return null};function nq(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!sr(s[e.dataKey])){var l=E_(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=ii(s,sr(o)?e.dataKey:o);return sr(c)?null:e.scale(c)}var sq=function(e){var r=e.axis,n=e.ticks,s=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ii(o,r.dataKey,r.domain[l]);return sr(c)?null:r.scale(c)-a/2+s},NHe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},THe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,a=s.stackId;if(Kn(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},kHe=function(e){return e.reduce(function(r,n){return[cB(n.concat([r[0]]).filter(Je)),lB(n.concat([r[1]]).filter(Je))]},[1/0,-1/0])},Oae=function(e,r,n){return Object.keys(e).reduce(function(s,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var f=kHe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},aq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jF=function(e,r,n){if(er(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Je(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(aq.test(e[0])){var a=+aq.exec(e[0])[1];s[0]=r[0]-a}else er(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Je(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(iq.test(e[1])){var o=+iq.exec(e[1])[1];s[1]=r[1]+o}else er(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},ej=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var a=q4(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},oq=function(e,r,n){return!e||!e.length||uB(e,Pi(n,"type.defaultProps.domain"))?r:e},Fae=function(e,r){var n=e.type.defaultProps?gn(gn({},e.type.defaultProps),e.props):e.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gn(gn({},Ar(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:vU(e),value:ii(r,s),type:c,payload:r,chartType:u,hide:d})};function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function lq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lq(Object(r),!0).forEach(function(n){IHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IHe(t,e,r){return e=PHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PHe(t){var e=OHe(t,"string");return ox(e)=="symbol"?e:e+""}function OHe(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tj=Math.PI/180,FHe=function(e){return e*180/Math.PI},Cs=function(e,r,n,s){return{x:e+Math.cos(-tj*s)*n,y:r+Math.sin(-tj*s)*n}},RHe=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},DHe=function(e,r){var n=e.x,s=e.y,a=r.cx,o=r.cy,l=RHe({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:FHe(u),angleInRadian:u}},UHe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},MHe=function(e,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return e+l*360},uq=function(e,r){var n=e.x,s=e.y,a=DHe({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=UHe(r),f=d.startAngle,m=d.endAngle,p=l,y;if(f<=m){for(;p>m;)p-=360;for(;p<f;)p+=360;y=p>=f&&p<=m}else{for(;p>f;)p-=360;for(;p<m;)p+=360;y=p>=m&&p<=f}return y?cq(cq({},r),{},{radius:o,angle:MHe(p,r)}):null};function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}var QHe=["offset"];function LHe(t){return KHe(t)||VHe(t)||$He(t)||HHe()}function HHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $He(t,e){if(t){if(typeof t=="string")return CF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CF(t,e)}}function VHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KHe(t){if(Array.isArray(t))return CF(t)}function CF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qHe(t,e){if(t==null)return{};var r=zHe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zHe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Aq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(r),!0).forEach(function(n){GHe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GHe(t,e,r){return e=WHe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WHe(t){var e=XHe(t,"string");return lx(e)=="symbol"?e:e+""}function XHe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cx.apply(this,arguments)}var JHe=function(e){var r=e.value,n=e.formatter,s=sr(e.children)?r:e.children;return er(n)?n(s):s},YHe=function(e,r){var n=xo(r-e),s=Math.min(Math.abs(r-e),360);return n*s},ZHe=function(e,r,n){var s=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,p=c.startAngle,y=c.endAngle,x=c.clockWise,v=(f+m)/2,_=YHe(p,y),j=_>=0?1:-1,S,C;s==="insideStart"?(S=p+j*o,C=x):s==="insideEnd"?(S=y-j*o,C=!x):s==="end"&&(S=y+j*o,C=x),C=_<=0?C:!C;var N=Cs(u,d,v,S),k=Cs(u,d,v,S+(C?1:-1)*359),E="M".concat(N.x,",").concat(N.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(C?0:1,`,
    `).concat(k.x,",").concat(k.y),T=sr(e.id)?u0("recharts-radial-line-"):e.id;return Y.createElement("text",cx({},n,{dominantBaseline:"central",className:pr("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:T,d:E})),Y.createElement("textPath",{xlinkHref:"#".concat(T)},r))},e6e=function(e){var r=e.viewBox,n=e.offset,s=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(s==="outside"){var p=Cs(o,l,u+n,m),y=p.x,x=p.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,_=Cs(o,l,v,m),j=_.x,S=_.y;return{x:j,y:S,textAnchor:"middle",verticalAnchor:"middle"}},t6e=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*s,p=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,v=x*s,_=x>0?"end":"start",j=x>0?"start":"end";if(a==="top"){var S={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:p};return Qn(Qn({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var C={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:y};return Qn(Qn({},C),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var N={x:l-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"};return Qn(Qn({},N),n?{width:Math.max(N.x-n.x,0),height:d}:{})}if(a==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return Qn(Qn({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?Qn({x:l+v,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},E):a==="insideRight"?Qn({x:l+u-v,y:c+d/2,textAnchor:_,verticalAnchor:"middle"},E):a==="insideTop"?Qn({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?Qn({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:p},E):a==="insideTopLeft"?Qn({x:l+v,y:c+m,textAnchor:j,verticalAnchor:y},E):a==="insideTopRight"?Qn({x:l+u-v,y:c+m,textAnchor:_,verticalAnchor:y},E):a==="insideBottomLeft"?Qn({x:l+v,y:c+d-m,textAnchor:j,verticalAnchor:p},E):a==="insideBottomRight"?Qn({x:l+u-v,y:c+d-m,textAnchor:_,verticalAnchor:p},E):Op(a)&&(Je(a.x)||xd(a.x))&&(Je(a.y)||xd(a.y))?Qn({x:l+sf(a.x,u),y:c+sf(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):Qn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},r6e=function(e){return"cx"in e&&Je(e.cx)};function Qs(t){var e=t.offset,r=e===void 0?5:e,n=qHe(t,QHe),s=Qn({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,m=s.textBreakAll;if(!a||sr(l)&&sr(c)&&!w.isValidElement(u)&&!er(u))return null;if(w.isValidElement(u))return w.cloneElement(u,s);var p;if(er(u)){if(p=w.createElement(u,s),w.isValidElement(p))return p}else p=JHe(s);var y=r6e(a),x=Ar(s,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ZHe(s,p,x);var v=y?e6e(s):t6e(s);return Y.createElement(Q_,cx({className:pr("recharts-label",f)},x,v,{breakAll:m}),p)}Qs.displayName="Label";var Rae=function(e){var r=e.cx,n=e.cy,s=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,m=e.y,p=e.top,y=e.left,x=e.width,v=e.height,_=e.clockWise,j=e.labelViewBox;if(j)return j;if(Je(x)&&Je(v)){if(Je(f)&&Je(m))return{x:f,y:m,width:x,height:v};if(Je(p)&&Je(y))return{x:p,y,width:x,height:v}}return Je(f)&&Je(m)?{x:f,y:m,width:0,height:0}:Je(r)&&Je(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:_}:e.viewBox?e.viewBox:{}},n6e=function(e,r){return e?e===!0?Y.createElement(Qs,{key:"label-implicit",viewBox:r}):Kn(e)?Y.createElement(Qs,{key:"label-implicit",viewBox:r,value:e}):w.isValidElement(e)?e.type===Qs?w.cloneElement(e,{key:"label-implicit",viewBox:r}):Y.createElement(Qs,{key:"label-implicit",content:e,viewBox:r}):er(e)?Y.createElement(Qs,{key:"label-implicit",content:e,viewBox:r}):Op(e)?Y.createElement(Qs,cx({viewBox:r},e,{key:"label-implicit"})):null:null},s6e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,a=Rae(e),o=Oi(s,Qs).map(function(c,u){return w.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=n6e(e.label,r||a);return[l].concat(LHe(o))};Qs.parseViewBox=Rae;Qs.renderCallByParent=s6e;var sP,dq;function a6e(){if(dq)return sP;dq=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return sP=t,sP}var i6e=a6e();const o6e=yr(i6e);function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}var l6e=["valueAccessor"],c6e=["data","dataKey","clockWise","id","textBreakAll"];function u6e(t){return h6e(t)||f6e(t)||d6e(t)||A6e()}function A6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(t,e){if(t){if(typeof t=="string")return BF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BF(t,e)}}function f6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h6e(t){if(Array.isArray(t))return BF(t)}function BF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rj(){return rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rj.apply(this,arguments)}function fq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fq(Object(r),!0).forEach(function(n){m6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m6e(t,e,r){return e=p6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p6e(t){var e=g6e(t,"string");return ux(e)=="symbol"?e:e+""}function g6e(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mq(t,e){if(t==null)return{};var r=v6e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function v6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var y6e=function(e){return Array.isArray(e.value)?o6e(e.value):e.value};function Vu(t){var e=t.valueAccessor,r=e===void 0?y6e:e,n=mq(t,l6e),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=mq(n,c6e);return!s||!s.length?null:Y.createElement(Bn,{className:"recharts-label-list"},s.map(function(d,f){var m=sr(a)?r(d,f):ii(d&&d.payload,a),p=sr(l)?{}:{id:"".concat(l,"-").concat(f)};return Y.createElement(Qs,rj({},Ar(d,!0),u,p,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:Qs.parseViewBox(sr(o)?d:hq(hq({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Vu.displayName="LabelList";function x6e(t,e){return t?t===!0?Y.createElement(Vu,{key:"labelList-implicit",data:e}):Y.isValidElement(t)||er(t)?Y.createElement(Vu,{key:"labelList-implicit",data:e,content:t}):Op(t)?Y.createElement(Vu,rj({data:e},t,{key:"labelList-implicit"})):null:null}function w6e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Oi(n,Vu).map(function(o,l){return w.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var a=x6e(t.label,e);return[a].concat(u6e(s))}Vu.renderCallByParent=w6e;function Ax(t){"@babel/helpers - typeof";return Ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ax(t)}function EF(){return EF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EF.apply(this,arguments)}function pq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function gq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(r),!0).forEach(function(n){b6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b6e(t,e,r){return e=_6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _6e(t){var e=j6e(t,"string");return Ax(e)=="symbol"?e:e+""}function j6e(t,e){if(Ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C6e=function(e,r){var n=xo(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Db=function(e){var r=e.cx,n=e.cy,s=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/tj,m=u?a:a+o*f,p=Cs(r,n,d,m),y=Cs(r,n,s,m),x=u?a-o*f:a,v=Cs(r,n,d*Math.cos(f*tj),x);return{center:p,circleTangency:y,lineTangency:v,theta:f}},Dae=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=C6e(o,l),u=o+c,d=Cs(r,n,a,o),f=Cs(r,n,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var p=Cs(r,n,s,o),y=Cs(r,n,s,u);m+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else m+="L ".concat(r,",").concat(n," Z");return m},B6e=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=xo(d-u),m=Db({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=m.circleTangency,y=m.lineTangency,x=m.theta,v=Db({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),_=v.circleTangency,j=v.lineTangency,S=v.theta,C=c?Math.abs(u-d):Math.abs(u-d)-x-S;if(C<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Dae({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var N="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(C>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
  `);if(s>0){var k=Db({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=k.circleTangency,T=k.lineTangency,P=k.theta,O=Db({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=O.circleTangency,M=O.lineTangency,F=O.theta,G=c?Math.abs(u-d):Math.abs(u-d)-P-F;if(G<0&&o===0)return"".concat(N,"L").concat(r,",").concat(n,"Z");N+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,"Z")}else N+="L".concat(r,",").concat(n,"Z");return N},E6e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Uae=function(e){var r=gq(gq({},E6e),e),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,m=r.className;if(o<a||d===f)return null;var p=pr("recharts-sector",m),y=o-a,x=sf(l,y,0,!0),v;return x>0&&Math.abs(d-f)<360?v=B6e({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Dae({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),Y.createElement("path",EF({},Ar(r,!0),{className:p,d:v,role:"img"}))};function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function SF(){return SF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SF.apply(this,arguments)}function vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(r),!0).forEach(function(n){S6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S6e(t,e,r){return e=N6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N6e(t){var e=T6e(t,"string");return dx(e)=="symbol"?e:e+""}function T6e(t,e){if(dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xq={curveBasisClosed:WDe,curveBasisOpen:XDe,curveBasis:GDe,curveBumpX:ODe,curveBumpY:FDe,curveLinearClosed:JDe,curveLinear:JC,curveMonotoneX:YDe,curveMonotoneY:ZDe,curveNatural:e4e,curveStep:t4e,curveStepAfter:n4e,curveStepBefore:r4e},Ub=function(e){return e.x===+e.x&&e.y===+e.y},nv=function(e){return e.x},sv=function(e){return e.y},k6e=function(e,r){if(er(e))return e;var n="curve".concat(WC(e));return(n==="curveMonotone"||n==="curveBump")&&r?xq["".concat(n).concat(r==="vertical"?"Y":"X")]:xq[n]||JC},I6e=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,a=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=k6e(n,l),f=u?a.filter(function(x){return Ub(x)}):a,m;if(Array.isArray(o)){var p=u?o.filter(function(x){return Ub(x)}):o,y=f.map(function(x,v){return yq(yq({},x),{},{base:p[v]})});return l==="vertical"?m=Nb().y(sv).x1(nv).x0(function(x){return x.base.x}):m=Nb().x(nv).y1(sv).y0(function(x){return x.base.y}),m.defined(Ub).curve(d),m(y)}return l==="vertical"&&Je(o)?m=Nb().y(sv).x1(nv).x0(o):Je(o)?m=Nb().x(nv).y1(sv).y0(o):m=Hne().x(nv).y(sv),m.defined(Ub).curve(d),m(f)},NF=function(e){var r=e.className,n=e.points,s=e.path,a=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?I6e(e):s;return Y.createElement("path",SF({},Ar(e,!1),S_(e),{className:pr("recharts-curve",r),d:o,ref:a}))},P6e=Object.getOwnPropertyNames,O6e=Object.getOwnPropertySymbols,F6e=Object.prototype.hasOwnProperty;function wq(t,e){return function(n,s,a){return t(n,s,a)&&e(n,s,a)}}function Mb(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var a=s.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,s);return a.delete(r),a.delete(n),c}}function bq(t){return P6e(t).concat(O6e(t))}var Mae=Object.hasOwn||function(t,e){return F6e.call(t,e)};function Qp(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Qae="_owner",_q=Object.getOwnPropertyDescriptor,jq=Object.keys;function R6e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function D6e(t,e){return Qp(t.getTime(),e.getTime())}function Cq(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.entries(),a=0,o,l;(o=s.next())&&!o.done;){for(var c=e.entries(),u=!1,d=0;(l=c.next())&&!l.done;){var f=o.value,m=f[0],p=f[1],y=l.value,x=y[0],v=y[1];!u&&!n[d]&&(u=r.equals(m,x,a,d,t,e,r)&&r.equals(p,v,m,x,t,e,r))&&(n[d]=!0),d++}if(!u)return!1;a++}return!0}function U6e(t,e,r){var n=jq(t),s=n.length;if(jq(e).length!==s)return!1;for(var a;s-- >0;)if(a=n[s],a===Qae&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Mae(e,a)||!r.equals(t[a],e[a],a,a,t,e,r))return!1;return!0}function av(t,e,r){var n=bq(t),s=n.length;if(bq(e).length!==s)return!1;for(var a,o,l;s-- >0;)if(a=n[s],a===Qae&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Mae(e,a)||!r.equals(t[a],e[a],a,a,t,e,r)||(o=_q(t,a),l=_q(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function M6e(t,e){return Qp(t.valueOf(),e.valueOf())}function Q6e(t,e){return t.source===e.source&&t.flags===e.flags}function Bq(t,e,r){if(t.size!==e.size)return!1;for(var n={},s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;)!c&&!n[u]&&(c=r.equals(a.value,o.value,a.value,o.value,t,e,r))&&(n[u]=!0),u++;if(!c)return!1}return!0}function L6e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var H6e="[object Arguments]",$6e="[object Boolean]",V6e="[object Date]",K6e="[object Map]",q6e="[object Number]",z6e="[object Object]",G6e="[object RegExp]",W6e="[object Set]",X6e="[object String]",J6e=Array.isArray,Eq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Sq=Object.assign,Y6e=Object.prototype.toString.call.bind(Object.prototype.toString);function Z6e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,s=t.areObjectsEqual,a=t.arePrimitiveWrappersEqual,o=t.areRegExpsEqual,l=t.areSetsEqual,c=t.areTypedArraysEqual;return function(d,f,m){if(d===f)return!0;if(d==null||f==null||typeof d!="object"||typeof f!="object")return d!==d&&f!==f;var p=d.constructor;if(p!==f.constructor)return!1;if(p===Object)return s(d,f,m);if(J6e(d))return e(d,f,m);if(Eq!=null&&Eq(d))return c(d,f,m);if(p===Date)return r(d,f,m);if(p===RegExp)return o(d,f,m);if(p===Map)return n(d,f,m);if(p===Set)return l(d,f,m);var y=Y6e(d);return y===V6e?r(d,f,m):y===G6e?o(d,f,m):y===K6e?n(d,f,m):y===W6e?l(d,f,m):y===z6e?typeof d.then!="function"&&typeof f.then!="function"&&s(d,f,m):y===H6e?s(d,f,m):y===$6e||y===q6e||y===X6e?a(d,f,m):!1}}function e$e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?av:R6e,areDatesEqual:D6e,areMapsEqual:n?wq(Cq,av):Cq,areObjectsEqual:n?av:U6e,arePrimitiveWrappersEqual:M6e,areRegExpsEqual:Q6e,areSetsEqual:n?wq(Bq,av):Bq,areTypedArraysEqual:n?av:L6e};if(r&&(s=Sq({},s,r(s))),e){var a=Mb(s.areArraysEqual),o=Mb(s.areMapsEqual),l=Mb(s.areObjectsEqual),c=Mb(s.areSetsEqual);s=Sq({},s,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function t$e(t){return function(e,r,n,s,a,o,l){return t(e,r,l)}}function r$e(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,m=f===void 0?e?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:m,equals:s,meta:p,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var o={cache:void 0,equals:s,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var n$e=xA();xA({strict:!0});xA({circular:!0});xA({circular:!0,strict:!0});xA({createInternalComparator:function(){return Qp}});xA({strict:!0,createInternalComparator:function(){return Qp}});xA({circular:!0,createInternalComparator:function(){return Qp}});xA({circular:!0,createInternalComparator:function(){return Qp},strict:!0});function xA(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,a=t.strict,o=a===void 0?!1:a,l=e$e(t),c=Z6e(l),u=n?n(c):t$e(c);return r$e({circular:r,comparator:c,createState:s,equals:u,strict:o})}function s$e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Nq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>e?(t(a),r=-1):s$e(s)};requestAnimationFrame(n)}function TF(t){"@babel/helpers - typeof";return TF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TF(t)}function a$e(t){return c$e(t)||l$e(t)||o$e(t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o$e(t,e){if(t){if(typeof t=="string")return Tq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tq(t,e)}}function Tq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c$e(t){if(Array.isArray(t))return t}function u$e(){var t={},e=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=a$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Nq(s.bind(null,u),c);return}s(c),Nq(s.bind(null,u));return}TF(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function kq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Iq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kq(Object(r),!0).forEach(function(n){Lae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lae(t,e,r){return e=A$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A$e(t){var e=d$e(t,"string");return fx(e)==="symbol"?e:String(e)}function d$e(t,e){if(fx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f$e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},h$e=function(e){return e},m$e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gv=function(e,r){return Object.keys(r).reduce(function(n,s){return Iq(Iq({},n),{},Lae({},s,e(s,r[s])))},{})},Pq=function(e,r,n){return e.map(function(s){return"".concat(m$e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function p$e(t,e){return y$e(t)||v$e(t,e)||Hae(t,e)||g$e()}function g$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function y$e(t){if(Array.isArray(t))return t}function x$e(t){return _$e(t)||b$e(t)||Hae(t)||w$e()}function w$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hae(t,e){if(t){if(typeof t=="string")return kF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kF(t,e)}}function b$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _$e(t){if(Array.isArray(t))return kF(t)}function kF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nj=1e-4,$ae=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Vae=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},Oq=function(e,r){return function(n){var s=$ae(e,r);return Vae(s,n)}},j$e=function(e,r){return function(n){var s=$ae(e,r),a=[].concat(x$e(s.map(function(o,l){return o*l}).slice(1)),[0]);return Vae(a,n)}},Fq=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=p$e(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=Oq(s,o),m=Oq(a,l),p=j$e(s,o),y=function(_){return _>1?1:_<0?0:_},x=function(_){for(var j=_>1?1:_,S=j,C=0;C<8;++C){var N=f(S)-j,k=p(S);if(Math.abs(N-j)<nj||k<nj)return m(S);S=y(S-N/k)}return m(S)};return x.isStepper=!1,x},C$e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,a=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(d,f,m){var p=-(d-f)*n,y=m*a,x=m+(p-y)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<nj&&Math.abs(x)<nj?[f,0]:[v,x]};return c.isStepper=!0,c.dt=l,c},B$e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Fq(s);case"spring":return C$e();default:if(s.split("(")[0]==="cubic-bezier")return Fq(s)}return typeof s=="function"?s:null};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function Rq(t){return N$e(t)||S$e(t)||Kae(t)||E$e()}function E$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N$e(t){if(Array.isArray(t))return PF(t)}function Dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(r),!0).forEach(function(n){IF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IF(t,e,r){return e=T$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$e(t){var e=k$e(t,"string");return hx(e)==="symbol"?e:String(e)}function k$e(t,e){if(hx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I$e(t,e){return F$e(t)||O$e(t,e)||Kae(t,e)||P$e()}function P$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(t,e){if(t){if(typeof t=="string")return PF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PF(t,e)}}function PF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function F$e(t){if(Array.isArray(t))return t}var sj=function(e,r,n){return e+(r-e)*n},OF=function(e){var r=e.from,n=e.to;return r!==n},R$e=function t(e,r,n){var s=Gv(function(a,o){if(OF(o)){var l=e(o.from,o.to,o.velocity),c=I$e(l,2),u=c[0],d=c[1];return fs(fs({},o),{},{from:u,velocity:d})}return o},r);return n<1?Gv(function(a,o){return OF(o)?fs(fs({},o),{},{velocity:sj(o.velocity,s[a].velocity,n),from:sj(o.from,s[a].from,n)}):o},r):t(e,s,n-1)};const D$e=function(t,e,r,n,s){var a=f$e(t,e),o=a.reduce(function(v,_){return fs(fs({},v),{},IF({},_,[t[_],e[_]]))},{}),l=a.reduce(function(v,_){return fs(fs({},v),{},IF({},_,{from:t[_],velocity:0,to:e[_]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return Gv(function(_,j){return j.from},l)},p=function(){return!Object.values(l).filter(OF).length},y=function(_){u||(u=_);var j=_-u,S=j/r.dt;l=R$e(r,l,S),s(fs(fs(fs({},t),e),m())),u=_,p()||(c=requestAnimationFrame(f))},x=function(_){d||(d=_);var j=(_-d)/n,S=Gv(function(N,k){return sj.apply(void 0,Rq(k).concat([r(j)]))},o);if(s(fs(fs(fs({},t),e),S)),j<1)c=requestAnimationFrame(f);else{var C=Gv(function(N,k){return sj.apply(void 0,Rq(k).concat([r(1)]))},o);s(fs(fs(fs({},t),e),C))}};return f=r.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}var U$e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function M$e(t,e){if(t==null)return{};var r=Q$e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q$e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function aP(t){return V$e(t)||$$e(t)||H$e(t)||L$e()}function L$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$e(t,e){if(t){if(typeof t=="string")return FF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FF(t,e)}}function $$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V$e(t){if(Array.isArray(t))return FF(t)}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function no(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(r),!0).forEach(function(n){jv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jv(t,e,r){return e=qae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qae(n.key),n)}}function z$e(t,e,r){return e&&q$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qae(t){var e=G$e(t,"string");return Ym(e)==="symbol"?e:String(e)}function G$e(t,e){if(Ym(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ym(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RF(t,e)}function RF(t,e){return RF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RF(t,e)}function X$e(t){var e=J$e();return function(){var n=aj(t),s;if(e){var a=aj(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return DF(this,s)}}function DF(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UF(t)}function UF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function aj(t){return aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aj(t)}var wc=function(t){W$e(r,t);var e=X$e(r);function r(n,s){var a;K$e(this,r),a=e.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,p=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(UF(a)),a.changeStyle=a.changeStyle.bind(UF(a)),!l||p<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),DF(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},DF(a);a.state={style:c?jv({},c,u):u}}else a.state={style:{}};return a}return z$e(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var p={style:c?jv({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(p);return}if(!(n$e(s.to,d)&&s.canBegin&&s.isActive)){var y=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:s.to;if(this.state&&m){var v={style:c?jv({},c,x):x};(c&&m[c]!==x||!c&&m!==x)&&this.setState(v)}this.runAnimation(no(no({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,m=s.onAnimationStart,p=D$e(o,l,B$e(u),c,this.changeStyle),y=function(){a.stopJSAnimation=p()};this.manager.start([m,d,y,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,p=function(x,v,_){if(_===0)return x;var j=v.duration,S=v.easing,C=S===void 0?"ease":S,N=v.style,k=v.properties,E=v.onAnimationEnd,T=_>0?o[_-1]:v,P=k||Object.keys(N);if(typeof C=="function"||C==="spring")return[].concat(aP(x),[a.runJSAnimation.bind(a,{from:T.style,to:N,duration:j,easing:C}),j]);var O=Pq(P,j,C),D=no(no(no({},T.style),N),{},{transition:O});return[].concat(aP(x),[D,j,E]).filter(h$e)};return this.manager.start([c].concat(aP(o.reduce(p,[d,Math.max(m,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=u$e());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,m=s.steps,p=s.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(m.length>1){this.runStepAnimation(s);return}var x=l?jv({},l,c):c,v=Pq(Object.keys(x),o,u);y.start([d,a,no(no({},x),{},{transition:v}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=M$e(s,U$e),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(p){var y=p.props,x=y.style,v=x===void 0?{}:x,_=y.className,j=w.cloneElement(p,no(no({},c),{},{style:no(no({},v),d),className:_}));return j};return u===1?f(w.Children.only(a)):Y.createElement("div",null,w.Children.map(a,function(m){return f(m)}))}}]),r}(w.PureComponent);wc.displayName="Animate";wc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};wc.propTypes={from:ht.oneOfType([ht.object,ht.string]),to:ht.oneOfType([ht.object,ht.string]),attributeName:ht.string,duration:ht.number,begin:ht.number,easing:ht.oneOfType([ht.string,ht.func]),steps:ht.arrayOf(ht.shape({duration:ht.number.isRequired,style:ht.object.isRequired,easing:ht.oneOfType([ht.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ht.func]),properties:ht.arrayOf("string"),onAnimationEnd:ht.func})),children:ht.oneOfType([ht.node,ht.func]),isActive:ht.bool,canBegin:ht.bool,onAnimationEnd:ht.func,shouldReAnimate:ht.bool,onAnimationStart:ht.func,onAnimationReStart:ht.func};ht.object,ht.object,ht.object,ht.element;ht.object,ht.object,ht.object,ht.oneOfType([ht.array,ht.element]),ht.any;function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function ij(){return ij=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ij.apply(this,arguments)}function Y$e(t,e){return rVe(t)||tVe(t,e)||eVe(t,e)||Z$e()}function Z$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eVe(t,e){if(t){if(typeof t=="string")return Mq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Mq(t,e)}}function Mq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rVe(t){if(Array.isArray(t))return t}function Qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(r),!0).forEach(function(n){nVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nVe(t,e,r){return e=sVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sVe(t){var e=aVe(t,"string");return mx(e)=="symbol"?e:e+""}function aVe(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hq=function(e,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,p=4;m<p;m++)f[m]=a[m]>o?o:a[m];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+s)),d+="L ".concat(e+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+s-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+s,`
            L `).concat(e+c*y,",").concat(r+s,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+s-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},iVe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=m}return!1},oVe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yU=function(e){var r=Lq(Lq({},oVe),e),n=w.useRef(),s=w.useState(-1),a=Y$e(s,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,m=r.radius,p=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,_=r.isAnimationActive,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var S=pr("recharts-rectangle",p);return j?Y.createElement(wc,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:y,isActive:j},function(C){var N=C.width,k=C.height,E=C.x,T=C.y;return Y.createElement(wc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,isActive:_,easing:y},Y.createElement("path",ij({},Ar(r,!0),{className:S,d:Hq(E,T,N,k,m),ref:n})))}):Y.createElement("path",ij({},Ar(r,!0),{className:S,d:Hq(c,u,d,f,m)}))};function MF(){return MF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MF.apply(this,arguments)}var xU=function(e){var r=e.cx,n=e.cy,s=e.r,a=e.className,o=pr("recharts-dot",a);return r===+r&&n===+n&&s===+s?Y.createElement("circle",MF({},Ar(e,!1),S_(e),{className:o,cx:r,cy:n,r:s})):null};function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}var lVe=["x","y","top","left","width","height","className"];function QF(){return QF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QF.apply(this,arguments)}function $q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cVe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(r),!0).forEach(function(n){uVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uVe(t,e,r){return e=AVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AVe(t){var e=dVe(t,"string");return px(e)=="symbol"?e:e+""}function dVe(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fVe(t,e){if(t==null)return{};var r=hVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var mVe=function(e,r,n,s,a,o){return"M".concat(e,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},pVe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,a=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,m=e.height,p=m===void 0?0:m,y=e.className,x=fVe(e,lVe),v=cVe({x:n,y:a,top:l,left:u,width:f,height:p},x);return!Je(n)||!Je(a)||!Je(f)||!Je(p)||!Je(l)||!Je(u)?null:Y.createElement("path",QF({},Ar(v,!0),{className:pr("recharts-cross",y),d:mVe(n,a,f,p,l,u)}))},iP,Vq;function gVe(){if(Vq)return iP;Vq=1;var t=Ase(),e=t(Object.getPrototypeOf,Object);return iP=e,iP}var oP,Kq;function vVe(){if(Kq)return oP;Kq=1;var t=jc(),e=gVe(),r=Cc(),n="[object Object]",s=Function.prototype,a=Object.prototype,o=s.toString,l=a.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var m=l.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==c}return oP=u,oP}var yVe=vVe();const xVe=yr(yVe);var lP,qq;function wVe(){if(qq)return lP;qq=1;var t=jc(),e=Cc(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return lP=n,lP}var bVe=wVe();const _Ve=yr(bVe);function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function oj(){return oj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oj.apply(this,arguments)}function jVe(t,e){return SVe(t)||EVe(t,e)||BVe(t,e)||CVe()}function CVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BVe(t,e){if(t){if(typeof t=="string")return zq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zq(t,e)}}function zq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function SVe(t){if(Array.isArray(t))return t}function Gq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(r),!0).forEach(function(n){NVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NVe(t,e,r){return e=TVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TVe(t){var e=kVe(t,"string");return gx(e)=="symbol"?e:e+""}function kVe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xq=function(e,r,n,s,a){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-s,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},IVe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PVe=function(e){var r=Wq(Wq({},IVe),e),n=w.useRef(),s=w.useState(-1),a=jVe(s,2),o=a[0],l=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,m=r.height,p=r.className,y=r.animationEasing,x=r.animationDuration,v=r.animationBegin,_=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=pr("recharts-trapezoid",p);return _?Y.createElement(wc,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:x,animationEasing:y,isActive:_},function(S){var C=S.upperWidth,N=S.lowerWidth,k=S.height,E=S.x,T=S.y;return Y.createElement(wc,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:x,easing:y},Y.createElement("path",oj({},Ar(r,!0),{className:j,d:Xq(E,T,C,N,k),ref:n})))}):Y.createElement("g",null,Y.createElement("path",oj({},Ar(r,!0),{className:j,d:Xq(c,u,d,f,m)})))},OVe=["option","shapeType","propTransformer","activeClassName","isActive"];function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function FVe(t,e){if(t==null)return{};var r=RVe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function RVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lj(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(r),!0).forEach(function(n){DVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DVe(t,e,r){return e=UVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UVe(t){var e=MVe(t,"string");return vx(e)=="symbol"?e:e+""}function MVe(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QVe(t,e){return lj(lj({},e),t)}function LVe(t,e){return t==="symbols"}function Yq(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Y.createElement(yU,r);case"trapezoid":return Y.createElement(PVe,r);case"sector":return Y.createElement(Uae,r);case"symbols":if(LVe(e))return Y.createElement(U4,r);break;default:return null}}function HVe(t){return w.isValidElement(t)?t.props:t}function $Ve(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?QVe:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=FVe(t,OVe),u;if(w.isValidElement(e))u=w.cloneElement(e,lj(lj({},c),HVe(e)));else if(er(e))u=e(c);else if(xVe(e)&&!_Ve(e)){var d=s(e,c);u=Y.createElement(Yq,{shapeType:r,elementProps:d})}else{var f=c;u=Y.createElement(Yq,{shapeType:r,elementProps:f})}return l?Y.createElement(Bn,{className:o},u):u}function fB(t,e){return e!=null&&"trapezoids"in t.props}function hB(t,e){return e!=null&&"sectors"in t.props}function yx(t,e){return e!=null&&"points"in t.props}function VVe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&a}function KVe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function qVe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function zVe(t,e){var r;return fB(t,e)?r=VVe:hB(t,e)?r=KVe:yx(t,e)&&(r=qVe),r}function GVe(t,e){var r;return fB(t,e)?r="trapezoids":hB(t,e)?r="sectors":yx(t,e)&&(r="points"),r}function WVe(t,e){if(fB(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(hB(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return yx(t,e)?e.payload:{}}function XVe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=GVe(r,e),a=WVe(r,e),o=n.filter(function(c,u){var d=uB(a,c),f=r.props[s].filter(function(y){var x=zVe(r,e);return x(y,e)}),m=r.props[s].indexOf(f[f.length-1]),p=u===m;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var cP,Zq;function JVe(){if(Zq)return cP;Zq=1;var t=Math.ceil,e=Math.max;function r(n,s,a,o){for(var l=-1,c=e(t((s-n)/(a||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=a;return u}return cP=r,cP}var uP,e7;function zae(){if(e7)return uP;e7=1;var t=Ese(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var a=s<0?-1:1;return a*r}return s===s?s:0}return uP=n,uP}var AP,t7;function YVe(){if(t7)return AP;t7=1;var t=JVe(),e=tB(),r=zae();function n(s){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,s)}}return AP=n,AP}var dP,r7;function ZVe(){if(r7)return dP;r7=1;var t=YVe(),e=t();return dP=e,dP}var e8e=ZVe();const cj=yr(e8e);function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function n7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function s7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(r),!0).forEach(function(n){Gae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gae(t,e,r){return e=t8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t8e(t){var e=r8e(t,"string");return xx(e)=="symbol"?e:e+""}function r8e(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var n8e=["Webkit","Moz","O","ms"],s8e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),s=n8e.reduce(function(a,o){return s7(s7({},a),{},Gae({},o+n,r))},{});return s[e]=r,s};function Zm(t){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(t)}function uj(){return uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uj.apply(this,arguments)}function a7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(r),!0).forEach(function(n){za(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xae(n.key),n)}}function i8e(t,e,r){return e&&i7(t.prototype,e),r&&i7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function o8e(t,e,r){return e=Aj(e),l8e(t,Wae()?Reflect.construct(e,r||[],Aj(t).constructor):e.apply(t,r))}function l8e(t,e){if(e&&(Zm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c8e(t)}function c8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wae=function(){return!!t})()}function Aj(t){return Aj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aj(t)}function u8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LF(t,e)}function LF(t,e){return LF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LF(t,e)}function za(t,e,r){return e=Xae(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xae(t){var e=A8e(t,"string");return Zm(e)=="symbol"?e:e+""}function A8e(t,e){if(Zm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d8e=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=qv().domain(cj(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},o7=function(e){return e.changedTouches&&!!e.changedTouches.length},ep=function(t){function e(r){var n;return a8e(this,e),n=o8e(this,e,[r]),za(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),za(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),za(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),za(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),za(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),za(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),za(n,"handleSlideDragStart",function(s){var a=o7(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return u8e(e,t),i8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),m=Math.max(s,a),p=e.getIndexInRange(o,f),y=e.getIndexInRange(o,m);return{startIndex:p-p%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=ii(a[n],l,n);return er(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,p=c.endIndex,y=c.onChange,x=n.pageX-a;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var v=this.getIndex({startX:o+x,endX:l+x});(v.startIndex!==m||v.endIndex!==p)&&y&&y(v),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=o7(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,p=d.travellerWidth,y=d.onChange,x=d.gap,v=d.data,_={startX:this.state.startX,endX:this.state.endX},j=n.pageX-a;j>0?j=Math.min(j,f+m-p-u):j<0&&(j=Math.max(j,f-u)),_[o]=u+j;var S=this.getIndex(_),C=S.startIndex,N=S.endIndex,k=function(){var T=v.length-1;return o==="startX"&&(l>c?C%x===0:N%x===0)||l<c&&N===T||o==="endX"&&(l>c?N%x===0:C%x===0)||l>c&&N===T};this.setState(za(za({},o,u+j),"brushMoveStartX",n.pageX),function(){y&&k()&&y(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var m=f+n;if(!(m===-1||m>=l.length)){var p=l[m];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(za({},s,p),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Y.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?Y.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,p=c.ariaLabel,y=c.data,x=c.startIndex,v=c.endIndex,_=Math.max(n,this.props.x),j=fP(fP({},Ar(this.props,!1)),{},{x:_,y:u,width:d,height:f}),S=p||"Min value: ".concat((a=y[x])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[v])===null||o===void 0?void 0:o.name);return Y.createElement(Bn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),l.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,j))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,m=d.endX,p=5,y={pointerEvents:"none",fill:u};return Y.createElement(Bn,{className:"recharts-brush-texts"},Y.createElement(Q_,uj({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-p,y:o+l/2},y),this.getTextOfTick(s)),Y.createElement(Q_,uj({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+p,y:o+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,m=this.state,p=m.startX,y=m.endX,x=m.isTextActive,v=m.isSlideMoving,_=m.isTravellerMoving,j=m.isTravellerFocused;if(!s||!s.length||!Je(l)||!Je(c)||!Je(u)||!Je(d)||u<=0||d<=0)return null;var S=pr("recharts-brush",a),C=Y.Children.count(o)===1,N=s8e("userSelect","none");return Y.createElement(Bn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:N},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(p,y),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(y,"endX"),(x||v||_||j||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return Y.isValidElement(n)?a=Y.cloneElement(n,s):er(n)?a=n(s):a=e.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return fP({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?d8e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var m=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(w.PureComponent);za(ep,"displayName","Brush");za(ep,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var hP,l7;function f8e(){if(l7)return hP;l7=1;var t=K4();function e(r,n){var s;return t(r,function(a,o,l){return s=n(a,o,l),!s}),!!s}return hP=e,hP}var mP,c7;function h8e(){if(c7)return mP;c7=1;var t=sse(),e=gA(),r=f8e(),n=Oa(),s=tB();function a(o,l,c){var u=n(o)?t:r;return c&&s(o,l,c)&&(l=void 0),u(o,e(l,3))}return mP=a,mP}var m8e=h8e();const p8e=yr(m8e);var Al=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},pP,u7;function g8e(){if(u7)return pP;u7=1;var t=bse();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return pP=e,pP}var gP,A7;function v8e(){if(A7)return gP;A7=1;var t=g8e(),e=xse(),r=gA();function n(s,a){var o={};return a=r(a,3),e(s,function(l,c,u){t(o,c,a(l,c,u))}),o}return gP=n,gP}var y8e=v8e();const x8e=yr(y8e);var vP,d7;function w8e(){if(d7)return vP;d7=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return vP=t,vP}var yP,f7;function b8e(){if(f7)return yP;f7=1;var t=K4();function e(r,n){var s=!0;return t(r,function(a,o,l){return s=!!n(a,o,l),s}),s}return yP=e,yP}var xP,h7;function _8e(){if(h7)return xP;h7=1;var t=w8e(),e=b8e(),r=gA(),n=Oa(),s=tB();function a(o,l,c){var u=n(o)?t:e;return c&&s(o,l,c)&&(l=void 0),u(o,r(l,3))}return xP=a,xP}var j8e=_8e();const Jae=yr(j8e);var C8e=["x","y"];function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function HF(){return HF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HF.apply(this,arguments)}function m7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function iv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m7(Object(r),!0).forEach(function(n){B8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B8e(t,e,r){return e=E8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E8e(t){var e=S8e(t,"string");return wx(e)=="symbol"?e:e+""}function S8e(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N8e(t,e){if(t==null)return{};var r=T8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function k8e(t,e){var r=t.x,n=t.y,s=N8e(t,C8e),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||s.height),d=parseInt(u,10),f="".concat(e.width||s.width),m=parseInt(f,10);return iv(iv(iv(iv(iv({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function p7(t){return Y.createElement($Ve,HF({shapeType:"rectangle",propTransformer:k8e,activeClassName:"recharts-active-bar"},t))}var I8e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var a=typeof n=="number";return a?e(n,s):(a||of(),r)}},P8e=["value","background"],Yae;function tp(t){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tp(t)}function O8e(t,e){if(t==null)return{};var r=F8e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function F8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dj(){return dj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dj.apply(this,arguments)}function g7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Pn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g7(Object(r),!0).forEach(function(n){Iu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eie(n.key),n)}}function D8e(t,e,r){return e&&v7(t.prototype,e),r&&v7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U8e(t,e,r){return e=fj(e),M8e(t,Zae()?Reflect.construct(e,r||[],fj(t).constructor):e.apply(t,r))}function M8e(t,e){if(e&&(tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q8e(t)}function Q8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zae=function(){return!!t})()}function fj(t){return fj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fj(t)}function L8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$F(t,e)}function $F(t,e){return $F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$F(t,e)}function Iu(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=H8e(t,"string");return tp(e)=="symbol"?e:e+""}function H8e(t,e){if(tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mf=function(t){function e(){var r;R8e(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=U8e(this,e,[].concat(s)),Iu(r,"state",{isAnimationFinished:!1}),Iu(r,"id",u0("recharts-bar-")),Iu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Iu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return L8e(e,t),D8e(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ar(this.props,!1);return n&&n.map(function(f,m){var p=m===c,y=p?u:o,x=Pn(Pn(Pn({},d),f),{},{isActive:p,option:y,index:m,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Y.createElement(Bn,dj({className:"recharts-bar-rectangle"},N_(s.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),Y.createElement(p7,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state.prevData;return Y.createElement(wc,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t,x=a.map(function(v,_){var j=m&&m[_];if(j){var S=ho(j.x,v.x),C=ho(j.y,v.y),N=ho(j.width,v.width),k=ho(j.height,v.height);return Pn(Pn({},v),{},{x:S(y),y:C(y),width:N(y),height:k(y)})}if(o==="horizontal"){var E=ho(0,v.height),T=E(y);return Pn(Pn({},v),{},{y:v.y+v.height-T,height:T})}var P=ho(0,v.width),O=P(y);return Pn(Pn({},v),{},{width:O})});return Y.createElement(Bn,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!uB(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=Ar(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=O8e(u,P8e);if(!f)return null;var p=Pn(Pn(Pn(Pn(Pn({},m),{},{fill:"#eee"},f),c),N_(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Y.createElement(p7,dj({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Oi(d,p0);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,_){var j=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:j,errorVal:ii(v,_)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return Y.createElement(Bn,y,f.map(function(x){return Y.cloneElement(x,{key:"error-bar-".concat(s,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,m=n.height,p=n.isAnimationActive,y=n.background,x=n.id;if(s||!a||!a.length)return null;var v=this.state.isAnimationFinished,_=pr("recharts-bar",o),j=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,C=j||S,N=sr(x)?this.id:x;return Y.createElement(Bn,{className:_},j||S?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(N)},Y.createElement("rect",{x:j?u:u-f/2,y:S?d:d-m/2,width:j?f:f*2,height:S?m:m*2}))):null,Y.createElement(Bn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(N,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,N),(!p||v)&&Vu.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(w.PureComponent);Yae=mf;Iu(mf,"displayName","Bar");Iu(mf,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Rp.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Iu(mf,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,m=t.offset,p=wHe(n,r);if(!p)return null;var y=e.layout,x=r.type.defaultProps,v=x!==void 0?Pn(Pn({},x),r.props):r.props,_=v.dataKey,j=v.children,S=v.minPointSize,C=y==="horizontal"?o:a,N=u?C.scale.domain():null,k=NHe({numericAxis:C}),E=Oi(j,Nse),T=f.map(function(P,O){var D,M,F,G,W,V;u?D=bHe(u[d+O],N):(D=ii(P,_),Array.isArray(D)||(D=[k,D]));var H=I8e(S,Yae.defaultProps.minPointSize)(D[1],O);if(y==="horizontal"){var Q,z=[o.scale(D[0]),o.scale(D[1])],q=z[0],$=z[1];M=sq({axis:a,ticks:l,bandSize:s,offset:p.offset,entry:P,index:O}),F=(Q=$??q)!==null&&Q!==void 0?Q:void 0,G=p.size;var J=q-$;if(W=Number.isNaN(J)?0:J,V={x:M,y:o.y,width:G,height:o.height},Math.abs(H)>0&&Math.abs(W)<Math.abs(H)){var le=xo(W||H)*(Math.abs(H)-Math.abs(W));F-=le,W+=le}}else{var ae=[a.scale(D[0]),a.scale(D[1])],ee=ae[0],ue=ae[1];if(M=ee,F=sq({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:P,index:O}),G=ue-ee,W=p.size,V={x:a.x,y:F,width:a.width,height:W},Math.abs(H)>0&&Math.abs(G)<Math.abs(H)){var xe=xo(G||H)*(Math.abs(H)-Math.abs(G));G+=xe}}return Pn(Pn(Pn({},P),{},{x:M,y:F,width:G,height:W,value:u?D:D[1],payload:P,background:V},E&&E[O]&&E[O].props),{},{tooltipPayload:[Fae(r,P)],tooltipPosition:{x:M+G/2,y:F+W/2}})});return Pn({data:T,layout:y},m)});function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function $8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tie(n.key),n)}}function V8e(t,e,r){return e&&y7(t.prototype,e),r&&y7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function x7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x7(Object(r),!0).forEach(function(n){mB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mB(t,e,r){return e=tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tie(t){var e=K8e(t,"string");return bx(e)=="symbol"?e:e+""}function K8e(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rie=function(e,r,n,s,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},m=!!Xa(u,mf);return d.reduce(function(p,y){var x=r[y],v=x.orientation,_=x.domain,j=x.padding,S=j===void 0?{}:j,C=x.mirror,N=x.reversed,k="".concat(v).concat(C?"Mirror":""),E,T,P,O,D;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var M=_[1]-_[0],F=1/0,G=x.categoricalDomain.sort();if(G.forEach(function(ae,ee){ee>0&&(F=Math.min((ae||0)-(G[ee-1]||0),F))}),Number.isFinite(F)){var W=F/M,V=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(E=W*V/2),x.padding==="no-gap"){var H=sf(e.barCategoryGap,W*V),Q=W*V/2;E=Q-H-(Q-H)/V*H}}}s==="xAxis"?T=[n.left+(S.left||0)+(E||0),n.left+n.width-(S.right||0)-(E||0)]:s==="yAxis"?T=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(E||0),n.top+n.height-(S.bottom||0)-(E||0)]:T=x.range,N&&(T=[T[1],T[0]]);var z=yHe(x,a,m),q=z.scale,$=z.realScaleType;q.domain(_).range(T),xHe(q);var J=SHe(q,uo(uo({},x),{},{realScaleType:$}));s==="xAxis"?(D=v==="top"&&!C||v==="bottom"&&C,P=n.left,O=f[k]-D*x.height):s==="yAxis"&&(D=v==="left"&&!C||v==="right"&&C,P=f[k]-D*x.width,O=n.top);var le=uo(uo(uo({},x),J),{},{realScaleType:$,x:P,y:O,scale:q,width:s==="xAxis"?n.width:x.width,height:s==="yAxis"?n.height:x.height});return le.bandSize=ej(le,J),!x.hide&&s==="xAxis"?f[k]+=(D?-1:1)*le.height:x.hide||(f[k]+=(D?-1:1)*le.width),uo(uo({},p),{},mB({},y,le))},{})},nie=function(e,r){var n=e.x,s=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},q8e=function(e){var r=e.x1,n=e.y1,s=e.x2,a=e.y2;return nie({x:r,y:n},{x:s,y:a})},sie=function(){function t(e){$8e(this,t),this.scale=e}return V8e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])}();mB(sie,"EPS",1e-4);var wU=function(e){var r=Object.keys(e).reduce(function(n,s){return uo(uo({},n),{},mB({},s,sie.create(e[s])))},{});return uo(uo({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return x8e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Jae(s,function(a,o){return r[o].isInRange(a)})}})};function z8e(t){return(t%180+180)%180}var G8e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=z8e(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},wP,w7;function W8e(){if(w7)return wP;w7=1;var t=gA(),e=A0(),r=ZC();function n(s){return function(a,o,l){var c=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(f){return u(c[f],f,c)}}var d=s(a,o,l);return d>-1?c[u?a[d]:d]:void 0}}return wP=n,wP}var bP,b7;function X8e(){if(b7)return bP;b7=1;var t=zae();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return bP=e,bP}var _P,_7;function J8e(){if(_7)return _P;_7=1;var t=mse(),e=gA(),r=X8e(),n=Math.max;function s(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(a,e(o,3),u)}return _P=s,_P}var jP,j7;function Y8e(){if(j7)return jP;j7=1;var t=W8e(),e=J8e(),r=t(e);return jP=r,jP}var Z8e=Y8e();const eKe=yr(Z8e);var tKe=Tne();const rKe=yr(tKe);var nKe=rKe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),bU=w.createContext(void 0),_U=w.createContext(void 0),aie=w.createContext(void 0),iie=w.createContext({}),oie=w.createContext(void 0),lie=w.createContext(0),cie=w.createContext(0),C7=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=nKe(a);return Y.createElement(bU.Provider,{value:n},Y.createElement(_U.Provider,{value:s},Y.createElement(iie.Provider,{value:a},Y.createElement(aie.Provider,{value:d},Y.createElement(oie.Provider,{value:o},Y.createElement(lie.Provider,{value:u},Y.createElement(cie.Provider,{value:c},l)))))))},sKe=function(){return w.useContext(oie)},uie=function(e){var r=w.useContext(bU);r==null&&of();var n=r[e];return n==null&&of(),n},aKe=function(){var e=w.useContext(bU);return vu(e)},iKe=function(){var e=w.useContext(_U),r=eKe(e,function(n){return Jae(n.domain,Number.isFinite)});return r||vu(e)},Aie=function(e){var r=w.useContext(_U);r==null&&of();var n=r[e];return n==null&&of(),n},oKe=function(){var e=w.useContext(aie);return e},lKe=function(){return w.useContext(iie)},jU=function(){return w.useContext(cie)},CU=function(){return w.useContext(lie)};function rp(t){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(t)}function cKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fie(n.key),n)}}function AKe(t,e,r){return e&&uKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dKe(t,e,r){return e=hj(e),fKe(t,die()?Reflect.construct(e,r||[],hj(t).constructor):e.apply(t,r))}function fKe(t,e){if(e&&(rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hKe(t)}function hKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function die(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!t})()}function hj(t){return hj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hj(t)}function mKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VF(t,e)}function VF(t,e){return VF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VF(t,e)}function B7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function E7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B7(Object(r),!0).forEach(function(n){BU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BU(t,e,r){return e=fie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fie(t){var e=pKe(t,"string");return rp(e)=="symbol"?e:e+""}function pKe(t,e){if(rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function gKe(t,e){return wKe(t)||xKe(t,e)||yKe(t,e)||vKe()}function vKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yKe(t,e){if(t){if(typeof t=="string")return S7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S7(t,e)}}function S7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xKe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wKe(t){if(Array.isArray(t))return t}function KF(){return KF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KF.apply(this,arguments)}var bKe=function(e,r){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,r):er(e)?n=e(r):n=Y.createElement("line",KF({},r,{className:"recharts-reference-line-line"})),n},_Ke=function(e,r,n,s,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,p=a.height;if(n){var y=u.y,x=e.y.apply(y,{position:o});if(Al(u,"discard")&&!e.y.isInRange(x))return null;var v=[{x:d+m,y:x},{x:d,y:x}];return c==="left"?v.reverse():v}if(r){var _=u.x,j=e.x.apply(_,{position:o});if(Al(u,"discard")&&!e.x.isInRange(j))return null;var S=[{x:j,y:f+p},{x:j,y:f}];return l==="top"?S.reverse():S}if(s){var C=u.segment,N=C.map(function(k){return e.apply(k,{position:o})});return Al(u,"discard")&&p8e(N,function(k){return!e.isInRange(k)})?null:N}return null};function jKe(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=sKe(),d=uie(s),f=Aie(a),m=oKe();if(!u||!m)return null;ic(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=wU({x:d.scale,y:f.scale}),y=Kn(e),x=Kn(r),v=n&&n.length===2,_=_Ke(p,y,x,v,m,t.position,d.orientation,f.orientation,t);if(!_)return null;var j=gKe(_,2),S=j[0],C=S.x,N=S.y,k=j[1],E=k.x,T=k.y,P=Al(t,"hidden")?"url(#".concat(u,")"):void 0,O=E7(E7({clipPath:P},Ar(t,!0)),{},{x1:C,y1:N,x2:E,y2:T});return Y.createElement(Bn,{className:pr("recharts-reference-line",l)},bKe(o,O),Qs.renderCallByParent(t,q8e({x1:C,y1:N,x2:E,y2:T})))}var EU=function(t){function e(){return cKe(this,e),dKe(this,e,arguments)}return mKe(e,t),AKe(e,[{key:"render",value:function(){return Y.createElement(jKe,this.props)}}])}(Y.Component);BU(EU,"displayName","ReferenceLine");BU(EU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qF(){return qF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qF.apply(this,arguments)}function np(t){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},np(t)}function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function T7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(n){pB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mie(n.key),n)}}function EKe(t,e,r){return e&&BKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SKe(t,e,r){return e=mj(e),NKe(t,hie()?Reflect.construct(e,r||[],mj(t).constructor):e.apply(t,r))}function NKe(t,e){if(e&&(np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TKe(t)}function TKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hie=function(){return!!t})()}function mj(t){return mj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mj(t)}function kKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zF(t,e)}function zF(t,e){return zF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zF(t,e)}function pB(t,e,r){return e=mie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mie(t){var e=IKe(t,"string");return np(e)=="symbol"?e:e+""}function IKe(t,e){if(np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PKe=function(e){var r=e.x,n=e.y,s=e.xAxis,a=e.yAxis,o=wU({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Al(e,"discard")&&!o.isInRange(l)?null:l},gB=function(t){function e(){return CKe(this,e),SKe(this,e,arguments)}return kKe(e,t),EKe(e,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Kn(s),d=Kn(a);if(ic(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=PKe(this.props);if(!f)return null;var m=f.x,p=f.y,y=this.props,x=y.shape,v=y.className,_=Al(this.props,"hidden")?"url(#".concat(c,")"):void 0,j=T7(T7({clipPath:_},Ar(this.props,!0)),{},{cx:m,cy:p});return Y.createElement(Bn,{className:pr("recharts-reference-dot",v)},e.renderDot(x,j),Qs.renderCallByParent(this.props,{x:m-o,y:p-o,width:2*o,height:2*o}))}}])}(Y.Component);pB(gB,"displayName","ReferenceDot");pB(gB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});pB(gB,"renderDot",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):er(t)?r=t(e):r=Y.createElement(xU,qF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function GF(){return GF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GF.apply(this,arguments)}function sp(t){"@babel/helpers - typeof";return sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sp(t)}function k7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function I7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k7(Object(r),!0).forEach(function(n){vB(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FKe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gie(n.key),n)}}function RKe(t,e,r){return e&&FKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DKe(t,e,r){return e=pj(e),UKe(t,pie()?Reflect.construct(e,r||[],pj(t).constructor):e.apply(t,r))}function UKe(t,e){if(e&&(sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MKe(t)}function MKe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pie=function(){return!!t})()}function pj(t){return pj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pj(t)}function QKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WF(t,e)}function WF(t,e){return WF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WF(t,e)}function vB(t,e,r){return e=gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gie(t){var e=LKe(t,"string");return sp(e)=="symbol"?e:e+""}function LKe(t,e){if(sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HKe=function(e,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=wU({x:d.scale,y:f.scale}),p={x:e?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:n?m.y.apply(c,{position:"start"}):m.y.rangeMin},y={x:r?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:s?m.y.apply(u,{position:"end"}):m.y.rangeMax};return Al(a,"discard")&&(!m.isInRange(p)||!m.isInRange(y))?null:nie(p,y)},yB=function(t){function e(){return OKe(this,e),DKe(this,e,arguments)}return QKe(e,t),RKe(e,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ic(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Kn(s),m=Kn(a),p=Kn(o),y=Kn(l),x=this.props.shape;if(!f&&!m&&!p&&!y&&!x)return null;var v=HKe(f,m,p,y,this.props);if(!v&&!x)return null;var _=Al(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Y.createElement(Bn,{className:pr("recharts-reference-area",c)},e.renderRect(x,I7(I7({clipPath:_},Ar(this.props,!0)),v)),Qs.renderCallByParent(this.props,v))}}])}(Y.Component);vB(yB,"displayName","ReferenceArea");vB(yB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vB(yB,"renderRect",function(t,e){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,e):er(t)?r=t(e):r=Y.createElement(yU,GF({},e,{className:"recharts-reference-area-rect"})),r});function vie(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function $Ke(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return G8e(n,r)}function VKe(t,e,r){var n=r==="width",s=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function gj(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-s)<=0}function KKe(t,e){return vie(t,e+1)}function qKe(t,e,r,n,s){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:vie(n,u)};var x=c,v,_=function(){return v===void 0&&(v=r(y,x)),v},j=y.coordinate,S=c===0||gj(t,j,_,d,l);S||(c=0,d=o,u+=1),S&&(d=j+t*(_()/2+s),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function P7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P7(Object(r),!0).forEach(function(n){zKe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zKe(t,e,r){return e=GKe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GKe(t){var e=WKe(t,"string");return _x(e)=="symbol"?e:e+""}function WKe(t,e){if(_x(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_x(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XKe(t,e,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(m){var p=a[m],y,x=function(){return y===void 0&&(y=r(p,m)),y};if(m===o-1){var v=t*(p.coordinate+t*x()/2-c);a[m]=p=Fs(Fs({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else a[m]=p=Fs(Fs({},p),{},{tickCoord:p.coordinate});var _=gj(t,p.tickCoord,x,l,c);_&&(c=p.tickCoord-t*(x()/2+s),a[m]=Fs(Fs({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function JKe(t,e,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],f=r(d,l-1),m=t*(d.coordinate+t*f/2-u);o[l-1]=d=Fs(Fs({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var p=gj(t,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-t*(f/2+s),o[l-1]=Fs(Fs({},d),{},{isShow:!0}))}for(var y=a?l-1:l,x=function(j){var S=o[j],C,N=function(){return C===void 0&&(C=r(S,j)),C};if(j===0){var k=t*(S.coordinate-t*N()/2-c);o[j]=S=Fs(Fs({},S),{},{tickCoord:k<0?S.coordinate-k*t:S.coordinate})}else o[j]=S=Fs(Fs({},S),{},{tickCoord:S.coordinate});var E=gj(t,S.tickCoord,N,c,u);E&&(c=S.tickCoord+t*(N()/2+s),o[j]=Fs(Fs({},S),{},{isShow:!0}))},v=0;v<y;v++)x(v);return o}function SU(t,e,r){var n=t.tick,s=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!s||!s.length||!n)return[];if(Je(c)||Rp.isSsr)return KKe(s,typeof c=="number"&&Je(c)?c:0);var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Kv(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(S,C){var N=er(u)?u(S.value,C):S.value;return p==="width"?$Ke(Kv(N,{fontSize:e,letterSpacing:r}),y,f):Kv(N,{fontSize:e,letterSpacing:r})[p]},v=s.length>=2?xo(s[1].coordinate-s[0].coordinate):1,_=VKe(a,v,p);return c==="equidistantPreserveStart"?qKe(v,_,x,s,o):(c==="preserveStart"||c==="preserveStartEnd"?m=JKe(v,_,x,s,o,c==="preserveStartEnd"):m=XKe(v,_,x,s,o),m.filter(function(j){return j.isShow}))}var YKe=["viewBox"],ZKe=["viewBox"],e9e=["ticks"];function ap(t){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ap(t)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}function O7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O7(Object(r),!0).forEach(function(n){NU(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CP(t,e){if(t==null)return{};var r=t9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function r9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xie(n.key),n)}}function n9e(t,e,r){return e&&F7(t.prototype,e),r&&F7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9e(t,e,r){return e=vj(e),a9e(t,yie()?Reflect.construct(e,r||[],vj(t).constructor):e.apply(t,r))}function a9e(t,e){if(e&&(ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i9e(t)}function i9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yie=function(){return!!t})()}function vj(t){return vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vj(t)}function o9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XF(t,e)}function XF(t,e){return XF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},XF(t,e)}function NU(t,e,r){return e=xie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xie(t){var e=l9e(t,"string");return ap(e)=="symbol"?e:e+""}function l9e(t,e){if(ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lp=function(t){function e(r){var n;return r9e(this,e),n=s9e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return o9e(e,t),n9e(e,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=CP(n,YKe),l=this.props,c=l.viewBox,u=CP(l,ZKe);return!em(a,c)||!em(o,u)||!em(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,m=s.tickMargin,p,y,x,v,_,j,S=f?-1:1,C=n.tickSize||d,N=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=y=n.coordinate,v=o+ +!f*c,x=v-S*C,j=x-S*m,_=N;break;case"left":x=v=n.coordinate,y=a+ +!f*l,p=y-S*C,_=p-S*m,j=N;break;case"right":x=v=n.coordinate,y=a+ +f*l,p=y+S*C,_=p+S*m,j=N;break;default:p=y=n.coordinate,v=o+ +f*c,x=v+S*C,j=x+S*m,_=N;break}return{line:{x1:p,y1:x,x2:y,y2:v},tick:{x:_,y:j}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Zs(Zs(Zs({},Ar(this.props,!1)),Ar(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=Zs(Zs({},f),{},{x1:s,y1:a+m*l,x2:s+o,y2:a+m*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Zs(Zs({},f),{},{x1:s+p*o,y1:a,x2:s+p*o,y2:a+l})}return Y.createElement("line",Vh({},f,{className:pr("recharts-cartesian-axis-line",Pi(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,p=SU(Zs(Zs({},this.props),{},{ticks:n}),s,a),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),v=Ar(this.props,!1),_=Ar(d,!1),j=Zs(Zs({},v),{},{fill:"none"},Ar(c,!1)),S=p.map(function(C,N){var k=o.getTickLineCoord(C),E=k.line,T=k.tick,P=Zs(Zs(Zs(Zs({textAnchor:y,verticalAnchor:x},v),{},{stroke:"none",fill:u},_),T),{},{index:N,payload:C,visibleTicksCount:p.length,tickFormatter:f});return Y.createElement(Bn,Vh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},N_(o.props,C,N)),c&&Y.createElement("line",Vh({},j,E,{className:pr("recharts-cartesian-axis-tick-line",Pi(c,"className"))})),d&&e.renderTickItem(d,P,"".concat(er(f)?f(C.value,N):C.value).concat(m||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,m=f.ticks,p=CP(f,e9e),y=m;return er(c)&&(y=m&&m.length>0?c(this.props):c(p)),o<=0||l<=0||!y||!y.length?null:Y.createElement(Bn,{className:pr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Qs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o;return Y.isValidElement(n)?o=Y.cloneElement(n,s):er(n)?o=n(s):o=Y.createElement(Q_,Vh({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);NU(Lp,"displayName","CartesianAxis");NU(Lp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var c9e=["x1","y1","x2","y2","key"],u9e=["offset"];function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function R7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R7(Object(r),!0).forEach(function(n){A9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A9e(t,e,r){return e=d9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d9e(t){var e=f9e(t,"string");return lf(e)=="symbol"?e:e+""}function f9e(t,e){if(lf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}function D7(t,e){if(t==null)return{};var r=h9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var m9e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return Y.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function wie(t,e){var r;if(Y.isValidElement(t))r=Y.cloneElement(t,e);else if(er(t))r=t(e);else{var n=e.x1,s=e.y1,a=e.x2,o=e.y2,l=e.key,c=D7(e,c9e),u=Ar(c,!1);u.offset;var d=D7(u,u9e);r=Y.createElement("line",_d({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function p9e(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,a=t.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Ls(Ls({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return wie(s,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function g9e(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,a=t.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=Ls(Ls({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return wie(s,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function v9e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(m){return Math.round(m+s-s)}).sort(function(m,p){return m-p});s!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],x=y?s+o-m:d[p+1]-m;if(x<=0)return null;var v=p%e.length;return Y.createElement("rect",{key:"react-".concat(p),y:m,x:n,height:x,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function y9e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,p){return m-p});a!==d[0]&&d.unshift(0);var f=d.map(function(m,p){var y=!d[p+1],x=y?a+l-m:d[p+1]-m;if(x<=0)return null;var v=p%n.length;return Y.createElement("rect",{key:"react-".concat(p),x:m,y:o,width:x,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var x9e=function(e,r){var n=e.xAxis,s=e.width,a=e.height,o=e.offset;return Pae(SU(Ls(Ls(Ls({},Lp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},w9e=function(e,r){var n=e.yAxis,s=e.width,a=e.height,o=e.offset;return Pae(SU(Ls(Ls(Ls({},Lp.defaultProps),n),{},{ticks:Zl(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Th={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function TU(t){var e,r,n,s,a,o,l=jU(),c=CU(),u=lKe(),d=Ls(Ls({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Th.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Th.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Th.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:Th.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:Th.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Th.verticalFill,x:Je(t.x)?t.x:u.left,y:Je(t.y)?t.y:u.top,width:Je(t.width)?t.width:u.width,height:Je(t.height)?t.height:u.height}),f=d.x,m=d.y,p=d.width,y=d.height,x=d.syncWithTicks,v=d.horizontalValues,_=d.verticalValues,j=aKe(),S=iKe();if(!Je(p)||p<=0||!Je(y)||y<=0||!Je(f)||f!==+f||!Je(m)||m!==+m)return null;var C=d.verticalCoordinatesGenerator||x9e,N=d.horizontalCoordinatesGenerator||w9e,k=d.horizontalPoints,E=d.verticalPoints;if((!k||!k.length)&&er(N)){var T=v&&v.length,P=N({yAxis:S?Ls(Ls({},S),{},{ticks:T?v:S.ticks}):void 0,width:l,height:c,offset:u},T?!0:x);ic(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lf(P),"]")),Array.isArray(P)&&(k=P)}if((!E||!E.length)&&er(C)){var O=_&&_.length,D=C({xAxis:j?Ls(Ls({},j),{},{ticks:O?_:j.ticks}):void 0,width:l,height:c,offset:u},O?!0:x);ic(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lf(D),"]")),Array.isArray(D)&&(E=D)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(m9e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Y.createElement(p9e,_d({},d,{offset:u,horizontalPoints:k,xAxis:j,yAxis:S})),Y.createElement(g9e,_d({},d,{offset:u,verticalPoints:E,xAxis:j,yAxis:S})),Y.createElement(v9e,_d({},d,{horizontalPoints:k})),Y.createElement(y9e,_d({},d,{verticalPoints:E})))}TU.displayName="CartesianGrid";var b9e=["type","layout","connectNulls","ref"],_9e=["key"];function ip(t){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ip(t)}function U7(t,e){if(t==null)return{};var r=j9e(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function j9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wv(){return Wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wv.apply(this,arguments)}function M7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ka(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?M7(Object(r),!0).forEach(function(n){Ao(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):M7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kh(t){return S9e(t)||E9e(t)||B9e(t)||C9e()}function C9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B9e(t,e){if(t){if(typeof t=="string")return JF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JF(t,e)}}function E9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function S9e(t){if(Array.isArray(t))return JF(t)}function JF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ie(n.key),n)}}function T9e(t,e,r){return e&&Q7(t.prototype,e),r&&Q7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function k9e(t,e,r){return e=yj(e),I9e(t,bie()?Reflect.construct(e,r||[],yj(t).constructor):e.apply(t,r))}function I9e(t,e){if(e&&(ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P9e(t)}function P9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bie=function(){return!!t})()}function yj(t){return yj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yj(t)}function O9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YF(t,e)}function YF(t,e){return YF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YF(t,e)}function Ao(t,e,r){return e=_ie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ie(t){var e=F9e(t,"string");return ip(e)=="symbol"?e:e+""}function F9e(t,e){if(ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var g0=function(t){function e(){var r;N9e(this,e);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=k9e(this,e,[].concat(s)),Ao(r,"state",{isAnimationFinished:!0,totalLength:0}),Ao(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ao(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(_,j){return _+j});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,p=[],y=0,x=0;y<c.length;x+=c[y],++y)if(x+c[y]>f){p=[].concat(kh(c.slice(0,y)),[f-x]);break}var v=p.length%2===0?[0,m]:[m];return[].concat(kh(e.repeat(c,d)),kh(p),v).map(function(_){return"".concat(_,"px")}).join(", ")}),Ao(r,"id",u0("recharts-line-")),Ao(r,"pathRef",function(o){r.mainCurve=o}),Ao(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ao(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return O9e(e,t),T9e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Oi(d,p0);if(!f)return null;var m=function(x,v){return{x:x.x,y:x.y,value:x.value,errorVal:ii(x.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return Y.createElement(Bn,p,f.map(function(y){return Y.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Ar(this.props,!1),m=Ar(c,!0),p=u.map(function(x,v){var _=Ka(Ka(Ka({key:"dot-".concat(v),r:3},f),m),{},{value:x.value,dataKey:d,cx:x.x,cy:x.y,index:v,payload:x.payload});return e.renderDotItem(c,_)}),y={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return Y.createElement(Bn,Wv({className:"recharts-line-dots",key:"dots"},y),p)}},{key:"renderCurveStatically",value:function(n,s,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=U7(l,b9e),m=Ka(Ka(Ka({},Ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Y.createElement(NF,Wv({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,p=o.animationId,y=o.animateNewValues,x=o.width,v=o.height,_=this.state,j=_.prevPoints,S=_.totalLength;return Y.createElement(wc,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var N=C.t;if(j){var k=j.length/l.length,E=l.map(function(M,F){var G=Math.floor(F*k);if(j[G]){var W=j[G],V=ho(W.x,M.x),H=ho(W.y,M.y);return Ka(Ka({},M),{},{x:V(N),y:H(N)})}if(y){var Q=ho(x*2,M.x),z=ho(v/2,M.y);return Ka(Ka({},M),{},{x:Q(N),y:z(N)})}return Ka(Ka({},M),{},{x:M.x,y:M.y})});return a.renderCurveStatically(E,n,s)}var T=ho(0,S),P=T(N),O;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});O=a.getStrokeDasharray(P,S,D)}else O=a.generateSimpleStrokeDasharray(S,P);return a.renderCurveStatically(l,n,s,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,s){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!uB(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,d=s.yAxis,f=s.top,m=s.left,p=s.width,y=s.height,x=s.isAnimationActive,v=s.id;if(a||!l||!l.length)return null;var _=this.state.isAnimationFinished,j=l.length===1,S=pr("recharts-line",c),C=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,k=C||N,E=sr(v)?this.id:v,T=(n=Ar(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=T.r,O=P===void 0?3:P,D=T.strokeWidth,M=D===void 0?2:D,F=fDe(o)?o:{},G=F.clipDot,W=G===void 0?!0:G,V=O*2+M;return Y.createElement(Bn,{className:S},C||N?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(E)},Y.createElement("rect",{x:C?m:m-p/2,y:N?f:f-y/2,width:C?p:p*2,height:N?y:y*2})),!W&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Y.createElement("rect",{x:m-V/2,y:f-V/2,width:p+V,height:y+V}))):null,!j&&this.renderCurve(k,E),this.renderErrorBar(k,E),(j||o)&&this.renderDots(k,W,E),(!x||_)&&Vu.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var a=n.length%2!==0?[].concat(kh(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(kh(o),kh(a));return o}},{key:"renderDotItem",value:function(n,s){var a;if(Y.isValidElement(n))a=Y.cloneElement(n,s);else if(er(n))a=n(s);else{var o=s.key,l=U7(s,_9e),c=pr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=Y.createElement(xU,Wv({key:o},l,{className:c}))}return a}}])}(w.PureComponent);Ao(g0,"displayName","Line");Ao(g0,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Rp.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ao(g0,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(m,p){var y=ii(m,o);return d==="horizontal"?{x:nq({axis:r,ticks:s,bandSize:l,entry:m,index:p}),y:sr(y)?null:n.scale(y),value:y,payload:m}:{x:sr(y)?null:r.scale(y),y:nq({axis:n,ticks:a,bandSize:l,entry:m,index:p}),value:y,payload:m}});return Ka({points:f,layout:d},u)});function op(t){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},op(t)}function R9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bie(n.key),n)}}function U9e(t,e,r){return e&&D9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function M9e(t,e,r){return e=xj(e),Q9e(t,jie()?Reflect.construct(e,r||[],xj(t).constructor):e.apply(t,r))}function Q9e(t,e){if(e&&(op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L9e(t)}function L9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jie=function(){return!!t})()}function xj(t){return xj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xj(t)}function H9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZF(t,e)}function ZF(t,e){return ZF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZF(t,e)}function Cie(t,e,r){return e=Bie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bie(t){var e=$9e(t,"string");return op(e)=="symbol"?e:e+""}function $9e(t,e){if(op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eR(){return eR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eR.apply(this,arguments)}function V9e(t){var e=t.xAxisId,r=jU(),n=CU(),s=uie(e);return s==null?null:Y.createElement(Lp,eR({},s,{className:pr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Zl(o,!0)}}))}var Hp=function(t){function e(){return R9e(this,e),M9e(this,e,arguments)}return H9e(e,t),U9e(e,[{key:"render",value:function(){return Y.createElement(V9e,this.props)}}])}(Y.Component);Cie(Hp,"displayName","XAxis");Cie(Hp,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function K9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nie(n.key),n)}}function z9e(t,e,r){return e&&q9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function G9e(t,e,r){return e=wj(e),W9e(t,Eie()?Reflect.construct(e,r||[],wj(t).constructor):e.apply(t,r))}function W9e(t,e){if(e&&(lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(t)}function X9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eie=function(){return!!t})()}function wj(t){return wj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wj(t)}function J9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tR(t,e)}function tR(t,e){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tR(t,e)}function Sie(t,e,r){return e=Nie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nie(t){var e=Y9e(t,"string");return lp(e)=="symbol"?e:e+""}function Y9e(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rR(){return rR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rR.apply(this,arguments)}var Z9e=function(e){var r=e.yAxisId,n=jU(),s=CU(),a=Aie(r);return a==null?null:Y.createElement(Lp,rR({},a,{className:pr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Zl(l,!0)}}))},$p=function(t){function e(){return K9e(this,e),G9e(this,e,arguments)}return J9e(e,t),z9e(e,[{key:"render",value:function(){return Y.createElement(Z9e,this.props)}}])}(Y.Component);Sie($p,"displayName","YAxis");Sie($p,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function L7(t){return nqe(t)||rqe(t)||tqe(t)||eqe()}function eqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tqe(t,e){if(t){if(typeof t=="string")return nR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(t,e)}}function rqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nqe(t){if(Array.isArray(t))return nR(t)}function nR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var sR=function(e,r,n,s,a){var o=Oi(e,EU),l=Oi(e,gB),c=[].concat(L7(o),L7(l)),u=Oi(e,yB),d="".concat(s,"Id"),f=s[0],m=r;if(c.length&&(m=c.reduce(function(x,v){if(v.props[d]===n&&Al(v.props,"extendDomain")&&Je(v.props[f])){var _=v.props[f];return[Math.min(x[0],_),Math.max(x[1],_)]}return x},m)),u.length){var p="".concat(f,"1"),y="".concat(f,"2");m=u.reduce(function(x,v){if(v.props[d]===n&&Al(v.props,"extendDomain")&&Je(v.props[p])&&Je(v.props[y])){var _=v.props[p],j=v.props[y];return[Math.min(x[0],_,j),Math.max(x[1],_,j)]}return x},m)}return a&&a.length&&(m=a.reduce(function(x,v){return Je(v)?[Math.min(x[0],v),Math.max(x[1],v)]:x},m)),m},BP={exports:{}},H7;function sqe(){return H7||(H7=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new s(d,f||c,m),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],p]:c._events[y].push(p):(c._events[y]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,p=f.length,y=new Array(p);m<p;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,p,y){var x=r?r+u:u;if(!this._events[x])return!1;var v=this._events[x],_=arguments.length,j,S;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),_){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,p),!0;case 6:return v.fn.call(v.context,d,f,m,p,y),!0}for(S=1,j=new Array(_-1);S<_;S++)j[S-1]=arguments[S];v.fn.apply(v.context,j)}else{var C=v.length,N;for(S=0;S<C;S++)switch(v[S].once&&this.removeListener(u,v[S].fn,void 0,!0),_){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,d);break;case 3:v[S].fn.call(v[S].context,d,f);break;case 4:v[S].fn.call(v[S].context,d,f,m);break;default:if(!j)for(N=1,j=new Array(_-1);N<_;N++)j[N-1]=arguments[N];v[S].fn.apply(v[S].context,j)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var y=this._events[p];if(y.fn)y.fn===d&&(!m||y.once)&&(!f||y.context===f)&&o(this,p);else{for(var x=0,v=[],_=y.length;x<_;x++)(y[x].fn!==d||m&&!y[x].once||f&&y[x].context!==f)&&v.push(y[x]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(BP)),BP.exports}var aqe=sqe();const iqe=yr(aqe);var EP=new iqe,SP="recharts.syncMouseEvents";function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function oqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tie(n.key),n)}}function cqe(t,e,r){return e&&lqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NP(t,e,r){return e=Tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tie(t){var e=uqe(t,"string");return jx(e)=="symbol"?e:e+""}function uqe(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Aqe=function(){function t(){oqe(this,t),NP(this,"activeIndex",0),NP(this,"coordinateList",[]),NP(this,"layout","horizontal")}return cqe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,m=r.mouseHandlerCallback,p=m===void 0?null:m;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function dqe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Je(n)&&Je(s))return!0}return!1}function fqe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kie(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,a=t.endAngle,o=Cs(e,r,n,s),l=Cs(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:a}}function hqe(t,e,r){var n,s,a,o;if(t==="horizontal")n=e.x,a=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,m=Cs(l,c,u,f),p=Cs(l,c,d,f);n=m.x,s=m.y,a=p.x,o=p.y}else return kie(e);return[{x:n,y:s},{x:a,y:o}]}function Cx(t){"@babel/helpers - typeof";return Cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(t)}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){mqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mqe(t,e,r){return e=pqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pqe(t){var e=gqe(t,"string");return Cx(e)=="symbol"?e:e+""}function gqe(t,e){if(Cx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vqe(t){var e,r,n=t.element,s=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,m=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!a||!o||m!=="ScatterChart"&&s!=="axis")return null;var y,x=NF;if(m==="ScatterChart")y=o,x=pVe;else if(m==="BarChart")y=fqe(f,o,c,d),x=yU;else if(f==="radial"){var v=kie(o),_=v.cx,j=v.cy,S=v.radius,C=v.startAngle,N=v.endAngle;y={cx:_,cy:j,startAngle:C,endAngle:N,innerRadius:S,outerRadius:S},x=Uae}else y={points:hqe(f,o,c)},x=NF;var k=Qb(Qb(Qb(Qb({stroke:"#ccc",pointerEvents:"none"},c),y),Ar(p,!1)),{},{payload:l,payloadIndex:u,className:pr("recharts-tooltip-cursor",p.className)});return w.isValidElement(p)?w.cloneElement(p,k):w.createElement(x,k)}var yqe=["item"],xqe=["children","className","width","height","style","compact","title","desc"];function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xv.apply(this,arguments)}function V7(t,e){return _qe(t)||bqe(t,e)||Pie(t,e)||wqe()}function wqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function _qe(t){if(Array.isArray(t))return t}function K7(t,e){if(t==null)return{};var r=jqe(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oie(n.key),n)}}function Eqe(t,e,r){return e&&Bqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sqe(t,e,r){return e=bj(e),Nqe(t,Iie()?Reflect.construct(e,r||[],bj(t).constructor):e.apply(t,r))}function Nqe(t,e){if(e&&(cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tqe(t)}function Tqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Iie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iie=function(){return!!t})()}function bj(t){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bj(t)}function kqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aR(t,e)}function aR(t,e){return aR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aR(t,e)}function up(t){return Oqe(t)||Pqe(t)||Pie(t)||Iqe()}function Iqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pie(t,e){if(t){if(typeof t=="string")return iR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(t,e)}}function Pqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oqe(t){if(Array.isArray(t))return iR(t)}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function q7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(r),!0).forEach(function(n){Rt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rt(t,e,r){return e=Oie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oie(t){var e=Fqe(t,"string");return cp(e)=="symbol"?e:e+""}function Fqe(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rqe={xAxis:["bottom","top"],yAxis:["left","right"]},Dqe={width:"100%",height:"100%"},Fie={x:0,y:0};function Lb(t){return t}var Uqe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Mqe=function(e,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=s.radius;return Be(Be(Be({},s),Cs(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return Be(Be(Be({},s),Cs(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Fie},xB=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(up(l),up(u)):l},[]);return o.length>0?o:e&&e.length&&Je(s)&&Je(a)?e.slice(s,a+1):[]};function Rie(t){return t==="number"?[0,"auto"]:void 0}var oR=function(e,r,n,s){var a=e.graphicalItems,o=e.tooltipAxis,l=xB(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;m=E_(p,o.dataKey,s)}else m=f&&f[n]||l[n];return m?[].concat(up(c),[Fae(u,m)]):c},[])},z7=function(e,r,n,s){var a=s||{x:e.chartX,y:e.chartY},o=Uqe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=fHe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=oR(e,r,d,f),p=Mqe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:p}}return null},Qqe=function(e,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=e.stackOffset,p=Iae(d,a);return n.reduce(function(y,x){var v,_=x.type.defaultProps!==void 0?Be(Be({},x.type.defaultProps),x.props):x.props,j=_.type,S=_.dataKey,C=_.allowDataOverflow,N=_.allowDuplicatedCategory,k=_.scale,E=_.ticks,T=_.includeHidden,P=_[o];if(y[P])return y;var O=xB(e.data,{graphicalItems:s.filter(function(J){var le,ae=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o];return ae===P}),dataStartIndex:c,dataEndIndex:u}),D=O.length,M,F,G;dqe(_.domain,C,j)&&(M=jF(_.domain,null,C),p&&(j==="number"||k!=="auto")&&(G=zv(O,S,"category")));var W=Rie(j);if(!M||M.length===0){var V,H=(V=_.domain)!==null&&V!==void 0?V:W;if(S){if(M=zv(O,S,j),j==="category"&&p){var Q=sDe(M);N&&Q?(F=M,M=cj(0,D)):N||(M=oq(H,M,x).reduce(function(J,le){return J.indexOf(le)>=0?J:[].concat(up(J),[le])},[]))}else if(j==="category")N?M=M.filter(function(J){return J!==""&&!sr(J)}):M=oq(H,M,x).reduce(function(J,le){return J.indexOf(le)>=0||le===""||sr(le)?J:[].concat(up(J),[le])},[]);else if(j==="number"){var z=vHe(O,s.filter(function(J){var le,ae,ee=o in J.props?J.props[o]:(le=J.type.defaultProps)===null||le===void 0?void 0:le[o],ue="hide"in J.props?J.props.hide:(ae=J.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ee===P&&(T||!ue)}),S,a,d);z&&(M=z)}p&&(j==="number"||k!=="auto")&&(G=zv(O,S,"category"))}else p?M=cj(0,D):l&&l[P]&&l[P].hasStack&&j==="number"?M=m==="expand"?[0,1]:Oae(l[P].stackGroups,c,u):M=kae(O,s.filter(function(J){var le=o in J.props?J.props[o]:J.type.defaultProps[o],ae="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return le===P&&(T||!ae)}),j,d,!0);if(j==="number")M=sR(f,M,P,a,E),H&&(M=jF(H,M,C));else if(j==="category"&&H){var q=H,$=M.every(function(J){return q.indexOf(J)>=0});$&&(M=q)}}return Be(Be({},y),{},Rt({},P,Be(Be({},_),{},{axisType:a,domain:M,categoricalDomain:G,duplicateDomain:F,originalDomain:(v=_.domain)!==null&&v!==void 0?v:W,isCategorical:p,layout:d})))},{})},Lqe=function(e,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,m=xB(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=m.length,y=Iae(d,a),x=-1;return n.reduce(function(v,_){var j=_.type.defaultProps!==void 0?Be(Be({},_.type.defaultProps),_.props):_.props,S=j[o],C=Rie("number");if(!v[S]){x++;var N;return y?N=cj(0,p):l&&l[S]&&l[S].hasStack?(N=Oae(l[S].stackGroups,c,u),N=sR(f,N,S,a)):(N=jF(C,kae(m,n.filter(function(k){var E,T,P=o in k.props?k.props[o]:(E=k.type.defaultProps)===null||E===void 0?void 0:E[o],O="hide"in k.props?k.props.hide:(T=k.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===S&&!O}),"number",d),s.defaultProps.allowDataOverflow),N=sR(f,N,S,a)),Be(Be({},v),{},Rt({},S,Be(Be({axisType:a},s.defaultProps),{},{hide:!0,orientation:Pi(Rqe,"".concat(a,".").concat(x%2),null),domain:N,originalDomain:C,isCategorical:y,layout:d})))}return v},{})},Hqe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(s,"Id"),m=Oi(d,a),p={};return m&&m.length?p=Qqe(e,{axes:m,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=Lqe(e,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},$qe=function(e){var r=vu(e),n=Zl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:q4(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ej(r,n)}},G7=function(e){var r=e.children,n=e.defaultShowTooltip,s=Xa(r,ep),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Vqe=function(e){return!e||!e.length?!1:e.some(function(r){var n=ac(r&&r.type);return n&&n.indexOf("Bar")>=0})},W7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kqe=function(e,r){var n=e.props,s=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,m=n.margin||{},p=Xa(f,ep),y=Xa(f,tm),x=Object.keys(c).reduce(function(N,k){var E=c[k],T=E.orientation;return!E.mirror&&!E.hide?Be(Be({},N),{},Rt({},T,N[T]+E.width)):N},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(N,k){var E=o[k],T=E.orientation;return!E.mirror&&!E.hide?Be(Be({},N),{},Rt({},T,Pi(N,"".concat(T))+E.height)):N},{top:m.top||0,bottom:m.bottom||0}),_=Be(Be({},v),x),j=_.bottom;p&&(_.bottom+=p.props.height||ep.defaultProps.height),y&&r&&(_=pHe(_,s,n,r));var S=u-_.left-_.right,C=d-_.top-_.bottom;return Be(Be({brushBottom:j},_),{},{width:Math.max(S,0),height:Math.max(C,0)})},qqe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},Die=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,a=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,m=function(v,_){var j=_.graphicalItems,S=_.stackGroups,C=_.offset,N=_.updateId,k=_.dataStartIndex,E=_.dataEndIndex,T=v.barSize,P=v.layout,O=v.barGap,D=v.barCategoryGap,M=v.maxBarSize,F=W7(P),G=F.numericAxisName,W=F.cateAxisName,V=Vqe(j),H=[];return j.forEach(function(Q,z){var q=xB(v.data,{graphicalItems:[Q],dataStartIndex:k,dataEndIndex:E}),$=Q.type.defaultProps!==void 0?Be(Be({},Q.type.defaultProps),Q.props):Q.props,J=$.dataKey,le=$.maxBarSize,ae=$["".concat(G,"Id")],ee=$["".concat(W,"Id")],ue={},xe=c.reduce(function(ge,Ie){var He=_["".concat(Ie.axisType,"Map")],Re=$["".concat(Ie.axisType,"Id")];He&&He[Re]||Ie.axisType==="zAxis"||of();var ut=He[Re];return Be(Be({},ge),{},Rt(Rt({},Ie.axisType,ut),"".concat(Ie.axisType,"Ticks"),Zl(ut)))},ue),me=xe[W],ye=xe["".concat(W,"Ticks")],je=S&&S[ae]&&S[ae].hasStack&&THe(Q,S[ae].stackGroups),Fe=ac(Q.type).indexOf("Bar")>=0,ne=ej(me,ye),ke=[],We=V&&hHe({barSize:T,stackGroups:S,totalSize:qqe(xe,W)});if(Fe){var ct,ft,Xt=sr(le)?M:le,re=(ct=(ft=ej(me,ye,!0))!==null&&ft!==void 0?ft:Xt)!==null&&ct!==void 0?ct:0;ke=mHe({barGap:O,barCategoryGap:D,bandSize:re!==ne?re:ne,sizeList:We[ee],maxBarSize:Xt}),re!==ne&&(ke=ke.map(function(ge){return Be(Be({},ge),{},{position:Be(Be({},ge.position),{},{offset:ge.position.offset-re/2})})}))}var de=Q&&Q.type&&Q.type.getComposedData;de&&H.push({props:Be(Be({},de(Be(Be({},xe),{},{displayedData:q,props:v,dataKey:J,item:Q,bandSize:ne,barPosition:ke,offset:C,stackedData:je,layout:P,dataStartIndex:k,dataEndIndex:E}))),{},Rt(Rt(Rt({key:Q.key||"item-".concat(z)},G,xe[G]),W,xe[W]),"animationId",N)),childIndex:pDe(Q,v.children),item:Q})}),H},p=function(v,_){var j=v.props,S=v.dataStartIndex,C=v.dataEndIndex,N=v.updateId;if(!wV({props:j}))return null;var k=j.children,E=j.layout,T=j.stackOffset,P=j.data,O=j.reverseStackOrder,D=W7(E),M=D.numericAxisName,F=D.cateAxisName,G=Oi(k,n),W=EHe(P,G,"".concat(M,"Id"),"".concat(F,"Id"),T,O),V=c.reduce(function($,J){var le="".concat(J.axisType,"Map");return Be(Be({},$),{},Rt({},le,Hqe(j,Be(Be({},J),{},{graphicalItems:G,stackGroups:J.axisType===M&&W,dataStartIndex:S,dataEndIndex:C}))))},{}),H=Kqe(Be(Be({},V),{},{props:j,graphicalItems:G}),_==null?void 0:_.legendBBox);Object.keys(V).forEach(function($){V[$]=d(j,V[$],H,$.replace("Map",""),r)});var Q=V["".concat(F,"Map")],z=$qe(Q),q=m(j,Be(Be({},V),{},{dataStartIndex:S,dataEndIndex:C,updateId:N,graphicalItems:G,stackGroups:W,offset:H}));return Be(Be({formattedGraphicalItems:q,graphicalItems:G,offset:H,stackGroups:W},z),V)},y=function(x){function v(_){var j,S,C;return Cqe(this,v),C=Sqe(this,v,[_]),Rt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Rt(C,"accessibilityManager",new Aqe),Rt(C,"handleLegendBBoxUpdate",function(N){if(N){var k=C.state,E=k.dataStartIndex,T=k.dataEndIndex,P=k.updateId;C.setState(Be({legendBBox:N},p({props:C.props,dataStartIndex:E,dataEndIndex:T,updateId:P},Be(Be({},C.state),{},{legendBBox:N}))))}}),Rt(C,"handleReceiveSyncEvent",function(N,k,E){if(C.props.syncId===N){if(E===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(k)}}),Rt(C,"handleBrushChange",function(N){var k=N.startIndex,E=N.endIndex;if(k!==C.state.dataStartIndex||E!==C.state.dataEndIndex){var T=C.state.updateId;C.setState(function(){return Be({dataStartIndex:k,dataEndIndex:E},p({props:C.props,dataStartIndex:k,dataEndIndex:E,updateId:T},C.state))}),C.triggerSyncEvent({dataStartIndex:k,dataEndIndex:E})}}),Rt(C,"handleMouseEnter",function(N){var k=C.getMouseInfo(N);if(k){var E=Be(Be({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseEnter;er(T)&&T(E,N)}}),Rt(C,"triggeredAfterMouseMove",function(N){var k=C.getMouseInfo(N),E=k?Be(Be({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(E),C.triggerSyncEvent(E);var T=C.props.onMouseMove;er(T)&&T(E,N)}),Rt(C,"handleItemMouseEnter",function(N){C.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Rt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Rt(C,"handleMouseMove",function(N){N.persist(),C.throttleTriggeredAfterMouseMove(N)}),Rt(C,"handleMouseLeave",function(N){C.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var E=C.props.onMouseLeave;er(E)&&E(k,N)}),Rt(C,"handleOuterEvent",function(N){var k=mDe(N),E=Pi(C.props,"".concat(k));if(k&&er(E)){var T,P;/.*touch.*/i.test(k)?P=C.getMouseInfo(N.changedTouches[0]):P=C.getMouseInfo(N),E((T=P)!==null&&T!==void 0?T:{},N)}}),Rt(C,"handleClick",function(N){var k=C.getMouseInfo(N);if(k){var E=Be(Be({},k),{},{isTooltipActive:!0});C.setState(E),C.triggerSyncEvent(E);var T=C.props.onClick;er(T)&&T(E,N)}}),Rt(C,"handleMouseDown",function(N){var k=C.props.onMouseDown;if(er(k)){var E=C.getMouseInfo(N);k(E,N)}}),Rt(C,"handleMouseUp",function(N){var k=C.props.onMouseUp;if(er(k)){var E=C.getMouseInfo(N);k(E,N)}}),Rt(C,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Rt(C,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseDown(N.changedTouches[0])}),Rt(C,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseUp(N.changedTouches[0])}),Rt(C,"triggerSyncEvent",function(N){C.props.syncId!==void 0&&EP.emit(SP,C.props.syncId,N,C.eventEmitterSymbol)}),Rt(C,"applySyncEvent",function(N){var k=C.props,E=k.layout,T=k.syncMethod,P=C.state.updateId,O=N.dataStartIndex,D=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)C.setState(Be({dataStartIndex:O,dataEndIndex:D},p({props:C.props,dataStartIndex:O,dataEndIndex:D,updateId:P},C.state)));else if(N.activeTooltipIndex!==void 0){var M=N.chartX,F=N.chartY,G=N.activeTooltipIndex,W=C.state,V=W.offset,H=W.tooltipTicks;if(!V)return;if(typeof T=="function")G=T(H,N);else if(T==="value"){G=-1;for(var Q=0;Q<H.length;Q++)if(H[Q].value===N.activeLabel){G=Q;break}}var z=Be(Be({},V),{},{x:V.left,y:V.top}),q=Math.min(M,z.x+z.width),$=Math.min(F,z.y+z.height),J=H[G]&&H[G].value,le=oR(C.state,C.props.data,G),ae=H[G]?{x:E==="horizontal"?H[G].coordinate:q,y:E==="horizontal"?$:H[G].coordinate}:Fie;C.setState(Be(Be({},N),{},{activeLabel:J,activeCoordinate:ae,activePayload:le,activeTooltipIndex:G}))}else C.setState(N)}),Rt(C,"renderCursor",function(N){var k,E=C.state,T=E.isTooltipActive,P=E.activeCoordinate,O=E.activePayload,D=E.offset,M=E.activeTooltipIndex,F=E.tooltipAxisBandSize,G=C.getTooltipEventType(),W=(k=N.props.active)!==null&&k!==void 0?k:T,V=C.props.layout,H=N.key||"_recharts-cursor";return Y.createElement(vqe,{key:H,activeCoordinate:P,activePayload:O,activeTooltipIndex:M,chartName:r,element:N,isActive:W,layout:V,offset:D,tooltipAxisBandSize:F,tooltipEventType:G})}),Rt(C,"renderPolarAxis",function(N,k,E){var T=Pi(N,"type.axisType"),P=Pi(C.state,"".concat(T,"Map")),O=N.type.defaultProps,D=O!==void 0?Be(Be({},O),N.props):N.props,M=P&&P[D["".concat(T,"Id")]];return w.cloneElement(N,Be(Be({},M),{},{className:pr(T,M.className),key:N.key||"".concat(k,"-").concat(E),ticks:Zl(M,!0)}))}),Rt(C,"renderPolarGrid",function(N){var k=N.props,E=k.radialLines,T=k.polarAngles,P=k.polarRadius,O=C.state,D=O.radiusAxisMap,M=O.angleAxisMap,F=vu(D),G=vu(M),W=G.cx,V=G.cy,H=G.innerRadius,Q=G.outerRadius;return w.cloneElement(N,{polarAngles:Array.isArray(T)?T:Zl(G,!0).map(function(z){return z.coordinate}),polarRadius:Array.isArray(P)?P:Zl(F,!0).map(function(z){return z.coordinate}),cx:W,cy:V,innerRadius:H,outerRadius:Q,key:N.key||"polar-grid",radialLines:E})}),Rt(C,"renderLegend",function(){var N=C.state.formattedGraphicalItems,k=C.props,E=k.children,T=k.width,P=k.height,O=C.props.margin||{},D=T-(O.left||0)-(O.right||0),M=Nae({children:E,formattedGraphicalItems:N,legendWidth:D,legendContent:u});if(!M)return null;var F=M.item,G=K7(M,yqe);return w.cloneElement(F,Be(Be({},G),{},{chartWidth:T,chartHeight:P,margin:O,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Rt(C,"renderTooltip",function(){var N,k=C.props,E=k.children,T=k.accessibilityLayer,P=Xa(E,co);if(!P)return null;var O=C.state,D=O.isTooltipActive,M=O.activeCoordinate,F=O.activePayload,G=O.activeLabel,W=O.offset,V=(N=P.props.active)!==null&&N!==void 0?N:D;return w.cloneElement(P,{viewBox:Be(Be({},W),{},{x:W.left,y:W.top}),active:V,label:G,payload:V?F:[],coordinate:M,accessibilityLayer:T})}),Rt(C,"renderBrush",function(N){var k=C.props,E=k.margin,T=k.data,P=C.state,O=P.offset,D=P.dataStartIndex,M=P.dataEndIndex,F=P.updateId;return w.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Rb(C.handleBrushChange,N.props.onChange),data:T,x:Je(N.props.x)?N.props.x:O.left,y:Je(N.props.y)?N.props.y:O.top+O.height+O.brushBottom-(E.bottom||0),width:Je(N.props.width)?N.props.width:O.width,startIndex:D,endIndex:M,updateId:"brush-".concat(F)})}),Rt(C,"renderReferenceElement",function(N,k,E){if(!N)return null;var T=C,P=T.clipPathId,O=C.state,D=O.xAxisMap,M=O.yAxisMap,F=O.offset,G=N.type.defaultProps||{},W=N.props,V=W.xAxisId,H=V===void 0?G.xAxisId:V,Q=W.yAxisId,z=Q===void 0?G.yAxisId:Q;return w.cloneElement(N,{key:N.key||"".concat(k,"-").concat(E),xAxis:D[H],yAxis:M[z],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:P})}),Rt(C,"renderActivePoints",function(N){var k=N.item,E=N.activePoint,T=N.basePoint,P=N.childIndex,O=N.isRange,D=[],M=k.props.key,F=k.item.type.defaultProps!==void 0?Be(Be({},k.item.type.defaultProps),k.item.props):k.item.props,G=F.activeDot,W=F.dataKey,V=Be(Be({index:P,dataKey:W,cx:E.x,cy:E.y,r:4,fill:vU(k.item),strokeWidth:2,stroke:"#fff",payload:E.payload,value:E.value},Ar(G,!1)),S_(G));return D.push(v.renderActiveDot(G,V,"".concat(M,"-activePoint-").concat(P))),T?D.push(v.renderActiveDot(G,Be(Be({},V),{},{cx:T.x,cy:T.y}),"".concat(M,"-basePoint-").concat(P))):O&&D.push(null),D}),Rt(C,"renderGraphicChild",function(N,k,E){var T=C.filterFormatItem(N,k,E);if(!T)return null;var P=C.getTooltipEventType(),O=C.state,D=O.isTooltipActive,M=O.tooltipAxis,F=O.activeTooltipIndex,G=O.activeLabel,W=C.props.children,V=Xa(W,co),H=T.props,Q=H.points,z=H.isRange,q=H.baseLine,$=T.item.type.defaultProps!==void 0?Be(Be({},T.item.type.defaultProps),T.item.props):T.item.props,J=$.activeDot,le=$.hide,ae=$.activeBar,ee=$.activeShape,ue=!!(!le&&D&&V&&(J||ae||ee)),xe={};P!=="axis"&&V&&V.props.trigger==="click"?xe={onClick:Rb(C.handleItemMouseEnter,N.props.onClick)}:P!=="axis"&&(xe={onMouseLeave:Rb(C.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Rb(C.handleItemMouseEnter,N.props.onMouseEnter)});var me=w.cloneElement(N,Be(Be({},T.props),xe));function ye(Ie){return typeof M.dataKey=="function"?M.dataKey(Ie.payload):null}if(ue)if(F>=0){var je,Fe;if(M.dataKey&&!M.allowDuplicatedCategory){var ne=typeof M.dataKey=="function"?ye:"payload.".concat(M.dataKey.toString());je=E_(Q,ne,G),Fe=z&&q&&E_(q,ne,G)}else je=Q==null?void 0:Q[F],Fe=z&&q&&q[F];if(ee||ae){var ke=N.props.activeIndex!==void 0?N.props.activeIndex:F;return[w.cloneElement(N,Be(Be(Be({},T.props),xe),{},{activeIndex:ke})),null,null]}if(!sr(je))return[me].concat(up(C.renderActivePoints({item:T,activePoint:je,basePoint:Fe,childIndex:F,isRange:z})))}else{var We,ct=(We=C.getItemByXY(C.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:me},ft=ct.graphicalItem,Xt=ft.item,re=Xt===void 0?N:Xt,de=ft.childIndex,ge=Be(Be(Be({},T.props),xe),{},{activeIndex:de});return[w.cloneElement(re,ge),null,null]}return z?[me,null,null]:[me,null]}),Rt(C,"renderCustomized",function(N,k,E){return w.cloneElement(N,Be(Be({key:"recharts-customized-".concat(E)},C.props),C.state))}),Rt(C,"renderMap",{CartesianGrid:{handler:Lb,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Lb},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Lb},YAxis:{handler:Lb},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((j=_.id)!==null&&j!==void 0?j:u0("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=Sse(C.triggeredAfterMouseMove,(S=_.throttleDelay)!==null&&S!==void 0?S:1e3/60),C.state={},C}return kqe(v,x),Eqe(v,[{key:"componentDidMount",value:function(){var j,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,S=j.children,C=j.data,N=j.height,k=j.layout,E=Xa(S,co);if(E){var T=E.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,O=oR(this.state,C,T,P),D=this.state.tooltipTicks[T].coordinate,M=(this.state.offset.top+N)/2,F=k==="horizontal",G=F?{x:D,y:M}:{y:D,x:M},W=this.state.formattedGraphicalItems.find(function(H){var Q=H.item;return Q.type.name==="Scatter"});W&&(G=Be(Be({},G),W.props.points[T].tooltipPosition),O=W.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:P,activePayload:O,activeCoordinate:G};this.setState(V),this.renderCursor(E),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var C,N;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(j){qO([Xa(j.children,co)],[Xa(this.props.children,co)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Xa(this.props.children,co);if(j&&typeof j.props.shared=="boolean"){var S=j.props.shared?"axis":"item";return l.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var S=this.container,C=S.getBoundingClientRect(),N=nQe(C),k={chartX:Math.round(j.pageX-N.left),chartY:Math.round(j.pageY-N.top)},E=C.width/S.offsetWidth||1,T=this.inRange(k.chartX,k.chartY,E);if(!T)return null;var P=this.state,O=P.xAxisMap,D=P.yAxisMap,M=this.getTooltipEventType();if(M!=="axis"&&O&&D){var F=vu(O).scale,G=vu(D).scale,W=F&&F.invert?F.invert(k.chartX):null,V=G&&G.invert?G.invert(k.chartY):null;return Be(Be({},k),{},{xValue:W,yValue:V})}var H=z7(this.state,this.props.data,this.props.layout,T);return H?Be(Be({},k),H):null}},{key:"inRange",value:function(j,S){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=j/C,E=S/C;if(N==="horizontal"||N==="vertical"){var T=this.state.offset,P=k>=T.left&&k<=T.left+T.width&&E>=T.top&&E<=T.top+T.height;return P?{x:k,y:E}:null}var O=this.state,D=O.angleAxisMap,M=O.radiusAxisMap;if(D&&M){var F=vu(D);return uq({x:k,y:E},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,S=this.getTooltipEventType(),C=Xa(j,co),N={};C&&S==="axis"&&(C.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var k=S_(this.props,this.handleOuterEvent);return Be(Be({},k),N)}},{key:"addListener",value:function(){EP.on(SP,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){EP.removeListener(SP,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,S,C){for(var N=this.state.formattedGraphicalItems,k=0,E=N.length;k<E;k++){var T=N[k];if(T.item===j||T.props.key===j.key||S===ac(T.item.type)&&C===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,S=this.state.offset,C=S.left,N=S.top,k=S.height,E=S.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:j},Y.createElement("rect",{x:C,y:N,height:k,width:E})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(S,C){var N=V7(C,2),k=N[0],E=N[1];return Be(Be({},S),{},Rt({},k,E.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(S,C){var N=V7(C,2),k=N[0],E=N[1];return Be(Be({},S),{},Rt({},k,E.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(j){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[j])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(j){var S=this.state,C=S.formattedGraphicalItems,N=S.activeItem;if(C&&C.length)for(var k=0,E=C.length;k<E;k++){var T=C[k],P=T.props,O=T.item,D=O.type.defaultProps!==void 0?Be(Be({},O.type.defaultProps),O.props):O.props,M=ac(O.type);if(M==="Bar"){var F=(P.data||[]).find(function(H){return iVe(j,H)});if(F)return{graphicalItem:T,payload:F}}else if(M==="RadialBar"){var G=(P.data||[]).find(function(H){return uq(j,H)});if(G)return{graphicalItem:T,payload:G}}else if(fB(T,N)||hB(T,N)||yx(T,N)){var W=XVe({graphicalItem:T,activeTooltipItem:N,itemData:D.data}),V=D.activeIndex===void 0?W:D.activeIndex;return{graphicalItem:Be(Be({},T),{},{childIndex:V}),payload:yx(T,N)?D.data[W]:T.props.data[W]}}}return null}},{key:"render",value:function(){var j=this;if(!wV(this))return null;var S=this.props,C=S.children,N=S.className,k=S.width,E=S.height,T=S.style,P=S.compact,O=S.title,D=S.desc,M=K7(S,xqe),F=Ar(M,!1);if(P)return Y.createElement(C7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(GO,Xv({},F,{width:k,height:E,title:O,desc:D}),this.renderClipPath(),_V(C,this.renderMap)));if(this.props.accessibilityLayer){var G,W;F.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,F.role=(W=this.props.role)!==null&&W!==void 0?W:"application",F.onKeyDown=function(H){j.accessibilityManager.keyboardEvent(H)},F.onFocus=function(){j.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return Y.createElement(C7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Xv({className:pr("recharts-wrapper",N),style:Be({position:"relative",cursor:"default",width:k,height:E},T)},V,{ref:function(Q){j.container=Q}}),Y.createElement(GO,Xv({},F,{width:k,height:E,title:O,desc:D,style:Dqe}),this.renderClipPath(),_V(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);return Rt(y,"displayName",r),Rt(y,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Rt(y,"getDerivedStateFromProps",function(x,v){var _=x.dataKey,j=x.data,S=x.children,C=x.width,N=x.height,k=x.layout,E=x.stackOffset,T=x.margin,P=v.dataStartIndex,O=v.dataEndIndex;if(v.updateId===void 0){var D=G7(x);return Be(Be(Be({},D),{},{updateId:0},p(Be(Be({props:x},D),{},{updateId:0}),v)),{},{prevDataKey:_,prevData:j,prevWidth:C,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(_!==v.prevDataKey||j!==v.prevData||C!==v.prevWidth||N!==v.prevHeight||k!==v.prevLayout||E!==v.prevStackOffset||!em(T,v.prevMargin)){var M=G7(x),F={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},G=Be(Be({},z7(v,j,k)),{},{updateId:v.updateId+1}),W=Be(Be(Be({},M),F),G);return Be(Be(Be({},W),p(Be({props:x},W),v)),{},{prevDataKey:_,prevData:j,prevWidth:C,prevHeight:N,prevLayout:k,prevStackOffset:E,prevMargin:T,prevChildren:S})}if(!qO(S,v.prevChildren)){var V,H,Q,z,q=Xa(S,ep),$=q&&(V=(H=q.props)===null||H===void 0?void 0:H.startIndex)!==null&&V!==void 0?V:P,J=q&&(Q=(z=q.props)===null||z===void 0?void 0:z.endIndex)!==null&&Q!==void 0?Q:O,le=$!==P||J!==O,ae=!sr(j),ee=ae&&!le?v.updateId:v.updateId+1;return Be(Be({updateId:ee},p(Be(Be({props:x},v),{},{updateId:ee,dataStartIndex:$,dataEndIndex:J}),v)),{},{prevChildren:S,dataStartIndex:$,dataEndIndex:J})}return null}),Rt(y,"renderActiveDot",function(x,v,_){var j;return w.isValidElement(x)?j=w.cloneElement(x,v):er(x)?j=x(v):j=Y.createElement(xU,v),Y.createElement(Bn,{className:"recharts-active-dot",key:_},j)}),function(v){return Y.createElement(y,v)}},zqe=Die({chartName:"LineChart",GraphicalChild:g0,axisComponents:[{axisType:"xAxis",AxisComp:Hp},{axisType:"yAxis",AxisComp:$p}],formatAxisMap:rie}),Gqe=Die({chartName:"BarChart",GraphicalChild:mf,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Hp},{axisType:"yAxis",AxisComp:$p}],formatAxisMap:rie});const Wqe={light:"",dark:".dark"},Uie=w.createContext(null);function Mie(){const t=w.useContext(Uie);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const kU=w.forwardRef(({id:t,className:e,children:r,config:n,...s},a)=>{const o=w.useId(),l=`chart-${t||o.replace(/:/g,"")}`;return i.jsx(Uie.Provider,{value:{config:n},children:i.jsxs("div",{"data-chart":l,ref:a,className:Ee("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...s,children:[i.jsx(Xqe,{id:l,config:n}),i.jsx(XMe,{children:r})]})})});kU.displayName="Chart";const Xqe=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,s])=>s.theme||s.color);return r.length?i.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(Wqe).map(([n,s])=>`
${s} [data-chart=${t}] {
${r.map(([a,o])=>{var c;const l=((c=o.theme)==null?void 0:c[n])||o.color;return l?`  --color-${a}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Jqe=w.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:s=!1,hideIndicator:a=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:m},p)=>{const{config:y}=Mie(),x=w.useMemo(()=>{var N;if(s||!(e!=null&&e.length))return null;const[_]=e,j=`${m||_.dataKey||_.name||"value"}`,S=lR(y,_,j),C=!m&&typeof o=="string"?((N=y[o])==null?void 0:N.label)||o:S==null?void 0:S.label;return l?i.jsx("div",{className:Ee("font-medium",c),children:l(C,e)}):C?i.jsx("div",{className:Ee("font-medium",c),children:C}):null},[o,l,e,s,c,y,m]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return i.jsxs("div",{ref:p,className:Ee("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:x,i.jsx("div",{className:"grid gap-1.5",children:e.map((_,j)=>{const S=`${f||_.name||_.dataKey||"value"}`,C=lR(y,_,S),N=d||_.payload.fill||_.color;return i.jsx("div",{className:Ee("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(_==null?void 0:_.value)!==void 0&&_.name?u(_.value,_.name,_,j,_.payload):i.jsxs(i.Fragment,{children:[C!=null&&C.icon?i.jsx(C.icon,{}):!a&&i.jsx("div",{className:Ee("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":N,"--color-border":N}}),i.jsxs("div",{className:Ee("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[i.jsxs("div",{className:"grid gap-1.5",children:[v?x:null,i.jsx("span",{className:"text-muted-foreground",children:(C==null?void 0:C.label)||_.name})]}),_.value&&i.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:_.value.toLocaleString()})]})]})},_.dataKey)})})]})});Jqe.displayName="ChartTooltip";const Yqe=w.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:s},a)=>{const{config:o}=Mie();return r!=null&&r.length?i.jsx("div",{ref:a,className:Ee("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(l=>{const c=`${s||l.dataKey||"value"}`,u=lR(o,l,c);return i.jsxs("div",{className:Ee("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?i.jsx(u.icon,{}):i.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u==null?void 0:u.label]},l.value)})}):null});Yqe.displayName="ChartLegend";function lR(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let s=r;return r in e&&typeof e[r]=="string"?s=e[r]:n&&r in n&&typeof n[r]=="string"&&(s=n[r]),s in t?t[s]:t[r]}function Qie({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:s=o=>`${o}`,yAxisWidth:a=40}){return i.jsx(kU,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(Gqe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(TU,{strokeDasharray:"3 3",vertical:!1}),i.jsx(Hp,{dataKey:e}),i.jsx($p,{width:a,tickFormatter:s}),i.jsx(co,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:s(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(mf,{dataKey:o,fill:n[l]||n[0],radius:[4,4,0,0]},o))]})})}function Zqe({data:t,index:e,categories:r,colors:n=["#FF7E47"],valueFormatter:s=o=>`${o}`,yAxisWidth:a=40}){return i.jsx(kU,{config:{[r[0]]:{color:n[0]}},children:i.jsxs(zqe,{data:t,margin:{top:20,right:20,bottom:20,left:20},children:[i.jsx(TU,{strokeDasharray:"3 3",vertical:!1}),i.jsx(Hp,{dataKey:e}),i.jsx($p,{width:a,tickFormatter:s}),i.jsx(co,{content:({active:o,payload:l})=>o&&l&&l.length?i.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:i.jsx("div",{className:"grid grid-cols-2 gap-2",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:l[0].payload[e]}),i.jsx("span",{className:"font-bold text-muted-foreground",children:s(Number(l[0].value))})]})})}):null}),r.map((o,l)=>i.jsx(g0,{type:"monotone",dataKey:o,stroke:n[l]||n[0],strokeWidth:2,dot:{r:4},activeDot:{r:6}},o))]})})}function X7(){var c,u;const[t,e]=w.useState({totalProducts:0,totalOrders:0,totalUsers:0,totalShippingMethods:0}),[r,n]=w.useState(null),[s,a]=w.useState({totalSales:0,totalPurchaseCost:0,profit:0,profitMargin:0}),[o,l]=w.useState([{name:"Jan",total:0},{name:"Feb",total:0},{name:"Mar",total:0},{name:"Apr",total:0},{name:"May",total:0},{name:"Jun",total:0}]);return w.useEffect(()=>{(async()=>{const[f,m,p,y,x,v]=await Promise.all([oe.from("products").select("id",{count:"exact",head:!0}),oe.from("orders").select("id",{count:"exact",head:!0}),oe.from("profiles").select("id",{count:"exact",head:!0}),oe.from("shipping_methods").select("id",{count:"exact",head:!0}),oe.from("coal_inventory_summary").select("*").maybeSingle(),oe.from("coal_inventory_transactions").select("*")]);e({totalProducts:f.count||0,totalOrders:m.count||0,totalUsers:p.count||0,totalShippingMethods:y.count||0}),x.data&&n(x.data);const{data:_}=await oe.from("orders").select("date, total, status").neq("status","canceled").order("date",{ascending:!1}).limit(100);if(_){const j=_.reduce((E,T)=>E+Number(T.total),0),S=[0,0,0,0,0,0];_.forEach(E=>{const P=new Date(E.date).getMonth();P<6&&(S[P]+=Number(E.total))}),l([{name:"Jan",total:S[0]},{name:"Feb",total:S[1]},{name:"Mar",total:S[2]},{name:"Apr",total:S[3]},{name:"Mei",total:S[4]},{name:"Jun",total:S[5]}]);let C=0;v.data&&(C=v.data.filter(T=>T.transaction_type==="incoming"&&T.vehicle_info!=="cancelled_order_return").reduce((T,P)=>{const O=(P.price_per_kg||0)*P.quantity_kg;return T+O},0));const N=j-C,k=j>0?N/j*100:0;a({totalSales:j,totalPurchaseCost:C,profit:N,profitMargin:k})}})()},[]),i.jsxs(Bs,{children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Admin"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Produk"}),i.jsx(cc,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalProducts}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total produk"})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Pesanan"}),i.jsx(Bj,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalOrders}),i.jsx("p",{className:"text-xs text-gray-500",children:"Total pesanan"})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Pengguna"}),i.jsx(wR,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna terdaftar"})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Tt,{className:"text-sm font-medium",children:"Metode Pengiriman"}),i.jsx(Lce,{className:"h-4 w-4 text-gray-500"})]}),i.jsxs(Me,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.totalShippingMethods}),i.jsx("p",{className:"text-xs text-gray-500",children:"Opsi pengiriman tersedia"})]})]})]}),i.jsxs(Ue,{className:"mb-8",children:[i.jsxs(Nt,{children:[i.jsx(Tt,{className:"flex justify-between items-center",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Jce,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Ringkasan Keuangan"})]})}),i.jsx(Rr,{children:"Analisis penghasilan, biaya, dan keuntungan dari penjualan arang"})]}),i.jsx(Me,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Penjualan"}),i.jsx("h3",{className:"text-xl font-bold text-green-600",children:Te(s.totalSales)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(oL,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Biaya Pembelian"}),i.jsx("h3",{className:"text-xl font-bold text-red-600",children:Te(s.totalPurchaseCost)})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:i.jsx(vue,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:s.profit>=0?"Keuntungan":"Kerugian"}),i.jsx("h3",{className:"text-xl font-bold",style:{color:s.profit>=0?"#047857":"#dc2626"},children:Te(Math.abs(s.profit))})]}),i.jsx("div",{className:"h-12 w-12 rounded-full",style:{backgroundColor:s.profit>=0?"#DCFCE7":"#FEE2E2"},children:s.profit>=0?i.jsx(oL,{className:"h-6 w-6 text-green-600"}):i.jsx(Sj,{className:"h-6 w-6 text-red-600"})})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Margin"}),i.jsxs("h3",{className:"text-xl font-bold",style:{color:s.profit>=0?"#047857":"#dc2626"},children:[s.profitMargin.toFixed(2),"%"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(aL,{className:"h-6 w-6 text-blue-600"})})]})})})]})})]}),i.jsxs(Ue,{className:"mb-8",children:[i.jsxs(Nt,{children:[i.jsxs(Tt,{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(lL,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Manajemen Stok Arang"})]}),i.jsx(Dt,{to:"/admin/coal-inventory",children:i.jsxs(Z,{className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(Vz,{className:"h-4 w-4 mr-2"}),"Kelola Stok Arang"]})})]}),i.jsx(Rr,{children:"Lihat ringkasan stok arang dan catat transaksi masuk/keluar"})]}),i.jsxs(Me,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stok Saat Ini"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((c=r==null?void 0:r.current_stock_kg)==null?void 0:c.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:i.jsx(lL,{className:"h-6 w-6 text-green-600"})})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Total Pemasukan"}),i.jsxs("h3",{className:"text-2xl font-bold",children:[((u=r==null?void 0:r.total_incoming_kg)==null?void 0:u.toLocaleString("id-ID"))||"0"," kg"]})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:i.jsx(Dce,{className:"h-6 w-6 text-blue-600"})})]})})}),i.jsx(Ue,{children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Nilai Stok"}),i.jsx("h3",{className:"text-xl font-bold",children:r?Te(r.stock_value):"Rp 0"})]}),i.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-100 flex items-center justify-center",children:i.jsx(aL,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx(Dt,{to:"/admin/coal-inventory",children:i.jsx(Z,{variant:"outline",className:"w-full max-w-md",children:"Lihat Detail Transaksi Stok Arang"})})})]})]}),i.jsxs(Ue,{className:"mb-8",children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Ringkasan Penjualan"})}),i.jsx(Me,{children:i.jsx("div",{className:"h-80",children:i.jsx(Qie,{data:o,index:"name",categories:["total"],colors:["#FF7E47"],yAxisWidth:60,valueFormatter:d=>Te(d)})})})]})]})}var e7e="AspectRatio",Lie=w.forwardRef((t,e)=>{const{ratio:r=1/1,style:n,...s}=t;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/r}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(yt.div,{...s,ref:e,style:{...n,position:"absolute",top:0,right:0,bottom:0,left:0}})})});Lie.displayName=e7e;var t7e=Lie;const r7e=t7e,n7e=Io({quantity:cl().int(),type:Um(["restock","sale","return","adjustment"]),notes:Dr().optional()}),s7e=Io({name:Dr().min(1,"Nama wajib diisi"),type:Dr().min(1,"Tipe wajib diisi"),price:cl().min(0,"Harga harus berupa angka positif"),description:Dr().optional(),origin:Dr().optional(),seller:Dr().optional(),in_stock:Mu().default(!0),featured:Mu().default(!1),discount:cl().min(0).max(100).optional()});function a7e(){const[t,e]=w.useState([]),[r,n]=w.useState(""),[s,a]=w.useState(!0),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(!1),[m,p]=w.useState(null),[y,x]=w.useState(1),[v,_]=w.useState(10),[j,S]=w.useState(0),[C,N]=w.useState(!1),k=aa({resolver:ia(n7e),defaultValues:{quantity:0,type:"restock",notes:""}}),E=aa({resolver:ia(s7e),defaultValues:{name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0}});w.useEffect(()=>{T()},[y,r]);const T=async()=>{a(!0);try{let q=oe.from("products").select("*",{count:"exact"});r&&(q=q.ilike("name",`%${r}%`));const{data:$,error:J,count:le}=await q.order("created_at",{ascending:!1}).range((y-1)*v,y*v-1);if(J)throw J;e($),S(le||0)}catch(q){console.error("Error fetching products:",q),Se({title:"Error memuat produk",description:q.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},P=q=>{p(q),l(!0),k.reset({quantity:0,type:"restock",notes:""})},O=()=>{p(null),u(!0),E.reset({name:"",type:"",price:0,description:"",origin:"",seller:"",in_stock:!0,featured:!1,discount:0})},D=q=>{p(q),f(!0),E.reset({name:q.name,type:q.type,price:q.price,description:q.description||"",origin:q.origin||"",seller:q.seller||"",in_stock:q.in_stock||!1,featured:q.featured||!1,discount:q.discount||0})},M=q=>{p(q),N(!0)},F=async()=>{if(m)try{const{error:q}=await oe.from("products").delete().eq("id",m.id);if(q)throw q;Se({title:"Produk dihapus",description:"Produk telah dihapus berhasil."}),N(!1),T()}catch(q){console.error("Error deleting product:",q),Se({title:"Error menghapus produk",description:q.message||"Silakan coba lagi nanti.",variant:"destructive"})}},G=async q=>{if(m)try{const $={id:"",product_id:m.id,quantity:q.quantity,transaction_type:q.type,notes:q.notes||void 0,created_by:null},{error:J}=await oe.from("inventory_transactions").insert($);if(J)throw J;q.type==="restock"&&q.quantity>0&&!m.in_stock&&await oe.from("products").update({in_stock:!0}).eq("id",m.id),Se({title:"Inventaris diperbarui",description:`${q.quantity} unit ${q.type==="restock"?"ditambahkan ke":"disesuaikan di"} inventaris.`}),l(!1),T()}catch($){console.error("Error memperbarui inventaris:",$),Se({title:"Error memperbarui inventaris",description:$.message||"Silakan coba lagi nanti.",variant:"destructive"})}},W=async q=>{try{if(d&&m){const{error:$}=await oe.from("products").update({name:q.name,type:q.type,price:q.price,description:q.description||null,origin:q.origin||null,seller:q.seller||null,in_stock:q.in_stock,featured:q.featured,discount:q.discount||null,updated_at:new Date().toISOString()}).eq("id",m.id);if($)throw $;Se({title:"Produk diperbarui",description:"Produk telah diperbarui berhasil."})}else{const{error:$}=await oe.from("products").insert({name:q.name,type:q.type,price:q.price,description:q.description||null,origin:q.origin||null,seller:q.seller||null,in_stock:q.in_stock,featured:q.featured,discount:q.discount||null,images:[]});if($)throw $;Se({title:"Produk ditambahkan",description:"Produk baru telah ditambahkan berhasil."})}u(!1),f(!1),T()}catch($){console.error("Error menyimpan produk:",$),Se({title:"Error menyimpan produk",description:$.message||"Silakan coba lagi nanti.",variant:"destructive"})}},V=r?t.filter(q=>q.name.toLowerCase().includes(r.toLowerCase())||q.type.toLowerCase().includes(r.toLowerCase())):t,H=Math.ceil(j/v),Q=y>1,z=y<H;return i.jsxs(Bs,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Inventaris"}),i.jsxs(Z,{onClick:O,children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Tambah Produk"]})]}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(Ce,{placeholder:"Cari produk...",className:"pl-10",value:r,onChange:q=>n(q.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{className:"w-[80px]",children:"Gambar"}),i.jsx($e,{children:"Produk"}),i.jsx($e,{children:"Tipe"}),i.jsx($e,{className:"text-right",children:"Harga"}),i.jsx($e,{className:"text-center",children:"Stok"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:s?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:6,className:"text-center py-8",children:"Memuat produk..."})}):V.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:6,className:"text-center py-8",children:"Tidak ada produk ditemukan."})}):V.map(q=>{var $;return i.jsxs(Ot,{children:[i.jsx(Ne,{children:i.jsx("div",{className:"w-12 h-12 relative rounded overflow-hidden",children:i.jsx(r7e,{ratio:1/1,children:i.jsx("img",{src:(($=q.images)==null?void 0:$[0])||"/placeholder.svg",alt:q.name,className:"object-cover"})})})}),i.jsx(Ne,{className:"font-medium",children:q.name}),i.jsx(Ne,{children:q.type}),i.jsx(Ne,{className:"text-right",children:Te(q.price)}),i.jsx(Ne,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${q.in_stock?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:q.in_stock?"Tersedia":"Stok habis"})}),i.jsxs(Ne,{className:"text-right",children:[i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>P(q),className:"mr-2",children:[i.jsx(cc,{className:"h-4 w-4 mr-1"})," Kelola Stok"]}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>D(q),className:"mr-2",children:[i.jsx(Ix,{className:"h-4 w-4"})," Edit"]}),i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>M(q),children:[i.jsx(Zv,{className:"h-4 w-4"})," Hapus"]})]})]},q.id)})})]})}),H>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",y," dari ",H]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>x(q=>Math.max(q-1,1)),disabled:!Q,children:"Sebelumnya"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>x(q=>Math.min(q+1,H)),disabled:!z,children:"Berikutnya"})]})]}),i.jsx(hl,{open:o,onOpenChange:l,children:i.jsxs(Eo,{children:[i.jsxs(ml,{children:[i.jsx(pl,{children:"Perbarui Inventaris"}),i.jsxs(By,{children:["Perbarui inventaris untuk ",m==null?void 0:m.name]})]}),i.jsx(qs,{...k,children:i.jsxs("form",{onSubmit:k.handleSubmit(G),className:"space-y-6 py-6",children:[i.jsx(at,{control:k.control,name:"quantity",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Jumlah"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...q,onChange:$=>q.onChange(parseInt($.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:k.control,name:"type",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tipe Transaksi"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...q,children:[i.jsx("option",{value:"restock",children:"Pengisian Stok"}),i.jsx("option",{value:"sale",children:"Penjualan"}),i.jsx("option",{value:"return",children:"Pengembalian"}),i.jsx("option",{value:"adjustment",children:"Penyesuaian"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:k.control,name:"notes",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Catatan"}),i.jsx(nt,{children:i.jsx(Ce,{...q,value:q.value||""})}),i.jsx(lt,{})]})}),i.jsxs(hc,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(Z,{type:"submit",children:"Simpan Perubahan"})]})]})})]})}),i.jsx(hl,{open:c||d,onOpenChange:q=>{q||(u(!1),f(!1))},children:i.jsxs(Eo,{children:[i.jsx(ml,{children:i.jsx(pl,{children:d?"Edit Produk":"Tambah Produk"})}),i.jsx(qs,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(W),className:"space-y-6 py-6",children:[i.jsx(at,{control:E.control,name:"name",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama Produk"}),i.jsx(nt,{children:i.jsx(Ce,{...q})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"type",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tipe Produk"}),i.jsx(nt,{children:i.jsx(Ce,{...q})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"price",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Harga"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",step:"0.01",...q,onChange:$=>q.onChange(parseFloat($.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"description",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Deskripsi"}),i.jsx(nt,{children:i.jsx(iA,{...q,value:q.value||""})}),i.jsx(lt,{})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(at,{control:E.control,name:"origin",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Asal"}),i.jsx(nt,{children:i.jsx(Ce,{...q,value:q.value||""})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"seller",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Penjual"}),i.jsx(nt,{children:i.jsx(Ce,{...q,value:q.value||""})}),i.jsx(lt,{})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(at,{control:E.control,name:"in_stock",render:({field:q})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(rt,{children:"Tersedia"})}),i.jsx(nt,{children:i.jsx("input",{type:"checkbox",checked:q.value,onChange:$=>q.onChange($.target.checked),className:"h-4 w-4"})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"featured",render:({field:q})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(rt,{children:"Unggulan"})}),i.jsx(nt,{children:i.jsx("input",{type:"checkbox",checked:q.value,onChange:$=>q.onChange($.target.checked),className:"h-4 w-4"})}),i.jsx(lt,{})]})})]}),i.jsx(at,{control:E.control,name:"discount",render:({field:q})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Diskon (%)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",min:"0",max:"100",...q,onChange:$=>q.onChange(parseInt($.target.value)||0),value:q.value||0})}),i.jsx(lt,{})]})}),i.jsxs(hc,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>{u(!1),f(!1)},children:"Cancel"}),i.jsx(Z,{type:"submit",children:"Simpan Produk"})]})]})})]})}),i.jsx(Qr,{open:C,onOpenChange:N,children:i.jsxs(Pr,{children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Konfirmasi Penghapusan"}),i.jsxs(Es,{children:["Apakah Anda yakin ingin menghapus ",m==null?void 0:m.name,"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(is,{children:[i.jsx(Z,{variant:"outline",onClick:()=>N(!1),children:"Batal"}),i.jsx(Z,{variant:"destructive",onClick:F,children:"Hapus"})]})]})})]})}const i7e=Io({transaction_date:Dr().nonempty("Tanggal transaksi wajib diisi"),transaction_type:Um(["incoming","outgoing"]),quantity_kg:cl().positive("Jumlah harus lebih dari 0"),source_destination:Dr().nonempty("Sumber/tujuan wajib diisi"),vehicle_info:Dr().optional(),driver_name:Dr().optional(),price_per_kg:cl().optional(),quality_grade:Um(["premium","standard","economy"]),moisture_content:cl().min(0).max(100).optional(),notes:Dr().optional(),document_reference:Dr().optional()}),o7e={total_incoming_kg:0,total_outgoing_kg:0,current_stock_kg:0,average_price_per_kg:0,last_transaction_date:new Date().toISOString(),stock_value:0,premium_stock_kg:0,standard_stock_kg:0,economy_stock_kg:0};function l7e(){const{user:t,profile:e}=xn(),[r,n]=w.useState(o7e),[s,a]=w.useState([]),[o,l]=w.useState(!1),[c,u]=w.useState(!0),[d,f]=w.useState(""),[m,p]=w.useState("all"),[y,x]=w.useState(1),[v]=w.useState(10),[_,j]=w.useState(null),[S,C]=w.useState(!1),[N,k]=w.useState(!1),E=aa({resolver:ia(i7e),defaultValues:{transaction_date:as(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""}}),T=async()=>{try{u(!0);const{data:ee,error:ue}=await fd.getTransactions(100,0);if(ue)throw ue;ee&&a(ee);const{data:xe,error:me}=await fd.getSummary();if(me)throw me;xe&&n(xe)}catch(ee){console.error("Error fetching transactions:",ee),Se({title:"Error",description:"Gagal mengambil data transaksi stok arang",variant:"destructive"})}finally{u(!1)}};w.useEffect(()=>{T()},[]);const P=async ee=>{try{if(u(!0),!(t!=null&&t.id))throw new Error("User ID tidak ditemukan. Silahkan login ulang.");const ue={...ee,created_by:t.id,created_at:new Date().toISOString(),total_amount:ee.price_per_kg?ee.price_per_kg*ee.quantity_kg:void 0};console.log("Mengirim data transaksi:",ue);const{data:xe,error:me}=await fd.addTransaction(ue);if(me)throw console.error("Error dari service:",me),me;if(!xe)throw new Error("Tidak ada data yang dikembalikan setelah menambahkan transaksi");Se({title:"Berhasil",description:"Transaksi berhasil ditambahkan",variant:"default"}),E.reset(),l(!1),T()}catch(ue){console.error("Error adding transaction:",ue),Se({title:"Error",description:(ue==null?void 0:ue.message)||(ue==null?void 0:ue.error_description)||"Gagal menambahkan transaksi. Silahkan cek konsol untuk detail lebih lanjut.",variant:"destructive"})}finally{u(!1)}},O=async ee=>{if(_)try{u(!0);const ue={...ee,total_amount:ee.price_per_kg?ee.price_per_kg*ee.quantity_kg:void 0},{error:xe}=await fd.updateTransaction(_.id,ue);if(xe)throw xe;Se({title:"Berhasil",description:"Transaksi berhasil diperbarui",variant:"default"}),E.reset(),C(!1),j(null),T()}catch(ue){console.error("Error updating transaction:",ue),Se({title:"Error",description:"Gagal memperbarui transaksi",variant:"destructive"})}finally{u(!1)}},D=async()=>{if(_)try{u(!0);const{error:ee}=await fd.deleteTransaction(_.id);if(ee)throw ee;Se({title:"Berhasil",description:"Transaksi berhasil dihapus",variant:"default"}),k(!1),j(null),T()}catch(ee){console.error("Error deleting transaction:",ee),Se({title:"Error",description:"Gagal menghapus transaksi",variant:"destructive"})}finally{u(!1)}},M=ee=>{j(ee),E.reset({transaction_date:ee.transaction_date.substring(0,10),transaction_type:ee.transaction_type,quantity_kg:ee.quantity_kg,source_destination:ee.source_destination,vehicle_info:ee.vehicle_info||"",driver_name:ee.driver_name||"",price_per_kg:ee.price_per_kg||0,quality_grade:ee.quality_grade||"standard",moisture_content:ee.moisture_content||0,notes:ee.notes||"",document_reference:ee.document_reference||""}),C(!0)},F=ee=>{j(ee),k(!0)},G=s.filter(ee=>{var ue,xe;return d===""?!0:ee.source_destination.toLowerCase().includes(d.toLowerCase())||((ue=ee.document_reference)==null?void 0:ue.toLowerCase().includes(d.toLowerCase()))||((xe=ee.driver_name)==null?void 0:xe.toLowerCase().includes(d.toLowerCase()))}).filter(ee=>m==="all"?!0:ee.transaction_type===m).sort((ee,ue)=>new Date(ue.transaction_date).getTime()-new Date(ee.transaction_date).getTime()),W=G.length,V=Math.ceil(W/v),H=(y-1)*v,Q=Math.min(H+v,W),z=G.slice(H,Q),q=y>1,$=y<V,J=()=>{l(!0),E.reset({transaction_date:as(new Date,"yyyy-MM-dd"),transaction_type:"incoming",quantity_kg:0,source_destination:"",vehicle_info:"",driver_name:"",price_per_kg:0,quality_grade:"standard",moisture_content:0,notes:"",document_reference:""})},le=async ee=>{try{S&&_?await O(ee):await P(ee)}catch(ue){console.error("Error submitting transaction:",ue)}},ae=()=>i.jsx(Qr,{open:N,onOpenChange:k,children:i.jsxs(Pr,{children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Konfirmasi Hapus Transaksi"}),i.jsx(Es,{children:"Apakah Anda yakin ingin menghapus transaksi ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(is,{className:"flex space-x-2 justify-end",children:[i.jsx(Z,{variant:"outline",onClick:()=>k(!1),children:"Batal"}),i.jsx(Z,{variant:"destructive",onClick:D,disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menghapus..."]}):"Hapus Transaksi"})]})]})});return i.jsx(Bs,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Manajemen Stok Arang"}),i.jsxs(Z,{onClick:J,children:[i.jsx(mp,{className:"h-4 w-4 mr-2"})," Catat Transaksi Baru"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"pb-2",children:[i.jsx(Tt,{className:"text-xl",children:"Stok Arang Saat Ini"}),i.jsx(Rr,{children:"Total seluruh jenis arang"})]}),i.jsxs(Me,{children:[i.jsxs("div",{className:"text-3xl font-bold",children:[r.current_stock_kg.toLocaleString()," kg"]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:["Nilai stok: ",Te(r.stock_value)]})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"pb-2",children:[i.jsx(Tt,{className:"text-xl",children:"Rekapitulasi Arang"}),i.jsx(Rr,{children:"Detail berdasarkan kualitas"})]}),i.jsxs(Me,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Premium:"}),i.jsxs("span",{className:"font-bold",children:[r.premium_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Standar:"}),i.jsxs("span",{className:"font-bold",children:[r.standard_stock_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Ekonomis:"}),i.jsxs("span",{className:"font-bold",children:[r.economy_stock_kg.toLocaleString()," kg"]})]})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"pb-2",children:[i.jsx(Tt,{className:"text-xl",children:"Aktivitas Transaksi"}),i.jsx(Rr,{children:"Ringkasan aktivitas stok"})]}),i.jsxs(Me,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(tL,{className:"h-4 w-4 text-green-500 mr-1"})," Pemasukan:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_incoming_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(rL,{className:"h-4 w-4 text-red-500 mr-1"})," Pengeluaran:"]}),i.jsxs("span",{className:"font-bold",children:[r.total_outgoing_kg.toLocaleString()," kg"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"font-medium",children:"Transaksi terakhir:"}),i.jsx("span",{className:"font-bold",children:as(new Date(r.last_transaction_date),"dd MMM yyyy",{locale:Ii})})]})]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[i.jsxs("div",{className:"relative w-full md:w-64",children:[i.jsx(cA,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(Ce,{placeholder:"Cari transaksi...",className:"pl-8",value:d,onChange:ee=>f(ee.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Z,{variant:m==="all"?"default":"outline",size:"sm",onClick:()=>p("all"),children:"Semua"}),i.jsxs(Z,{variant:m==="incoming"?"default":"outline",size:"sm",onClick:()=>p("incoming"),className:"flex items-center",children:[i.jsx(tL,{className:"h-4 w-4 mr-1"})," Pemasukan"]}),i.jsxs(Z,{variant:m==="outgoing"?"default":"outline",size:"sm",onClick:()=>p("outgoing"),className:"flex items-center",children:[i.jsx(rL,{className:"h-4 w-4 mr-1"})," Pengeluaran"]})]})]}),i.jsx("div",{className:"bg-white rounded-md shadow overflow-hidden",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Tanggal"}),i.jsx($e,{children:"Tipe"}),i.jsx($e,{children:"Jumlah (kg)"}),i.jsx($e,{children:"Kualitas"}),i.jsx($e,{children:"Sumber/Tujuan"}),i.jsx($e,{children:"Kendaraan"}),i.jsx($e,{className:"text-right",children:"Nilai"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:c?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:7,className:"text-center py-8",children:"Memuat transaksi..."})}):z.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:7,className:"text-center py-8",children:"Tidak ada transaksi ditemukan."})}):z.map(ee=>i.jsxs(Ot,{children:[i.jsx(Ne,{children:as(new Date(ee.transaction_date),"dd MMM yyyy",{locale:Ii})}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ee.transaction_type==="incoming"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ee.transaction_type==="incoming"?"Pemasukan":"Pengeluaran"})}),i.jsx(Ne,{className:"font-medium",children:ee.quantity_kg.toLocaleString()}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ee.quality_grade==="premium"?"bg-blue-100 text-blue-800":ee.quality_grade==="standard"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:ee.quality_grade==="premium"?"Premium":ee.quality_grade==="standard"?"Standar":"Ekonomis"})}),i.jsx(Ne,{children:ee.source_destination}),i.jsx(Ne,{children:ee.vehicle_info||"-"}),i.jsx(Ne,{className:"text-right",children:ee.total_amount?Te(ee.total_amount):"-"}),i.jsx(Ne,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>M(ee),children:i.jsx(Ix,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>F(ee),className:"text-red-500 hover:text-red-700",children:i.jsx(Wz,{className:"h-4 w-4"})})]})})]},ee.id))})]})}),V>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",y," dari ",V]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>x(ee=>Math.max(ee-1,1)),disabled:!q,children:"Sebelumnya"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>x(ee=>Math.min(ee+1,V)),disabled:!$,children:"Berikutnya"})]})]}),i.jsx(hl,{open:o,onOpenChange:l,children:i.jsxs(Eo,{className:"sm:max-w-md",children:[i.jsxs(ml,{children:[i.jsx(pl,{children:"Catat Transaksi Arang"}),i.jsx(By,{children:"Catat pemasukan atau pengeluaran stok arang"})]}),i.jsx(qs,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(le),className:"space-y-4 py-4",children:[i.jsx(at,{control:E.control,name:"transaction_date",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tanggal Transaksi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"date",...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"transaction_type",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tipe Transaksi"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...ee,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"quantity_kg",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Jumlah (kg)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"quality_grade",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kualitas Arang"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...ee,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"source_destination",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:E.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"vehicle_info",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Informasi Kendaraan"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"driver_name",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama Supir"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"price_per_kg",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Harga per kg (Rp)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"moisture_content",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kadar Air (%)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"document_reference",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Referensi Dokumen"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"notes",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Catatan"}),i.jsx(nt,{children:i.jsx(iA,{rows:3,...ee})}),i.jsx(lt,{})]})}),i.jsx(hc,{className:"pt-4",children:i.jsx(Z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Simpan Transaksi"})})]})})]})}),i.jsx(hl,{open:S,onOpenChange:C,children:i.jsxs(Eo,{className:"sm:max-w-md",children:[i.jsxs(ml,{children:[i.jsx(pl,{children:"Edit Transaksi Arang"}),i.jsx(By,{children:"Perbarui informasi transaksi arang"})]}),i.jsx(qs,{...E,children:i.jsxs("form",{onSubmit:E.handleSubmit(le),className:"space-y-4 py-4",children:[i.jsx(at,{control:E.control,name:"transaction_date",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tanggal Transaksi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"date",...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"transaction_type",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Tipe Transaksi"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...ee,children:[i.jsx("option",{value:"incoming",children:"Pemasukan Arang"}),i.jsx("option",{value:"outgoing",children:"Pengeluaran Arang"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"quantity_kg",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Jumlah (kg)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"quality_grade",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kualitas Arang"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...ee,children:[i.jsx("option",{value:"premium",children:"Premium"}),i.jsx("option",{value:"standard",children:"Standar"}),i.jsx("option",{value:"economy",children:"Ekonomis"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"source_destination",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:E.watch("transaction_type")==="incoming"?"Sumber":"Tujuan"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"vehicle_info",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Informasi Kendaraan"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"driver_name",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama Supir"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"price_per_kg",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Harga per kg (Rp)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"moisture_content",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kadar Air (%)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...ee,onChange:ue=>ee.onChange(parseInt(ue.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"document_reference",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Referensi Dokumen"}),i.jsx(nt,{children:i.jsx(Ce,{...ee})}),i.jsx(lt,{})]})}),i.jsx(at,{control:E.control,name:"notes",render:({field:ee})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Catatan"}),i.jsx(nt,{children:i.jsx(iA,{rows:3,...ee})}),i.jsx(lt,{})]})}),i.jsx(hc,{className:"pt-4",children:i.jsx(Z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Perbarui Transaksi"})})]})})]})}),ae()]})})}const c7e=Io({name:Dr().min(1,{message:"Nama wajib diisi"}),carrier:Dr().min(1,{message:"Kurir wajib diisi"}),cost:cl().min(0,{message:"Biaya harus berupa angka positif"}),estimated_days:cl().int().min(1,{message:"Estimasi Jam minimal 1"}),active:Mu().default(!0)});function u7e(){const[t,e]=w.useState([]),[r,n]=w.useState(!0),[s,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(!1),[m,p]=w.useState(null),y=aa({resolver:ia(c7e),defaultValues:{name:"",carrier:"",cost:0,estimated_days:1,active:!0}});w.useEffect(()=>{x()},[]);const x=async()=>{n(!0);try{const{data:C,error:N}=await oe.from("shipping_methods").select("*").order("name");if(N)throw N;e(C||[])}catch(C){console.error("Error fetching shipping methods:",C),Se({title:"Error memuat metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}finally{n(!1)}},v=C=>{C?(u(C),a(!0),l(!1),y.reset({name:C.name,carrier:C.carrier,cost:C.cost,estimated_days:C.estimated_days,active:C.active!==void 0?C.active:!0})):(u(null),l(!0),a(!1),y.reset({name:"",carrier:"",cost:0,estimated_days:1,active:!0}))},_=async C=>{try{if(s&&c){const{error:N}=await oe.from("shipping_methods").update({name:C.name,carrier:C.carrier,cost:C.cost,estimated_days:C.estimated_days,active:C.active}).eq("id",c.id);if(N)throw N;Se({title:"Metode pengiriman diperbarui",description:`${C.name} telah diperbarui berhasil.`})}else if(o){const{error:N}=await oe.from("shipping_methods").insert({name:C.name,carrier:C.carrier,cost:C.cost,estimated_days:C.estimated_days,active:C.active});if(N)throw N;Se({title:"Metode pengiriman ditambahkan",description:`${C.name} telah ditambahkan berhasil.`})}a(!1),l(!1),x()}catch(N){console.error("Error saving shipping method:",N),Se({title:"Error menyimpan metode pengiriman",description:N.message||"Silakan coba lagi nanti",variant:"destructive"})}},j=C=>{p(C),f(!0)},S=async()=>{if(m)try{const{error:C}=await oe.from("shipping_methods").delete().eq("id",m.id);if(C)throw C;Se({title:"Metode pengiriman dihapus",description:"Metode pengiriman telah dihapus berhasil."}),f(!1),x()}catch(C){console.error("Error deleting shipping method:",C),Se({title:"Error menghapus metode pengiriman",description:C.message||"Silakan coba lagi nanti",variant:"destructive"})}};return i.jsxs(Bs,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Metode Pengiriman"}),i.jsxs(Z,{onClick:()=>v(),children:[i.jsx(mp,{className:"h-4 w-4 mr-2"}),"Tambah Metode"]})]}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-0",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Nama"}),i.jsx($e,{children:"Kurir"}),i.jsx($e,{children:"Estimasi Jam"}),i.jsx($e,{className:"text-right",children:"Biaya"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:r?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"Memuat metode pengiriman..."})}):t.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"Tidak ada metode pengiriman ditemukan."})}):t.map(C=>i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:C.name}),i.jsx(Ne,{children:C.carrier}),i.jsxs(Ne,{className:"text-center",children:[C.estimated_days," Jam"]}),i.jsx(Ne,{className:"text-right",children:Te(C.cost)}),i.jsxs(Ne,{className:"text-right space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>v(C),children:i.jsx(Ix,{className:"h-4 w-4"})}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>j(C),children:i.jsx(Zv,{className:"h-4 w-4"})})]})]},C.id))})]})})}),i.jsx(hl,{open:s||o,onOpenChange:C=>{C||(a(!1),l(!1))},children:i.jsxs(Eo,{children:[i.jsx(ml,{children:i.jsx(pl,{children:s?"Edit Metode Pengiriman":"Tambah Metode Pengiriman"})}),i.jsx(qs,{...y,children:i.jsxs("form",{onSubmit:y.handleSubmit(_),className:"space-y-6 py-6",children:[i.jsx(at,{control:y.control,name:"name",render:({field:C})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama"}),i.jsx(nt,{children:i.jsx(Ce,{...C})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"carrier",render:({field:C})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kurir"}),i.jsx(nt,{children:i.jsx(Ce,{...C})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"cost",render:({field:C})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Biaya (Rp)"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",step:"0.01",...C,onChange:N=>C.onChange(parseFloat(N.target.value)||0)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"estimated_days",render:({field:C})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Estimasi Jam"}),i.jsx(nt,{children:i.jsx(Ce,{type:"number",...C,onChange:N=>C.onChange(parseInt(N.target.value)||1)})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"active",render:({field:C})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsx("div",{className:"space-y-0.5",children:i.jsx(rt,{children:"Aktif"})}),i.jsx(nt,{children:i.jsx("input",{type:"checkbox",checked:C.value,onChange:N=>C.onChange(N.target.checked),className:"h-4 w-4"})}),i.jsx(lt,{})]})}),i.jsxs(hc,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>{a(!1),l(!1)},children:"Batal"}),i.jsx(Z,{type:"submit",children:"Simpan Metode"})]})]})})]})}),i.jsx(Qr,{open:d,onOpenChange:f,children:i.jsxs(Pr,{children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:"Konfirmasi Penghapusan"}),i.jsx(Es,{children:"Apakah Anda yakin ingin menghapus metode pengiriman ini? Tindakan ini tidak dapat dibatalkan."})]}),i.jsxs(is,{children:[i.jsx(Z,{variant:"outline",onClick:()=>f(!1),children:"Batal"}),i.jsx(Z,{variant:"destructive",onClick:S,children:"Hapus"})]})]})})]})}const A7e=Io({name:Dr().optional(),role:Um(["customer","manager","admin"])});function d7e(){const[t,e]=w.useState([]),[r,n]=w.useState(""),[s,a]=w.useState(!0),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(1),[m,p]=w.useState(10),[y,x]=w.useState(0),v=aa({resolver:ia(A7e),defaultValues:{name:"",role:"customer"}});w.useEffect(()=>{_()},[d,r]);const _=async()=>{a(!0);try{let E=oe.from("profiles").select("*",{count:"exact"});r&&(E=E.or(`name.ilike.%${r}%,email.ilike.%${r}%`));const{data:T,error:P,count:O}=await E.order("created_at",{ascending:!1}).range((d-1)*m,d*m-1);if(P)throw P;e(T),x(O||0)}catch(E){console.error("Error fetching users:",E),Se({title:"Error memuat pengguna",description:E.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},j=E=>{u(E),v.reset({name:E.name||"",role:E.role||"customer"}),l(!0)},S=async E=>{if(c)try{const{error:T}=await oe.from("profiles").update({name:E.name,role:E.role}).eq("id",c.id);if(T)throw T;Se({title:"Pengguna diperbarui",description:"Profil pengguna telah berhasil diperbarui."}),l(!1),_()}catch(T){console.error("Error updating user:",T),Se({title:"Error memperbarui pengguna",description:T.message||"Silakan coba lagi nanti.",variant:"destructive"})}},C=Math.ceil(y/m),N=d>1,k=d<C;return i.jsxs(Bs,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Manajemen Pengguna"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(Ce,{placeholder:"Cari pengguna...",className:"pl-10",value:r,onChange:E=>n(E.target.value)})]})}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-0",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Nama"}),i.jsx($e,{children:"Email"}),i.jsx($e,{children:"Peran"}),i.jsx($e,{children:"Bergabung"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:s?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"Memuat pengguna..."})}):t.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"Tidak ada pengguna ditemukan."})}):t.map(E=>i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:E.name||"N/A"}),i.jsx(Ne,{children:E.email||"N/A"}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${E.role==="admin"?"bg-purple-100 text-purple-800":E.role==="manager"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.role||"customer"})}),i.jsx(Ne,{children:E.created_at?new Date(E.created_at).toLocaleDateString():"N/A"}),i.jsx(Ne,{className:"text-right",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>j(E),children:[i.jsx(xue,{className:"h-4 w-4 mr-2"}),"Kelola"]})})]},E.id))})]})})}),C>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",d," dari ",C]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>f(E=>Math.max(E-1,1)),disabled:!N,children:"Sebelumnya"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>f(E=>Math.min(E+1,C)),disabled:!k,children:"Selanjutnya"})]})]}),i.jsx(hl,{open:o,onOpenChange:l,children:i.jsxs(Eo,{children:[i.jsx(ml,{children:i.jsx(pl,{children:"Edit Pengguna"})}),i.jsx(qs,{...v,children:i.jsxs("form",{onSubmit:v.handleSubmit(S),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pengguna: ",c==null?void 0:c.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Email: ",(c==null?void 0:c.email)||"Tidak Ada"]})]}),i.jsx(at,{control:v.control,name:"name",render:({field:E})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama"}),i.jsx(nt,{children:i.jsx(Ce,{...E,value:E.value||""})}),i.jsx(lt,{})]})}),i.jsx(at,{control:v.control,name:"role",render:({field:E})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Peran"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...E,children:[i.jsx("option",{value:"customer",children:"Pelanggan"}),i.jsx("option",{value:"manager",children:"Manajer"}),i.jsx("option",{value:"admin",children:"Admin"})]})}),i.jsx(lt,{})]})}),i.jsxs(hc,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(Z,{type:"submit",children:"Simpan Perubahan"})]})]})})]})})]})}const f7e=Io({status:Um(["pending","processing","shipped","delivered","canceled"]),tracking_number:Dr().optional()}),$a={receipt:{fontFamily:"system-ui, -apple-system, sans-serif",fontSize:"14px",lineHeight:"1.4",color:"#333",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},receiptHeader:{textAlign:"center",marginBottom:"1rem"},receiptTitle:{fontSize:"1.25rem",fontWeight:"bold",marginBottom:"0.5rem"},receiptStoreInfo:{fontSize:"0.875rem",color:"#555",marginBottom:"0.5rem"},receiptBorder:{borderTop:"1px dashed #ccc",margin:"0.5rem 0"},receiptItem:{display:"flex",justifyContent:"space-between",marginBottom:"0.25rem"},receiptBarcode:{textAlign:"center",margin:"1rem 0",fontSize:"0.875rem",letterSpacing:"2px"},receiptThankYou:{textAlign:"center",margin:"1rem 0",fontWeight:"bold"},receiptFooter:{textAlign:"center",fontSize:"0.75rem",color:"#777",marginTop:"1rem"}};function h7e(){var Fe;const[t,e]=w.useState([]),[r,n]=w.useState(""),[s,a]=w.useState(!0),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[d,f]=w.useState(null),[m,p]=w.useState(1),[y,x]=w.useState(10),[v,_]=w.useState(0),[j,S]=w.useState(!1),[C,N]=w.useState(!1),[k,E]=w.useState(null),[T,P]=w.useState(null),[O,D]=w.useState(null),[M,F]=w.useState(null),[G,W]=w.useState(null),V=w.useRef(null),H=aa({resolver:ia(f7e),defaultValues:{status:"pending",tracking_number:""}});w.useEffect(()=>{Q()},[m,r]);const Q=async()=>{a(!0);try{let ne=oe.from("orders").select("*",{count:"exact"});r&&(ne=ne.ilike("id",`%${r}%`));const{data:ke,error:We,count:ct}=await ne.order("date",{ascending:!1}).range((m-1)*y,m*y-1);if(We)throw We;console.log("Fetched orders:",ke),e(ke),_(ct||0)}catch(ne){console.error("Error fetching orders:",ne),Se({title:"Error memuat pesanan",description:ne.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{a(!1)}},z=ne=>{console.log("Editing order:",ne),f(ne),H.reset({status:ne.status,tracking_number:ne.trackingNumber||""}),l(!0)},q=async ne=>{if(d){u(!0);try{console.log("Updating order with values:",ne);const{error:ke}=await oe.from("orders").update({status:ne.status,tracking_number:ne.tracking_number||null}).eq("id",d.id);if(ke)throw ke;Se({title:"Pesanan diperbarui",description:"Status pesanan telah berhasil diperbarui."}),l(!1),Q()}catch(ke){console.error("Error updating order:",ke),Se({title:"Error memperbarui pesanan",description:ke.message||"Silakan coba lagi nanti.",variant:"destructive"})}finally{u(!1)}}},$=ne=>{switch(ne){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},J=ne=>{switch(ne){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return ne.charAt(0).toUpperCase()+ne.slice(1)}},le=Math.ceil(v/y),ae=m>1,ee=m<le,ue=ar(),xe=ne=>{ue(`/admin/orders/${ne}`)},me=async ne=>{E(ne);try{const{data:ke,error:We}=await oe.from("profiles").select("*").eq("id",ne.user_id).single();if(We?console.warn("Error fetching customer:",We):P(ke),ne.shipping_address_id){const{data:ct,error:ft}=await oe.from("addresses").select("*").eq("id",ne.shipping_address_id).single();!ft&&ct&&D({id:ct.id,name:ct.name,street:ct.street,city:ct.city,state:ct.state,zip:ct.zip,country:ct.country,isDefault:ct.is_default||!1,user_id:ct.user_id,created_at:ct.created_at})}if(ne.shipping_method_id){const{data:ct,error:ft}=await oe.from("shipping_methods").select("*").eq("id",ne.shipping_method_id).single();!ft&&ct&&F(ct)}if(!ne.items||ne.items.length===0){const{data:ct,error:ft}=await oe.from("order_items").select("*").eq("order_id",ne.id);!ft&&ct&&(ne.items=ct.map(Xt=>({id:Xt.id,productId:Xt.product_id,productName:Xt.product_name,quantity:Xt.quantity,price:Xt.price})),E({...ne}))}if(W(null),ne.voucher_id){const{data:ct,error:ft}=await oe.from("vouchers").select("*").eq("id",ne.voucher_id).single();!ft&&ct&&W({code:ct.code,discount_type:ct.discount_type})}S(!0)}catch(ke){console.error("Error fetching order details:",ke),Se({title:"Error",description:"Terjadi kesalahan saat memuat struk pesanan",variant:"destructive"})}},ye=async()=>{if(!(!V.current||!k))try{N(!0);const ne=V.current,We=(await g4(ne,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),ct=document.createElement("a");ct.href=We,ct.download=`Struk-Pesanan-${k.id.substring(0,8)}.png`,ct.click(),Se({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(ne){console.error("Error saving receipt as image:",ne),Se({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{N(!1)}},je=()=>{V.current&&window.print()};return i.jsxs(Bs,{children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h1",{className:"text-xl font-bold mb-4",children:"Manajemen Pesanan"})}),i.jsx("div",{className:"mb-6 flex items-center gap-4",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),i.jsx(Ce,{placeholder:"Cari pesanan...",className:"pl-10",value:r,onChange:ne=>n(ne.target.value)})]})}),i.jsx(Ue,{children:i.jsx(Me,{className:"p-0",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"ID Pesanan"}),i.jsx($e,{children:"Tanggal"}),i.jsx($e,{className:"text-center",children:"Status"}),i.jsx($e,{className:"text-right",children:"Diskon"}),i.jsx($e,{className:"text-right",children:"Total"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:s?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:6,className:"text-center py-8",children:i.jsxs("div",{className:"flex justify-center items-center",children:[i.jsx(UP,{className:"h-6 w-6 animate-spin mr-2"}),"Memuat pesanan..."]})})}):t.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-8",children:"Tidak ada pesanan ditemukan."})}):t.map(ne=>i.jsxs(Ot,{children:[i.jsxs(Ne,{className:"font-medium",children:[ne.id.substring(0,8),"..."]}),i.jsx(Ne,{children:new Date(ne.date).toLocaleDateString()}),i.jsx(Ne,{className:"text-center",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${$(ne.status)}`,children:J(ne.status)})}),i.jsx(Ne,{className:"text-right",children:ne.discount_amount>0?i.jsxs("span",{className:"text-green-600",children:["-",Te(ne.discount_amount)]}):"-"}),i.jsx(Ne,{className:"text-right",children:Te(ne.total)}),i.jsxs(Ne,{className:"text-right",children:[i.jsxs(Z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>z(ne),children:[i.jsx(Ix,{className:"h-4 w-4 mr-1"}),"Edit"]}),i.jsxs(Z,{size:"sm",variant:"outline",className:"mr-2",onClick:()=>me(ne),children:[i.jsx(LP,{className:"h-4 w-4 mr-1"}),"Struk"]}),i.jsxs(Z,{size:"sm",variant:"default",onClick:()=>xe(ne.id),children:[i.jsx(Zce,{className:"h-4 w-4 mr-1"}),"Lihat"]})]})]},ne.id))})]})})}),le>1&&i.jsxs("div",{className:"flex items-center justify-between space-x-2 py-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Halaman ",m," dari ",le]}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p(ne=>Math.max(ne-1,1)),disabled:!ae,children:"Sebelumnya"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>p(ne=>Math.min(ne+1,le)),disabled:!ee,children:"Berikutnya"})]})]}),i.jsx(hl,{open:o,onOpenChange:l,children:i.jsxs(Eo,{children:[i.jsx(ml,{children:i.jsx(pl,{children:"Perbarui Status Pesanan"})}),i.jsx(qs,{...H,children:i.jsxs("form",{onSubmit:H.handleSubmit(q),className:"space-y-6 py-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("p",{className:"text-sm text-gray-500",children:["ID Pesanan: ",d==null?void 0:d.id]}),i.jsxs("p",{className:"text-sm font-medium",children:["Total: ",Te(d==null?void 0:d.total)]}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Tanggal: ",d!=null&&d.date?new Date(d.date).toLocaleDateString("id-ID"):"Tidak Ada"]})]}),i.jsx(at,{control:H.control,name:"status",render:({field:ne})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Status"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...ne,children:[i.jsx("option",{value:"pending",children:"Menunggu"}),i.jsx("option",{value:"processing",children:"Diproses"}),i.jsx("option",{value:"shipped",children:"Dikirim"}),i.jsx("option",{value:"delivered",children:"Diterima"}),i.jsx("option",{value:"canceled",children:"Dibatalkan"})]})}),i.jsx(lt,{})]})}),i.jsx(at,{control:H.control,name:"tracking_number",render:({field:ne})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nomor Resi"}),i.jsx(nt,{children:i.jsx(Ce,{...ne,value:ne.value||""})}),i.jsx(lt,{})]})}),i.jsxs(hc,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Batal"}),i.jsx(Z,{type:"submit",disabled:c,children:c?i.jsxs(i.Fragment,{children:[i.jsx(UP,{className:"h-4 w-4 mr-2 animate-spin"}),"Menyimpan..."]}):"Simpan Perubahan"})]})]})})]})}),k&&i.jsx(Qr,{open:j,onOpenChange:S,children:i.jsxs(Pr,{className:"max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:V,style:$a.receipt,children:[i.jsxs("div",{style:$a.receiptHeader,children:[i.jsx("h2",{style:$a.receiptTitle,children:"Struk Belanja"}),i.jsxs("div",{style:$a.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{style:$a.receiptBorder}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["Pesanan #",k.id.substring(0,8)]})}),i.jsx("p",{children:new Date(k.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),T&&i.jsxs("div",{style:$a.receiptStoreInfo,children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",T.name||"Tidak Ada"]}),i.jsx("p",{children:T.email||"Tidak Ada"}),i.jsx("p",{children:T.phone||"Tidak Ada"})]}),O&&i.jsxs("div",{style:$a.receiptStoreInfo,children:[i.jsx("p",{children:i.jsx("strong",{children:"Dikirim Ke:"})}),i.jsx("p",{children:O.name}),i.jsx("p",{children:O.street}),i.jsx("p",{children:`${O.city}, ${O.state} ${O.zip}`})]}),i.jsx("div",{style:$a.receiptBorder}),i.jsx("div",{style:{margin:"0.5rem 0"},children:k.items&&k.items.map((ne,ke)=>i.jsxs("div",{style:$a.receiptItem,children:[i.jsxs("div",{children:[i.jsx("p",{children:ne.productName}),i.jsxs("p",{children:["Jml: ",ne.quantity," Kg × ",Te(ne.price)]})]}),i.jsx("span",{children:Te(ne.price*ne.quantity)})]},ke))}),i.jsxs("div",{className:"mt-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsx("span",{children:"Subtotal"}),i.jsx("span",{children:Te(((Fe=k.items)==null?void 0:Fe.reduce((ne,ke)=>ne+ke.price*ke.quantity,0))||0)})]}),k.discount_amount>0&&i.jsxs("div",{className:"flex justify-between py-1 text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",G!=null&&G.code?`(${G.code})`:""]}),i.jsxs("span",{children:["-",Te(k.discount_amount)]})]}),M&&i.jsxs("div",{className:"flex justify-between py-1",children:[i.jsxs("span",{children:["Pengiriman (",M.name,")"]}),i.jsx("span",{children:Te(M.cost)})]}),i.jsxs("div",{className:"flex justify-between py-1 font-semibold",children:[i.jsx("span",{children:"Total Yang Harus Di Bayar"}),i.jsx("span",{children:Te(k.total)})]})]}),i.jsx("div",{style:$a.receiptStoreInfo,children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",k.paymentMethod==="bank-transfer"?"Transfer Bank":k.paymentMethod==="qris"?"QRIS":k.paymentMethod==="cod"?"Bayar di Tempat (COD)":"Pembayaran Standar"]})}),i.jsx("div",{style:$a.receiptBarcode,children:i.jsxs("p",{children:["*******",k.id.substring(0,8),"*******"]})}),i.jsx("div",{style:$a.receiptThankYou,children:i.jsx("p",{children:"Silahkan Segera Melakukan Pembayaran Agar Pengiriman Segera Di Proses"})}),i.jsxs("div",{style:$a.receiptFooter,children:[i.jsx("p",{children:"Layanan pelanggan: 0813-9458-6882"}),i.jsx("p",{children:"Jika Arang Belum Di Kirim Silahkan Chat Admin Dan Berikan Struk Bukti Pembayaran"}),i.jsx("p",{children:"Terima kasih"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(Z,{onClick:()=>S(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(Z,{onClick:je,className:"flex-1",children:[i.jsx(Vb,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(Z,{onClick:ye,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:C,children:C?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]})}const m7e={async getCategories(){try{const{data:t,error:e}=await oe.from("expense_categories").select("*").order("name");return{data:t,error:e}}catch(t){return console.error("Error fetching expense categories:",t),{data:null,error:t}}},async addCategory(t){try{t.id||(t.id=ss()),t.created_at||(t.created_at=new Date().toISOString());const{data:e,error:r}=await oe.from("expense_categories").insert(t).select().single();return{data:e,error:r}}catch(e){return console.error("Error adding expense category:",e),{data:null,error:e}}},async getExpenses(t=100,e=0,r){try{let n=oe.from("company_expenses").select(`
          *,
          expense_categories!inner (
            name
          )
        `).order("date",{ascending:!1}).range(e,e+t-1);r&&(r.category_id&&(n=n.eq("category_id",r.category_id)),r.from_date&&(n=n.gte("date",r.from_date)),r.to_date&&(n=n.lte("date",r.to_date)),r.status&&(n=n.eq("status",r.status)),r.search&&(n=n.or(`description.ilike.%${r.search}%,paid_by.ilike.%${r.search}%`)));const{data:s,error:a}=await n;return{data:s==null?void 0:s.map(l=>{var c;return{...l,category_name:(c=l.expense_categories)==null?void 0:c.name}}),error:a}}catch(n){return console.error("Error fetching company expenses:",n),{data:null,error:n}}},async addExpense(t){var e;try{const r=["date","amount","description","category_id","created_by"];for(const o of r)if(!t[o])throw new Error(`Field ${o} wajib diisi`);t.id||(t.id=ss()),t.created_at||(t.created_at=new Date().toISOString()),t.status||(t.status="pending");const{data:n,error:s}=await oe.from("company_expenses").insert(t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(s)throw s;return{data:{...n,category_name:(e=n.expense_categories)==null?void 0:e.name},error:null}}catch(r){return console.error("Error adding company expense:",r),{data:null,error:r}}},async updateExpense(t,e){var r;try{e.updated_at=new Date().toISOString();const{data:n,error:s}=await oe.from("company_expenses").update(e).eq("id",t).select(`
          *,
          expense_categories!inner (
            name
          )
        `).single();if(s)throw s;return{data:{...n,category_name:(r=n.expense_categories)==null?void 0:r.name},error:null}}catch(n){return console.error("Error updating company expense:",n),{data:null,error:n}}},async deleteExpense(t){try{const{error:e}=await oe.from("company_expenses").delete().eq("id",t);if(e)throw e;return{data:null,error:null}}catch(e){return console.error("Error deleting company expense:",e),{data:null,error:e}}},async getMonthlyExpenses(){try{const t=new Date;t.setFullYear(t.getFullYear()-1);const{data:e,error:r}=await oe.from("company_expenses").select("date, amount").gte("date",t.toISOString().split("T")[0]).order("date");if(r)throw r;const n={};return e==null||e.forEach(a=>{const o=new Date(a.date),l=`${o.getFullYear()}-${String(o.getMonth()+1).padStart(2,"0")}`;n[l]||(n[l]=0),n[l]+=a.amount}),{data:Object.entries(n).map(([a,o])=>({month:a,total:o})),error:null}}catch(t){return console.error("Error fetching monthly expenses:",t),{data:null,error:t}}},async getExpensesByCategory(t,e){try{let r=oe.from("company_expenses").select(`
          amount,
          expense_categories!inner (
            id,
            name
          )
        `);t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:s}=await r;if(s)throw s;const a={};return n==null||n.forEach(l=>{const c=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.id:l.category_id,u=typeof l.expense_categories=="object"&&!Array.isArray(l.expense_categories)?l.expense_categories.name:"Uncategorized";a[c]||(a[c]={id:c,name:u,total:0}),a[c].total+=l.amount}),{data:Object.values(a).map(l=>({category:l.name,total:l.total})),error:null}}catch(r){return console.error("Error fetching expenses by category:",r),{data:null,error:r}}},async getTotalExpenses(t,e){try{let r=oe.from("company_expenses").select("amount");t&&(r=r.gte("date",t)),e&&(r=r.lte("date",e));const{data:n,error:s}=await r;if(s)throw s;return{data:(n==null?void 0:n.reduce((o,l)=>o+l.amount,0))||0,error:null}}catch(r){return console.error("Error fetching total expenses:",r),{data:null,error:r}}},async reduceCostFromCancelledOrder(t,e,r){try{const{data:n}=await oe.from("company_expenses").select("*").eq("description",`Order #${t.substring(0,8)}`).single();if(!n)return console.log(`No expenses found for order ${t}`),!0;const s={id:ss(),date:new Date().toISOString().split("T")[0],amount:-Math.abs(r),description:`Pembatalan Order #${t.substring(0,8)}`,category_id:n.category_id,paid_by:"System",payment_method:"Adjustment",status:"approved",created_by:e,created_at:new Date().toISOString(),document_reference:t,notes:`Pengurangan biaya otomatis untuk pesanan #${t.substring(0,8)} yang dibatalkan`},{error:a}=await oe.from("company_expenses").insert(s);return a?(console.error("Error reducing expense for cancelled order:",a),!1):!0}catch(n){return console.error("Error in reduceCostFromCancelledOrder:",n),!1}}};var IU="Switch",[p7e,Wze]=Pa(IU),[g7e,v7e]=p7e(IU),Hie=w.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[m,p]=w.useState(null),y=Ht(e,S=>p(S)),x=w.useRef(!1),v=m?d||!!m.closest("form"):!0,[_=!1,j]=Ri({prop:s,defaultProp:a,onChange:u});return i.jsxs(g7e,{scope:r,checked:_,disabled:l,children:[i.jsx(yt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":o,"data-state":Kie(_),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Ye(t.onClick,S=>{j(C=>!C),v&&(x.current=S.isPropagationStopped(),x.current||S.stopPropagation())})}),v&&i.jsx(y7e,{control:m,bubbles:!x.current,name:n,value:c,checked:_,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});Hie.displayName=IU;var $ie="SwitchThumb",Vie=w.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=v7e($ie,r);return i.jsx(yt.span,{"data-state":Kie(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});Vie.displayName=$ie;var y7e=t=>{const{control:e,checked:r,bubbles:n=!0,...s}=t,a=w.useRef(null),o=Gx(r),l=Ox(e);return w.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const m=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(m)}},[o,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Kie(t){return t?"checked":"unchecked"}var qie=Hie,x7e=Vie;const Fi=w.forwardRef(({className:t,...e},r)=>i.jsx(qie,{className:Ee("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:i.jsx(x7e,{className:Ee("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fi.displayName=qie.displayName;const w7e=t=>{switch(t.toLowerCase()){case"pending":return"Menunggu Pembayaran";case"paid":return"Pembayaran Diterima";case"processing":return"Sedang Diproses";case"shipped":return"Sedang Dikirim";case"delivered":return"Telah Diterima";case"completed":return"Selesai";case"cancelled":return"Dibatalkan";case"refunded":return"Dana Dikembalikan";default:return t}},b7e=(t,e,r,n)=>{const s=t.substring(0,8),a=w7e(e);let o=`*UPDATE STATUS PESANAN*
`;switch(o+=`━━━━━━━━━━━━━━━━━━━━━━

`,o+=`Halo${n?" "+n:""},

`,o+=`Pesanan #${s} Anda ${r?`(${r})`:""} telah diperbarui.

`,o+=`*Status Saat Ini: ${a}*

`,e.toLowerCase()){case"pending":o+=`Silakan segera lakukan pembayaran agar pesanan Anda dapat diproses.
`,o+=`Jika sudah melakukan pembayaran, mohon kirimkan bukti pembayaran kepada kami.
`;break;case"paid":o+=`Terima kasih atas pembayaran Anda! Pesanan Anda akan segera kami proses.
`;break;case"processing":o+=`Pesanan Anda sedang kami proses. Kami akan segera mempersiapkan pengiriman.
`;break;case"shipped":o+=`Pesanan Anda telah dikirim! Anda akan menerima update pengiriman selanjutnya.
`,o+=`Mohon siapkan penerimaan barang di alamat pengiriman yang telah ditentukan.
`;break;case"delivered":o+=`Pesanan Anda telah sampai di tujuan. Silakan konfirmasi penerimaan barang.
`,o+=`Jika ada pertanyaan atau masalah dengan pesanan, segera hubungi kami.
`;break;case"completed":o+=`Terima kasih telah berbelanja di Jaya Perkasa Charcoal! Kami harap Anda puas dengan produk kami.
`,o+=`Silakan berikan ulasan untuk pesanan Anda melalui aplikasi kami.
`;break;case"cancelled":o+=`Pesanan Anda telah dibatalkan. Jika Anda memiliki pertanyaan atau ingin membuat pesanan baru, silakan hubungi kami.
`;break;case"refunded":o+=`Dana untuk pesanan Anda telah dikembalikan. Proses pengembalian dana membutuhkan waktu 1-3 hari kerja tergantung bank Anda.
`;break}return o+=`
Untuk informasi lebih lanjut atau bantuan, silakan hubungi layanan pelanggan kami:
`,o+=`Telp/WA: 0813-9458-6882

`,o+=`Terima kasih telah berbelanja di
*JAYA PERKASA CHARCOAL*`,o},_7e=async(t,e)=>{try{const{data:r,error:n}=await oe.from("orders").select("user_id, created_at").eq("id",t).single();if(n||!r)return console.error("Error fetching order data:",n),!1;const{data:s,error:a}=await oe.from("profiles").select("name, phone, email").eq("id",r.user_id).single();if(a||!s||!s.phone)return console.error("Error fetching customer data or no phone number:",a),!1;const o=r.created_at?new Date(r.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):void 0,l=b7e(t,e,o,s.name);return console.log(`Sending order status update (${e}) WhatsApp to customer:`,s.phone),await zx(s.phone,l)}catch(r){return console.error("Error sending status update via WhatsApp:",r),!1}};class J7{static async updateOrderStatus(e,r,n=!0){try{const{data:s,error:a}=await oe.from("orders").update({status:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)return console.error("Error updating order status:",a),{success:!1,message:"Gagal mengupdate status pesanan",error:a};if(console.log(`Order ${e} status updated to ${r}`),n)try{const o=await _7e(e,r);console.log(`WhatsApp notification for order ${e} status update: ${o?"sent":"failed"}`)}catch(o){console.error("Error sending WhatsApp notification:",o)}return{success:!0,message:`Status pesanan berhasil diupdate menjadi ${r}`}}catch(s){return console.error("Unexpected error updating order status:",s),{success:!1,message:"Terjadi kesalahan saat mengupdate status pesanan",error:s}}}static async getOrderStatusHistory(e){try{const{data:r,error:n}=await oe.from("order_status_history").select("*").eq("order_id",e).order("created_at",{ascending:!1});return n?(console.error("Error fetching order status history:",n),{success:!1,data:null,error:n}):{success:!0,data:r,error:null}}catch(r){return console.error("Unexpected error fetching status history:",r),{success:!1,data:null,error:r}}}static async recordStatusChange(e,r,n,s,a){try{const{error:o}=await oe.from("order_status_history").insert({order_id:e,old_status:r,new_status:n,admin_id:s,notes:a||null,created_at:new Date().toISOString()});o&&console.error("Error recording status change history:",o)}catch(o){console.error("Unexpected error recording status change:",o)}}}const j7e=(t=!0)=>({updateStatus:async(r,n,s,a,o)=>{const{sendWhatsApp:l=!0,notes:c}=o||{};try{const u=await J7.updateOrderStatus(r,s,l);return u.success?(await J7.recordStatusChange(r,n,s,a,c),t&&Se({title:"Status Pesanan Diperbarui",description:`Pesanan #${r.substring(0,8)} telah diubah menjadi ${s}`}),{success:!0,data:u}):(t&&Se({title:"Gagal Memperbarui Status",description:u.message,variant:"destructive"}),{success:!1,error:u.error})}catch(u){return console.error("Error in updateStatus hook:",u),t&&Se({title:"Terjadi Kesalahan",description:"Gagal memperbarui status pesanan",variant:"destructive"}),{success:!1,error:u}}}}),C7e=hp("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),zie=w.forwardRef(({className:t,variant:e,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:Ee(C7e({variant:e}),t),...r}));zie.displayName="Alert";const Gie=w.forwardRef(({className:t,...e},r)=>i.jsx("h5",{ref:r,className:Ee("mb-1 font-medium leading-none tracking-tight",t),...e}));Gie.displayName="AlertTitle";const Wie=w.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:Ee("text-sm [&_p]:leading-relaxed",t),...e}));Wie.displayName="AlertDescription";const TP=[{value:"pending",label:"Menunggu Pembayaran"},{value:"paid",label:"Pembayaran Diterima"},{value:"processing",label:"Sedang Diproses"},{value:"shipped",label:"Sedang Dikirim"},{value:"delivered",label:"Telah Diterima"},{value:"completed",label:"Selesai"},{value:"cancelled",label:"Dibatalkan"},{value:"refunded",label:"Dana Dikembalikan"}],B7e=t=>{switch(t){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"paid":return"bg-green-100 text-green-800 border-green-300";case"processing":return"bg-blue-100 text-blue-800 border-blue-300";case"shipped":return"bg-purple-100 text-purple-800 border-purple-300";case"delivered":return"bg-indigo-100 text-indigo-800 border-indigo-300";case"completed":return"bg-green-100 text-green-800 border-green-300";case"cancelled":return"bg-red-100 text-red-800 border-red-300";case"refunded":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};function E7e({orderId:t,currentStatus:e,adminId:r,onStatusUpdated:n}){var _;const[s,a]=w.useState(e),[o,l]=w.useState(!0),[c,u]=w.useState(""),[d,f]=w.useState(!1),[m,p]=w.useState(null),{updateStatus:y}=j7e(),x=j=>{a(j),p(null)},v=async()=>{var j,S;if(!r){p({type:"error",message:"ID Admin tidak ditemukan. Silakan login kembali."});return}if(s===e){p({type:"error",message:"Status yang dipilih sama dengan status saat ini."});return}f(!0),p(null);try{const C=await y(t,e,s,r,{notes:c.trim()||void 0,sendWhatsApp:o});C.success?(p({type:"success",message:`Status pesanan berhasil diperbarui menjadi ${((j=TP.find(N=>N.value===s))==null?void 0:j.label)||s}${o?" dan notifikasi WhatsApp telah dikirim ke pelanggan":""}.`}),n&&n(s)):p({type:"error",message:`Gagal memperbarui status: ${((S=C.error)==null?void 0:S.message)||"Terjadi kesalahan."}`})}catch(C){p({type:"error",message:`Error: ${C.message||"Terjadi kesalahan yang tidak diketahui."}`})}finally{f(!1)}};return i.jsxs(Ue,{className:"w-full shadow-sm",children:[i.jsxs(Nt,{children:[i.jsx(Tt,{className:"text-lg",children:"Update Status Pesanan"}),i.jsx(Rr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsxs(Me,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"current-status",className:"text-sm font-medium mb-1 block",children:"Status Saat Ini"}),i.jsx("div",{id:"current-status",className:`px-3 py-2 rounded-md border text-sm ${B7e(e)}`,children:((_=TP.find(j=>j.value===e))==null?void 0:_.label)||e})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ze,{htmlFor:"new-status",className:"text-sm font-medium",children:"Status Baru"}),i.jsxs(Us,{value:s,onValueChange:x,disabled:d,children:[i.jsx(ys,{id:"new-status",className:"w-full",children:i.jsx(Ms,{placeholder:"Pilih status baru"})}),i.jsx(xs,{children:TP.map(j=>i.jsx(Lt,{value:j.value,disabled:j.value===e,children:j.label},j.value))})]})]}),i.jsxs("div",{className:"space-y-1.5",children:[i.jsx(ze,{htmlFor:"status-notes",className:"text-sm font-medium",children:"Catatan (Opsional)"}),i.jsx(iA,{id:"status-notes",placeholder:"Tambahkan catatan tentang perubahan status ini",value:c,onChange:j=>u(j.target.value),disabled:d,className:"resize-none",rows:2})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{id:"send-whatsapp",checked:o,onCheckedChange:l,disabled:d}),i.jsx(ze,{htmlFor:"send-whatsapp",className:"cursor-pointer",children:"Kirim notifikasi WhatsApp ke pelanggan"})]}),m&&i.jsxs(zie,{variant:m.type==="success"?"default":"destructive",className:m.type==="success"?"bg-green-50 border-green-200":"",children:[m.type==="success"?i.jsx(zce,{className:"h-4 w-4"}):i.jsx(Jv,{className:"h-4 w-4"}),i.jsx(Gie,{children:m.type==="success"?"Berhasil":"Terjadi Kesalahan"}),i.jsx(Wie,{children:m.message})]})]}),i.jsx(ki,{children:i.jsx(Z,{onClick:v,disabled:d||s===e,className:"w-full",children:d?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qz,{className:"mr-2 h-4 w-4"}),"Update Status & Kirim Notifikasi"]})})})]})}function S7e(){const{id:t}=Dx(),e=ar(),r=w.useRef(null),[n,s]=w.useState(null),[a,o]=w.useState(null),[l,c]=w.useState(null),[u,d]=w.useState(null),[f,m]=w.useState(!0),[p,y]=w.useState(!1),[x,v]=w.useState(null),[_,j]=w.useState(!1),[S,C]=w.useState(""),[N,k]=w.useState(!1),[E,T]=w.useState(!1),[P,O]=w.useState(null);w.useEffect(()=>{if(!t)return;D(),(async()=>{const{data:{session:Q}}=await oe.auth.getSession();Q!=null&&Q.user&&C(Q.user.id)})()},[t]);const D=async()=>{try{m(!0);const{data:H,error:Q}=await oe.from("orders").select(`
          *,
          order_items(*)
        `).eq("id",t).single();if(Q)throw Q;const{data:z,error:q}=await oe.from("profiles").select("*").eq("id",H.user_id).single();if(q?console.warn("Error fetching customer:",q):o(z),H.shipping_address_id){const{data:ue,error:xe}=await oe.from("addresses").select("*").eq("id",H.shipping_address_id).single();!xe&&ue&&c({id:ue.id,name:ue.name,street:ue.street,city:ue.city,state:ue.state,zip:ue.zip,country:ue.country,isDefault:ue.is_default||!1,user_id:ue.user_id,created_at:ue.created_at})}if(H.shipping_method_id){const{data:ue,error:xe}=await oe.from("shipping_methods").select("*").eq("id",H.shipping_method_id).single();!xe&&ue&&d(ue)}if(H.payment_details&&H.payment_details.includes("notes:"))try{const ue=H.payment_details.match(/notes:(.*)/);ue&&ue[1]&&v(ue[1].trim())}catch(ue){console.error("Error parsing notes:",ue)}const $=ue=>["pending","processing","shipped","delivered","canceled"].includes(ue),J=ue=>ue===null||["pending","assigned","picked_up","delivered","failed"].includes(ue),le=H.status,ae=H.delivery_status,ee={id:H.id,date:H.date,status:$(le)?le:"pending",total:H.total,paymentMethod:H.payment_method,trackingNumber:H.tracking_number,shipping_address_id:H.shipping_address_id,shipping_method_id:H.shipping_method_id,user_id:H.user_id,delivery_status:J(ae)?ae:"pending",courier_id:H.courier_id,voucher_id:H.voucher_id,discount_amount:H.discount_amount||0,items:H.order_items.map(ue=>({id:ue.id,productId:ue.product_id,productName:ue.product_name,quantity:ue.quantity,price:ue.price,order_id:ue.order_id}))};if(H.voucher_id){const{data:ue,error:xe}=await oe.from("vouchers").select("*").eq("id",H.voucher_id).single();!xe&&ue&&O({code:ue.code,discount_type:ue.discount_type})}s(ee)}catch(H){console.error("Error fetching order:",H),Se({title:"Error memuat pesanan",description:H.message||"Silakan coba lagi nanti.",variant:"destructive"}),e("/admin/orders")}finally{m(!1)}},M=async()=>{if(r.current)try{j(!0),p||(y(!0),await new Promise($=>setTimeout($,500)));const H=r.current,z=(await g4(H,{scale:2,backgroundColor:"#ffffff",logging:!1,useCORS:!0,allowTaint:!0})).toDataURL("image/png"),q=document.createElement("a");q.href=z,q.download=`Struk-Pesanan-${n==null?void 0:n.id.substring(0,8)}.png`,q.click(),Se({title:"Struk Berhasil Disimpan",description:"Struk pesanan telah disimpan sebagai gambar",variant:"default"})}catch(H){console.error("Error saving receipt as image:",H),Se({title:"Gagal Menyimpan Struk",description:"Terjadi kesalahan saat menyimpan struk sebagai gambar",variant:"destructive"})}finally{j(!1)}},F=()=>{r.current&&(y(!0),setTimeout(()=>{const H=r.current;if(!H)return;const Q=window.open("","_blank");if(!Q){Se({title:"Gagal membuka jendela cetak",description:"Mohon izinkan popup untuk situs ini",variant:"destructive"});return}const z=H.innerHTML;Q.document.write(`
        <style>
          @media print {
            body {
              font-family: system-ui, sans-serif;
              padding: 20px;
              max-width: 300px;
              margin: 0 auto;
            }
            .receipt-header { 
              text-align: center;
              margin-bottom: 10px;
            }
            .receipt-items {
              border-top: 1px dashed #ccc;
              border-bottom: 1px dashed #ccc;
              padding: 10px 0;
              margin: 10px 0;
            }
            .receipt-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 5px;
            }
            .receipt-total {
              font-weight: bold;
              display: flex;
              justify-content: space-between;
              margin-top: 10px;
            }
            .receipt-footer {
              text-align: center;
              margin-top: 20px;
              font-size: 12px;
            }
            .receipt-logo {
              max-width: 100px;
              margin: 0 auto 10px;
              display: block;
            }
            .receipt-store-info {
              text-align: center;
              font-size: 12px;
              margin-bottom: 15px;
            }
            .receipt-border {
              border-top: 1px dashed #ccc;
              margin: 10px 0;
            }
            .receipt-payment-info {
              font-size: 12px;
              margin-top: 10px;
            }
            .receipt-customer-info {
              font-size: 12px;
              margin-top: 10px;
              margin-bottom: 10px;
            }
            .receipt-barcode {
              text-align: center;
              margin-top: 15px;
              font-size: 10px;
            }
            .receipt-thank-you {
              text-align: center;
              margin-top: 15px;
              font-weight: bold;
            }
          }
        </style>
        ${z}
      `),Q.print(),y(!1)},500))},G=async()=>{if(!(!n||!t))try{T(!0);const{error:H}=await oe.from("orders").update({status:"canceled"}).eq("id",t);if(H)throw H;const Q=await oe.auth.getUser().then(({data:z})=>{var q;return((q=z.user)==null?void 0:q.id)||"system"});if(n.items&&n.items.length>0){await fd.restoreStockFromCancelledOrder(n.id,n.items.map(q=>({productName:q.productName,quantity:q.quantity})),Q);const z=n.total||n.items.reduce((q,$)=>q+$.price*$.quantity,0);await m7e.reduceCostFromCancelledOrder(n.id,Q,z)}s({...n,status:"canceled"}),Se({title:"Pesanan Dibatalkan",description:"Pesanan telah berhasil dibatalkan dan stok telah dikembalikan."})}catch(H){console.error("Error canceling order:",H),Se({title:"Gagal Membatalkan Pesanan",description:H.message||"Terjadi kesalahan saat membatalkan pesanan.",variant:"destructive"})}finally{T(!1),k(!1)}},W=H=>{switch(H){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"canceled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},V=H=>{if(!H)return"";switch(H){case"pending":return"Menunggu";case"processing":return"Diproses";case"shipped":return"Dikirim";case"delivered":return"Diterima";case"canceled":return"Dibatalkan";default:return H.charAt(0).toUpperCase()+H.slice(1)}};return f?i.jsx(Bs,{children:i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx(UP,{className:"h-8 w-8 animate-spin text-gray-500"}),i.jsx("span",{className:"ml-2 text-lg text-gray-500",children:"Memuat detail pesanan..."})]})}):n?i.jsxs(Bs,{children:[i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs(Z,{variant:"outline",size:"sm",onClick:()=>e("/admin/orders"),children:[i.jsx(wo,{className:"h-4 w-4 mr-2"}),"Kembali ke Pesanan"]}),i.jsxs(Z,{variant:"outline",onClick:F,className:"ml-2",children:[i.jsx(Vb,{className:"mr-2 h-4 w-4"}),"Cetak Struk"]}),i.jsxs(Z,{variant:"outline",onClick:M,className:"ml-2 bg-green-600 hover:bg-green-700 text-white",disabled:_,children:[_?i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Simpan Struk"]}),i.jsxs("h1",{className:"text-2xl font-bold",children:["Pesanan #",t]})]}),i.jsxs("div",{className:"flex items-center",children:[n&&n.status!=="canceled"&&i.jsxs(Z,{variant:"destructive",onClick:()=>k(!0),className:"mr-2",disabled:n.status==="delivered",children:[i.jsx(sL,{className:"h-4 w-4 mr-2"}),"Batalkan Pesanan"]}),i.jsxs(Z,{onClick:F,className:"bg-flame-500 hover:bg-flame-600",children:[i.jsx(Vb,{className:"h-4 w-4 mr-2"}),"Cetak Struk"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{className:"text-lg",children:"Status Pesanan"}),i.jsx(Rr,{children:"Perbarui status pesanan dan kirim notifikasi WhatsApp ke pelanggan"})]}),i.jsx(Me,{children:i.jsx(E7e,{orderId:n.id,currentStatus:n.status,adminId:S,onStatusUpdated:H=>{s({...n,status:H})}})})]}),i.jsxs(Ue,{className:"md:col-span-2",children:[i.jsxs(Nt,{children:[i.jsx(Tt,{className:"text-lg flex items-center",children:"Ringkasan Pesanan"}),i.jsxs(Rr,{children:["ID Pesanan: ",n==null?void 0:n.id,n&&i.jsx(qt,{className:`ml-2 ${W(n.status)}`,children:V(n.status)})]}),i.jsxs(Rr,{children:["Tanggal: ",n?new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]}),(n==null?void 0:n.trackingNumber)&&i.jsxs(Rr,{children:["Nomor Resi: ",n.trackingNumber]})]}),i.jsxs(Me,{children:[i.jsxs("div",{className:"space-y-1 mb-6",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Daftar Pesanan"}),i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Produk"}),i.jsx($e,{children:"Jumlah"}),i.jsx($e,{className:"text-right",children:"Harga"}),i.jsx($e,{className:"text-right",children:"Subtotal"})]})}),i.jsxs(_s,{children:[(n==null?void 0:n.items)&&n.items.map(H=>i.jsxs(Ot,{children:[i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"h-10 w-10 bg-charcoal-100 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(cc,{className:"h-5 w-5 text-charcoal-400"})}),i.jsx("span",{children:H.productName})]})}),i.jsx(Ne,{children:H.quantity}),i.jsx(Ne,{className:"text-right",children:Te(H.price)}),i.jsx(Ne,{className:"text-right",children:Te(H.quantity*H.price)})]},H.id)),i.jsxs(Ot,{children:[i.jsx(Ne,{colSpan:2}),i.jsx(Ne,{className:"font-medium text-right",children:"Subtotal:"}),i.jsx(Ne,{className:"font-medium text-right",children:n?Te(n.items.reduce((H,Q)=>H+Q.price*Q.quantity,0)):""})]}),(n==null?void 0:n.discount_amount)>0&&i.jsxs(Ot,{children:[i.jsx(Ne,{colSpan:2}),i.jsx(Ne,{className:"font-medium text-right text-green-600",children:"Diskon Voucher:"}),i.jsxs(Ne,{className:"font-medium text-right text-green-600",children:["-",Te(n.discount_amount)]})]}),u&&i.jsxs(Ot,{children:[i.jsx(Ne,{colSpan:2}),i.jsxs(Ne,{className:"font-medium text-right",children:["Pengiriman (",u.name,"):"]}),i.jsx(Ne,{className:"font-medium text-right",children:Te(u.cost)})]}),i.jsxs(Ot,{children:[i.jsx(Ne,{colSpan:2}),i.jsx(Ne,{className:"font-bold text-right",children:"Total:"}),i.jsx(Ne,{className:"font-bold text-right",children:n?Te(n.total):""})]})]})]})]}),x&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Catatan Pelanggan"}),i.jsx("div",{className:"text-sm text-gray-500 italic",children:x})]})]})]}),i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsx(Tt,{className:"text-lg",children:"Informasi Pelanggan"})}),i.jsx(Me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Pelanggan"}),i.jsx("p",{children:(a==null?void 0:a.name)||"N/A"}),i.jsx("p",{children:(a==null?void 0:a.email)||"N/A"}),i.jsx("p",{children:(a==null?void 0:a.phone)||"N/A"})]}),i.jsx(Ks,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Alamat Pengiriman"}),l?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`}),i.jsx("p",{children:l.country})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada alamat yang diberikan"})]}),i.jsx(Ks,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pembayaran"}),i.jsx("p",{children:n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":n.paymentMethod||"Pembayaran Standar"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsx(Ks,{}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-2",children:"Metode Pengiriman"}),i.jsxs("p",{children:[u.name," - ",u.carrier]}),i.jsxs("p",{children:["Perkiraan waktu pengiriman: ",u.estimated_days," Jam"]}),i.jsx("p",{className:"font-medium",children:Te(u.cost)})]})]})]})})]})]})]}),i.jsx(Qr,{open:N,onOpenChange:k,children:i.jsxs(Pr,{className:"max-w-md",children:[i.jsxs(Kr,{children:[i.jsx(qr,{className:"text-center",children:"Konfirmasi Pembatalan"}),i.jsxs(Es,{className:"text-center pt-4",children:["Apakah Anda yakin ingin membatalkan pesanan ini?",i.jsxs("div",{className:"mt-2 p-3 bg-red-50 text-red-700 rounded-md flex items-center",children:[i.jsx(Sj,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Stok arang akan dikembalikan secara otomatis."})]})]})]}),i.jsxs(is,{className:"flex flex-row justify-between mt-4",children:[i.jsx(Z,{variant:"outline",onClick:()=>k(!1),disabled:E,children:"Batal"}),i.jsx(Z,{variant:"destructive",onClick:G,disabled:E,children:E?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"h-4 w-4 mr-2 animate-spin"}),"Membatalkan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(sL,{className:"h-4 w-4 mr-2"}),"Ya, Batalkan Pesanan"]})})]})]})}),i.jsx(Qr,{open:p,onOpenChange:y,children:i.jsxs(Pr,{className:"max-w-md",children:[i.jsx(Kr,{children:i.jsx(qr,{className:"text-center",children:"Struk Pesanan"})}),i.jsxs("div",{ref:r,className:"p-4",children:[i.jsxs("div",{className:"receipt-header",children:[i.jsx("h2",{className:"text-xl font-bold mb-1",children:"Struk Belanja"}),i.jsxs("div",{className:"receipt-store-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Jaya Perkasa Charcoal"})}),i.jsx("p",{children:"Jl.legok conggeang kec.paseh , sumedang"}),i.jsx("p",{children:"Telp: 0813-9458-6882"})]}),i.jsx("div",{className:"receipt-border"}),i.jsx("p",{className:"mt-3 mb-1",children:i.jsxs("strong",{children:["ID Pesanan #",n.id.substring(0,8)]})}),i.jsx("p",{children:new Date(n.date).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),a&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Pelanggan:"})," ",a.name||"Tidak Ada"]}),i.jsx("p",{children:a.email||"Tidak Ada"}),i.jsx("p",{children:a.phone||"Tidak Ada"})]}),l&&i.jsxs("div",{className:"receipt-customer-info",children:[i.jsx("p",{children:i.jsx("strong",{children:"Alamat Pengiriman:"})}),i.jsx("p",{children:l.name}),i.jsx("p",{children:l.street}),i.jsx("p",{children:`${l.city}, ${l.state} ${l.zip}`})]}),i.jsxs("table",{className:"w-full mt-4 mb-3",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left",children:"Item"}),i.jsx("th",{className:"text-center",children:"Jml"}),i.jsx("th",{className:"text-right",children:"Harga"}),i.jsx("th",{className:"text-right",children:"Total"})]})}),i.jsx("tbody",{children:n.items.map(H=>i.jsxs("tr",{children:[i.jsx("td",{className:"text-left",children:H.productName}),i.jsxs("td",{className:"text-center",children:[H.quantity,"x"]}),i.jsx("td",{className:"text-right",children:Te(H.price)}),i.jsx("td",{className:"text-right",children:Te(H.price*H.quantity)})]},H.id))})]}),i.jsx("div",{className:"receipt-border"}),i.jsxs("div",{className:"receipt-totals",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:Te(n.items.reduce((H,Q)=>H+Q.price*Q.quantity,0))})]}),n.discount_amount>0&&i.jsxs("div",{className:"flex justify-between text-green-600",children:[i.jsxs("span",{children:["Diskon Voucher ",P!=null&&P.code?`(${P.code})`:"",":"]}),i.jsxs("span",{children:["-",Te(n.discount_amount)]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal sebelum diskon:"}),i.jsx("span",{children:Te(n.items.reduce((H,Q)=>H+Q.price*Q.quantity,0)+n.discount_amount)})]}),u&&i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Pengiriman (",u.name,"):"]}),i.jsx("span",{children:Te(u.cost)})]}),i.jsxs("div",{className:"flex justify-between font-bold mt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:Te(n.total)})]})]}),i.jsx("div",{className:"receipt-payment-info",children:i.jsxs("p",{children:[i.jsx("strong",{children:"Metode Pembayaran:"})," ",n.paymentMethod==="bank-transfer"?"Transfer Bank":n.paymentMethod==="qris"?"QRIS":n.paymentMethod==="cod"?"Bayar di Tempat":"Pembayaran Standar"]})}),i.jsx("div",{className:"receipt-barcode",children:i.jsxs("p",{children:["*******",n.id.substring(0,8),"*******"]})}),i.jsx("div",{className:"receipt-thank-you",children:i.jsx("p",{children:"Terima kasih atas pembelian Anda!"})}),i.jsxs("div",{className:"receipt-footer",children:[i.jsx("p",{children:"Untuk layanan pelanggan: support@example.com"}),i.jsx("p",{children:"Simpan struk ini untuk pengembalian atau penukaran"}),i.jsx("p",{children:"Pengembalian diterima dalam 24 jam setelah pembelian"})]}),i.jsxs("div",{className:"flex gap-2 mt-6",children:[i.jsx(Z,{onClick:()=>y(!1),variant:"outline",className:"flex-1",children:"Tutup"}),i.jsxs(Z,{onClick:()=>window.print(),className:"flex-1",children:[i.jsx(Vb,{className:"mr-2 h-4 w-4"}),"Cetak"]}),i.jsx(Z,{onClick:M,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pu,{className:"mr-2 h-4 w-4"}),"Simpan"]})})]})]})]})})]}):i.jsx(Bs,{children:i.jsx("div",{className:"p-4",children:i.jsx(Ue,{className:"w-full",children:i.jsx(Me,{className:"pt-6",children:i.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"Pesanan tidak ditemukan"}),i.jsx(Z,{onClick:()=>e("/admin/orders"),className:"bg-flame-500 hover:bg-flame-600",children:"Kembali ke Pesanan"})]})})})})})}function N7e(){const[t,e]=w.useState("month"),[r,n]=w.useState(!0),[s,a]=w.useState({totalSales:0,orderCount:0,averageOrderValue:0,topProducts:[],recentOrders:[]}),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[m,p]=w.useState(!1);w.useEffect(()=>{x()},[t]);const y=v=>{p(!0);try{let _="",j="";v==="orders"?(_=`ID Pesanan,Tanggal,Status,Total
`,d.forEach(k=>{_+=`"${k.id}","${new Date(k.date).toLocaleDateString()}","${k.status}","${k.total}"
`}),j="pesanan_export.csv"):v==="products"?(_=`Produk,Jumlah Terjual
`,c.forEach(k=>{_+=`"${k.name}","${k.total}"
`}),j="produk_terlaris_export.csv"):(_=`Tanggal,Total Penjualan
`,o.forEach(k=>{_+=`"${k.date}","${k.total}"
`}),j="penjualan_harian_export.csv");const S=new Blob([_],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(S),N=document.createElement("a");N.href=C,N.setAttribute("download",j),document.body.appendChild(N),N.click(),document.body.removeChild(N)}catch(_){console.error("Error exporting data:",_)}finally{p(!1)}},x=async()=>{n(!0);try{const v=new Date;let _=new Date;t==="week"?_.setDate(v.getDate()-7):t==="month"?_.setMonth(v.getMonth()-1):_.setFullYear(v.getFullYear()-1);const j=_.toISOString(),{data:S,error:C}=await oe.from("orders").select("*").gte("date",j).order("date",{ascending:!1});if(C)throw C;const N=(S==null?void 0:S.reduce((Q,z)=>Q+Number(z.total),0))||0,k=(S==null?void 0:S.length)||0,E=k>0?N/k:0,T=(S==null?void 0:S.slice(0,5))||[],{data:P,error:O}=await oe.from("order_items").select("product_id, product_name, quantity").in("order_id",(S==null?void 0:S.map(Q=>Q.id))||[]);if(O)throw O;const D=new Map;P==null||P.forEach(Q=>{const z=D.get(Q.product_id);z?z.quantity+=Q.quantity:D.set(Q.product_id,{productId:Q.product_id,productName:Q.product_name,quantity:Q.quantity})});const M=Array.from(D.values()).sort((Q,z)=>z.quantity-Q.quantity).slice(0,5),F=new Map;S==null||S.forEach(Q=>{const z=new Date(Q.date).toLocaleDateString(),q=F.get(z)||0;F.set(z,q+Number(Q.total))});const G=Array.from(F.entries()).map(([Q,z])=>({date:Q,total:z})).sort((Q,z)=>new Date(Q.date).getTime()-new Date(z.date).getTime());f(S||[]);const{data:W}=await oe.from("products").select("id, name").in("id",M.map(Q=>Q.productId)||[]),V=new Map;W==null||W.forEach(Q=>V.set(Q.id,Q.name));const H=M.map(Q=>({name:Q.productName.length>15?Q.productName.substring(0,15)+"...":Q.productName,total:Q.quantity}));a({totalSales:N,orderCount:k,averageOrderValue:E,topProducts:M,recentOrders:T}),l(G),u(H)}catch(v){console.error("Error fetching analytics data:",v)}finally{n(!1)}};return i.jsxs(Bs,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Dasbor Analitik"}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("select",{value:t,onChange:v=>e(v.target.value),className:"px-3 py-2 border rounded-md",children:[i.jsx("option",{value:"week",children:"7 Hari Terakhir"}),i.jsx("option",{value:"month",children:"30 Hari Terakhir"}),i.jsx("option",{value:"year",children:"Tahun Terakhir"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[i.jsxs(Ue,{children:[i.jsx(Nt,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Total Penjualan"})}),i.jsx(Me,{children:i.jsx("div",{className:"text-2xl font-bold",children:Te(s.totalSales)})})]}),i.jsxs(Ue,{children:[i.jsx(Nt,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Pesanan"})}),i.jsxs(Me,{children:[i.jsx("p",{className:"text-xs text-gray-500",children:"Pengguna dengan pesanan"}),i.jsx("div",{className:"text-2xl font-bold",children:s.orderCount})]})]}),i.jsxs(Ue,{children:[i.jsx(Nt,{className:"pb-2",children:i.jsx(Tt,{className:"text-sm font-medium",children:"Nilai Pesanan Rata-rata"})}),i.jsx(Me,{children:i.jsx("div",{className:"text-2xl font-bold",children:Te(s.averageOrderValue)})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(Tt,{children:"Penjualan Bulanan"}),i.jsxs(Z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>y("sales"),disabled:m||r,children:[i.jsx(Pu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Me,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(Zqe,{data:o,index:"date",categories:["total"],colors:["#FF7E47"],valueFormatter:v=>Te(v),yAxisWidth:60})})})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(Tt,{children:"Produk Terlaris"}),i.jsxs(Z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>y("products"),disabled:m||r,children:[i.jsx(Pu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Me,{children:i.jsx("div",{className:"h-80",children:r?i.jsx("div",{className:"h-full flex items-center justify-center",children:"Loading..."}):i.jsx(Qie,{data:c,index:"name",categories:["total"],colors:["#FF7E47"],valueFormatter:v=>`${v} units`,yAxisWidth:60})})})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{className:"flex flex-row items-center justify-between",children:[i.jsx(Tt,{children:"Pesanan Terbaru"}),i.jsxs(Z,{size:"sm",variant:"outline",className:"h-8 gap-1",onClick:()=>y("orders"),disabled:m||r,children:[i.jsx(Pu,{className:"h-4 w-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]}),i.jsx(Me,{children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{className:"w-[100px]",children:"ID Pesanan"}),i.jsx($e,{children:"Pelanggan"}),i.jsx($e,{children:"Tanggal"}),i.jsx($e,{children:"Status"}),i.jsx($e,{className:"text-right",children:"Jumlah"})]})}),i.jsx(_s,{children:r?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:5,className:"text-center py-4",children:"Loading..."})}):s.recentOrders.length===0?i.jsx(Ot,{children:i.jsx(Ne,{colSpan:4,className:"text-center py-4",children:"No orders found."})}):s.recentOrders.map(v=>i.jsxs(Ot,{children:[i.jsxs(Ne,{className:"font-medium",children:[v.id.substring(0,8),"..."]}),i.jsx(Ne,{children:new Date(v.date).toLocaleDateString()}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${v.status==="pending"?"bg-yellow-100 text-yellow-800":v.status==="processing"?"bg-blue-100 text-blue-800":v.status==="shipped"?"bg-purple-100 text-purple-800":v.status==="delivered"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})}),i.jsx(Ne,{className:"text-right",children:Te(v.total)})]},v.id))})]})})]})]})}function T7e(){const[t,e]=w.useState(!1),[r,n]=w.useState(""),[s,a]=w.useState(75e4),[o,l]=w.useState(!0),[c,u]=w.useState([]),[d,f]=w.useState(null);w.useEffect(()=>{(()=>{if(!("Notification"in window)){f(null);return}f(Notification.permission)})()},[]),w.useEffect(()=>{(async()=>{const{data:x}=await oe.from("products").select("id, name, price").limit(5);x&&x.length>0?u(x):u([{id:ss(),name:"Coal Type A Premium",price:25e4},{id:ss(),name:"Coal Type B Standard",price:18e4},{id:ss(),name:"Coal Type C Economy",price:12e4}])})()},[]);const m=async()=>{if(!("Notification"in window))return Se({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),!1;try{const y=await Notification.requestPermission();return f(y),y==="granted"?(Se({title:"Sukses",description:"Izin notifikasi diberikan"}),!0):(Se({title:"Peringatan",description:"Izin notifikasi ditolak. Notifikasi tidak akan ditampilkan.",variant:"destructive"}),!1)}catch(y){return console.error("Error requesting notification permission:",y),Se({title:"Error",description:"Gagal meminta izin notifikasi",variant:"destructive"}),!1}},p=async()=>{if(e(!0),!("Notification"in window)){Se({title:"Error",description:"Browser Anda tidak mendukung notifikasi",variant:"destructive"}),e(!1);return}if(d!=="granted"&&!await m()){Se({title:"Peringatan",description:"Anda harus mengizinkan notifikasi untuk menguji fitur ini",variant:"destructive"}),e(!1);return}try{let y,x,v=[];if(o){const _=ss(),j=r||ss(),S=ss();x={id:j,full_name:"Pelanggan Test",email:"test@example.com",phone:"081234567890"},y={id:_,user_id:j,total:s,status:"pending",payment_method:"bank-transfer",shipping_address_id:S,date:new Date().toISOString(),payment_details:"SeaBank"};for(const C of c.slice(0,3)){const N=Math.floor(Math.random()*3)+1;v.push({product_name:C.name,quantity:N,price:C.price})}console.log("Using dummy order data for testing:",{order:y,customer:x,items:v})}else{if(!r)throw new Error("Silahkan masukkan ID pelanggan untuk menggunakan data nyata");const{data:_,error:j}=await oe.from("profiles").select("id, full_name, email, phone").eq("id",r).single();if(j||!_)throw new Error('Pelanggan tidak ditemukan. Gunakan opsi "Gunakan Data Dummy" untuk testing.');x=_;let S;const{data:C,error:N}=await oe.from("addresses").select("id").eq("user_id",r).limit(1).single();N?(S=ss(),console.log("Using dummy address ID:",S)):S=C.id;const{data:k,error:E}=await oe.from("orders").insert({user_id:r,total:s,status:"pending",payment_method:"bank-transfer",shipping_address_id:S,date:new Date().toISOString(),payment_details:"SeaBank"}).select().single();if(E)throw E;y=k;for(const T of c.slice(0,3)){const P=Math.floor(Math.random()*3)+1,{error:O}=await oe.from("order_items").insert({order_id:y.id,product_id:T.id,product_name:T.name,quantity:P,price:T.price});O?console.error("Error inserting order item:",O):v.push({product_name:T.name,quantity:P,price:T.price})}}await NY({...y,_customerData:x,_orderItems:v}),Se({title:"Sukses",description:`Notifikasi order berhasil dikirim ke admin. Order ID: ${y.id}`}),console.log("Test order created:",{order:y,customer:x,items:v})}catch(y){console.error("Error creating test order:",y),Se({title:"Error",description:y instanceof Error?y.message:"Gagal membuat order test",variant:"destructive"})}finally{e(!1)}};return i.jsxs(Ue,{className:"w-full",children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Test Notifikasi Order"})}),i.jsx(Me,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ze,{children:"Status Izin Notifikasi"}),i.jsx("p",{className:"text-sm",children:"Notification"in window?d==="granted"?i.jsx("span",{className:"text-green-500",children:"Izin diberikan"}):d==="denied"?i.jsx("span",{className:"text-red-500",children:"Izin ditolak (buka pengaturan browser untuk mengizinkan)"}):i.jsx("span",{className:"text-amber-500",children:"Izin belum diminta"}):i.jsx("span",{className:"text-red-500",children:"Browser tidak mendukung notifikasi"})})]}),"Notification"in window&&d!=="granted"&&d!=="denied"&&i.jsx(Z,{variant:"outline",size:"sm",onClick:m,disabled:t,children:"Minta Izin"})]}),i.jsxs("div",{className:"flex items-center justify-between space-x-2 rounded-lg border p-3 mb-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(ze,{children:"Gunakan Data Dummy"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktifkan untuk menggunakan data dummy tanpa perlu data pelanggan nyata"})]}),i.jsx(Fi,{checked:o,onCheckedChange:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"customerId",children:o?"ID Pelanggan (Opsional)":"ID Pelanggan"}),i.jsx(Ce,{id:"customerId",placeholder:o?"Opsional - akan dibuat otomatis jika kosong":"Masukkan ID pelanggan",value:r,onChange:y=>n(y.target.value),disabled:t}),!o&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"ID pelanggan wajib diisi jika tidak menggunakan data dummy"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"orderTotal",children:"Total Order (Rp)"}),i.jsx(Ce,{id:"orderTotal",type:"number",value:s,onChange:y=>a(Number(y.target.value)),min:1e4,disabled:t})]}),i.jsx(Z,{onClick:p,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Memproses..."]}):"Kirim Notifikasi Order"}),i.jsx("p",{className:"text-xs text-center text-muted-foreground mt-2",children:"Notifikasi akan muncul di notification bar browser jika izin notifikasi telah diberikan"})]})})]})}const k7e={monday:"Senin",tuesday:"Selasa",wednesday:"Rabu",thursday:"Kamis",friday:"Jumat",saturday:"Sabtu",sunday:"Minggu"};function I7e(){const[t,e]=w.useState(null),[r,n]=w.useState(!0),[s,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[m,p]=w.useState(""),[y,x]=w.useState(!1),v=async()=>{n(!0);try{const T=await ed.getBusinessHours();e(T),x(!1);const P=await ed.getCurrentStatus();u(P),p(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}catch(T){console.error("Error fetching business hours:",T),Se({title:"Error",description:"Gagal mengambil data jam kerja",variant:"destructive"})}finally{n(!1)}};w.useEffect(()=>{v();const T=oe.channel("business-hours-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"settings",filter:"key=eq.business_hours"},P=>{console.debug("Business hours diubah:",P),!s&&!y&&(v(),Se({title:"Info",description:"Pengaturan jam kerja telah diperbarui oleh admin lain"}))}).subscribe();return()=>{oe.removeChannel(T)}},[s,y]);const _=T=>{t&&(e({...t,isEnabled:T}),x(!0))},j=(T,P)=>{if(!t)return;const O=[...t.workingDays];O[T]={...O[T],isActive:P},e({...t,workingDays:O}),x(!0)},S=(T,P,O)=>{if(!t)return;const D=[...t.workingDays];D[T]={...D[T],[P]:O},e({...t,workingDays:D}),x(!0)},C=T=>{if(!T.openTime||!T.closeTime)return!1;const[P,O]=T.openTime.split(":").map(Number),[D,M]=T.closeTime.split(":").map(Number),F=P*60+O;return D*60+M<F},N=T=>{t&&(e({...t,offWorkMessage:T}),x(!0))},k=async()=>{if(confirm("Anda yakin ingin mengembalikan pengaturan jam kerja ke default?")){l(!0);try{const T=await ed.resetToDefault();T.success?(Se({title:"Berhasil",description:T.message}),await v()):Se({title:"Error",description:T.message,variant:"destructive"})}catch(T){console.error("Error resetting business hours:",T),Se({title:"Error",description:"Gagal mereset pengaturan jam kerja",variant:"destructive"})}finally{l(!1)}}},E=async()=>{if(t){a(!0);try{const T=await ed.updateBusinessHours(t);if(T.success){Se({title:"Berhasil",description:T.message});const P=await ed.getCurrentStatus();u(P),x(!1),p(new Date().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short",timeZone:"Asia/Jakarta"}))}else Se({title:"Warning",description:T.message,variant:"destructive"})}catch(T){console.error("Error saving business hours:",T),Se({title:"Error",description:"Gagal menyimpan pengaturan jam kerja: "+(T instanceof Error?T.message:"Unknown error"),variant:"destructive"})}finally{a(!1)}}};return r?i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsxs(Tt,{className:"flex items-center",children:[i.jsx(vm,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),i.jsx(Rr,{children:"Memuat data dari database..."})]}),i.jsx(Me,{children:i.jsx("div",{className:"flex justify-center items-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-gray-900"})})})]}):i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsxs(Tt,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(vm,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]}),y&&i.jsxs(qt,{variant:"outline",className:"ml-2 text-amber-500 border-amber-500",children:[i.jsx(Jv,{className:"h-3 w-3 mr-1"})," Belum Disimpan"]})]}),i.jsx(Rr,{children:m?`Terakhir diperbarui: ${m}`:"Data dari database Supabase"})]}),i.jsx(Me,{children:i.jsxs("div",{className:"space-y-6",children:[c&&i.jsxs("div",{className:"mb-4 p-3 rounded bg-gray-100 dark:bg-gray-800",children:[i.jsx("h3",{className:"text-sm font-medium mb-1",children:"Status Saat Ini:"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(qt,{className:c.isOpen?"bg-green-500":"bg-red-500",children:c.isOpen?"BUKA":"TUTUP"}),i.jsx("span",{className:"ml-2 text-sm",children:c.message})]}),i.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i.jsxs(Z,{variant:"outline",size:"sm",onClick:v,className:"h-7 text-xs",children:[i.jsx(Yv,{className:"h-3 w-3 mr-1"})," Refresh Status"]})})]}),i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{id:"business-hours-toggle",checked:t.isEnabled,onCheckedChange:_}),i.jsx(ze,{htmlFor:"business-hours-toggle",className:"font-medium",children:"Aktifkan sistem jam kerja"})]}),c&&i.jsx(qt,{variant:c.isOpen?"outline":"destructive",className:"ml-auto",children:c.isOpen?"Buka":"Tutup"})]}),i.jsx("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:i.jsxs("div",{className:"flex items-start text-sm text-slate-600",children:[i.jsx(DP,{className:"h-5 w-5 mr-2 text-blue-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Tentang Fitur Jam Kerja:"})}),i.jsx("p",{children:"Saat aktif, sistem ini akan membatasi akses pelanggan ke aplikasi hanya pada jam operasional yang ditentukan."}),i.jsx("p",{children:"Di luar jam tersebut, pelanggan akan melihat pesan yang Anda tentukan dan tidak dapat mengakses aplikasi."}),i.jsxs("p",{className:"mt-1",children:[i.jsx("strong",{children:"Jam Operasional Melewati Tengah Malam:"})," Jika toko Anda buka melewati tengah malam (misalnya 20:00 - 02:00), atur jam buka lebih besar dari jam tutup."]})]})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-4",children:"Jadwal Jam Kerja"}),i.jsx("div",{className:"space-y-4",children:t.workingDays.map((T,P)=>i.jsxs("div",{className:"flex items-center space-x-4 p-3 border rounded-md bg-white",children:[i.jsxs("div",{className:"flex items-center space-x-2 w-28",children:[i.jsx(Fi,{id:`day-${T.day}`,checked:T.isActive,onCheckedChange:O=>j(P,O)}),i.jsx(ze,{htmlFor:`day-${T.day}`,className:T.isActive?"":"text-gray-400",children:k7e[T.day]})]}),i.jsxs("div",{className:`flex-1 flex items-center space-x-2 ${T.isActive?"":"opacity-50"}`,children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(ze,{htmlFor:`open-${T.day}`,className:"mr-2 text-sm whitespace-nowrap",children:"Buka:"}),i.jsx(Ce,{id:`open-${T.day}`,type:"time",value:T.openTime,onChange:O=>S(P,"openTime",O.target.value),disabled:!T.isActive,className:"w-28","aria-label":"Jam buka"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ze,{htmlFor:`close-${T.day}`,className:"mx-2 text-sm whitespace-nowrap",children:"Tutup:"}),i.jsx(Ce,{id:`close-${T.day}`,type:"time",value:T.closeTime,onChange:O=>S(P,"closeTime",O.target.value),disabled:!T.isActive,className:"w-28","aria-label":"Jam tutup"}),T.isActive&&C(T)&&i.jsx("span",{className:"text-xs text-amber-600 ml-2",children:i.jsx(IG,{children:i.jsxs(lfe,{children:[i.jsx(cfe,{children:i.jsx(DP,{className:"h-4 w-4 inline"})}),i.jsx(PG,{children:i.jsx("p",{children:"Jam tutup lebih awal dari jam buka. Ini akan dianggap sebagai jam kerja yang melewati tengah malam."})})]})})})]})]})]},T.day))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(ze,{htmlFor:"off-work-message",className:"font-medium block mb-2",children:"Pesan Di Luar Jam Kerja"}),i.jsx(iA,{id:"off-work-message",value:t.offWorkMessage,onChange:T=>N(T.target.value),placeholder:"Masukkan pesan yang akan ditampilkan ketika aplikasi di luar jam kerja",className:"min-h-[100px]"})]}),i.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-md p-4 mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Uji Pengaturan Jam Kerja"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"Masukkan waktu untuk menguji apakah toko akan terbuka atau tertutup pada waktu tersebut."}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Ce,{type:"time",value:d,onChange:T=>f(T.target.value),className:"w-40",placeholder:"HH:MM"}),i.jsx(Z,{variant:"outline",onClick:()=>{if(d&&t){const[T,P]=d.split(":").map(Number),O=new Date;O.setHours(T,P,0);const D=Date.now;Date.now=()=>O.getTime();const M=Date;Date=class extends M{constructor(){return super(),arguments.length===0?O:new M(...arguments)}},ed.getCurrentStatus().then(F=>{Date.now=D,Date=M,Se({title:F.isOpen?"Toko Terbuka":"Toko Tertutup",description:F.isOpen?`Pada pukul ${d}, toko akan terbuka.`:`Pada pukul ${d}, toko akan tertutup. Pesan: ${F.message}`,variant:F.isOpen?"default":"destructive"})})}else Se({title:"Waktu tidak valid",description:"Masukkan waktu yang valid untuk pengujian",variant:"destructive"})},children:"Uji Waktu"})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsx(Z,{type:"button",variant:"outline",disabled:o||s,onClick:k,className:"flex items-center",children:o?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-gray-300 rounded-full"}),"Reset..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Yv,{className:"h-4 w-4 mr-1"}),"Reset ke Default"]})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(Z,{type:"button",variant:"secondary",disabled:!y||s,onClick:v,children:"Batalkan Perubahan"}),i.jsx(Z,{type:"button",disabled:s||!y,onClick:E,className:"flex items-center",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin h-4 w-4 mr-1 border-2 border-white rounded-full"}),"Menyimpan..."]}):i.jsxs(i.Fragment,{children:[i.jsx(fue,{className:"h-4 w-4 mr-1"}),"Simpan ke Database"]})})]})]})]})}),i.jsxs(ki,{className:"border-t p-4 text-xs text-gray-500 flex justify-between items-center",children:[i.jsxs("div",{children:["Data disimpan di tabel ",i.jsx("code",{children:"settings"})," di Supabase"]}),i.jsx("div",{className:"flex items-center",children:y?i.jsxs(qt,{variant:"outline",className:"text-amber-500 border-amber-500",children:[i.jsx(Jv,{className:"h-3 w-3 mr-1"})," Ada perubahan belum disimpan"]}):i.jsxs(qt,{variant:"outline",className:"text-green-500 border-green-500",children:[i.jsx(qce,{className:"h-3 w-3 mr-1"})," Tersimpan"]})})]})]})}const P7e=Io({name:Dr().min(1,"Nama wajib diisi"),email:Dr().email("Alamat email tidak valid"),currentPassword:Dr().optional(),newPassword:Dr().min(6,"Kata sandi minimal 6 karakter").optional(),confirmPassword:Dr().optional()}).refine(t=>!(t.newPassword&&t.newPassword!==t.confirmPassword),{message:"Kata sandi tidak cocok",path:["confirmPassword"]}),O7e=Io({storeName:Dr().min(1,"Nama toko wajib diisi"),contactEmail:Dr().email("Alamat email tidak valid"),currency:Dr().min(1,"Mata uang wajib diisi")}),F7e=Io({enableOrderNotifications:Mu().default(!0),enableChatNotifications:Mu().default(!0),enableSoundNotifications:Mu().default(!0)});function R7e(){const{user:t,profile:e,refreshProfile:r}=xn(),[n,s]=w.useState(!1),[a,o]=w.useState(!1),[l,c]=w.useState(!1),[u,d]=w.useState(null),[f,m]=w.useState({storeName:"Toko E-commerce Saya",contactEmail:"contact@example.com",currency:"IDR"}),p=aa({resolver:ia(P7e),defaultValues:{name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",currentPassword:"",newPassword:"",confirmPassword:""}}),y=aa({resolver:ia(O7e),defaultValues:{storeName:f.storeName,contactEmail:f.contactEmail,currency:f.currency}}),x=aa({resolver:ia(F7e),defaultValues:{enableOrderNotifications:!0,enableChatNotifications:!0,enableSoundNotifications:!0}});w.useEffect(()=>{e&&p.reset({name:e.name||"",email:e.email||"",currentPassword:"",newPassword:"",confirmPassword:""})},[e]),w.useEffect(()=>{_(),j(),v()},[]);const v=()=>{typeof Notification<"u"&&d(Notification.permission)},_=async()=>{try{const O=localStorage.getItem("storeSettings");if(O){const D=JSON.parse(O);m(D),y.reset({storeName:D.storeName,contactEmail:D.contactEmail,currency:D.currency})}}catch(O){console.error("Error fetching store settings:",O)}},j=async()=>{try{const O=localStorage.getItem("notificationSettings");if(O){const D=JSON.parse(O);x.reset({enableOrderNotifications:D.enableOrderNotifications,enableChatNotifications:D.enableChatNotifications,enableSoundNotifications:D.enableSoundNotifications})}}catch(O){console.error("Error fetching notification settings:",O)}},S=async O=>{if(t){s(!0);try{const{error:D}=await oe.from("profiles").update({name:O.name}).eq("id",t.id);if(D)throw D;if(O.email&&O.email!==t.email){const{error:M}=await oe.auth.updateUser({email:O.email});if(M)throw M}if(O.newPassword){if(O.newPassword!==O.confirmPassword){Se({title:"Error",description:"Kata sandi tidak cocok",variant:"destructive"});return}const{error:M}=await oe.auth.updateUser({password:O.newPassword});if(M)throw M}Se({title:"Profil diperbarui",description:"Profil Anda telah berhasil diperbarui"}),p.reset({name:O.name,email:O.email,currentPassword:"",newPassword:"",confirmPassword:""}),await r()}catch(D){console.error("Error updating settings:",D),Se({title:"Error memperbarui profil",description:D.message||"Terjadi kesalahan saat memperbarui profil Anda",variant:"destructive"})}finally{s(!1)}}},C=async O=>{o(!0);try{const D={storeName:O.storeName,contactEmail:O.contactEmail,currency:O.currency};localStorage.setItem("storeSettings",JSON.stringify(D)),m(D),Se({title:"Pengaturan toko diperbarui",description:"Pengaturan toko Anda telah berhasil diperbarui"})}catch(D){console.error("Error updating store settings:",D),Se({title:"Error memperbarui pengaturan toko",description:"Terjadi kesalahan saat memperbarui pengaturan toko Anda",variant:"destructive"})}finally{o(!1)}},N=async()=>{try{Se({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"}),setTimeout(()=>{Se({title:"Pemeliharaan database",description:"Vakum database berhasil diselesaikan"})},2e3)}catch(O){Se({title:"Error running vacuum operation",description:O.message||"Terjadi kesalahan saat menjalankan operasi vakum",variant:"destructive"})}},k=async()=>{try{Se({title:"Menghapus log lama",description:"Log lama berhasil dihapus"}),setTimeout(()=>{Se({title:"Menghapus log lama",description:"Log lama berhasil dihapus"})},2e3)}catch(O){Se({title:"Error menghapus log lama",description:O.message||"Terjadi kesalahan saat menghapus log lama",variant:"destructive"})}},E=async()=>{c(!0);try{if(!t)return;const O=await Notification.requestPermission();if(d(O),O==="granted")if(await eO(t.id))Se({title:"Notifikasi diaktifkan",description:"Anda akan menerima notifikasi pesanan baru"});else throw new Error("Gagal mendapatkan token notifikasi");else Se({title:"Izin notifikasi ditolak",description:"Anda tidak akan menerima notifikasi. Ubah pengaturan browser untuk mengizinkan notifikasi.",variant:"destructive"})}catch(O){console.error("Error requesting notification permission:",O),Se({title:"Error mengaktifkan notifikasi",description:O.message||"Terjadi kesalahan saat mengaktifkan notifikasi",variant:"destructive"})}finally{c(!1)}},T=async O=>{c(!0);try{localStorage.setItem("notificationSettings",JSON.stringify(O)),O.enableOrderNotifications&&u==="granted"&&t&&await eO(t.id),Se({title:"Pengaturan notifikasi diperbarui",description:"Preferensi notifikasi Anda telah berhasil diperbarui"})}catch(D){console.error("Error updating notification settings:",D),Se({title:"Error memperbarui pengaturan notifikasi",description:D.message||"Terjadi kesalahan saat memperbarui pengaturan notifikasi",variant:"destructive"})}finally{c(!1)}},P=async()=>{try{if(Notification.permission!=="granted"){Se({title:"Izin notifikasi tidak diberikan",description:"Harap berikan izin notifikasi terlebih dahulu",variant:"destructive"});return}const O=new Notification("Notifikasi Uji Coba",{body:"Ini adalah notifikasi uji coba. Jika Anda melihat ini, berarti notifikasi berfungsi dengan baik!",icon:"/logo192.png"});Se({title:"Notifikasi uji coba dikirim",description:"Periksa notifikasi browser Anda"}),new Audio("/sounds/new_order_sound.mp3").play().catch(M=>console.log("Error playing notification sound:",M))}catch(O){console.error("Error testing notification:",O),Se({title:"Error mengirim notifikasi uji coba",description:O.message||"Terjadi kesalahan saat mengirim notifikasi uji coba",variant:"destructive"})}};return i.jsxs(Bs,{children:[i.jsx("div",{className:"mb-6",children:i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pengaturan"})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Pengaturan Profil"})}),i.jsx(Me,{children:i.jsx(qs,{...p,children:i.jsxs("form",{onSubmit:p.handleSubmit(S),className:"space-y-6",children:[i.jsx(at,{control:p.control,name:"name",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama"}),i.jsx(nt,{children:i.jsx(Ce,{...O})}),i.jsx(lt,{})]})}),i.jsx(at,{control:p.control,name:"email",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",...O})}),i.jsx(lt,{})]})}),i.jsxs("div",{className:"pt-4 border-t",children:[i.jsx("h3",{className:"text-lg font-medium mb-4",children:"Ubah Kata Sandi"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx(at,{control:p.control,name:"currentPassword",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kata Sandi Saat Ini"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",...O})}),i.jsx(lt,{})]})}),i.jsx(at,{control:p.control,name:"newPassword",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Kata Sandi Baru"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",...O})}),i.jsx(lt,{})]})}),i.jsx(at,{control:p.control,name:"confirmPassword",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Konfirmasi Kata Sandi"}),i.jsx(nt,{children:i.jsx(Ce,{type:"password",...O})}),i.jsx(lt,{})]})})]})]}),i.jsx(Z,{type:"submit",disabled:n,children:n?"Menyimpan...":"Simpan Perubahan"})]})})})]}),i.jsxs("div",{className:"space-y-8",children:[i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Pengaturan Toko"})}),i.jsx(Me,{children:i.jsx(qs,{...y,children:i.jsxs("form",{onSubmit:y.handleSubmit(C),className:"space-y-4",children:[i.jsx(at,{control:y.control,name:"storeName",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Nama Toko"}),i.jsx(nt,{children:i.jsx(Ce,{...O})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"contactEmail",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Email Kontak"}),i.jsx(nt,{children:i.jsx(Ce,{type:"email",...O})}),i.jsx(lt,{})]})}),i.jsx(at,{control:y.control,name:"currency",render:({field:O})=>i.jsxs(tt,{children:[i.jsx(rt,{children:"Mata Uang"}),i.jsx(nt,{children:i.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2",...O,children:[i.jsx("option",{value:"IDR",children:"IDR (Rp)"}),i.jsx("option",{value:"USD",children:"USD ($)"}),i.jsx("option",{value:"EUR",children:"EUR (€)"}),i.jsx("option",{value:"GBP",children:"GBP (£)"})]})}),i.jsx(lt,{})]})}),i.jsx(Z,{type:"submit",disabled:a,children:a?"Menyimpan...":"Simpan Pengaturan Toko"})]})})})]}),i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Pemeliharaan Database"})}),i.jsxs(Me,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Jalankan operasi pemeliharaan pada database Anda. Operasi ini dapat membantu meningkatkan kinerja dan integritas data."}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx(Z,{variant:"outline",onClick:N,children:"Jalankan Vakum Database"}),i.jsx(Z,{variant:"outline",onClick:k,children:"Bersihkan Log Lama"})]})]})]}),i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsxs(Tt,{className:"flex items-center gap-2",children:[i.jsx(fR,{className:"h-5 w-5"}),i.jsx("span",{children:"Pengaturan Notifikasi"})]})}),i.jsx(Me,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"pb-4 border-b",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Izin Notifikasi Browser"}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Status izin: ",i.jsx("span",{className:`font-medium ${u==="granted"?"text-green-600":"text-orange-600"}`,children:u==="granted"?"Diizinkan":u==="denied"?"Ditolak (ubah di pengaturan browser)":"Belum diminta"})]}),u==="denied"&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-500 mt-1",children:[i.jsx(Sj,{className:"h-4 w-4"}),i.jsx("span",{children:"Anda telah menolak izin notifikasi. Harap ubah di pengaturan browser Anda."})]})]}),i.jsx(Z,{variant:"outline",disabled:u==="denied"||l,onClick:E,children:l?"Mengizinkan...":"Izinkan Notifikasi"})]})]}),i.jsx(qs,{...x,children:i.jsxs("form",{onSubmit:x.handleSubmit(T),className:"space-y-4",children:[i.jsx(at,{control:x.control,name:"enableOrderNotifications",render:({field:O})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(rt,{children:"Notifikasi Pesanan Baru"}),i.jsx(u1,{children:"Terima notifikasi saat ada pesanan baru dari pelanggan"})]}),i.jsx(nt,{children:i.jsx(Fi,{checked:O.value,onCheckedChange:O.onChange,disabled:u!=="granted"})})]})}),i.jsx(at,{control:x.control,name:"enableChatNotifications",render:({field:O})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(rt,{children:"Notifikasi Pesan Chat"}),i.jsx(u1,{children:"Terima notifikasi saat ada pesan baru dari pelanggan"})]}),i.jsx(nt,{children:i.jsx(Fi,{checked:O.value,onCheckedChange:O.onChange,disabled:u!=="granted"})})]})}),i.jsx(at,{control:x.control,name:"enableSoundNotifications",render:({field:O})=>i.jsxs(tt,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(rt,{children:"Notifikasi Suara"}),i.jsx(u1,{children:"Putar suara saat menerima notifikasi baru"})]}),i.jsx(nt,{children:i.jsx(Fi,{checked:O.value,onCheckedChange:O.onChange})})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{type:"submit",disabled:l||u!=="granted",children:l?"Menyimpan...":"Simpan Pengaturan"}),i.jsx(Z,{type:"button",variant:"outline",onClick:P,disabled:u!=="granted",children:"Uji Notifikasi"})]})]})})]})})]}),i.jsxs(Ue,{className:"mb-8",children:[i.jsx(Nt,{children:i.jsxs(Tt,{className:"flex items-center",children:[i.jsx(vm,{className:"mr-2 h-5 w-5"}),"Pengaturan Jam Kerja"]})}),i.jsx(Me,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(I7e,{})})})]}),i.jsxs(Ue,{className:"mb-8",children:[i.jsx(Nt,{children:i.jsx(Tt,{children:"Test Notifikasi Real-time"})}),i.jsx(Me,{children:i.jsx("div",{className:"space-y-6",children:i.jsx(T7e,{})})})]})]})]})]})}function D7e(){const[t,e]=w.useState([]),[r,n]=w.useState([]),[s,a]=w.useState(""),[o,l]=w.useState(!0),[c,u]=w.useState(0),{user:d}=xn(),f=w.useRef(null),m=()=>{f.current&&f.current.unsubscribe();const v=oe.channel("public:messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},_=>{console.log("Pesan baru diterima:",_),_.new&&_.new.sender_id!==(d==null?void 0:d.id)&&(_.new.read===!1||_.new.read===null||_.new.read===void 0)&&(u(C=>C+1),Se({title:"Pesan Baru Diterima",description:`Ada pesan baru dari pelanggan: ${_.new.content.substring(0,30)}${_.new.content.length>30?"...":""}`,variant:"default"}),new Audio("/notification.mp3").play().catch(C=>console.log("Error playing notification sound:",C))),p()}).subscribe();return f.current=v,()=>{v.unsubscribe()}};w.useEffect(()=>{if(d)return m()},[d]),w.useEffect(()=>{d&&p()},[d]);const p=async()=>{var v,_,j;try{l(!0);const{data:S,error:C}=await oe.from("profiles").select("*").eq("role","customer");if(C)throw C;const N=[];for(const E of S||[]){const{data:T,error:P}=await oe.from("profiles").select("*").eq("id",E.id).single();P&&console.error("Error fetching customer details:",P);const{data:O,error:D}=await oe.from("messages").select(`
            *,
            profiles:sender_id(name, email)
          `).or(`sender_id.eq.${E.id},receiver_id.eq.${E.id}`).order("created_at",{ascending:!1}),M=O?O.filter(ee=>ee.sender_id===E.id&&ee.read===!1).length:0;M>0&&console.log(`${M} pesan belum dibaca dari pelanggan:`,E.name),D&&console.error("Error fetching messages for user:",D);const F=`admin_chat_${E.id}`,G=localStorage.getItem(F);let W="",V="",H=null,Q=null;if(G)try{const ee=JSON.parse(G);ee.length>0&&(H=ee[ee.length-1])}catch(ee){console.error("Error parsing stored messages",ee)}if(O&&O.length>0){const ee=O[0],ue=((v=ee.profiles)==null?void 0:v.name)||E.name;Q={content:ee.content,timestamp:ee.created_at,sender_id:ee.sender_id,senderName:ue},console.log(`${O.length} pesan ditemukan untuk pelanggan:`,E.name),O.forEach((xe,me)=>{console.log(`Pesan #${me+1}:`,{content:xe.content,timestamp:new Date(xe.created_at).toLocaleString("id-ID"),isFromCustomer:xe.sender_id===E.id})})}let z=!1;if(H&&Q){const ee=new Date(H.timestamp).getTime(),ue=new Date(Q.timestamp).getTime();ee>ue?(W=H.content,V=H.timestamp,z=H.sender!=="admin"):(W=Q.content,V=Q.timestamp,z=Q.sender_id===E.id)}else H?(W=H.content,V=H.timestamp,z=H.sender!=="admin"):Q&&(W=Q.content,V=Q.timestamp,z=Q.sender_id===E.id);let q,$="",J="",le=!1,ae=null;if(O&&O.length>0){console.log(`Semua pesan untuk ${E.name}:`,O.length,"pesan ditemukan");const ee=O.filter(xe=>xe.sender_id===E.id&&(xe.read===!1||xe.read===null||xe.read===void 0));ee.length>0&&(console.log("Pesan belum dibaca ditemukan:",ee.length,"pesan"),console.log("Sample pesan belum dibaca:",ee[0]));const ue=O.filter(xe=>xe.sender_id===E.id);if(ue.length>0&&console.log(`Pesan dari pelanggan ${E.name}:`,ue.length,"pesan"),ee.length>0)ae=ee[0],q=((_=ae.profiles)==null?void 0:_.name)||(T==null?void 0:T.name)||E.name||E.email||"Pelanggan",$=ae.content,J=ae.id,le=!0,z=!0;else if(ue.length>0)ae=ue[0],q=((j=ae.profiles)==null?void 0:j.name)||(T==null?void 0:T.name)||E.name||E.email||"Pelanggan",$=ae.content,J=ae.id,le=!1,z=!0;else{const xe=O[0];q="Admin",$=xe.content,J=xe.id,le=!1,z=!1}}else{if(T){console.log("Detail customer ditemukan:",T),q=T.name||E.name||E.email||"Pelanggan";const{data:ee}=await oe.from("messages").select("content, created_at").eq("sender_id",E.id).order("created_at",{ascending:!1}).limit(1);ee&&ee.length>0?($=ee[0].content,console.log("Pesan terbaru ditemukan:",$)):$=T.last_seen?`Terakhir aktif: ${new Date(T.last_seen).toLocaleString("id-ID")}`:"Belum ada riwayat pesan"}else q=E.name||E.email||"Pelanggan",$="Pelanggan baru mendaftar";z=!0,le=!1}N.push({id:E.id,name:E.name||E.email||"Pelanggan Tidak Dikenal",lastMessage:$||W,lastTimestamp:V,unread:le,messageId:J,isFromCustomer:z,senderName:q})}let k=0;for(const E of N)if(E.lastTimestamp&&E.isFromCustomer){const T=new Date(E.lastTimestamp).getTime();k=Math.max(k,T)}console.log("Timestamp pesan terbaru dari pelanggan:",new Date(k).toLocaleString("id-ID"));for(const E of N)if(E.lastTimestamp&&E.isFromCustomer){const T=new Date(E.lastTimestamp).getTime();T===k&&(E.isLatestCustomerMessage=!0,console.log("Pelanggan dengan pesan terbaru:",E.name,"pada",new Date(T).toLocaleString("id-ID")))}N.sort((E,T)=>{if(E.isLatestCustomerMessage&&!T.isLatestCustomerMessage)return-1;if(!E.isLatestCustomerMessage&&T.isLatestCustomerMessage)return 1;if(!E.lastTimestamp&&!T.lastTimestamp)return E.isFromCustomer&&!T.isFromCustomer?-1:!E.isFromCustomer&&T.isFromCustomer?1:0;if(!E.lastTimestamp)return 1;if(!T.lastTimestamp)return-1;const P=new Date(E.lastTimestamp).getTime(),O=new Date(T.lastTimestamp).getTime();return P!==O?O-P:E.isFromCustomer&&!T.isFromCustomer?-1:!E.isFromCustomer&&T.isFromCustomer?1:E.unread&&!T.unread?-1:!E.unread&&T.unread?1:E.name.localeCompare(T.name)}),console.log("Daftar chat yang sudah diurutkan:",N.map(E=>({name:E.name,timestamp:E.lastTimestamp?new Date(E.lastTimestamp).toLocaleString("id-ID"):"tidak ada",isFromCustomer:E.isFromCustomer,unread:E.unread}))),e(N)}catch(S){console.error("Error fetching chat users:",S)}finally{l(!1)}},y=async v=>{if(v.unread&&v.messageId){console.log("Menandai pesan sebagai sudah dibaca:",v.messageId);try{const{error:_}=await oe.from("messages").update({read:!0}).eq("id",v.messageId);if(_)throw _;u(j=>Math.max(0,j-1)),p(),console.log("Pesan berhasil ditandai sebagai dibaca")}catch(_){console.error("Error menandai pesan sebagai dibaca:",_),console.log("Mencoba fallback untuk database lama..."),Se({title:"Perhatian",description:"Perlu update skema database untuk fitur 'sudah dibaca'",variant:"default"})}}};w.useEffect(()=>{const v=s?t.filter(_=>_.name.toLowerCase().includes(s.toLowerCase())):t;n(v)},[s,t,c]);const x=v=>{if(!v)return"";const _=new Date(v),S=new Date().getTime()-_.getTime(),C=60*1e3,N=60*C,k=24*N,E=7*k,T=30*k;return S<C?"Baru saja":S<N?`${Math.floor(S/C)} menit yang lalu`:S<k?`${Math.floor(S/N)} jam yang lalu`:S<E?`${Math.floor(S/k)} hari yang lalu`:S<T?`${Math.floor(S/E)} minggu yang lalu`:_.toLocaleDateString("id-ID",{year:"numeric",month:"short",day:"numeric"})};return i.jsx(Bs,{children:i.jsx("div",{className:"p-4 max-w-4xl mx-auto",children:i.jsxs(Ue,{children:[i.jsx(Nt,{children:i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Tt,{children:"Obrolan Pelanggan"}),c>0&&i.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center animate-pulse",children:[i.jsx(fR,{className:"h-3 w-3 mr-1"}),c," baru"]})]}),i.jsx(Rr,{children:"Kelola percakapan dukungan pelanggan secara realtime"})]})})}),i.jsxs(Me,{children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(cA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground"}),i.jsx(Ce,{placeholder:"Cari pelanggan...",className:"pl-10",value:s,onChange:v=>a(v.target.value)})]}),i.jsxs("div",{className:"space-y-1",children:[c>0&&i.jsx(Z,{variant:"ghost",onClick:async()=>{try{const{data:v,error:_}=await oe.from("messages").select("id").eq("receiver_id",d==null?void 0:d.id).is("read",null);if(_)throw _;const{error:j}=await oe.from("messages").update({read:!0}).eq("read",!1).eq("receiver_id",d==null?void 0:d.id);if(j)throw j;if(v&&v.length>0){const{error:S}=await oe.from("messages").update({read:!0}).is("read",null).eq("receiver_id",d==null?void 0:d.id);if(S)throw S}u(0),p(),Se({title:"Berhasil",description:"Semua pesan telah ditandai sebagai dibaca",variant:"default"})}catch(v){console.error("Error menandai semua pesan sebagai dibaca:",v),Se({title:"Error",description:"Gagal menandai pesan sebagai dibaca",variant:"destructive"})}},className:"w-full text-center text-sm text-flame-500 hover:bg-orange-50 mb-2",children:"Tandai semua sebagai telah dibaca"}),o?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:"Memuat obrolan pelanggan..."}):r.length===0?i.jsx("p",{className:"text-center text-muted-foreground py-4",children:s?"Tidak ada pelanggan yang sesuai dengan pencarian":"Belum ada obrolan pelanggan"}):r.map(v=>i.jsx(Dt,{to:`/admin/chat/${v.id}`,className:"block",onClick:()=>y(v),children:i.jsx(Z,{variant:v.isFromCustomer?"default":"ghost",className:`w-full justify-start px-3 py-6 h-auto ${v.isFromCustomer?"bg-orange-100 border-2 border-orange-400 shadow-md hover:bg-orange-200":"hover:bg-gray-100"}`,children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mr-3 shrink-0 ${v.isFromCustomer?"bg-orange-400":"bg-charcoal-100"}`,children:i.jsx(ym,{className:`h-5 w-5 ${v.isFromCustomer?"text-white":"text-charcoal-500"}`})}),i.jsxs("div",{className:"flex-grow min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:`truncate ${v.isFromCustomer?"font-bold text-orange-600":"font-medium"}`,children:v.name}),v.lastTimestamp&&i.jsx("span",{className:"text-xs text-muted-foreground ml-2 shrink-0",children:x(v.lastTimestamp)})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"flex items-center",children:[v.unread&&i.jsx("div",{className:"flex items-center bg-orange-500 text-white text-xs px-2 py-0.5 rounded-full mr-2 animate-pulse shadow-md",children:i.jsx("span",{children:"BARU"})}),i.jsx("p",{className:`text-sm truncate ${v.isFromCustomer?"text-orange-700 font-semibold":"text-muted-foreground"}`,children:i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"font-semibold",children:v.senderName||(v.isFromCustomer?v.name:"Admin")}),": ",v.lastMessage||"Memuat data pesan..."]})})]})})]})]})})},v.id))]})]})]})})})}function U7e(){const{customerId:t}=Dx(),e=ar(),{user:r,profile:n}=xn(),[s,a]=w.useState(""),[o,l]=w.useState(!0);return w.useEffect(()=>{(async()=>{if(!t){e("/admin/chats");return}try{l(!0);const{data:u,error:d}=await oe.from("profiles").select("name, email").eq("id",t).single();if(d)throw d;a(u.name||u.email||"Pelanggan")}catch(u){console.error("Error fetching customer info:",u),e("/admin/chats")}finally{l(!1)}})()},[t,e]),!r||!n||n.role!=="admin"?i.jsx(Bs,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx("p",{className:"text-muted-foreground",children:"Akses tidak diizinkan"})})}):o||!t?i.jsx(Bs,{children:i.jsx("div",{className:"flex items-center justify-center h-80",children:i.jsx(jr,{className:"animate-spin h-8 w-8 text-flame-500"})})}):i.jsx(Bs,{children:i.jsx("div",{className:"h-[calc(100vh-64px)]",children:i.jsx(rne,{chatPartnerId:t,chatPartnerName:s,isAdmin:!0})})})}var Xie="AlertDialog",[M7e,Xze]=Pa(Xie,[QZ]),Ec=QZ(),Jie=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ec(e);return i.jsx(WD,{...n,...r,modal:!0})};Jie.displayName=Xie;var Q7e="AlertDialogTrigger",Yie=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ec(r);return i.jsx(XD,{...s,...n,ref:e})});Yie.displayName=Q7e;var L7e="AlertDialogPortal",Zie=t=>{const{__scopeAlertDialog:e,...r}=t,n=Ec(e);return i.jsx(JD,{...n,...r})};Zie.displayName=L7e;var H7e="AlertDialogOverlay",eoe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ec(r);return i.jsx(Xx,{...s,...n,ref:e})});eoe.displayName=H7e;var sm="AlertDialogContent",[$7e,V7e]=M7e(sm),toe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...s}=t,a=Ec(r),o=w.useRef(null),l=Ht(e,o),c=w.useRef(null);return i.jsx(Zje,{contentName:sm,titleName:roe,docsSlug:"alert-dialog",children:i.jsx($7e,{scope:r,cancelRef:c,children:i.jsxs(Jx,{role:"alertdialog",...a,...s,ref:l,onOpenAutoFocus:Ye(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(cR,{children:n}),i.jsx(q7e,{contentRef:o})]})})})});toe.displayName=sm;var roe="AlertDialogTitle",noe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ec(r);return i.jsx(Yx,{...s,...n,ref:e})});noe.displayName=roe;var soe="AlertDialogDescription",aoe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ec(r);return i.jsx(Zx,{...s,...n,ref:e})});aoe.displayName=soe;var K7e="AlertDialogAction",ioe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,s=Ec(r);return i.jsx(jC,{...s,...n,ref:e})});ioe.displayName=K7e;var ooe="AlertDialogCancel",loe=w.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:s}=V7e(ooe,r),a=Ec(r),o=Ht(e,s);return i.jsx(jC,{...a,...n,ref:o})});loe.displayName=ooe;var q7e=({contentRef:t})=>{const e=`\`${sm}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${sm}\` by passing a \`${soe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${sm}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},z7e=Jie,G7e=Yie,W7e=Zie,coe=eoe,uoe=toe,Aoe=ioe,doe=loe,foe=noe,hoe=aoe;const X7e=z7e,J7e=G7e,Y7e=W7e,moe=w.forwardRef(({className:t,...e},r)=>i.jsx(coe,{className:Ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));moe.displayName=coe.displayName;const poe=w.forwardRef(({className:t,...e},r)=>i.jsxs(Y7e,{children:[i.jsx(moe,{}),i.jsx(uoe,{ref:r,className:Ee("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));poe.displayName=uoe.displayName;const goe=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col space-y-2 text-center sm:text-left",t),...e});goe.displayName="AlertDialogHeader";const voe=({className:t,...e})=>i.jsx("div",{className:Ee("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});voe.displayName="AlertDialogFooter";const yoe=w.forwardRef(({className:t,...e},r)=>i.jsx(foe,{ref:r,className:Ee("text-lg font-semibold",t),...e}));yoe.displayName=foe.displayName;const xoe=w.forwardRef(({className:t,...e},r)=>i.jsx(hoe,{ref:r,className:Ee("text-sm text-muted-foreground",t),...e}));xoe.displayName=hoe.displayName;const woe=w.forwardRef(({className:t,...e},r)=>i.jsx(Aoe,{ref:r,className:Ee(Uj(),t),...e}));woe.displayName=Aoe.displayName;const boe=w.forwardRef(({className:t,...e},r)=>i.jsx(doe,{ref:r,className:Ee(Uj({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));boe.displayName=doe.displayName;const Z7e=async()=>{try{console.log("Mulai menambahkan voucher awal...");const{data:t,error:e}=await oe.from("vouchers").select("id").limit(1);e&&await _oe();const r=[{code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"},{code:"LIBURAN25",discount_type:"percentage",discount_value:25,min_purchase:2e5,max_discount:1e5,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),usage_limit:50,usage_count:0,is_active:!0,description:"Diskon liburan 25% dengan minimum pembelian Rp 200.000"},{code:"HEMAT50K",discount_type:"fixed",discount_value:5e4,min_purchase:25e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+2)).toISOString(),usage_limit:30,usage_count:0,is_active:!0,description:"Potongan langsung Rp 50.000 dengan minimum pembelian Rp 250.000"}];for(const n of r){const{data:s}=await oe.from("vouchers").select("id").eq("code",n.code).maybeSingle();if(s)console.log(`Voucher ${n.code} sudah ada, melewati...`);else{const{data:a,error:o}=await oe.from("vouchers").insert([n]);o?console.error(`Gagal menambahkan voucher ${n.code}:`,o):console.log(`Berhasil menambahkan voucher ${n.code}`)}}console.log("Selesai menambahkan voucher awal")}catch(t){console.error("Gagal menambahkan voucher awal:",t)}},_oe=async()=>{try{console.log("Membuat tabel vouchers dengan metode sederhana...");const{error:t}=await oe.from("vouchers").insert({id:ss(),code:"WELCOME10",discount_type:"percentage",discount_value:10,min_purchase:1e5,max_discount:5e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+3)).toISOString(),usage_limit:100,usage_count:0,is_active:!0,created_at:new Date().toISOString(),description:"Diskon 10% untuk pelanggan baru dengan minimum pembelian Rp 100.000"});if(t){console.error("Gagal membuat tabel dengan insert langsung:",t),console.log("Mencoba membuat tabel dengan metode REST API...");const n="https://vpztrjwitxvldrdhndlr.supabase.co/rest/v1/rpc/create_vouchers_table",s="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZwenRyandpdHh2bGRyZGhuZGxyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTE3NzIsImV4cCI6MjA2MzM4Nzc3Mn0._NFTwCpQGgMThUeh1sew8y5ulRXSGmwHLmXRQx544PM",a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json",apikey:s,Authorization:`Bearer ${s}`}});a.ok?console.log("Tabel berhasil dibuat dengan metode REST API"):(console.error("REST API call failed:",await a.text()),console.log("Metode REST API gagal, mencoba metode terakhir - disable RLS dan insert"),await eze())}else console.log("Berhasil menambahkan voucher pertama, tabel telah dibuat atau sudah ada");const{data:e,error:r}=await oe.from("vouchers").select("id").limit(1);r?console.error("Tabel masih belum dapat diakses:",r):console.log("Tabel vouchers berhasil dibuat dan dapat diakses",e)}catch(t){console.error("Gagal membuat tabel vouchers:",t)}},eze=async()=>{try{console.log("Mencoba membuat voucher dengan login admin...");const{error:t}=await oe.from("vouchers").insert({id:ss(),code:"SIMPLETEST",discount_type:"fixed",discount_value:2e4,start_date:new Date().toISOString(),end_date:new Date(new Date().setMonth(new Date().getMonth()+1)).toISOString(),is_active:!0,created_at:new Date().toISOString(),description:"Voucher test sistem"});t?(console.error("Gagal dengan semua metode:",t),console.log("Solusi: Hubungi admin database untuk membuat tabel vouchers secara manual")):console.log("Berhasil membuat voucher dengan metode terakhir")}catch(t){console.error("Error pada metode terakhir:",t)}},tze=async()=>{try{console.log("Mengecek keberadaan tabel vouchers...");const{data:t,error:e}=await oe.from("vouchers").select("count(*)",{count:"exact",head:!0});if(e){if(e.code==="PGRST116"||e.message&&e.message.includes("relation")&&e.message.includes("does not exist")){console.log("Tabel vouchers belum ada, mencoba membuat tabel..."),await _oe();const r=await oe.from("vouchers").select("count(*)",{count:"exact",head:!0});return r.error?(console.error("Gagal membuat tabel vouchers:",r.error),!1):(console.log("Tabel vouchers berhasil dibuat!"),!0)}return console.error("Error saat mengecek tabel vouchers:",e),!1}return console.log("Tabel vouchers ditemukan"),!0}catch(t){return console.error("Gagal mengecek tabel vouchers:",t),!1}};function rze(){const{toast:t}=No(),[e,r]=w.useState([]),[n,s]=w.useState(!0),[a,o]=w.useState(""),[l,c]=w.useState(!1),[u,d]=w.useState(!1),[f,m]=w.useState(!0),[p,y]=w.useState({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""}),[x,v]=w.useState(!1),[_,j]=w.useState(!1),[S,C]=w.useState(null);w.useEffect(()=>{k(),N()},[a,l]);const N=async()=>{const Q=await tze();m(Q)},k=async()=>{s(!0);try{const{data:Q,error:z}=await mu.getVouchers(100,0,{search:a||void 0,is_active:l?!0:void 0});if(z)throw z;r(Q||[])}catch(Q){console.error("Error fetching vouchers:",Q),m(!1),t({title:"Gagal Memuat Data",description:"Terjadi kesalahan saat memuat daftar voucher",variant:"destructive"})}finally{s(!1)}},E=Q=>{const{name:z,value:q,type:$}=Q.target;y($==="number"?{...p,[z]:q===""?void 0:parseFloat(q)}:{...p,[z]:q})},T=(Q,z)=>{y({...p,[Q]:z})},P=(Q,z)=>{y({...p,[Q]:z})},O=()=>{M(),v(!1),j(!0)},D=Q=>{y({...Q,start_date:new Date(Q.start_date).toISOString().split("T")[0],end_date:new Date(Q.end_date).toISOString().split("T")[0]}),v(!0),j(!0)},M=()=>{y({code:"",discount_type:"percentage",discount_value:0,min_purchase:void 0,max_discount:void 0,start_date:new Date().toISOString().split("T")[0],end_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],usage_limit:void 0,is_active:!0,description:""})},F=async Q=>{Q.preventDefault();try{if(x&&p.id){const{data:z,error:q}=await mu.updateVoucher(p.id,p);if(q)throw q;t({title:"Voucher Diperbarui",description:`Voucher dengan kode ${p.code} berhasil diperbarui`,variant:"default"})}else{const{data:z,error:q}=await mu.addVoucher(p);if(q)throw q;t({title:"Voucher Ditambahkan",description:`Voucher baru dengan kode ${p.code} berhasil ditambahkan`,variant:"default"})}j(!1),k()}catch(z){console.error("Error saving voucher:",z),t({title:"Gagal Menyimpan",description:z.message||"Terjadi kesalahan saat menyimpan voucher",variant:"destructive"})}},G=async()=>{if(S)try{const{error:Q}=await mu.deleteVoucher(S);if(Q)throw Q;t({title:"Voucher Dihapus",description:"Voucher berhasil dihapus dari sistem",variant:"default"}),k(),C(null)}catch(Q){console.error("Error deleting voucher:",Q),t({title:"Gagal Menghapus",description:Q.message||"Terjadi kesalahan saat menghapus voucher",variant:"destructive"})}},W=async(Q,z)=>{try{const{error:q}=await mu.toggleVoucherStatus(Q,!z);if(q)throw q;t({title:`Voucher ${z?"Dinonaktifkan":"Diaktifkan"}`,description:`Status voucher berhasil diubah menjadi ${z?"tidak aktif":"aktif"}`,variant:"default"}),k()}catch(q){console.error("Error toggling voucher status:",q),t({title:"Gagal Mengubah Status",description:q.message||"Terjadi kesalahan saat mengubah status voucher",variant:"destructive"})}},V=Q=>{if(!Q.is_active)return i.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:"Tidak Aktif"});const z=new Date,q=new Date(Q.start_date),$=new Date(Q.end_date);return z<q?i.jsx("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Belum Mulai"}):z>$?i.jsx("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Kadaluarsa"}):Q.usage_limit&&Q.usage_count>=Q.usage_limit?i.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Habis"}):i.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded-full",children:"Aktif"})},H=async()=>{d(!0);try{await Z7e(),t({title:"Berhasil",description:"Data voucher contoh berhasil ditambahkan ke database",variant:"default"}),k(),N()}catch(Q){console.error("Error initializing data:",Q),t({title:"Gagal Menginisialisasi Data",description:"Terjadi kesalahan saat menambahkan data contoh",variant:"destructive"})}finally{d(!1)}};return i.jsx(Bs,{children:i.jsxs("div",{className:"container mx-auto py-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Manajemen Voucher"}),i.jsxs("div",{className:"flex gap-2",children:[!f&&i.jsxs(Z,{onClick:H,disabled:u,variant:"outline",children:[i.jsx(Lz,{className:"mr-2 h-4 w-4"}),u?"Menginisialisasi...":"Inisialisasi Data"]}),i.jsxs(Qr,{open:_,onOpenChange:j,children:[i.jsx(x_,{asChild:!0,children:i.jsxs(Z,{onClick:O,children:[i.jsx(Gce,{className:"mr-2 h-4 w-4"}),"Tambah Voucher"]})}),i.jsxs(Pr,{className:"sm:max-w-[550px]",children:[i.jsxs(Kr,{children:[i.jsx(qr,{children:x?"Edit Voucher":"Tambah Voucher Baru"}),i.jsx(Es,{children:x?"Perbarui informasi voucher yang sudah ada":"Isi formulir berikut untuk menambahkan voucher baru"})]}),i.jsxs("form",{onSubmit:F,children:[i.jsxs("div",{className:"grid gap-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"code",className:"text-right",children:"Kode Voucher*"}),i.jsx(Ce,{id:"code",name:"code",value:p.code,onChange:E,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"discount_type",className:"text-right",children:"Tipe Diskon*"}),i.jsxs(Us,{name:"discount_type",value:p.discount_type,onValueChange:Q=>T("discount_type",Q),children:[i.jsx(ys,{className:"col-span-3",children:i.jsx(Ms,{placeholder:"Pilih tipe diskon"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"percentage",children:"Persentase (%)"}),i.jsx(Lt,{value:"fixed",children:"Nominal Tetap (Rp)"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"discount_value",className:"text-right",children:"Nilai Diskon*"}),i.jsxs("div",{className:"col-span-3 flex items-center",children:[i.jsx(Ce,{id:"discount_value",name:"discount_value",type:"number",min:0,value:p.discount_value||"",onChange:E,required:!0}),i.jsx("span",{className:"ml-2",children:p.discount_type==="percentage"?"%":"Rupiah"})]})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"min_purchase",className:"text-right",children:"Min. Pembelian"}),i.jsx(Ce,{id:"min_purchase",name:"min_purchase",type:"number",min:0,value:p.min_purchase||"",onChange:E,className:"col-span-3",placeholder:"Opsional"})]}),p.discount_type==="percentage"&&i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"max_discount",className:"text-right",children:"Maks. Diskon"}),i.jsx(Ce,{id:"max_discount",name:"max_discount",type:"number",min:0,value:p.max_discount||"",onChange:E,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"start_date",className:"text-right",children:"Tanggal Mulai*"}),i.jsx(Ce,{id:"start_date",name:"start_date",type:"date",value:p.start_date,onChange:E,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"end_date",className:"text-right",children:"Tanggal Berakhir*"}),i.jsx(Ce,{id:"end_date",name:"end_date",type:"date",value:p.end_date,onChange:E,className:"col-span-3",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"usage_limit",className:"text-right",children:"Batas Penggunaan"}),i.jsx(Ce,{id:"usage_limit",name:"usage_limit",type:"number",min:0,value:p.usage_limit||"",onChange:E,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"description",className:"text-right",children:"Deskripsi"}),i.jsx(Ce,{id:"description",name:"description",value:p.description||"",onChange:E,className:"col-span-3",placeholder:"Opsional"})]}),i.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[i.jsx(ze,{htmlFor:"is_active",className:"text-right",children:"Status Aktif"}),i.jsxs("div",{className:"flex items-center space-x-2 col-span-3",children:[i.jsx(Fi,{id:"is_active",checked:p.is_active,onCheckedChange:Q=>P("is_active",Q)}),i.jsx(ze,{htmlFor:"is_active",children:p.is_active?"Aktif":"Tidak Aktif"})]})]})]}),i.jsxs(is,{children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Batal"}),i.jsx(Z,{type:"submit",children:x?"Perbarui Voucher":"Tambah Voucher"})]})]})]})]})]})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsxs(Tt,{className:"flex items-center",children:[i.jsx(gue,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:"Daftar Voucher"})]}),i.jsx(Rr,{children:"Kelola voucher diskon untuk pelanggan"}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(cA,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),i.jsx(Ce,{placeholder:"Cari kode atau deskripsi voucher...",className:"pl-8",value:a,onChange:Q=>o(Q.target.value)})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{id:"active-filter",checked:l,onCheckedChange:c}),i.jsx(ze,{htmlFor:"active-filter",children:"Hanya Tampilkan Voucher Aktif"})]})]})]}),i.jsx(Me,{children:n?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-flame-500"})}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Jv,{className:"h-12 w-12 text-gray-400 mb-2"}),i.jsx("h3",{className:"text-lg font-medium",children:"Tidak Ada Voucher"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-md",children:a||l?"Tidak ada voucher yang sesuai dengan filter yang dipilih":"Belum ada voucher yang ditambahkan. Klik tombol 'Tambah Voucher' untuk mulai membuat voucher"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{className:"w-[120px]",children:"Kode"}),i.jsx($e,{children:"Diskon"}),i.jsx($e,{children:"Periode"}),i.jsx($e,{children:"Batasan"}),i.jsx($e,{className:"text-center",children:"Status"}),i.jsx($e,{className:"text-center",children:"Penggunaan"}),i.jsx($e,{className:"text-right",children:"Aksi"})]})}),i.jsx(_s,{children:e.map(Q=>i.jsxs(Ot,{children:[i.jsxs(Ne,{className:"font-medium",children:[Q.code,Q.description&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Q.description})]}),i.jsxs(Ne,{children:[Q.discount_type==="percentage"?`${Q.discount_value}%`:Te(Q.discount_value),Q.discount_type==="percentage"&&Q.max_discount&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maks: ",Te(Q.max_discount)]})]}),i.jsx(Ne,{children:i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{children:as(new Date(Q.start_date),"dd/MM/yyyy")}),i.jsx("span",{children:" - "}),i.jsx("span",{children:as(new Date(Q.end_date),"dd/MM/yyyy")})]})}),i.jsxs(Ne,{children:[Q.min_purchase&&i.jsxs("div",{className:"text-sm",children:["Min: ",Te(Q.min_purchase)]}),Q.usage_limit&&i.jsxs("div",{className:"text-sm",children:["Maks: ",Q.usage_limit," kali"]}),!Q.min_purchase&&!Q.usage_limit&&i.jsx("span",{className:"text-sm text-gray-500",children:"-"})]}),i.jsx(Ne,{className:"text-center",children:V(Q)}),i.jsxs(Ne,{className:"text-center",children:[Q.usage_count||0,Q.usage_limit&&i.jsxs("span",{children:[" / ",Q.usage_limit]})]}),i.jsx(Ne,{className:"text-right",children:i.jsxs("div",{className:"flex justify-end items-center space-x-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>W(Q.id,Q.is_active),children:Q.is_active?"Nonaktifkan":"Aktifkan"}),i.jsx(Z,{variant:"outline",size:"icon",onClick:()=>D(Q),children:i.jsx(Ix,{className:"h-4 w-4"})}),i.jsxs(X7e,{children:[i.jsx(J7e,{asChild:!0,children:i.jsx(Z,{variant:"outline",size:"icon",className:"text-red-500 border-red-200 hover:bg-red-50",onClick:()=>C(Q.id),children:i.jsx(Wz,{className:"h-4 w-4"})})}),i.jsxs(poe,{children:[i.jsxs(goe,{children:[i.jsx(yoe,{children:"Hapus Voucher"}),i.jsxs(xoe,{children:["Apakah Anda yakin ingin menghapus voucher dengan kode ",i.jsx("strong",{children:Q.code}),"? Tindakan ini tidak dapat dibatalkan."]})]}),i.jsxs(voe,{children:[i.jsx(boe,{onClick:()=>C(null),children:"Batal"}),i.jsx(woe,{onClick:G,className:"bg-red-500 hover:bg-red-600",children:"Hapus"})]})]})]})]})})]},Q.id))})]})})})]})]})})}class Y7{static async getRecipients(e){let r=oe.from("profiles").select("id, phone, name");if(e.recipientType==="selected"&&e.selectedIds&&e.selectedIds.length>0)r=r.in("id",e.selectedIds);else if(e.recipientType==="filtered"&&e.filterOptions){const{lastOrderDays:a,minOrderCount:o,minTotalSpent:l,lastActive:c}=e.filterOptions;if(c){const u=new Date;u.setDate(u.getDate()-c),r=r.gte("last_seen",u.toISOString())}}r=r.not("phone","is",null);const{data:n,error:s}=await r;return s?(console.error("Error fetching recipients:",s),[]):n.map(a=>({id:a.id,phone:a.phone,name:a.name}))}static async sendBroadcast(e){try{const r=await this.getRecipients(e);if(r.length===0)return{success:!1,totalRecipients:0,sentCount:0,failedCount:0};console.log(`Preparing to send broadcast to ${r.length} recipients`);const{data:n,error:s}=await oe.from("broadcasts").insert({message_template:e.message,recipient_count:r.length,recipient_type:e.recipientType,scheduled_time:e.scheduleTime?e.scheduleTime.toISOString():null,created_at:new Date().toISOString(),status:e.scheduleTime?"scheduled":"sending"}).select().single();if(s)return console.error("Error creating broadcast record:",s),{success:!1,totalRecipients:r.length,sentCount:0,failedCount:r.length};const a=n.id;if(e.scheduleTime&&e.scheduleTime>new Date)return await this.saveBroadcastRecipients(a,r),{success:!0,totalRecipients:r.length,sentCount:0,failedCount:0,broadcastId:a};const o=await this.sendMessagesToRecipients(a,r,e);return{success:o.failedCount<r.length,totalRecipients:r.length,sentCount:o.sentCount,failedCount:o.failedCount,failedRecipients:o.failedRecipients,broadcastId:a}}catch(r){return console.error("Error in sendBroadcast:",r),{success:!1,totalRecipients:0,sentCount:0,failedCount:0}}}static async saveBroadcastRecipients(e,r){const n=r.map(a=>({broadcast_id:e,user_id:a.id,phone:a.phone,name:a.name||null,status:"pending",created_at:new Date().toISOString()})),{error:s}=await oe.from("broadcast_recipients").insert(n);s&&console.error("Error saving broadcast recipients:",s)}static async sendMessagesToRecipients(e,r,n){let s=0,a=0;const o=[],l=5,c=[];for(let u=0;u<r.length;u+=l)c.push(r.slice(u,u+l));for(let u of c){const d=u.map(async f=>{try{let m=n.message;n.includeName&&f.name?m=m.replace("{name}",f.name):m=m.replace("{name}","Pelanggan");const p=await zx(f.phone,m);return await this.recordMessageSent(e,f.id,p?"sent":"failed"),p?(s++,{success:!0,recipient:f}):(a++,o.push({id:f.id,phone:f.phone,error:"Failed to send"}),{success:!1,recipient:f,error:"Failed to send"})}catch(m){return a++,o.push({id:f.id,phone:f.phone,error:String(m)}),await this.recordMessageSent(e,f.id,"failed",String(m)),{success:!1,recipient:f,error:m}}});await Promise.all(d),c.indexOf(u)<c.length-1&&await new Promise(f=>setTimeout(f,2e3))}return await oe.from("broadcasts").update({sent_count:s,failed_count:a,status:"completed",completed_at:new Date().toISOString()}).eq("id",e),{sentCount:s,failedCount:a,failedRecipients:o}}static async recordMessageSent(e,r,n,s){try{await oe.from("broadcast_messages").insert({broadcast_id:e,user_id:r,status:n,error:s||null,sent_at:n==="sent"?new Date().toISOString():null,created_at:new Date().toISOString()})}catch(a){console.error("Error recording message status:",a)}}static async getBroadcastHistory(e=20,r=1){const{data:n,error:s}=await oe.from("broadcasts").select("*").order("created_at",{ascending:!1}).range((r-1)*e,r*e-1);return s?(console.error("Error fetching broadcast history:",s),[]):n}static async getBroadcastDetails(e){const{data:r,error:n}=await oe.from("broadcasts").select(`
        *,
        broadcast_messages:broadcast_messages(
          user_id,
          status,
          sent_at,
          error
        )
      `).eq("id",e).single();return n?(console.error("Error fetching broadcast details:",n),null):r}}function nze(){const[t,e]=w.useState("new"),[r,n]=w.useState([]),[s,a]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState([]),[d,f]=w.useState(1),[m,p]=w.useState("all"),[y,x]=w.useState([]),[v,_]=w.useState(""),[j,S]=w.useState(!0),[C,N]=w.useState(!1),[k,E]=w.useState(""),[T,P]=w.useState(""),[O,D]=w.useState(void 0),[M,F]=w.useState(void 0),[G,W]=w.useState(void 0),V=[{name:"Diskon",content:`Halo {name},

JPC Apps memberikan DISKON SPESIAL 20% untuk semua produk arang premium kami hingga akhir bulan ini!

Kunjungi website kami sekarang untuk melihat koleksi terbaik kami.

Salam,
Tim JPC Apps`},{name:"Produk Baru",content:`Halo {name},

Kabar gembira! JPC Apps baru saja meluncurkan produk arang premium terbaru dengan kualitas terbaik dan harga kompetitif.

Kunjungi website kami untuk menjadi yang pertama mencobanya!

Salam,
Tim JPC Apps`},{name:"Pengingat",content:`Halo {name},

Sudah lama tidak melihat Anda berbelanja di JPC Apps. Kami merindukan Anda!

Dapatkan DISKON 10% untuk pembelian berikutnya dengan menggunakan kode: COMEBACK10

Salam,
Tim JPC Apps`}];w.useEffect(()=>{t==="new"?H():t==="history"&&Q()},[t,d]);const H=async()=>{a(!0);try{const{data:ae,error:ee}=await oe.from("profiles").select("id, name, phone, email, created_at").not("phone","is",null).order("created_at",{ascending:!1});if(ee)throw ee;n(ae||[])}catch(ae){console.error("Error fetching customers:",ae),Se({title:"Gagal mengambil data pelanggan",description:"Terjadi kesalahan saat mengambil data pelanggan",variant:"destructive"})}finally{a(!1)}},Q=async()=>{a(!0);try{const ae=await Y7.getBroadcastHistory(10,d);u(ae)}catch(ae){console.error("Error fetching broadcast history:",ae),Se({title:"Gagal mengambil riwayat broadcast",description:"Terjadi kesalahan saat mengambil riwayat broadcast",variant:"destructive"})}finally{a(!1)}},z=ae=>{x(ee=>ee.includes(ae)?ee.filter(ue=>ue!==ae):[...ee,ae])},q=()=>{x(r.map(ae=>ae.id))},$=()=>{x([])},J=async()=>{if(!v.trim()){Se({title:"Pesan tidak boleh kosong",description:"Silakan masukkan pesan yang akan dikirim",variant:"destructive"});return}if(m==="selected"&&y.length===0){Se({title:"Tidak ada penerima yang dipilih",description:"Silakan pilih setidaknya satu pelanggan",variant:"destructive"});return}if(window.confirm(`Anda akan mengirim pesan broadcast ke ${m==="all"?"semua pelanggan":m==="selected"?`${y.length} pelanggan terpilih`:"pelanggan yang difilter"}. Lanjutkan?`)){l(!0);try{const ae={recipientType:m,message:v,includeName:j};if(m==="selected"?ae.selectedIds=y:m==="filtered"&&(ae.filterOptions={lastOrderDays:O,minOrderCount:M,minTotalSpent:G}),C&&k&&T){const ue=new Date(`${k}T${T}`);if(ue>new Date)ae.scheduleTime=ue;else{Se({title:"Waktu jadwal tidak valid",description:"Waktu jadwal harus di masa depan",variant:"destructive"}),l(!1);return}}const ee=await Y7.sendBroadcast(ae);ee.success?(Se({title:"Broadcast berhasil",description:C?`Broadcast dijadwalkan untuk ${ee.totalRecipients} penerima`:`Pesan berhasil dikirim ke ${ee.sentCount} dari ${ee.totalRecipients} penerima`}),_(""),x([]),p("all"),N(!1),E(""),P(""),e("history"),Q()):Se({title:"Broadcast gagal",description:`Pesan gagal dikirim. Hanya ${ee.sentCount} dari ${ee.totalRecipients} pesan yang terkirim.`,variant:"destructive"})}catch(ae){console.error("Error sending broadcast:",ae),Se({title:"Broadcast gagal",description:"Terjadi kesalahan saat mengirim broadcast",variant:"destructive"})}finally{l(!1)}}},le=ae=>{_(ae)};return i.jsx(Bs,{children:i.jsxs("div",{className:"container py-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Broadcast WhatsApp"}),i.jsxs(Ia,{defaultValue:"new",value:t,onValueChange:e,children:[i.jsxs(la,{className:"mb-4",children:[i.jsxs(nr,{value:"new",children:[i.jsx(v1,{className:"h-4 w-4 mr-2"}),"Broadcast Baru"]}),i.jsxs(nr,{value:"history",children:[i.jsx(vm,{className:"h-4 w-4 mr-2"}),"Riwayat Broadcast"]})]}),i.jsx(Sr,{value:"new",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs(Ue,{className:"md:col-span-2",children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Pesan Broadcast"}),i.jsx(Rr,{children:"Buat pesan broadcast untuk dikirim ke pelanggan"})]}),i.jsxs(Me,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{htmlFor:"message-type",children:"Jenis Penerima"}),i.jsxs(Us,{value:m,onValueChange:ae=>p(ae),children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Pilih jenis penerima"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"all",children:"Semua Pelanggan"}),i.jsx(Lt,{value:"selected",children:"Pelanggan Terpilih"}),i.jsx(Lt,{value:"filtered",children:"Filter Pelanggan"})]})]})]}),m==="filtered"&&i.jsxs(Ue,{className:"border-dashed",children:[i.jsx(Nt,{className:"p-4 pb-2",children:i.jsx(Tt,{className:"text-base",children:"Filter Pelanggan"})}),i.jsxs(Me,{className:"p-4 pt-0 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"last-order-days",children:"Pesanan dalam X hari terakhir"}),i.jsx(Ce,{id:"last-order-days",type:"number",placeholder:"hari",min:"1",value:O||"",onChange:ae=>D(ae.target.value?parseInt(ae.target.value):void 0)})]}),i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"min-order-count",children:"Minimal jumlah pesanan"}),i.jsx(Ce,{id:"min-order-count",type:"number",placeholder:"jumlah",min:"1",value:M||"",onChange:ae=>F(ae.target.value?parseInt(ae.target.value):void 0)})]})]}),i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"min-total-spent",children:"Minimal total pembelian (Rp)"}),i.jsx(Ce,{id:"min-total-spent",type:"number",placeholder:"dalam Rupiah",min:"10000",step:"10000",value:G||"",onChange:ae=>W(ae.target.value?parseInt(ae.target.value):void 0)})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(ze,{htmlFor:"message",children:"Pesan"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Gunakan ","{name}"," untuk menyertakan nama pelanggan"]})]}),i.jsx(iA,{id:"message",placeholder:"Ketik pesan Anda di sini...",rows:8,value:v,onChange:ae=>_(ae.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ze,{children:"Template Pesan"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:V.map((ae,ee)=>i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>le(ae.content),children:ae.name},ee))})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{id:"include-name",checked:j,onCheckedChange:S}),i.jsx(ze,{htmlFor:"include-name",children:"Sertakan nama pelanggan dalam pesan"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fi,{id:"schedule",checked:C,onCheckedChange:N}),i.jsx(ze,{htmlFor:"schedule",children:"Jadwalkan pengiriman"})]}),C&&i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"schedule-date",children:"Tanggal"}),i.jsx(Ce,{id:"schedule-date",type:"date",value:k,onChange:ae=>E(ae.target.value),min:new Date().toISOString().split("T")[0]})]}),i.jsxs("div",{children:[i.jsx(ze,{htmlFor:"schedule-time",children:"Waktu"}),i.jsx(Ce,{id:"schedule-time",type:"time",value:T,onChange:ae=>P(ae.target.value)})]})]})]}),i.jsxs(ki,{className:"flex justify-between",children:[i.jsx(Z,{variant:"outline",onClick:()=>_(""),children:"Reset"}),i.jsx(Z,{onClick:J,disabled:o||!v.trim()||m==="selected"&&y.length===0,children:o?i.jsxs(i.Fragment,{children:[i.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):C?i.jsxs(i.Fragment,{children:[i.jsx(Uz,{className:"mr-2 h-4 w-4"}),"Jadwalkan"]}):i.jsxs(i.Fragment,{children:[i.jsx(v1,{className:"mr-2 h-4 w-4"}),"Kirim Broadcast"]})})]})]}),m==="selected"&&i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Pilih Pelanggan"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:q,children:"Pilih Semua"}),i.jsx(Z,{variant:"outline",size:"sm",onClick:$,children:"Reset"})]})]}),i.jsx(Me,{children:s?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(jr,{className:"h-6 w-6 animate-spin"})}):i.jsx(nf,{className:"h-[400px]",children:i.jsx("div",{className:"space-y-2",children:r.map(ae=>i.jsxs("div",{className:`p-2 rounded-md flex items-center space-x-2 ${y.includes(ae.id)?"bg-muted/80":"hover:bg-muted/50"}`,onClick:()=>z(ae.id),children:[i.jsx(c4,{checked:y.includes(ae.id),onCheckedChange:()=>z(ae.id)}),i.jsxs("div",{className:"flex-1 truncate",children:[i.jsx("div",{className:"font-medium truncate",children:ae.name||"Tanpa Nama"}),i.jsx("div",{className:"text-sm text-muted-foreground truncate",children:ae.phone})]})]},ae.id))})})}),i.jsx(ki,{children:i.jsxs("div",{className:"w-full text-center",children:[y.length," pelanggan dipilih"]})})]})]})}),i.jsx(Sr,{value:"history",children:i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Riwayat Broadcast"}),i.jsx(Rr,{children:"Histori pesan broadcast yang telah dikirim"})]}),i.jsx(Me,{children:s?i.jsx("div",{className:"flex items-center justify-center py-6",children:i.jsx(jr,{className:"h-6 w-6 animate-spin"})}):c.length>0?i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Tanggal"}),i.jsx($e,{children:"Pesan"}),i.jsx($e,{children:"Penerima"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Aksi"})]})}),i.jsx(_s,{children:c.map(ae=>i.jsxs(Ot,{children:[i.jsx(Ne,{children:new Date(ae.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}),i.jsx(Ne,{className:"max-w-[200px] truncate",children:ae.message_template}),i.jsxs(Ne,{children:[ae.recipient_count," penerima"]}),i.jsx(Ne,{children:i.jsx(qt,{className:ae.status==="completed"?"bg-green-100 text-green-800":ae.status==="sending"?"bg-blue-100 text-blue-800":ae.status==="scheduled"?"bg-purple-100 text-purple-800":"bg-red-100 text-red-800",children:ae.status==="completed"?"Selesai":ae.status==="sending"?"Mengirim":ae.status==="scheduled"?"Terjadwal":"Gagal"})}),i.jsx(Ne,{children:i.jsx(Z,{variant:"ghost",size:"sm",children:"Detail"})})]},ae.id))})]}):i.jsx("div",{className:"text-center py-6",children:i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada riwayat broadcast"})})}),c.length>0&&i.jsxs(ki,{className:"flex justify-between",children:[i.jsx(Z,{variant:"outline",onClick:()=>f(Math.max(1,d-1)),disabled:d===1,children:"Sebelumnya"}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:["Halaman ",d]}),i.jsx(Z,{variant:"outline",onClick:()=>f(d+1),disabled:c.length<10,children:"Selanjutnya"})]})]})})]})]})})}function sze({children:t}){const[e,r]=w.useState(!1),n=Aa(),s=[{name:"Dashboard",href:"/admin",icon:i.jsx(se.home,{className:"h-5 w-5"})},{name:"Inventaris",href:"/admin/inventory",icon:i.jsx(se.package,{className:"h-5 w-5"})},{name:"Inventaris Batubara",href:"/admin/coal-inventory",icon:i.jsx(se.layers,{className:"h-5 w-5"})},{name:"Pengiriman",href:"/admin/shipping",icon:i.jsx(se.truck,{className:"h-5 w-5"})},{name:"Pengguna",href:"/admin/users",icon:i.jsx(se.users,{className:"h-5 w-5"})},{name:"Pesanan",href:"/admin/orders",icon:i.jsx(se.shoppingCart,{className:"h-5 w-5"})},{name:"PPOB",href:"/admin/ppob",icon:i.jsx(se.creditCard,{className:"h-5 w-5"})},{name:"Voucher",href:"/admin/vouchers",icon:i.jsx(se.ticket,{className:"h-5 w-5"})},{name:"Broadcast",href:"/admin/broadcast",icon:i.jsx(se.megaphone,{className:"h-5 w-5"})},{name:"Analitik",href:"/admin/analytics",icon:i.jsx(se.barChart,{className:"h-5 w-5"})},{name:"Pengaturan",href:"/admin/settings",icon:i.jsx(se.settings,{className:"h-5 w-5"})},{name:"Chat",href:"/admin/chats",icon:i.jsx(se.messageSquare,{className:"h-5 w-5"})}],a=o=>o==="/admin"&&n.pathname==="/admin"?!0:n.pathname.startsWith(o)&&o!=="/admin";return i.jsxs("div",{className:"flex h-screen overflow-hidden",children:[i.jsx("aside",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto border-r bg-white",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(Dt,{to:"/admin",className:"flex items-center",children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:s.map(o=>i.jsxs(Dt,{to:o.href,className:Ee("group flex items-center px-3 py-2 text-sm font-medium rounded-md",a(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(oA,{children:[i.jsx(Hm,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(lA,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})}),i.jsx("div",{className:"md:hidden",children:i.jsxs(hl,{open:e,onOpenChange:r,children:[i.jsx(Y1,{asChild:!0,children:i.jsxs(Z,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 z-50",children:[i.jsx(se.menu,{className:"h-6 w-6"}),i.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),i.jsx(Eo,{side:"left",className:"p-0",children:i.jsxs("div",{className:"flex flex-col h-full pt-5",children:[i.jsx("div",{className:"flex items-center flex-shrink-0 px-4",children:i.jsxs(Dt,{to:"/admin",className:"flex items-center",onClick:()=>r(!1),children:[i.jsx("img",{className:"h-8 w-auto",src:"/logo.svg",alt:"JPC Digi Logo"}),i.jsx("span",{className:"ml-2 text-xl font-bold",children:"JPC Digi Admin"})]})}),i.jsx("div",{className:"mt-6 px-3 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 space-y-1",children:s.map(o=>i.jsxs(Dt,{to:o.href,className:Ee("group flex items-center px-3 py-2 text-sm font-medium rounded-md",a(o.href)?"bg-primary text-white":"text-gray-700 hover:bg-gray-100"),onClick:()=>r(!1),children:[o.icon,i.jsx("span",{className:"ml-3",children:o.name})]},o.name))})}),i.jsx("div",{className:"p-3 mt-auto border-t",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(oA,{children:[i.jsx(Hm,{src:"/avatars/admin.png",alt:"Admin"}),i.jsx(lA,{children:"AD"})]}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium",children:"Admin JPC"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"admin@jpcdigi.com"})]})]})})]})})]})}),i.jsxs("div",{className:"flex flex-col flex-1 w-full overflow-hidden",children:[i.jsx("header",{className:"bg-white shadow-sm z-10",children:i.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"py-4 md:py-6 flex items-center justify-between",children:[i.jsx("div",{className:"md:hidden",children:i.jsx("h1",{className:"text-lg font-medium",children:"JPC Digi Admin"})}),i.jsxs("div",{className:"flex items-center ml-auto",children:[i.jsxs(Z,{variant:"outline",size:"sm",className:"mr-2",children:[i.jsx(se.bell,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Notifikasi"})]}),i.jsxs(Z,{variant:"destructive",size:"sm",children:[i.jsx(se.logOut,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"sr-only md:not-sr-only md:inline-block",children:"Logout"})]})]})]})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t})]})]})}function aze(){const[t,e]=w.useState("dashboard"),[r,n]=w.useState(!1),[s,a]=w.useState(!0),[o,l]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[m,p]=w.useState([]),[y,x]=w.useState(null),[v,_]=w.useState(!1),[j,S]=w.useState(!1),[C,N]=w.useState(null),[k,E]=w.useState("service"),[T,P]=w.useState({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"});w.useEffect(()=>{(async()=>{a(!0);try{const H=await Ene();l(H||[]);const Q=await oe.from("ppob_products").select("*");u(Q.data||[]);const z=await oe.from("ppob_transactions").select("*").order("created_at",{ascending:!1});p(z.data||[]);const{data:q,error:$}=await oe.from("digiflazz_config").select("*").single();$?(console.error("Error loading Digiflazz config:",$),x({id:"",api_key:"",username:"",mode:"development"})):x(q||{id:"",api_key:"",username:"",mode:"development"})}catch(H){console.error("Error loading data:",H),alert("Failed to load data")}finally{a(!1)}})()},[]),w.useEffect(()=>{t==="products"&&y&&y.api_key&&y.username&&(async()=>{a(!0);try{const Q=await fetch("https://jayaperkasacharcoal.co-id.id/api/digiflazz-proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cmd:"prepaid",username:y.username,apiKey:y.api_key})});if(!Q.ok)throw new Error(`HTTP error! Status: ${Q.status}`);const z=await Q.json();z.data?f(z.data):(console.error("No data returned from Digiflazz API"),f([]))}catch(H){console.error("Error fetching Digiflazz products:",H),f([]),alert("Failed to fetch products from Digiflazz API")}finally{a(!1)}})()},[t,y]);const O=V=>{P({id:"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"}),N(null),E(V),_(!0)},D=V=>{if(N(V),"category"in V){const H=V;E("service"),P({id:H.id||"",name:H.name||"",category:H.category||"Top Up",icon:H.icon||"",color:H.color||"",icon_color:H.icon_color||"",route:H.route||"",is_new:H.is_new||!1,price:0,description:"",service_id:"",api_key:"",username:"",mode:"development"})}else if("price"in V){const H=V;E("product"),P({id:H.id||"",name:H.name||"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:H.price||0,description:H.description||"",service_id:H.service_id||"",api_key:"",username:"",mode:"development"})}else E("digiflazz"),P({id:V.id||"",name:"",category:"Top Up",icon:"",color:"",icon_color:"",route:"",is_new:!1,price:0,description:"",service_id:"",api_key:V.api_key||"",username:V.username||"",mode:V.mode||"development"});_(!0)},M=async V=>{S(!0);try{const H=V.id;if(!H)return;const Q="category"in V?"ppob_services":"ppob_products",{error:z}=await oe.from(Q).delete().eq("id",H);if(z)throw z;"category"in V?l(o.filter(q=>q.id!==H)):u(c.filter(q=>q.id!==H)),alert("Deleted successfully")}catch(H){console.error("Error deleting item:",H),alert("Failed to delete item")}finally{S(!1)}},F=async()=>{a(!0);try{if(k==="service"){const V={id:T.id||void 0,name:T.name,category:T.category,icon:T.icon,color:T.color,icon_color:T.icon_color,route:T.route,is_new:T.is_new};if(T.id)await oe.from("ppob_services").update(V).eq("id",T.id),l(o.map(H=>H.id===T.id?{...H,...V}:H));else{const{data:H}=await oe.from("ppob_services").insert(V).select().single();l([...o,H])}}else if(k==="product"){const V={id:T.id||void 0,name:T.name,price:T.price,description:T.description,service_id:T.service_id};if(T.id)await oe.from("ppob_products").update(V).eq("id",T.id),u(c.map(H=>H.id===T.id?{...H,...V}:H));else{const{data:H}=await oe.from("ppob_products").insert(V).select().single();u([...c,H])}}else if(k==="digiflazz"){const V={id:T.id||void 0,api_key:T.api_key,username:T.username,mode:T.mode};if(T.id)await oe.from("digiflazz_config").update(V).eq("id",T.id),x({...y,...V});else{const{data:H}=await oe.from("digiflazz_config").insert(V).select().single();x(H)}}_(!1)}catch(V){console.error("Error saving data:",V),alert("Failed to save data")}finally{a(!1)}},G=V=>{const{name:H,value:Q,type:z,checked:q}=V.target;P({...T,[H]:z==="checkbox"?q:Q})},W=[{title:"Total Transaksi",value:m.length.toString(),change:"+12.5%",icon:i.jsx(se.chartBar,{className:"h-5 w-5"})},{title:"Pendapatan",value:"Rp "+m.reduce((V,H)=>V+(H.amount||0),0).toLocaleString(),change:"+8.2%",icon:i.jsx(se.wallet,{className:"h-5 w-5"})},{title:"Pengguna Aktif",value:"5,890",change:"+15.3%",icon:i.jsx(se.users,{className:"h-5 w-5"})},{title:"Produk Terjual",value:c.length.toString(),change:"+10.1%",icon:i.jsx(se.shoppingCart,{className:"h-5 w-5"})}];return i.jsxs(sze,{children:[i.jsxs(jo,{children:[i.jsx("title",{children:"Admin PPOB - JPC Digi"}),i.jsx("meta",{name:"description",content:"Panel admin untuk pengelolaan layanan PPOB JPC Digi"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Admin PPOB"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(Z,{variant:"outline",size:"sm",children:[i.jsx(se.download,{className:"mr-2 h-4 w-4"}),"Export"]}),i.jsxs(Z,{size:"sm",onClick:()=>O(t==="services"?"service":"product"),children:[i.jsx(se.plus,{className:"mr-2 h-4 w-4"}),"Tambah ",t==="services"?"Layanan":"Produk"]})]})]}),i.jsxs(Ia,{value:t,onValueChange:e,className:"space-y-4",children:[i.jsxs(la,{className:"grid w-full grid-cols-5",children:[i.jsx(nr,{value:"dashboard",children:"Dashboard"}),i.jsx(nr,{value:"services",children:"Layanan"}),i.jsx(nr,{value:"products",children:"Produk"}),i.jsx(nr,{value:"transactions",children:"Transaksi"}),i.jsx(nr,{value:"digiflazz",children:"Digiflazz API"})]}),i.jsxs(Sr,{value:"dashboard",className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:W.map((V,H)=>i.jsx(Ue,{children:i.jsx(Me,{className:"p-6",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:V.title}),i.jsx("h3",{className:"text-2xl font-bold mt-1",children:V.value}),i.jsxs("p",{className:`text-xs mt-1 ${V.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[V.change," dari bulan lalu"]})]}),i.jsx("div",{className:"bg-primary/10 p-2 rounded-full",children:V.icon})]})})},H))}),i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Transaksi Terbaru"}),i.jsx(Rr,{children:"Daftar 5 transaksi terbaru di sistem"})]}),i.jsx(Me,{children:s?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"ID"}),i.jsx($e,{children:"Pelanggan"}),i.jsx($e,{children:"Produk"}),i.jsx($e,{children:"Jumlah"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Tanggal"})]})}),i.jsx(_s,{children:m.slice(0,5).map(V=>{var H;return i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:V.id||"N/A"}),i.jsx(Ne,{children:V.customer_name||"N/A"}),i.jsx(Ne,{children:V.product_name||"N/A"}),i.jsxs(Ne,{children:["Rp ",((H=V.amount)==null?void 0:H.toLocaleString())||"0"]}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.status==="Sukses"?"bg-green-100 text-green-800":V.status==="Gagal"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:V.status||"Pending"})}),i.jsx(Ne,{children:V.transaction_date?new Date(V.transaction_date).toLocaleString():"N/A"})]},V.id||"temp-"+Math.random().toString())})})]})})]}),i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Verifikasi Pengguna Terbaru"}),i.jsx(Rr,{children:"Permintaan verifikasi pengguna yang membutuhkan review"})]}),i.jsx(Me,{children:i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"ID"}),i.jsx($e,{children:"Pengguna"}),i.jsx($e,{children:"Dokumen"}),i.jsx($e,{children:"Tanggal Pengajuan"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Aksi"})]})}),i.jsx(_s,{children:[{id:"V001",user:"Bambang Suprapto",document:"KTP",submissionDate:"2025-06-01 10:23:45",status:"Pending",action:"Review"},{id:"V002",user:"Ratna Sari",document:"KTP",submissionDate:"2025-06-01 09:15:30",status:"Disetujui",action:"Lihat"},{id:"V003",user:"Hendra Wijaya",document:"KTP",submissionDate:"2025-06-01 08:45:22",status:"Ditolak",action:"Lihat"}].map(V=>i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:V.id}),i.jsx(Ne,{children:V.user}),i.jsx(Ne,{children:V.document}),i.jsx(Ne,{children:V.submissionDate}),i.jsx(Ne,{children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.status==="Disetujui"?"bg-green-100 text-green-800":V.status==="Ditolak"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:V.status})}),i.jsx(Ne,{children:i.jsx(Z,{variant:"ghost",size:"sm",children:V.action})})]},V.id))})]})})]})]}),i.jsx(Sr,{value:"transactions",className:"space-y-4",children:i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Transaksi PPOB"}),i.jsx(Rr,{children:"Daftar semua transaksi PPOB yang telah dilakukan"})]}),i.jsx(Me,{children:s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"ID"}),i.jsx($e,{children:"Produk"}),i.jsx($e,{children:"Nomor"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Tanggal"}),i.jsx($e,{children:"Harga"})]})}),i.jsx(_s,{children:m.map(V=>{var H;return i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:(H=V.id)==null?void 0:H.slice(0,8)}),i.jsx(Ne,{children:V.product_name}),i.jsx(Ne,{children:V.customer_id}),i.jsx(Ne,{children:V.status}),i.jsx(Ne,{children:new Date(V.created_at||"").toLocaleString()}),i.jsxs(Ne,{children:["Rp ",(V.amount||0).toLocaleString()]})]},V.id)})})]})})]})}),i.jsx(Sr,{value:"digiflazz",className:"space-y-4",children:i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Konfigurasi Digiflazz API"}),i.jsx(Rr,{children:"Atur kredensial API Digiflazz untuk integrasi PPOB"})]}),i.jsx(Me,{children:s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-4",children:[y?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Username"}),i.jsx("p",{className:"font-medium",children:y.username})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"API Key"}),i.jsx("p",{className:"font-medium",children:y.api_key?y.api_key.slice(0,4)+"****":"Not set"})]}),i.jsxs("div",{className:"border rounded-md p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Mode"}),i.jsx("p",{className:"font-medium",children:y.mode})]})]}):i.jsx("p",{className:"text-center text-muted-foreground",children:"Konfigurasi Digiflazz belum diatur. Klik tombol di bawah untuk menambahkan konfigurasi."}),i.jsx(Z,{onClick:()=>D(y||{}),children:y?"Edit Konfigurasi":"Tambah Konfigurasi"})]})})]})}),i.jsx(Sr,{value:"products",className:"space-y-4",children:i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Produk PPOB"}),i.jsx(Rr,{children:"Daftar produk PPOB dari database dan API Digiflazz"})]}),i.jsxs(Me,{children:[i.jsx("div",{className:"mb-4",children:i.jsx(Z,{onClick:()=>O("product"),children:"Tambah Produk"})}),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Produk Database"}),i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Nama"}),i.jsx($e,{children:"Harga"}),i.jsx($e,{children:"Deskripsi"}),i.jsx($e,{children:"Layanan"}),i.jsx($e,{children:"Aksi"})]})}),i.jsx(_s,{children:c.map(V=>{var H;return i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:V.name}),i.jsxs(Ne,{children:["Rp ",(H=V.price)==null?void 0:H.toLocaleString()]}),i.jsx(Ne,{children:V.description||"-"}),i.jsx(Ne,{children:V.service_id}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Z,{variant:"outline",size:"sm",onClick:()=>D(V),children:"Edit"}),i.jsx(Z,{variant:"destructive",size:"sm",onClick:()=>M(V),disabled:j,children:"Hapus"})]})})]},V.id)})})]}),y&&y.api_key&&i.jsxs(i.Fragment,{children:[i.jsx("h3",{className:"text-lg font-medium mt-6 mb-2",children:"Produk dari Digiflazz API"}),d.length>0?i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"Nama Produk"}),i.jsx($e,{children:"Harga"}),i.jsx($e,{children:"Kategori"}),i.jsx($e,{children:"Brand"}),i.jsx($e,{children:"Status"})]})}),i.jsx(_s,{children:d.slice(0,50).map(V=>{var H;return i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:V.product_name}),i.jsxs(Ne,{children:["Rp ",(H=V.price)==null?void 0:H.toLocaleString()]}),i.jsx(Ne,{children:V.category}),i.jsx(Ne,{children:V.brand}),i.jsx(Ne,{children:V.status==="active"?"Aktif":"Tidak Aktif"})]},V.product_id)})})]}):i.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data produk dari Digiflazz API."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Menampilkan ",Math.min(d.length,50)," dari ",d.length," produk Digiflazz."]})]})]})]})]})}),i.jsx(Sr,{value:"services",className:"space-y-4",children:i.jsxs(Ue,{children:[i.jsxs(Nt,{children:[i.jsx(Tt,{children:"Daftar Layanan"}),i.jsx(Rr,{children:"Kelola layanan PPOB"})]}),i.jsxs(Me,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 flex-1",children:[i.jsx(Ce,{placeholder:"Cari nama layanan...",className:"max-w-sm"}),i.jsxs(Us,{defaultValue:"all",children:[i.jsx(ys,{className:"w-[180px]",children:i.jsx(Ms,{placeholder:"Kategori"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"all",children:"Semua Kategori"}),i.jsx(Lt,{value:"topup",children:"Top Up"}),i.jsx(Lt,{value:"tagihan",children:"Tagihan"}),i.jsx(Lt,{value:"investasi",children:"Investasi"}),i.jsx(Lt,{value:"lainnya",children:"Lainnya"})]})]})]}),i.jsxs(Z,{variant:"outline",children:[i.jsx(se.filterX,{className:"mr-2 h-4 w-4"}),"Reset Filter"]})]}),s?i.jsx("div",{className:"py-8 flex justify-center",children:"Memuat data..."}):i.jsxs(ws,{children:[i.jsx(bs,{children:i.jsxs(Ot,{children:[i.jsx($e,{children:"ID"}),i.jsx($e,{children:"Nama Layanan"}),i.jsx($e,{children:"Kategori"}),i.jsx($e,{children:"Route"}),i.jsx($e,{children:"Status"}),i.jsx($e,{children:"Aksi"})]})}),i.jsx(_s,{children:o.map(V=>i.jsxs(Ot,{children:[i.jsx(Ne,{className:"font-medium",children:V.id||"N/A"}),i.jsx(Ne,{children:V.name||"N/A"}),i.jsx(Ne,{children:V.category||"N/A"}),i.jsx(Ne,{children:V.route||"N/A"}),i.jsx(Ne,{children:i.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:"Aktif"})}),i.jsx(Ne,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>D(V),children:"Edit"}),i.jsx(Z,{variant:"ghost",size:"sm",className:"text-red-500",disabled:j,onClick:()=>M(V),children:"Nonaktifkan"})]})})]},V.id||"temp-"+Math.random().toString()))})]})]})]})})]})]}),i.jsx(Qr,{open:v,onOpenChange:_,children:i.jsxs(Pr,{className:"sm:max-w-[425px]",children:[i.jsx(Kr,{children:i.jsxs(qr,{children:[T.id&&k!=="digiflazz"?"Edit":"Tambah"," ",k==="service"?"Layanan":k==="product"?"Produk":"Konfigurasi Digiflazz"]})}),i.jsxs("form",{className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:k==="digiflazz"?"Username Digiflazz":"Nama"}),i.jsx(Ce,{name:k==="digiflazz"?"username":"name",value:k==="digiflazz"?T.username:T.name,onChange:G,placeholder:"Masukkan nama",required:!0})]}),k==="service"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Kategori"}),i.jsx(Ce,{name:"category",value:T.category,onChange:G,placeholder:"Masukkan kategori",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Ikon"}),i.jsx(Ce,{name:"icon",value:T.icon,onChange:G,placeholder:"Masukkan nama ikon"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna"}),i.jsx(Ce,{name:"color",value:T.color,onChange:G,placeholder:"Masukkan warna latar (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Warna Ikon"}),i.jsx(Ce,{name:"icon_color",value:T.icon_color,onChange:G,placeholder:"Masukkan warna ikon (hex)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rute"}),i.jsx(Ce,{name:"route",value:T.route,onChange:G,placeholder:"Masukkan path rute"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"is_new",name:"is_new",checked:T.is_new,onChange:G,className:"rounded"}),i.jsx("label",{htmlFor:"is_new",className:"text-sm font-medium",children:"Layanan Baru?"})]})]}),k==="product"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Harga"}),i.jsx(Ce,{type:"number",name:"price",value:T.price,onChange:G,placeholder:"Masukkan harga",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Deskripsi"}),i.jsx(Ce,{name:"description",value:T.description,onChange:G,placeholder:"Masukkan deskripsi"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"ID Layanan"}),i.jsx(Ce,{name:"service_id",value:T.service_id,onChange:G,placeholder:"Masukkan ID layanan terkait",required:!0})]})]}),k==="digiflazz"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"API Key"}),i.jsx(Ce,{name:"api_key",value:T.api_key,onChange:G,placeholder:"Masukkan API Key",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mode"}),i.jsxs(Us,{name:"mode",value:T.mode,onValueChange:V=>P(H=>({...H,mode:V})),children:[i.jsx(ys,{children:i.jsx(Ms,{placeholder:"Pilih mode"})}),i.jsxs(xs,{children:[i.jsx(Lt,{value:"development",children:"Development"}),i.jsx(Lt,{value:"production",children:"Production"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(Z,{type:"button",variant:"outline",onClick:()=>_(!1),children:"Batal"}),i.jsx(Z,{type:"button",onClick:F,disabled:s,children:"Simpan"})]})]})]})})]})}const ize=new Cfe;function Zt({element:t,requiresVerification:e=!0}){const{user:r,isLoading:n,isPhoneVerified:s}=xn(),a=Aa(),o=a.pathname==="/verify-whatsapp",l=a.pathname==="/login",c=a.pathname==="/register",[u,d]=w.useState(null);return w.useEffect(()=>{let f=!0;const m=()=>n?i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):!r&&!l&&!c?i.jsx(B1,{to:"/login",state:{from:a},replace:!0}):e&&!s&&!o&&r?i.jsx(B1,{to:"/verify-whatsapp",state:{from:a},replace:!0}):t,p=setTimeout(()=>{f&&d(m())},10);return()=>{f=!1,clearTimeout(p)}},[r,n,s,a.pathname,e,t,l,c,o]),i.jsx(i.Fragment,{children:u})}function oze(){const[t,e]=w.useState(!1);return w.useEffect(()=>{const r=()=>{const s=window.location.pathname;e(s.startsWith("/admin")||s==="/admin-login"||s==="/admin-register")};r();const n=()=>{r()};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}},[]),i.jsx(Nfe,{client:ize,children:i.jsxs(IG,{children:[i.jsx(aAe,{}),i.jsx(OAe,{}),i.jsx(a_e,{children:i.jsx(i_e,{children:i.jsxs(Gpe,{children:[i.jsx(o_e,{}),!t&&i.jsx(Xme,{}),i.jsxs(Qpe,{children:[i.jsx(bt,{path:"/",element:i.jsx(Zt,{element:i.jsx(X7,{})})}),i.jsx(bt,{path:"/search",element:i.jsx(Zt,{element:i.jsx(lCe,{})})}),i.jsx(bt,{path:"/product/:id",element:i.jsx(Zt,{element:i.jsx(jCe,{})})}),i.jsx(bt,{path:"/cart",element:i.jsx(Zt,{element:i.jsx(CCe,{})})}),i.jsx(bt,{path:"/checkout",element:i.jsx(Zt,{element:i.jsx(VCe,{})})}),i.jsx(bt,{path:"/profile",element:i.jsx(Zt,{element:i.jsx(mEe,{})})}),i.jsx(bt,{path:"/address/:id?",element:i.jsx(Zt,{element:i.jsx(wEe,{})})}),i.jsx(bt,{path:"/orders",element:i.jsx(Zt,{element:i.jsx(WIe,{})})}),i.jsx(bt,{path:"/order/:id",element:i.jsx(Zt,{element:i.jsx(GIe,{})})}),i.jsx(bt,{path:"/chat",element:i.jsx(Zt,{element:i.jsx(IOe,{})})}),i.jsx(bt,{path:"/ppob",element:i.jsx(Zt,{element:i.jsx(IN,{})})}),i.jsx(bt,{path:"/ppob/dashboard",element:i.jsx(Zt,{element:i.jsx(IN,{})})}),i.jsx(bt,{path:"/ppob/history",element:i.jsx(Zt,{element:i.jsx(KOe,{})})}),i.jsx(bt,{path:"/ppob/activity",element:i.jsx(Zt,{element:i.jsx(KFe,{})})}),i.jsx(bt,{path:"/ppob/verification",element:i.jsx(Zt,{element:i.jsx(NFe,{})})}),i.jsx(bt,{path:"/ppob/wallet",element:i.jsx(Zt,{element:i.jsx(LFe,{})})}),i.jsx(bt,{path:"/ppob/pulsa-data",element:i.jsx(Zt,{element:i.jsx(YFe,{})})}),i.jsx(bt,{path:"/ppob/send",element:i.jsx(Zt,{element:i.jsx(eRe,{})})}),i.jsx(bt,{path:"/ppob/request",element:i.jsx(Zt,{element:i.jsx(sRe,{})})}),i.jsx(bt,{path:"/ppob/topup",element:i.jsx(Zt,{element:i.jsx(iRe,{})})}),i.jsx(bt,{path:"/ppob/video",element:i.jsx(Zt,{element:i.jsx(IN,{})})}),i.jsx(bt,{path:"/ppob/games",element:i.jsx(Zt,{element:i.jsx(ARe,{})})}),i.jsx(bt,{path:"/ppob/all",element:i.jsx(Zt,{element:i.jsx(dRe,{})})}),i.jsx(bt,{path:"/ppob/test",element:i.jsx(Zt,{element:i.jsx(fRe,{})})}),i.jsx(bt,{path:"/ppob/electricity",element:i.jsx(Zt,{element:i.jsx(lRe,{})})}),i.jsx(bt,{path:"/ppob/ewallet",element:i.jsx(Zt,{element:i.jsx(cRe,{})})}),i.jsx(bt,{path:"/ppob/kredit",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/tv-internet",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/bpjs",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/pdam",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/pbb",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/telkom",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/pascabayar",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/donasi-zakat",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/investasi",element:i.jsx(Zt,{element:i.jsx(pRe,{})})}),i.jsx(bt,{path:"/ppob/undang-teman",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/ppob/scan",element:i.jsx(Zt,{element:i.jsx(qo,{})})}),i.jsx(bt,{path:"/verify-whatsapp",element:i.jsx(HOe,{})}),i.jsx(bt,{path:"/login",element:i.jsx(YIe,{})}),i.jsx(bt,{path:"/register",element:i.jsx(ePe,{})}),i.jsx(bt,{path:"/admin-login",element:i.jsx(rPe,{})}),i.jsx(bt,{path:"/admin-register",element:i.jsx(sPe,{})}),i.jsx(bt,{path:"/admin",element:i.jsx(X7,{})}),i.jsx(bt,{path:"/admin/inventory",element:i.jsx(a7e,{})}),i.jsx(bt,{path:"/admin/coal-inventory",element:i.jsx(l7e,{})}),i.jsx(bt,{path:"/admin/shipping",element:i.jsx(u7e,{})}),i.jsx(bt,{path:"/admin/users",element:i.jsx(d7e,{})}),i.jsx(bt,{path:"/admin/orders",element:i.jsx(h7e,{})}),i.jsx(bt,{path:"/admin/orders/:id",element:i.jsx(S7e,{})}),i.jsx(bt,{path:"/admin/vouchers",element:i.jsx(rze,{})}),i.jsx(bt,{path:"/admin/broadcast",element:i.jsx(nze,{})}),i.jsx(bt,{path:"/admin/analytics",element:i.jsx(N7e,{})}),i.jsx(bt,{path:"/admin/settings",element:i.jsx(R7e,{})}),i.jsx(bt,{path:"/admin/chats",element:i.jsx(D7e,{})}),i.jsx(bt,{path:"/admin/chat/:customerId",element:i.jsx(U7e,{})}),i.jsx(bt,{path:"/admin/ppob",element:i.jsx(aze,{})}),i.jsx(bt,{path:"*",element:i.jsx(l_e,{})})]})]})})})]})})}Ule.createRoot(document.getElementById("root")).render(i.jsx(WFe,{children:i.jsx(oze,{})}));export{yr as g};
